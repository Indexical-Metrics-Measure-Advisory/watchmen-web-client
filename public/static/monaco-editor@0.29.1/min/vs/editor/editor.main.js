/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.29.2(df04357573e045be658960bd50ff0a45d6d1eadb)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var te=["require","exports","vs/base/common/lifecycle","vs/editor/common/core/range","vs/nls","vs/nls!vs/editor/editor.main","vs/base/common/event","vs/base/browser/dom","vs/base/common/strings","vs/platform/instantiation/common/instantiation","vs/base/common/errors","vs/css!vs/editor/editor.main","vs/platform/theme/common/themeService","vs/editor/common/core/position","vs/base/common/async","vs/platform/contextkey/common/contextkey","vs/editor/browser/editorExtensions","vs/base/common/platform","vs/editor/common/modes","vs/base/common/arrays","vs/base/common/types","vs/editor/common/core/selection","vs/platform/theme/common/colorRegistry","vs/base/common/cancellation","vs/base/common/uri","vs/editor/common/editorContextKeys","vs/platform/commands/common/commands","vs/base/common/codicons","vs/editor/browser/services/codeEditorService","vs/base/common/color","vs/base/browser/fastDomNode","vs/editor/common/model/textModel","vs/platform/registry/common/platform","vs/platform/actions/common/actions","vs/editor/common/config/editorOptions","vs/platform/notification/common/notification","vs/base/browser/browser","vs/base/common/objects","vs/editor/common/modes/languageConfigurationRegistry","vs/editor/common/services/modelService","vs/platform/keybinding/common/keybinding","vs/platform/configuration/common/configuration","vs/editor/common/controller/cursorCommon","vs/base/common/keyCodes","vs/base/common/resources","vs/base/browser/ui/aria/aria","vs/editor/common/view/editorColorRegistry","vs/base/common/map","vs/base/common/network","vs/editor/common/model","vs/editor/browser/view/viewPart","vs/base/common/actions","vs/base/browser/keyboardEvent","vs/base/browser/ui/widget","vs/base/common/iterator","vs/base/browser/mouseEvent","vs/editor/common/services/modeService","vs/platform/opener/common/opener","vs/base/browser/touch","vs/editor/common/core/editOperation","vs/platform/accessibility/common/accessibility","vs/platform/progress/common/progress","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/viewModel/viewModel","vs/editor/common/standaloneStrings","vs/editor/browser/config/configuration","vs/editor/browser/core/editorState","vs/base/common/filters","vs/base/common/htmlContent","vs/editor/common/services/resolverService","vs/platform/contextview/browser/contextView","vs/platform/log/common/log","vs/platform/storage/common/storage","vs/base/common/linkedList","vs/base/common/path","vs/base/common/severity","vs/platform/instantiation/common/extensions","vs/editor/common/services/editorWorkerService","vs/editor/common/modes/nullMode","vs/platform/quickinput/common/quickInput","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/theme/common/iconRegistry","vs/base/common/functional","vs/base/common/stopwatch","vs/editor/common/core/stringBuilder","vs/editor/common/model/bracketPairColorizer/length","vs/base/browser/ui/actionbar/actionbar","vs/editor/common/core/lineTokens","vs/platform/clipboard/common/clipboardService","vs/platform/markers/common/markers","vs/platform/telemetry/common/telemetry","vs/base/common/decorators","vs/base/browser/event","vs/base/common/hash","vs/base/browser/globalMouseMoveMonitor","vs/editor/common/core/characterClassifier","vs/editor/common/commands/replaceCommand","vs/editor/common/model/textModelEvents","vs/editor/browser/view/dynamicViewOverlay","vs/platform/configuration/common/configurationRegistry","vs/platform/quickinput/common/quickAccess","vs/platform/theme/common/theme","vs/editor/contrib/suggest/suggest","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/common/numbers","vs/base/common/iconLabels","vs/base/browser/ui/iconLabel/iconLabels","vs/base/common/mime","vs/base/browser/ui/sash/sash","vs/base/browser/ui/list/listWidget","vs/editor/common/controller/wordCharacterClassifier","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/model/bracketPairColorizer/smallImmutableSet","vs/editor/common/modes/languageConfiguration","vs/editor/common/view/renderingContext","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/common/viewModel/viewEventHandler","vs/editor/contrib/snippet/snippetParser","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/contrib/gotoSymbol/referencesModel","vs/editor/standalone/common/standaloneThemeService","vs/platform/dialogs/common/dialogs","vs/platform/label/common/label","vs/editor/browser/core/markdownRenderer","vs/platform/theme/common/styler","vs/editor/contrib/peekView/peekView","vs/base/common/idGenerator","vs/base/common/range","vs/base/common/scrollable","vs/base/common/diff/diff","vs/base/common/uint","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/common/config/editorZoom","vs/editor/common/core/token","vs/editor/common/model/bracketPairColorizer/ast","vs/editor/common/model/wordHelper","vs/editor/common/viewLayout/lineDecorations","vs/editor/contrib/codeAction/types","vs/editor/browser/services/bulkEditService","vs/editor/common/modes/languageFeatureRegistry","vs/editor/common/model/tokensStore","vs/editor/common/services/textResourceConfigurationService","vs/platform/instantiation/common/serviceCollection","vs/platform/layout/browser/layoutService","vs/editor/common/modes/modesRegistry","vs/editor/common/controller/cursorWordOperations","vs/editor/contrib/find/findModel","vs/editor/browser/controller/coreCommands","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/codeAction/codeAction","vs/editor/contrib/message/messageController","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/base/common/lazy","vs/base/browser/canIUse","vs/base/common/extpath","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/common/labels","vs/base/browser/dnd","vs/base/browser/ui/checkbox/checkbox","vs/base/browser/ui/list/listView","vs/editor/browser/editorDom","vs/editor/common/config/fontInfo","vs/editor/browser/controller/textAreaInput","vs/editor/browser/view/viewLayer","vs/editor/common/model/textModelSearch","vs/editor/common/modes/supports","vs/editor/common/modes/supports/richEditBrackets","vs/editor/common/standalone/standaloneEnums","vs/editor/common/view/viewEvents","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewModel/viewModelEventDispatcher","vs/editor/contrib/folding/foldingRanges","vs/editor/contrib/inlineCompletions/ghostText","vs/editor/contrib/inlineCompletions/inlineCompletionToGhostText","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/inputbox/inputBox","vs/base/common/keybindingLabels","vs/editor/common/services/markersDecorationService","vs/editor/contrib/parameterHints/provideSignatureHelp","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/commonEditorConfig","vs/editor/common/commands/shiftCommand","vs/editor/browser/controller/mouseTarget","vs/editor/common/controller/cursorMoveOperations","vs/editor/common/controller/cursorDeleteOperations","vs/editor/common/controller/cursorTypeOperations","vs/editor/contrib/inlineCompletions/inlineCompletionsModel","vs/platform/actions/browser/menuEntryActionViewItem","vs/platform/workspace/common/workspace","vs/editor/standalone/browser/simpleServices","vs/editor/contrib/snippet/snippetController2","vs/base/browser/iframe","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/assert","vs/base/common/collections","vs/base/browser/ui/tree/treeIcons","vs/base/common/glob","vs/base/common/marshalling","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/common/worker/simpleWorker","vs/base/parts/quickinput/common/quickInput","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/splitview/splitview","vs/base/parts/quickinput/browser/quickInputUtils","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/common/controller/cursorColumns","vs/editor/browser/controller/textAreaState","vs/editor/browser/widget/diffNavigator","vs/editor/common/core/rgba","vs/editor/common/editorAction","vs/editor/common/model/bracketPairColorizer/beforeEditPositionMapper","vs/editor/common/model/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/standalone/standaloneBase","vs/editor/common/view/overviewZoneManager","vs/editor/common/viewModel/prefixSumComputer","vs/editor/browser/viewParts/margin/margin","vs/editor/contrib/comment/blockCommentCommand","vs/editor/contrib/folding/syntaxRangeProvider","vs/editor/contrib/format/formattingEdit","vs/editor/contrib/gotoSymbol/link/clickLinkGesture","vs/editor/contrib/hover/hoverOperation","vs/editor/contrib/hover/hoverTypes","vs/editor/contrib/indentation/indentUtils","vs/editor/contrib/inlineCompletions/consts","vs/editor/contrib/inlineCompletions/utils","vs/editor/contrib/smartSelect/bracketSelections","vs/editor/contrib/suggest/resizable","vs/editor/standalone/common/monarch/monarchCommon","vs/base/browser/ui/findinput/findInputCheckboxes","vs/base/browser/ui/tree/objectTree","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/platform/instantiation/common/descriptors","vs/editor/common/model/bracketPairColorizer/tokenizer","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/modes/textToHtmlTokenizer","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/contrib/documentSymbols/outlineModel","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/common/services/getSemanticTokens","vs/editor/contrib/codelens/codelens","vs/editor/contrib/colorPicker/color","vs/platform/contextkey/common/contextkeys","vs/platform/keybinding/common/keybindingResolver","vs/editor/common/services/editorWorkerServiceImpl","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/suggest/suggestWidgetDetails","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/common/controller/cursorAtomicMoveOperations","vs/editor/browser/view/viewUserInputEvents","vs/editor/common/controller/cursorMoveCommands","vs/editor/common/controller/cursor","vs/editor/contrib/quickAccess/editorNavigationQuickAccess","vs/editor/contrib/symbolIcons/symbolIcons","vs/editor/standalone/browser/standaloneCodeServiceImpl","vs/editor/contrib/colorPicker/colorDetector","vs/editor/contrib/format/format","vs/editor/contrib/gotoSymbol/goToSymbol","vs/editor/contrib/codeAction/codeActionCommands","vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/editor/contrib/wordOperations/wordOperations","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/find/findController","vs/editor/contrib/gotoError/gotoError","vs/editor/common/services/modelServiceImpl","vs/editor/contrib/gotoSymbol/peek/referencesController","vs/editor/contrib/gotoSymbol/goToCommands","vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/editor/standalone/browser/standaloneServices","vs/editor/contrib/snippet/snippetSession","vs/editor/contrib/suggest/suggestController","vs/editor/contrib/inlineCompletions/ghostTextController","vs/editor/contrib/hover/hover","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/navigator","vs/base/common/history","vs/base/common/process","vs/base/browser/ui/list/rangeMap","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/common/comparers","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/search","vs/base/common/fuzzyScorer","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/markdownRenderer","vs/base/common/uuid","vs/base/parts/storage/common/storage","vs/base/worker/defaultWorkerFactory","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/checkbox/checkbox","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/base/browser/ui/list/listPaging","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/base/browser/ui/table/tableWidget","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/bracketMatching","vs/css!vs/editor/contrib/codeAction/lightBulbWidget","vs/css!vs/editor/contrib/codelens/codelensWidget","vs/css!vs/editor/contrib/colorPicker/colorPicker","vs/css!vs/editor/contrib/dnd/dnd","vs/css!vs/editor/contrib/find/findWidget","vs/css!vs/editor/contrib/folding/folding","vs/css!vs/editor/contrib/gotoError/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/css!vs/editor/contrib/inlineCompletions/ghostText","vs/css!vs/editor/contrib/links/links","vs/css!vs/editor/contrib/message/messageController","vs/css!vs/editor/contrib/parameterHints/parameterHints","vs/css!vs/editor/contrib/peekView/media/peekViewWidget","vs/css!vs/editor/contrib/rename/renameInputField","vs/css!vs/editor/contrib/snippet/snippetSession","vs/css!vs/editor/contrib/suggest/media/suggest","vs/css!vs/editor/contrib/zoneWidget/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/diff/diffComputer","vs/editor/common/model/bracketPairColorizer/nodeReader","vs/editor/common/model/bracketPairColorizer/concat23Trees","vs/editor/common/model/bracketPairColorizer/parser","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/modes/languageSelector","vs/editor/common/modes/linkComputer","vs/editor/common/modes/supports/characterPair","vs/editor/common/modes/supports/indentRules","vs/editor/common/modes/supports/inplaceReplaceSupport","vs/editor/common/modes/supports/onEnter","vs/editor/common/modes/supports/electricCharacter","vs/editor/common/modes/supports/tokenization","vs/editor/common/modes/tokenizationRegistry","vs/editor/common/services/semanticTokensDto","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/common/view/viewContext","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/model/mirrorTextModel","vs/editor/common/services/editorSimpleWorker","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/moveCaretCommand","vs/editor/contrib/colorPicker/colorPickerModel","vs/editor/contrib/comment/lineCommentCommand","vs/editor/contrib/dnd/dragAndDropCommand","vs/editor/contrib/find/replaceAllCommand","vs/editor/contrib/find/replacePattern","vs/editor/contrib/folding/foldingModel","vs/editor/contrib/folding/hiddenRangeModel","vs/editor/contrib/folding/intializingRangeProvider","vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand","vs/editor/contrib/linesOperations/copyLinesCommand","vs/editor/contrib/linesOperations/sortLinesCommand","vs/editor/contrib/smartSelect/wordSelections","vs/editor/contrib/suggest/completionModel","vs/editor/contrib/suggest/suggestCommitCharacters","vs/editor/contrib/suggest/suggestOvertypingCapturer","vs/editor/contrib/suggest/wordDistance","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputCheckboxes","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/menu/menu","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/nls!vs/base/common/actions","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/parts/quickinput/browser/quickInputBox","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/coreCommands","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/core/keybindingCancellation","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/commonEditorConfig","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/config/charWidthReader","vs/editor/common/viewModel/viewModelDecorations","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/modes/modesRegistry","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/view/editorColorRegistry","vs/nls!vs/editor/contrib/anchorSelect/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/caretOperations","vs/nls!vs/editor/contrib/caretOperations/transpose","vs/nls!vs/editor/contrib/clipboard/clipboard","vs/nls!vs/editor/contrib/codeAction/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/codelensController","vs/nls!vs/editor/contrib/comment/comment","vs/nls!vs/editor/contrib/contextmenu/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/cursorUndo","vs/nls!vs/editor/contrib/find/findController","vs/nls!vs/editor/contrib/find/findWidget","vs/nls!vs/editor/contrib/folding/folding","vs/nls!vs/editor/contrib/folding/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/fontZoom","vs/nls!vs/editor/contrib/format/format","vs/nls!vs/editor/contrib/format/formatActions","vs/nls!vs/editor/contrib/gotoError/gotoError","vs/nls!vs/editor/contrib/gotoError/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/symbolNavigation","vs/nls!vs/editor/contrib/hover/hover","vs/nls!vs/editor/contrib/hover/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/indentation","vs/nls!vs/editor/contrib/inlineCompletions/ghostTextController","vs/nls!vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant","vs/nls!vs/editor/contrib/linesOperations/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/linkedEditing","vs/nls!vs/editor/contrib/links/links","vs/nls!vs/editor/contrib/message/messageController","vs/nls!vs/editor/contrib/multicursor/multicursor","vs/nls!vs/editor/contrib/parameterHints/parameterHints","vs/nls!vs/editor/contrib/parameterHints/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/peekView","vs/nls!vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/rename/rename","vs/nls!vs/editor/contrib/rename/renameInputField","vs/nls!vs/editor/contrib/smartSelect/smartSelect","vs/nls!vs/editor/contrib/snippet/snippetController2","vs/nls!vs/editor/contrib/snippet/snippetVariables","vs/nls!vs/editor/contrib/suggest/suggest","vs/nls!vs/editor/contrib/suggest/suggestController","vs/nls!vs/editor/contrib/suggest/suggestWidget","vs/nls!vs/editor/contrib/suggest/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/tokenization","vs/nls!vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/wordOperations","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/platform/browser/historyWidgetKeybindingHint","vs/platform/clipboard/browser/clipboardService","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/instantiation/common/graph","vs/editor/common/model/bracketPairColorizer/brackets","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/model/textModelTokens","vs/editor/standalone/browser/colorizer","vs/editor/contrib/documentSymbols/documentSymbols","vs/editor/contrib/links/getLinks","vs/editor/contrib/parameterHints/parameterHintsModel","vs/editor/contrib/suggest/suggestAlternatives","vs/editor/contrib/suggest/wordContextKey","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/resolvedKeybindingItem","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/contextview/browser/contextViewService","vs/editor/common/services/webWorker","vs/editor/contrib/gotoError/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/editor/contrib/hover/modesGlyphHover","vs/platform/quickinput/browser/pickerQuickAccess","vs/editor/common/services/getIconClasses","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/common/services/languagesRegistry","vs/editor/common/services/modeServiceImpl","vs/platform/accessibility/browser/accessibilityService","vs/platform/configuration/common/configurationModels","vs/platform/contextkey/browser/contextKeyService","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/editor/contrib/codelens/codeLensCache","vs/editor/contrib/suggest/suggestMemory","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/commandsQuickAccess","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/codeEditorServiceImpl","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/common/model/bracketPairColorizer/bracketPairColorizer","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/common/controller/cursorColumnSelection","vs/editor/common/controller/oneCursor","vs/editor/common/controller/cursorCollection","vs/editor/common/services/markerDecorationsServiceImpl","vs/editor/common/viewModel/splitLinesCollection","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/codeAction/lightBulbWidget","vs/editor/contrib/codelens/codelensWidget","vs/editor/contrib/colorPicker/colorPickerWidget","vs/editor/contrib/find/findDecorations","vs/editor/contrib/find/findOptionsWidget","vs/editor/contrib/find/findState","vs/editor/contrib/folding/indentRangeProvider","vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/editor/contrib/inlineCompletions/ghostTextWidget","vs/editor/contrib/linesOperations/moveLinesCommand","vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/editor/contrib/rename/renameInputField","vs/editor/contrib/zoneWidget/zoneWidget","vs/editor/standalone/common/themes","vs/editor/browser/core/keybindingCancellation","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/view/viewImpl","vs/editor/contrib/anchorSelect/anchorSelect","vs/editor/contrib/bracketMatching/bracketMatching","vs/editor/contrib/caretOperations/caretOperations","vs/editor/contrib/caretOperations/transpose","vs/editor/contrib/clipboard/clipboard","vs/editor/contrib/codeAction/codeActionMenu","vs/editor/contrib/codeAction/codeActionModel","vs/editor/contrib/codelens/codelensController","vs/editor/contrib/comment/comment","vs/editor/contrib/contextmenu/contextmenu","vs/editor/contrib/cursorUndo/cursorUndo","vs/editor/contrib/dnd/dnd","vs/editor/contrib/fontZoom/fontZoom","vs/editor/contrib/format/formatActions","vs/editor/contrib/gotoSymbol/symbolNavigation","vs/editor/contrib/hover/colorHoverParticipant","vs/editor/contrib/hover/getHover","vs/editor/contrib/hover/markdownHoverParticipant","vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/editor/contrib/indentation/indentation","vs/editor/contrib/inlayHints/inlayHintsController","vs/editor/contrib/linesOperations/linesOperations","vs/editor/contrib/linkedEditing/linkedEditing","vs/editor/contrib/links/links","vs/editor/contrib/codeAction/codeActionUi","vs/editor/contrib/codeAction/codeActionContributions","vs/editor/contrib/rename/rename","vs/editor/contrib/smartSelect/smartSelect","vs/editor/contrib/tokenization/tokenization","vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/editor/contrib/wordHighlighter/wordHighlighter","vs/editor/contrib/wordPartOperations/wordPartOperations","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/suggestWidgetStatus","vs/platform/actions/common/menuService","vs/platform/browser/contextScopedHistoryWidget","vs/platform/contextview/browser/contextMenuService","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputServiceImpl","vs/platform/severityIcon/common/severityIcon","vs/editor/contrib/gotoError/gotoErrorWidget","vs/editor/browser/widget/diffReview","vs/editor/contrib/find/findWidget","vs/editor/contrib/folding/foldingDecorations","vs/editor/contrib/folding/folding","vs/editor/contrib/hover/markerHoverParticipant","vs/editor/contrib/multicursor/multicursor","vs/editor/contrib/parameterHints/parameterHintsWidget","vs/editor/contrib/parameterHints/parameterHints","vs/editor/contrib/suggest/suggestWidgetRenderer","vs/editor/contrib/suggest/suggestWidget","vs/platform/theme/browser/iconsStyleSheet","vs/editor/standalone/browser/standaloneThemeServiceImpl","vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/editor/contrib/viewportSemanticTokens/viewportSemanticTokens","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/platform/workspaces/common/workspaces","vs/editor/contrib/snippet/snippetVariables","vs/editor/contrib/suggest/suggestModel","vs/editor/contrib/inlineCompletions/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/suggestWidgetPreviewModel","vs/editor/contrib/inlineCompletions/ghostTextModel","vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant","vs/editor/contrib/hover/modesContentHover","vs/editor/contrib/colorPicker/colorContributions","vs/editor/editor.all","vs/base/browser/dompurify/dompurify","vs/base/common/marked/marked","vs/editor/edcore.main"],ie=function(q){for(var e=[],y=0,N=q.length;y<N;y++)e[y]=te[q[y]];return e},Qt;(function(q){var e=function(){function N(){this._pendingLoads=0}return N.prototype.attachListeners=function(T,D,S,p){var b=function(){D.removeEventListener("load",i),D.removeEventListener("error",f)},i=function(r){b(),S()},f=function(r){b(),p(r)};D.addEventListener("load",i),D.addEventListener("error",f)},N.prototype._onLoad=function(T,D){this._pendingLoads--,D()},N.prototype._onLoadError=function(T,D,S){this._pendingLoads--,D(S)},N.prototype._insertLinkNode=function(T){this._pendingLoads++;var D=document.head||document.getElementsByTagName("head")[0];D.appendChild(T)},N.prototype.createLinkTag=function(T,D,S,p){var b=this,i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("data-name",T);var f=function(){return b._onLoad(T,S)},r=function(o){return b._onLoadError(T,p,o)};return this.attachListeners(T,i,f,r),i.setAttribute("href",D),i},N.prototype._linkTagExists=function(T,D){var S,p,b,i,f=document.getElementsByTagName("link");for(S=0,p=f.length;S<p;S++)if(b=f[S].getAttribute("data-name"),i=f[S].getAttribute("href"),b===T||i===D)return!0;return!1},N.prototype.load=function(T,D,S,p){if(this._linkTagExists(T,D)){S();return}var b=this.createLinkTag(T,D,S,p);this._insertLinkNode(b)},N}(),y=function(){function N(){this._cssLoader=new e}return N.prototype.load=function(T,D,S,p){p=p||{};var b=p["vs/css"]||{};if(b.disabled){S({});return}var i=D.toUrl(T+".css");this._cssLoader.load(T,i,function(f){S({})},function(f){typeof S.error=="function"&&S.error("Could not find "+i+" or it was empty")})},N}();q.CSSPlugin=y,define("vs/css",new y)})(Qt||(Qt={}));var Vi=this&&this.__spreadArrays||function(){for(var q=0,e=0,y=arguments.length;e<y;e++)q+=arguments[e].length;for(var N=Array(q),T=0,e=0;e<y;e++)for(var D=arguments[e],S=0,p=D.length;S<p;S++,T++)N[T]=D[S];return N},Jt;(function(q){var e=function(){function p(){this._detected=!1,this._isPseudo=!1}return Object.defineProperty(p.prototype,"isPseudo",{get:function(){return this._detect(),this._isPseudo},enumerable:!1,configurable:!0}),p.prototype._detect=function(){this._detected||(this._detected=!0,this._isPseudo=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0)},p}();function y(p,b,i){var f;return b.length===0?f=p:f=p.replace(/\{(\d+)\}/g,function(r,o){var d=o[0],c=b[d],u=r;return typeof c=="string"?u=c:(typeof c=="number"||typeof c=="boolean"||c===void 0||c===null)&&(u=String(c)),u}),i.isPseudo&&(f="\uFF3B"+f.replace(/[aouei]/g,"$&$&")+"\uFF3D"),f}function N(p,b){var i=p[b];return i||(i=p["*"],i)?i:null}function T(p,b,i){for(var f=[],r=3;r<arguments.length;r++)f[r-3]=arguments[r];return y(i,f,p)}function D(p,b){return function(i,f){var r=Array.prototype.slice.call(arguments,2);return y(p[i],r,b)}}var S=function(){function p(b){var i=this;this._env=b,this.localize=function(f,r){for(var o=[],d=2;d<arguments.length;d++)o[d-2]=arguments[d];return T.apply(void 0,Vi([i._env,f,r],o))}}return p.prototype.setPseudoTranslation=function(b){this._env._isPseudo=b},p.prototype.create=function(b,i){return{localize:D(i[b],this._env)}},p.prototype.load=function(b,i,f,r){var o=this;if(r=r||{},!b||b.length===0)f({localize:this.localize});else{var d=r["vs/nls"]||{},c=d.availableLanguages?N(d.availableLanguages,b):null,u=".nls";c!==null&&c!==p.DEFAULT_TAG&&(u=u+"."+c);var s=function(n){Array.isArray(n)?n.localize=D(n,o._env):n.localize=D(n[b],o._env),f(n)};typeof d.loadBundle=="function"?d.loadBundle(b,c,function(n,a){n?i([b+".nls"],s):s(a)}):i([b+u],s)}},p.DEFAULT_TAG="i-default",p}();q.NLSPlugin=S,define("vs/nls",new S(new e))})(Jt||(Jt={}));/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function Hi(q){if(Array.isArray(q)){for(var e=0,y=Array(q.length);e<q.length;e++)y[e]=q[e];return y}else return Array.from(q)}var Ui=Object.hasOwnProperty,ei=Object.setPrototypeOf,Ki=Object.isFrozen,qi=Object.getPrototypeOf,$i=Object.getOwnPropertyDescriptor,st=Object.freeze,lt=Object.seal,ji=Object.create,ti=typeof Reflect!="undefined"&&Reflect,wt=ti.apply,Rt=ti.construct;wt||(wt=function(e,y,N){return e.apply(y,N)}),st||(st=function(e){return e}),lt||(lt=function(e){return e}),Rt||(Rt=function(e,y){return new(Function.prototype.bind.apply(e,[null].concat(Hi(y))))});var Gi=rt(Array.prototype.forEach),ii=rt(Array.prototype.pop),pt=rt(Array.prototype.push),ht=rt(String.prototype.toLowerCase),ni=rt(String.prototype.match),ct=rt(String.prototype.replace),Zi=rt(String.prototype.indexOf),Yi=rt(String.prototype.trim),dt=rt(RegExp.prototype.test),si=Xi(TypeError);function rt(q){return function(e){for(var y=arguments.length,N=Array(y>1?y-1:0),T=1;T<y;T++)N[T-1]=arguments[T];return wt(q,e,N)}}function Xi(q){return function(){for(var e=arguments.length,y=Array(e),N=0;N<e;N++)y[N]=arguments[N];return Rt(q,y)}}function Xe(q,e){ei&&ei(q,null);for(var y=e.length;y--;){var N=e[y];if(typeof N=="string"){var T=ht(N);T!==N&&(Ki(e)||(e[y]=T),N=T)}q[N]=!0}return q}function gt(q){var e=ji(null),y=void 0;for(y in q)wt(Ui,q,[y])&&(e[y]=q[y]);return e}function yt(q,e){for(;q!==null;){var y=$i(q,e);if(y){if(y.get)return rt(y.get);if(typeof y.value=="function")return rt(y.value)}q=qi(q)}function N(T){return console.warn("fallback value for",T),null}return N}var ri=st(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ot=st(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Pt=st(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Qi=st(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ft=st(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Ji=st(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),oi=st(["#text"]),ai=st(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Bt=st(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),li=st(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Lt=st(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),en=lt(/\{\{[\s\S]*|[\s\S]*\}\}/gm),tn=lt(/<%[\s\S]*|[\s\S]*%>/gm),nn=lt(/^data-[\-\w.\u00B7-\uFFFF]/),sn=lt(/^aria-[\-\w]+$/),rn=lt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),on=lt(/^(?:\w+script|data):/i),an=lt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q};function ot(q){if(Array.isArray(q)){for(var e=0,y=Array(q.length);e<q.length;e++)y[e]=q[e];return y}else return Array.from(q)}var ln=function(){return typeof window=="undefined"?null:window},dn=function(e,y){if((typeof e=="undefined"?"undefined":Ct(e))!=="object"||typeof e.createPolicy!="function")return null;var N=null,T="data-tt-policy-suffix";y.currentScript&&y.currentScript.hasAttribute(T)&&(N=y.currentScript.getAttribute(T));var D="dompurify"+(N?"#"+N:"");try{return e.createPolicy(D,{createHTML:function(p){return p}})}catch(S){return console.warn("TrustedTypes policy "+D+" could not be created."),null}};function di(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ln(),e=function(_e){return di(_e)};if(e.version="2.3.1",e.removed=[],!q||!q.document||q.document.nodeType!==9)return e.isSupported=!1,e;var y=q.document,N=q.document,T=q.DocumentFragment,D=q.HTMLTemplateElement,S=q.Node,p=q.Element,b=q.NodeFilter,i=q.NamedNodeMap,f=i===void 0?q.NamedNodeMap||q.MozNamedAttrMap:i,r=q.Text,o=q.Comment,d=q.DOMParser,c=q.trustedTypes,u=p.prototype,s=yt(u,"cloneNode"),n=yt(u,"nextSibling"),a=yt(u,"childNodes"),t=yt(u,"parentNode");if(typeof D=="function"){var l=N.createElement("template");l.content&&l.content.ownerDocument&&(N=l.content.ownerDocument)}var h=dn(c,y),g=h&&pe?h.createHTML(""):"",w=N,_=w.implementation,C=w.createNodeIterator,v=w.createDocumentFragment,m=w.getElementsByTagName,E=y.importNode,I={};try{I=gt(N).documentMode?N.documentMode:{}}catch(Se){}var k={};e.isSupported=typeof t=="function"&&_&&typeof _.createHTMLDocument!="undefined"&&I!==9;var A=en,P=tn,F=nn,M=sn,R=on,O=an,L=rn,B=null,z=Xe({},[].concat(ot(ri),ot(Ot),ot(Pt),ot(Ft),ot(oi))),$=null,j=Xe({},[].concat(ot(ai),ot(Bt),ot(li),ot(Lt))),X=null,Q=null,Y=!0,oe=!0,se=!1,K=!1,x=!1,U=!1,H=!1,V=!1,ne=!1,ue=!0,pe=!1,ge=!0,W=!0,G=!1,re={},ee=null,de=Xe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ae=null,ce=Xe({},["audio","video","img","source","image","track"]),J=null,Z=Xe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),le="http://www.w3.org/1998/Math/MathML",he="http://www.w3.org/2000/svg",ve="http://www.w3.org/1999/xhtml",be=ve,we=!1,Te=null,Pe=N.createElement("form"),Oe=function(_e){Te&&Te===_e||((!_e||(typeof _e=="undefined"?"undefined":Ct(_e))!=="object")&&(_e={}),_e=gt(_e),B="ALLOWED_TAGS"in _e?Xe({},_e.ALLOWED_TAGS):z,$="ALLOWED_ATTR"in _e?Xe({},_e.ALLOWED_ATTR):j,J="ADD_URI_SAFE_ATTR"in _e?Xe(gt(Z),_e.ADD_URI_SAFE_ATTR):Z,ae="ADD_DATA_URI_TAGS"in _e?Xe(gt(ce),_e.ADD_DATA_URI_TAGS):ce,ee="FORBID_CONTENTS"in _e?Xe({},_e.FORBID_CONTENTS):de,X="FORBID_TAGS"in _e?Xe({},_e.FORBID_TAGS):{},Q="FORBID_ATTR"in _e?Xe({},_e.FORBID_ATTR):{},re="USE_PROFILES"in _e?_e.USE_PROFILES:!1,Y=_e.ALLOW_ARIA_ATTR!==!1,oe=_e.ALLOW_DATA_ATTR!==!1,se=_e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=_e.SAFE_FOR_TEMPLATES||!1,x=_e.WHOLE_DOCUMENT||!1,V=_e.RETURN_DOM||!1,ne=_e.RETURN_DOM_FRAGMENT||!1,ue=_e.RETURN_DOM_IMPORT!==!1,pe=_e.RETURN_TRUSTED_TYPE||!1,H=_e.FORCE_BODY||!1,ge=_e.SANITIZE_DOM!==!1,W=_e.KEEP_CONTENT!==!1,G=_e.IN_PLACE||!1,L=_e.ALLOWED_URI_REGEXP||L,be=_e.NAMESPACE||ve,K&&(oe=!1),ne&&(V=!0),re&&(B=Xe({},[].concat(ot(oi))),$=[],re.html===!0&&(Xe(B,ri),Xe($,ai)),re.svg===!0&&(Xe(B,Ot),Xe($,Bt),Xe($,Lt)),re.svgFilters===!0&&(Xe(B,Pt),Xe($,Bt),Xe($,Lt)),re.mathMl===!0&&(Xe(B,Ft),Xe($,li),Xe($,Lt))),_e.ADD_TAGS&&(B===z&&(B=gt(B)),Xe(B,_e.ADD_TAGS)),_e.ADD_ATTR&&($===j&&($=gt($)),Xe($,_e.ADD_ATTR)),_e.ADD_URI_SAFE_ATTR&&Xe(J,_e.ADD_URI_SAFE_ATTR),_e.FORBID_CONTENTS&&(ee===de&&(ee=gt(ee)),Xe(ee,_e.FORBID_CONTENTS)),W&&(B["#text"]=!0),x&&Xe(B,["html","head","body"]),B.table&&(Xe(B,["tbody"]),delete X.tbody),st&&st(_e),Te=_e)},Ve=Xe({},["mi","mo","mn","ms","mtext"]),Be=Xe({},["foreignobject","desc","title","annotation-xml"]),He=Xe({},Ot);Xe(He,Pt),Xe(He,Qi);var je=Xe({},Ft);Xe(je,Ji);var Le=function(_e){var Ae=t(_e);(!Ae||!Ae.tagName)&&(Ae={namespaceURI:ve,tagName:"template"});var Ie=ht(_e.tagName),xe=ht(Ae.tagName);if(_e.namespaceURI===he)return Ae.namespaceURI===ve?Ie==="svg":Ae.namespaceURI===le?Ie==="svg"&&(xe==="annotation-xml"||Ve[xe]):Boolean(He[Ie]);if(_e.namespaceURI===le)return Ae.namespaceURI===ve?Ie==="math":Ae.namespaceURI===he?Ie==="math"&&Be[xe]:Boolean(je[Ie]);if(_e.namespaceURI===ve){if(Ae.namespaceURI===he&&!Be[xe]||Ae.namespaceURI===le&&!Ve[xe])return!1;var qe=Xe({},["title","style","font","a","script"]);return!je[Ie]&&(qe[Ie]||!He[Ie])}return!1},Ee=function(_e){pt(e.removed,{element:_e});try{_e.parentNode.removeChild(_e)}catch(Ae){try{_e.outerHTML=g}catch(Ie){_e.remove()}}},Re=function(_e,Ae){try{pt(e.removed,{attribute:Ae.getAttributeNode(_e),from:Ae})}catch(Ie){pt(e.removed,{attribute:null,from:Ae})}if(Ae.removeAttribute(_e),_e==="is"&&!$[_e])if(V||ne)try{Ee(Ae)}catch(Ie){}else try{Ae.setAttribute(_e,"")}catch(Ie){}},ze=function(_e){var Ae=void 0,Ie=void 0;if(H)_e="<remove></remove>"+_e;else{var xe=ni(_e,/^[\r\n\t ]+/);Ie=xe&&xe[0]}var qe=h?h.createHTML(_e):_e;if(be===ve)try{Ae=new d().parseFromString(qe,"text/html")}catch($e){}if(!Ae||!Ae.documentElement){Ae=_.createDocument(be,"template",null);try{Ae.documentElement.innerHTML=we?"":qe}catch($e){}}var Ue=Ae.body||Ae.documentElement;return _e&&Ie&&Ue.insertBefore(N.createTextNode(Ie),Ue.childNodes[0]||null),be===ve?m.call(Ae,x?"html":"body")[0]:x?Ae.documentElement:Ue},We=function(_e){return C.call(_e.ownerDocument||_e,_e,b.SHOW_ELEMENT|b.SHOW_COMMENT|b.SHOW_TEXT,null,!1)},Ze=function(_e){return _e instanceof r||_e instanceof o?!1:typeof _e.nodeName!="string"||typeof _e.textContent!="string"||typeof _e.removeChild!="function"||!(_e.attributes instanceof f)||typeof _e.removeAttribute!="function"||typeof _e.setAttribute!="function"||typeof _e.namespaceURI!="string"||typeof _e.insertBefore!="function"},ke=function(_e){return(typeof S=="undefined"?"undefined":Ct(S))==="object"?_e instanceof S:_e&&(typeof _e=="undefined"?"undefined":Ct(_e))==="object"&&typeof _e.nodeType=="number"&&typeof _e.nodeName=="string"},De=function(_e,Ae,Ie){!k[_e]||Gi(k[_e],function(xe){xe.call(e,Ae,Ie,Te)})},Ne=function(_e){var Ae=void 0;if(De("beforeSanitizeElements",_e,null),Ze(_e)||ni(_e.nodeName,/[\u0080-\uFFFF]/))return Ee(_e),!0;var Ie=ht(_e.nodeName);if(De("uponSanitizeElement",_e,{tagName:Ie,allowedTags:B}),!ke(_e.firstElementChild)&&(!ke(_e.content)||!ke(_e.content.firstElementChild))&&dt(/<[/\w]/g,_e.innerHTML)&&dt(/<[/\w]/g,_e.textContent)||Ie==="select"&&dt(/<template/i,_e.innerHTML))return Ee(_e),!0;if(!B[Ie]||X[Ie]){if(W&&!ee[Ie]){var xe=t(_e)||_e.parentNode,qe=a(_e)||_e.childNodes;if(qe&&xe)for(var Ue=qe.length,$e=Ue-1;$e>=0;--$e)xe.insertBefore(s(qe[$e],!0),n(_e))}return Ee(_e),!0}return _e instanceof p&&!Le(_e)||(Ie==="noscript"||Ie==="noembed")&&dt(/<\/no(script|embed)/i,_e.innerHTML)?(Ee(_e),!0):(K&&_e.nodeType===3&&(Ae=_e.textContent,Ae=ct(Ae,A," "),Ae=ct(Ae,P," "),_e.textContent!==Ae&&(pt(e.removed,{element:_e.cloneNode()}),_e.textContent=Ae)),De("afterSanitizeElements",_e,null),!1)},fe=function(_e,Ae,Ie){if(ge&&(Ae==="id"||Ae==="name")&&(Ie in N||Ie in Pe))return!1;if(!(oe&&!Q[Ae]&&dt(F,Ae))){if(!(Y&&dt(M,Ae))){if(!$[Ae]||Q[Ae])return!1;if(!J[Ae]){if(!dt(L,ct(Ie,O,""))){if(!((Ae==="src"||Ae==="xlink:href"||Ae==="href")&&_e!=="script"&&Zi(Ie,"data:")===0&&ae[_e])){if(!(se&&!dt(R,ct(Ie,O,"")))){if(Ie)return!1}}}}}}return!0},me=function(_e){var Ae=void 0,Ie=void 0,xe=void 0,qe=void 0;De("beforeSanitizeAttributes",_e,null);var Ue=_e.attributes;if(!!Ue){var $e={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:$};for(qe=Ue.length;qe--;){Ae=Ue[qe];var Ge=Ae,Ke=Ge.name,Qe=Ge.namespaceURI;if(Ie=Yi(Ae.value),xe=ht(Ke),$e.attrName=xe,$e.attrValue=Ie,$e.keepAttr=!0,$e.forceKeepAttr=void 0,De("uponSanitizeAttribute",_e,$e),Ie=$e.attrValue,!$e.forceKeepAttr&&(Re(Ke,_e),!!$e.keepAttr)){if(dt(/\/>/i,Ie)){Re(Ke,_e);continue}K&&(Ie=ct(Ie,A," "),Ie=ct(Ie,P," "));var Ye=_e.nodeName.toLowerCase();if(!!fe(Ye,xe,Ie))try{Qe?_e.setAttributeNS(Qe,Ke,Ie):_e.setAttribute(Ke,Ie),ii(e.removed)}catch(Je){}}}De("afterSanitizeAttributes",_e,null)}},ye=function Se(_e){var Ae=void 0,Ie=We(_e);for(De("beforeSanitizeShadowDOM",_e,null);Ae=Ie.nextNode();)De("uponSanitizeShadowNode",Ae,null),!Ne(Ae)&&(Ae.content instanceof T&&Se(Ae.content),me(Ae));De("afterSanitizeShadowDOM",_e,null)};return e.sanitize=function(Se,_e){var Ae=void 0,Ie=void 0,xe=void 0,qe=void 0,Ue=void 0;if(we=!Se,we&&(Se="<!-->"),typeof Se!="string"&&!ke(Se)){if(typeof Se.toString!="function")throw si("toString is not a function");if(Se=Se.toString(),typeof Se!="string")throw si("dirty is not a string, aborting")}if(!e.isSupported){if(Ct(q.toStaticHTML)==="object"||typeof q.toStaticHTML=="function"){if(typeof Se=="string")return q.toStaticHTML(Se);if(ke(Se))return q.toStaticHTML(Se.outerHTML)}return Se}if(U||Oe(_e),e.removed=[],typeof Se=="string"&&(G=!1),!G)if(Se instanceof S)Ae=ze("<!---->"),Ie=Ae.ownerDocument.importNode(Se,!0),Ie.nodeType===1&&Ie.nodeName==="BODY"||Ie.nodeName==="HTML"?Ae=Ie:Ae.appendChild(Ie);else{if(!V&&!K&&!x&&Se.indexOf("<")===-1)return h&&pe?h.createHTML(Se):Se;if(Ae=ze(Se),!Ae)return V?null:g}Ae&&H&&Ee(Ae.firstChild);for(var $e=We(G?Se:Ae);xe=$e.nextNode();)xe.nodeType===3&&xe===qe||Ne(xe)||(xe.content instanceof T&&ye(xe.content),me(xe),qe=xe);if(qe=null,G)return Se;if(V){if(ne)for(Ue=v.call(Ae.ownerDocument);Ae.firstChild;)Ue.appendChild(Ae.firstChild);else Ue=Ae;return ue&&(Ue=E.call(y,Ue,!0)),Ue}var Ge=x?Ae.outerHTML:Ae.innerHTML;return K&&(Ge=ct(Ge,A," "),Ge=ct(Ge,P," ")),h&&pe?h.createHTML(Ge):Ge},e.setConfig=function(Se){Oe(Se),U=!0},e.clearConfig=function(){Te=null,U=!1},e.isValidAttribute=function(Se,_e,Ae){Te||Oe({});var Ie=ht(Se),xe=ht(_e);return fe(Ie,xe,Ae)},e.addHook=function(Se,_e){typeof _e=="function"&&(k[Se]=k[Se]||[],pt(k[Se],_e))},e.removeHook=function(Se){k[Se]&&ii(k[Se])},e.removeHooks=function(Se){k[Se]&&(k[Se]=[])},e.removeAllHooks=function(){k={}},e}var un=di();define("vs/base/browser/dompurify/dompurify",function(){return un}),define(te[30],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class y{constructor(D){this.domNode=D,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(D){this._maxWidth!==D&&(this._maxWidth=D,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(D){this._width!==D&&(this._width=D,this.domNode.style.width=this._width+"px")}setHeight(D){this._height!==D&&(this._height=D,this.domNode.style.height=this._height+"px")}setTop(D){this._top!==D&&(this._top=D,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(D){this._left!==D&&(this._left=D,this.domNode.style.left=this._left+"px")}setBottom(D){this._bottom!==D&&(this._bottom=D,this.domNode.style.bottom=this._bottom+"px")}setRight(D){this._right!==D&&(this._right=D,this.domNode.style.right=this._right+"px")}setFontFamily(D){this._fontFamily!==D&&(this._fontFamily=D,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(D){this._fontWeight!==D&&(this._fontWeight=D,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(D){this._fontSize!==D&&(this._fontSize=D,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(D){this._fontFeatureSettings!==D&&(this._fontFeatureSettings=D,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(D){this._lineHeight!==D&&(this._lineHeight=D,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(D){this._letterSpacing!==D&&(this._letterSpacing=D,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(D){this._className!==D&&(this._className=D,this.domNode.className=this._className)}toggleClassName(D,S){this.domNode.classList.toggle(D,S),this._className=this.domNode.className}setDisplay(D){this._display!==D&&(this._display=D,this.domNode.style.display=this._display)}setPosition(D){this._position!==D&&(this._position=D,this.domNode.style.position=this._position)}setVisibility(D){this._visibility!==D&&(this._visibility=D,this.domNode.style.visibility=this._visibility)}setBackgroundColor(D){this._backgroundColor!==D&&(this._backgroundColor=D,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(D){this._layerHint!==D&&(this._layerHint=D,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(D){this._boxShadow!==D&&(this._boxShadow=D,this.domNode.style.boxShadow=D)}setContain(D){this._contain!==D&&(this._contain=D,this.domNode.style.contain=this._contain)}setAttribute(D,S){this.domNode.setAttribute(D,S)}removeAttribute(D){this.domNode.removeAttribute(D)}appendChild(D){this.domNode.appendChild(D.domNode)}removeChild(D){this.domNode.removeChild(D.domNode)}}e.FastDomNode=y;function N(T){return new y(T)}e.createFastDomNode=N}),define(te[202],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let y=!1,N=null;function T(S){if(!S.parent||S.parent===S)return null;try{let p=S.location,b=S.parent.location;if(p.origin!=="null"&&b.origin!=="null"&&p.origin!==b.origin)return y=!0,null}catch(p){return y=!0,null}return S.parent}class D{static getSameOriginWindowChain(){if(!N){N=[];let p=window,b;do b=T(p),b?N.push({window:p,iframeElement:p.frameElement||null}):N.push({window:p,iframeElement:null}),p=b;while(p)}return N.slice(0)}static hasDifferentOriginAncestor(){return N||this.getSameOriginWindowChain(),y}static getPositionOfChildWindowRelativeToAncestorWindow(p,b){if(!b||p===b)return{top:0,left:0};let i=0,f=0,r=this.getSameOriginWindowChain();for(const o of r){if(i+=o.window.scrollY,f+=o.window.scrollX,o.window===b||!o.iframeElement)break;let d=o.iframeElement.getBoundingClientRect();i+=d.top,f+=d.left}return{top:i,left:f}}}e.IframeUtils=D}),define(te[293],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class y extends Error{constructor(T,D){super(`ListError [${T}] ${D}`)}}e.ListError=y}),define(te[294],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class y{constructor(T){this.spliceables=T}splice(T,D,S){this.spliceables.forEach(p=>p.splice(T,D,S))}}e.CombinedSpliceable=y}),define(te[203],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const y=20;class N{constructor(D,S,p,b,i,f){this._scrollbarSize=Math.round(S),this._oppositeScrollbarSize=Math.round(p),this._arrowSize=Math.round(D),this._visibleSize=b,this._scrollSize=i,this._scrollPosition=f,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new N(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(D){const S=Math.round(D);return this._visibleSize!==S?(this._visibleSize=S,this._refreshComputedValues(),!0):!1}setScrollSize(D){const S=Math.round(D);return this._scrollSize!==S?(this._scrollSize=S,this._refreshComputedValues(),!0):!1}setScrollPosition(D){const S=Math.round(D);return this._scrollPosition!==S?(this._scrollPosition=S,this._refreshComputedValues(),!0):!1}setScrollbarSize(D){this._scrollbarSize=Math.round(D)}setOppositeScrollbarSize(D){this._oppositeScrollbarSize=Math.round(D)}static _computeValues(D,S,p,b,i){const f=Math.max(0,p-D),r=Math.max(0,f-2*S),o=b>0&&b>p;if(!o)return{computedAvailableSize:Math.round(f),computedIsNeeded:o,computedSliderSize:Math.round(r),computedSliderRatio:0,computedSliderPosition:0};const d=Math.round(Math.max(y,Math.floor(p*r/b))),c=(r-d)/(b-p),u=i*c;return{computedAvailableSize:Math.round(f),computedIsNeeded:o,computedSliderSize:Math.round(d),computedSliderRatio:c,computedSliderPosition:Math.round(u)}}_refreshComputedValues(){const D=N._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=D.computedAvailableSize,this._computedIsNeeded=D.computedIsNeeded,this._computedSliderSize=D.computedSliderSize,this._computedSliderRatio=D.computedSliderRatio,this._computedSliderPosition=D.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(D){if(!this._computedIsNeeded)return 0;const S=D-this._arrowSize-this._computedSliderSize/2;return Math.round(S/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(D){if(!this._computedIsNeeded)return 0;const S=D-this._arrowSize;let p=this._scrollPosition;return S<this._computedSliderPosition?p-=this._visibleSize:p+=this._visibleSize,p}getDesiredScrollPositionFromDelta(D){if(!this._computedIsNeeded)return 0;const S=this._computedSliderPosition+D;return Math.round(S/this._computedSliderRatio)}}e.ScrollbarState=N}),define(te[103],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=void 0;var y;(function(D){D[D.Unknown=0]="Unknown",D[D.Twistie=1]="Twistie",D[D.Element=2]="Element"})(y=e.TreeMouseEventTarget||(e.TreeMouseEventTarget={}));class N extends Error{constructor(S,p){super(`TreeError [${S}] ${p}`)}}e.TreeError=N;class T{constructor(S){this.fn=S,this._map=new WeakMap}map(S){let p=this._map.get(S);return p||(p=this.fn(S),this._map.set(S,p)),p}}e.WeakMapper=T}),define(te[19],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayQueue=e.splice=e.insertInto=e.asArray=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.flatten=e.firstOrDefault=e.lastIndex=e.findLast=e.distinctES6=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesce=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function y(m,E=0){return m[m.length-(1+E)]}e.tail=y;function N(m){if(m.length===0)throw new Error("Invalid tail call");return[m.slice(0,m.length-1),m[m.length-1]]}e.tail2=N;function T(m,E,I=(k,A)=>k===A){if(m===E)return!0;if(!m||!E||m.length!==E.length)return!1;for(let k=0,A=m.length;k<A;k++)if(!I(m[k],E[k]))return!1;return!0}e.equals=T;function D(m,E,I){let k=0,A=m.length-1;for(;k<=A;){const P=(k+A)/2|0,F=I(m[P],E);if(F<0)k=P+1;else if(F>0)A=P-1;else return P}return-(k+1)}e.binarySearch=D;function S(m,E){let I=0,k=m.length;if(k===0)return 0;for(;I<k;){const A=Math.floor((I+k)/2);E(m[A])?k=A:I=A+1}return I}e.findFirstInSorted=S;function p(m,E,I){if(m=m|0,m>=E.length)throw new TypeError("invalid index");let k=E[Math.floor(E.length*Math.random())],A=[],P=[],F=[];for(let M of E){const R=I(M,k);R<0?A.push(M):R>0?P.push(M):F.push(M)}return m<A.length?p(m,A,I):m<A.length+F.length?F[0]:p(m-(A.length+F.length),P,I)}e.quickSelect=p;function b(m,E){const I=[];let k;for(const A of m.slice(0).sort(E))!k||E(k[0],A)!==0?(k=[A],I.push(k)):k.push(A);return I}e.groupBy=b;function i(m){return m.filter(E=>!!E)}e.coalesce=i;function f(m){return!Array.isArray(m)||m.length===0}e.isFalsyOrEmpty=f;function r(m){return Array.isArray(m)&&m.length>0}e.isNonEmptyArray=r;function o(m,E){if(!E)return m.filter((k,A)=>m.indexOf(k)===A);const I=Object.create(null);return m.filter(k=>{const A=E(k);return I[A]?!1:(I[A]=!0,!0)})}e.distinct=o;function d(m){const E=new Set;return m.filter(I=>E.has(I)?!1:(E.add(I),!0))}e.distinctES6=d;function c(m,E){const I=u(m,E);if(I!==-1)return m[I]}e.findLast=c;function u(m,E){for(let I=m.length-1;I>=0;I--){const k=m[I];if(E(k))return I}return-1}e.lastIndex=u;function s(m,E){return m.length>0?m[0]:E}e.firstOrDefault=s;function n(m){return[].concat(...m)}e.flatten=n;function a(m,E){let I=typeof E=="number"?m:0;typeof E=="number"?I=m:(I=0,E=m);const k=[];if(I<=E)for(let A=I;A<E;A++)k.push(A);else for(let A=I;A>E;A--)k.push(A);return k}e.range=a;function t(m,E,I){const k=m.slice(0,E),A=m.slice(E);return k.concat(I,A)}e.arrayInsert=t;function l(m,E){const I=m.indexOf(E);I>-1&&(m.splice(I,1),m.unshift(E))}e.pushToStart=l;function h(m,E){const I=m.indexOf(E);I>-1&&(m.splice(I,1),m.push(E))}e.pushToEnd=h;function g(m){return Array.isArray(m)?m:[m]}e.asArray=g;function w(m,E,I){const k=C(m,E),A=m.length,P=I.length;m.length=A+P;for(let F=A-1;F>=k;F--)m[F+P]=m[F];for(let F=0;F<P;F++)m[F+k]=I[F]}e.insertInto=w;function _(m,E,I,k){const A=C(m,E),P=m.splice(A,I);return w(m,A,k),P}e.splice=_;function C(m,E){return E<0?Math.max(E+m.length,0):Math.min(E,m.length)}class v{constructor(E){this.items=E,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(E){let I=this.firstIdx;for(;I<this.items.length&&E(this.items[I]);)I++;const k=I===this.firstIdx?null:this.items.slice(this.firstIdx,I);return this.firstIdx=I,k}takeFromEndWhile(E){let I=this.lastIdx;for(;I>=0&&E(this.items[I]);)I--;const k=I===this.lastIdx?null:this.items.slice(I+1,this.lastIdx+1);return this.lastIdx=I,k}peek(){return this.items[this.firstIdx]}}e.ArrayQueue=v}),define(te[204],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=void 0;function y(N,T){if(!N)throw new Error(T?`Assertion failed (${T})`:"Assertion Failed")}e.ok=y}),define(te[104],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const y=typeof Buffer!="undefined";let N;class T{constructor(o){this.buffer=o,this.byteLength=this.buffer.byteLength}static wrap(o){return y&&!Buffer.isBuffer(o)&&(o=Buffer.from(o.buffer,o.byteOffset,o.byteLength)),new T(o)}toString(){return y?this.buffer.toString():(N||(N=new TextDecoder),N.decode(this.buffer))}}e.VSBuffer=T;function D(r,o){return r[o+0]<<0>>>0|r[o+1]<<8>>>0}e.readUInt16LE=D;function S(r,o,d){r[d+0]=o&255,o=o>>>8,r[d+1]=o&255}e.writeUInt16LE=S;function p(r,o){return r[o]*Math.pow(2,24)+r[o+1]*Math.pow(2,16)+r[o+2]*Math.pow(2,8)+r[o+3]}e.readUInt32BE=p;function b(r,o,d){r[d+3]=o,o=o>>>8,r[d+2]=o,o=o>>>8,r[d+1]=o,o=o>>>8,r[d]=o}e.writeUInt32BE=b;function i(r,o){return r[o]}e.readUInt8=i;function f(r,o,d){r[d]=o}e.writeUInt8=f}),define(te[205],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.forEach=void 0;const y=Object.prototype.hasOwnProperty;function N(D,S){for(let p in D)if(y.call(D,p)&&S({key:p,value:D[p]},function(){delete D[p]})===!1)return}e.forEach=N;class T{constructor(){this.map=new Map}add(S,p){let b=this.map.get(S);b||(b=new Set,this.map.set(S,b)),b.add(p)}delete(S,p){const b=this.map.get(S);!b||(b.delete(p),b.size===0&&this.map.delete(S))}forEach(S,p){const b=this.map.get(S);!b||b.forEach(p)}}e.SetMap=T}),define(te[29],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function y(p,b){const i=Math.pow(10,b);return Math.round(p*i)/i}class N{constructor(b,i,f,r=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,b))|0,this.g=Math.min(255,Math.max(0,i))|0,this.b=Math.min(255,Math.max(0,f))|0,this.a=y(Math.max(Math.min(1,r),0),3)}static equals(b,i){return b.r===i.r&&b.g===i.g&&b.b===i.b&&b.a===i.a}}e.RGBA=N;class T{constructor(b,i,f,r){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,b),0)|0,this.s=y(Math.max(Math.min(1,i),0),3),this.l=y(Math.max(Math.min(1,f),0),3),this.a=y(Math.max(Math.min(1,r),0),3)}static equals(b,i){return b.h===i.h&&b.s===i.s&&b.l===i.l&&b.a===i.a}static fromRGBA(b){const i=b.r/255,f=b.g/255,r=b.b/255,o=b.a,d=Math.max(i,f,r),c=Math.min(i,f,r);let u=0,s=0;const n=(c+d)/2,a=d-c;if(a>0){switch(s=Math.min(n<=.5?a/(2*n):a/(2-2*n),1),d){case i:u=(f-r)/a+(f<r?6:0);break;case f:u=(r-i)/a+2;break;case r:u=(i-f)/a+4;break}u*=60,u=Math.round(u)}return new T(u,s,n,o)}static _hue2rgb(b,i,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?b+(i-b)*6*f:f<1/2?i:f<2/3?b+(i-b)*(2/3-f)*6:b}static toRGBA(b){const i=b.h/360,{s:f,l:r,a:o}=b;let d,c,u;if(f===0)d=c=u=r;else{const s=r<.5?r*(1+f):r+f-r*f,n=2*r-s;d=T._hue2rgb(n,s,i+1/3),c=T._hue2rgb(n,s,i),u=T._hue2rgb(n,s,i-1/3)}return new N(Math.round(d*255),Math.round(c*255),Math.round(u*255),o)}}e.HSLA=T;class D{constructor(b,i,f,r){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,b),0)|0,this.s=y(Math.max(Math.min(1,i),0),3),this.v=y(Math.max(Math.min(1,f),0),3),this.a=y(Math.max(Math.min(1,r),0),3)}static equals(b,i){return b.h===i.h&&b.s===i.s&&b.v===i.v&&b.a===i.a}static fromRGBA(b){const i=b.r/255,f=b.g/255,r=b.b/255,o=Math.max(i,f,r),d=Math.min(i,f,r),c=o-d,u=o===0?0:c/o;let s;return c===0?s=0:o===i?s=((f-r)/c%6+6)%6:o===f?s=(r-i)/c+2:s=(i-f)/c+4,new D(Math.round(s*60),u,o,b.a)}static toRGBA(b){const{h:i,s:f,v:r,a:o}=b,d=r*f,c=d*(1-Math.abs(i/60%2-1)),u=r-d;let[s,n,a]=[0,0,0];return i<60?(s=d,n=c):i<120?(s=c,n=d):i<180?(n=d,a=c):i<240?(n=c,a=d):i<300?(s=c,a=d):i<=360&&(s=d,a=c),s=Math.round((s+u)*255),n=Math.round((n+u)*255),a=Math.round((a+u)*255),new N(s,n,a,o)}}e.HSVA=D;class S{constructor(b){if(b)if(b instanceof N)this.rgba=b;else if(b instanceof T)this._hsla=b,this.rgba=T.toRGBA(b);else if(b instanceof D)this._hsva=b,this.rgba=D.toRGBA(b);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(b){return S.Format.CSS.parseHex(b)||S.red}get hsla(){return this._hsla?this._hsla:T.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:D.fromRGBA(this.rgba)}equals(b){return!!b&&N.equals(this.rgba,b.rgba)&&T.equals(this.hsla,b.hsla)&&D.equals(this.hsva,b.hsva)}getRelativeLuminance(){const b=S._relativeLuminanceForComponent(this.rgba.r),i=S._relativeLuminanceForComponent(this.rgba.g),f=S._relativeLuminanceForComponent(this.rgba.b),r=.2126*b+.7152*i+.0722*f;return y(r,4)}static _relativeLuminanceForComponent(b){const i=b/255;return i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(b){const i=this.getRelativeLuminance(),f=b.getRelativeLuminance();return i>f}isDarkerThan(b){const i=this.getRelativeLuminance(),f=b.getRelativeLuminance();return i<f}lighten(b){return new S(new T(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*b,this.hsla.a))}darken(b){return new S(new T(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*b,this.hsla.a))}transparent(b){const{r:i,g:f,b:r,a:o}=this.rgba;return new S(new N(i,f,r,o*b))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new S(new N(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=S.Format.CSS.format(this)),this._toString}static getLighterColor(b,i,f){if(b.isLighterThan(i))return b;f=f||.5;const r=b.getRelativeLuminance(),o=i.getRelativeLuminance();return f=f*(o-r)/o,b.lighten(f)}static getDarkerColor(b,i,f){if(b.isDarkerThan(i))return b;f=f||.5;const r=b.getRelativeLuminance(),o=i.getRelativeLuminance();return f=f*(r-o)/r,b.darken(f)}}e.Color=S,S.white=new S(new N(255,255,255,1)),S.black=new S(new N(0,0,0,1)),S.red=new S(new N(255,0,0,1)),S.blue=new S(new N(0,0,255,1)),S.cyan=new S(new N(0,255,255,1)),S.lightgrey=new S(new N(211,211,211,1)),S.transparent=new S(new N(0,0,0,0)),function(p){let b;(function(i){let f;(function(r){function o(g){return g.rgba.a===1?`rgb(${g.rgba.r}, ${g.rgba.g}, ${g.rgba.b})`:p.Format.CSS.formatRGBA(g)}r.formatRGB=o;function d(g){return`rgba(${g.rgba.r}, ${g.rgba.g}, ${g.rgba.b}, ${+g.rgba.a.toFixed(2)})`}r.formatRGBA=d;function c(g){return g.hsla.a===1?`hsl(${g.hsla.h}, ${(g.hsla.s*100).toFixed(2)}%, ${(g.hsla.l*100).toFixed(2)}%)`:p.Format.CSS.formatHSLA(g)}r.formatHSL=c;function u(g){return`hsla(${g.hsla.h}, ${(g.hsla.s*100).toFixed(2)}%, ${(g.hsla.l*100).toFixed(2)}%, ${g.hsla.a.toFixed(2)})`}r.formatHSLA=u;function s(g){const w=g.toString(16);return w.length!==2?"0"+w:w}function n(g){return`#${s(g.rgba.r)}${s(g.rgba.g)}${s(g.rgba.b)}`}r.formatHex=n;function a(g,w=!1){return w&&g.rgba.a===1?p.Format.CSS.formatHex(g):`#${s(g.rgba.r)}${s(g.rgba.g)}${s(g.rgba.b)}${s(Math.round(g.rgba.a*255))}`}r.formatHexA=a;function t(g){return g.isOpaque()?p.Format.CSS.formatHex(g):p.Format.CSS.formatRGBA(g)}r.format=t;function l(g){const w=g.length;if(w===0||g.charCodeAt(0)!==35)return null;if(w===7){const _=16*h(g.charCodeAt(1))+h(g.charCodeAt(2)),C=16*h(g.charCodeAt(3))+h(g.charCodeAt(4)),v=16*h(g.charCodeAt(5))+h(g.charCodeAt(6));return new p(new N(_,C,v,1))}if(w===9){const _=16*h(g.charCodeAt(1))+h(g.charCodeAt(2)),C=16*h(g.charCodeAt(3))+h(g.charCodeAt(4)),v=16*h(g.charCodeAt(5))+h(g.charCodeAt(6)),m=16*h(g.charCodeAt(7))+h(g.charCodeAt(8));return new p(new N(_,C,v,m/255))}if(w===4){const _=h(g.charCodeAt(1)),C=h(g.charCodeAt(2)),v=h(g.charCodeAt(3));return new p(new N(16*_+_,16*C+C,16*v+v))}if(w===5){const _=h(g.charCodeAt(1)),C=h(g.charCodeAt(2)),v=h(g.charCodeAt(3)),m=h(g.charCodeAt(4));return new p(new N(16*_+_,16*C+C,16*v+v,(16*m+m)/255))}return null}r.parseHex=l;function h(g){switch(g){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(f=i.CSS||(i.CSS={}))})(b=p.Format||(p.Format={}))}(S=e.Color||(e.Color={}))}),define(te[91],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function y(N,T,D){let S=null,p=null;if(typeof D.value=="function"?(S="value",p=D.value,p.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof D.get=="function"&&(S="get",p=D.get),!p)throw new Error("not supported");const b=`$memoize$${T}`;D[S]=function(...i){return this.hasOwnProperty(b)||Object.defineProperty(this,b,{configurable:!1,enumerable:!1,writable:!1,value:p.apply(this,i)}),this[b]}}e.memoize=y}),define(te[295],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class y{constructor(T,D,S,p){this.originalStart=T,this.originalLength=D,this.modifiedStart=S,this.modifiedLength=p}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=y}),define(te[10],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotSupportedError=e.illegalState=e.illegalArgument=e.canceled=e.isPromiseCanceledError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class y{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(d){setTimeout(()=>{throw d.stack?new Error(d.message+`

`+d.stack):d},0)}}emit(d){this.listeners.forEach(c=>{c(d)})}onUnexpectedError(d){this.unexpectedErrorHandler(d),this.emit(d)}onUnexpectedExternalError(d){this.unexpectedErrorHandler(d)}}e.ErrorHandler=y,e.errorHandler=new y;function N(o){p(o)||e.errorHandler.onUnexpectedError(o)}e.onUnexpectedError=N;function T(o){p(o)||e.errorHandler.onUnexpectedExternalError(o)}e.onUnexpectedExternalError=T;function D(o){if(o instanceof Error){let{name:d,message:c}=o;const u=o.stacktrace||o.stack;return{$isError:!0,name:d,message:c,stack:u}}return o}e.transformErrorForSerialization=D;const S="Canceled";function p(o){return o instanceof Error&&o.name===S&&o.message===S}e.isPromiseCanceledError=p;function b(){const o=new Error(S);return o.name=o.message,o}e.canceled=b;function i(o){return o?new Error(`Illegal argument: ${o}`):new Error("Illegal argument")}e.illegalArgument=i;function f(o){return o?new Error(`Illegal state: ${o}`):new Error("Illegal state")}e.illegalState=f;class r extends Error{constructor(d){super("NotSupported");d&&(this.message=d)}}e.NotSupportedError=r}),define(te[82],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function y(N){const T=this;let D=!1,S;return function(){return D||(D=!0,S=N.apply(T,arguments)),S}}e.once=y}),define(te[128],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class y{constructor(T){this._prefix=T,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=y,e.defaultGenerator=new y("id#")}),define(te[54],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var y;(function(N){function T(h){return h&&typeof h=="object"&&typeof h[Symbol.iterator]=="function"}N.is=T;const D=Object.freeze([]);function S(){return D}N.empty=S;function*p(h){yield h}N.single=p;function b(h){return h||D}N.from=b;function i(h){return!h||h[Symbol.iterator]().next().done===!0}N.isEmpty=i;function f(h){return h[Symbol.iterator]().next().value}N.first=f;function r(h,g){for(const w of h)if(g(w))return!0;return!1}N.some=r;function o(h,g){for(const w of h)if(g(w))return w}N.find=o;function*d(h,g){for(const w of h)g(w)&&(yield w)}N.filter=d;function*c(h,g){let w=0;for(const _ of h)yield g(_,w++)}N.map=c;function*u(...h){for(const g of h)for(const w of g)yield w}N.concat=u;function*s(h){for(const g of h)for(const w of g)yield w}N.concatNested=s;function n(h,g,w){let _=w;for(const C of h)_=g(_,C);return _}N.reduce=n;function*a(h,g,w=h.length){for(g<0&&(g+=h.length),w<0?w+=h.length:w>h.length&&(w=h.length);g<w;g++)yield h[g]}N.slice=a;function t(h,g=Number.POSITIVE_INFINITY){const w=[];if(g===0)return[w,h];const _=h[Symbol.iterator]();for(let C=0;C<g;C++){const v=_.next();if(v.done)return[w,N.empty()];w.push(v.value)}return[w,{[Symbol.iterator](){return _}}]}N.consume=t;function l(h,g,w=(_,C)=>_===C){const _=h[Symbol.iterator](),C=g[Symbol.iterator]();for(;;){const v=_.next(),m=C.next();if(v.done!==m.done)return!1;if(v.done)return!0;if(!w(v.value,m.value))return!1}}N.equals=l})(y=e.Iterable||(e.Iterable={}))}),define(te[43],ie([0,1,10]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedKeybindingPart=e.ChordKeybinding=e.SimpleKeybinding=e.createSimpleKeybinding=e.createKeybinding=e.KeyChord=e.KeyCodeUtils=void 0;class N{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(s,n){this._keyCodeToStr[s]=n,this._strToKeyCode[n.toLowerCase()]=s}keyCodeToStr(s){return this._keyCodeToStr[s]}strToKeyCode(s){return this._strToKeyCode[s.toLowerCase()]||0}}const T=new N,D=new N,S=new N;(function(){function u(s,n,a=n,t=a){T.define(s,n),D.define(s,a),S.define(s,t)}u(0,"unknown"),u(1,"Backspace"),u(2,"Tab"),u(3,"Enter"),u(4,"Shift"),u(5,"Ctrl"),u(6,"Alt"),u(7,"PauseBreak"),u(8,"CapsLock"),u(9,"Escape"),u(10,"Space"),u(11,"PageUp"),u(12,"PageDown"),u(13,"End"),u(14,"Home"),u(15,"LeftArrow","Left"),u(16,"UpArrow","Up"),u(17,"RightArrow","Right"),u(18,"DownArrow","Down"),u(19,"Insert"),u(20,"Delete"),u(21,"0"),u(22,"1"),u(23,"2"),u(24,"3"),u(25,"4"),u(26,"5"),u(27,"6"),u(28,"7"),u(29,"8"),u(30,"9"),u(31,"A"),u(32,"B"),u(33,"C"),u(34,"D"),u(35,"E"),u(36,"F"),u(37,"G"),u(38,"H"),u(39,"I"),u(40,"J"),u(41,"K"),u(42,"L"),u(43,"M"),u(44,"N"),u(45,"O"),u(46,"P"),u(47,"Q"),u(48,"R"),u(49,"S"),u(50,"T"),u(51,"U"),u(52,"V"),u(53,"W"),u(54,"X"),u(55,"Y"),u(56,"Z"),u(57,"Meta"),u(58,"ContextMenu"),u(59,"F1"),u(60,"F2"),u(61,"F3"),u(62,"F4"),u(63,"F5"),u(64,"F6"),u(65,"F7"),u(66,"F8"),u(67,"F9"),u(68,"F10"),u(69,"F11"),u(70,"F12"),u(71,"F13"),u(72,"F14"),u(73,"F15"),u(74,"F16"),u(75,"F17"),u(76,"F18"),u(77,"F19"),u(78,"NumLock"),u(79,"ScrollLock"),u(80,";",";","OEM_1"),u(81,"=","=","OEM_PLUS"),u(82,",",",","OEM_COMMA"),u(83,"-","-","OEM_MINUS"),u(84,".",".","OEM_PERIOD"),u(85,"/","/","OEM_2"),u(86,"`","`","OEM_3"),u(110,"ABNT_C1"),u(111,"ABNT_C2"),u(87,"[","[","OEM_4"),u(88,"\\","\\","OEM_5"),u(89,"]","]","OEM_6"),u(90,"'","'","OEM_7"),u(91,"OEM_8"),u(92,"OEM_102"),u(93,"NumPad0"),u(94,"NumPad1"),u(95,"NumPad2"),u(96,"NumPad3"),u(97,"NumPad4"),u(98,"NumPad5"),u(99,"NumPad6"),u(100,"NumPad7"),u(101,"NumPad8"),u(102,"NumPad9"),u(103,"NumPad_Multiply"),u(104,"NumPad_Add"),u(105,"NumPad_Separator"),u(106,"NumPad_Subtract"),u(107,"NumPad_Decimal"),u(108,"NumPad_Divide")})();var p;(function(u){function s(h){return T.keyCodeToStr(h)}u.toString=s;function n(h){return T.strToKeyCode(h)}u.fromString=n;function a(h){return D.keyCodeToStr(h)}u.toUserSettingsUS=a;function t(h){return S.keyCodeToStr(h)}u.toUserSettingsGeneral=t;function l(h){return D.strToKeyCode(h)||S.strToKeyCode(h)}u.fromUserSettings=l})(p=e.KeyCodeUtils||(e.KeyCodeUtils={}));function b(u,s){const n=(s&65535)<<16>>>0;return(u|n)>>>0}e.KeyChord=b;function i(u,s){if(u===0)return null;const n=(u&65535)>>>0,a=(u&4294901760)>>>16;return a!==0?new o([f(n,s),f(a,s)]):new o([f(n,s)])}e.createKeybinding=i;function f(u,s){const n=!!(u&2048),a=!!(u&256),t=s===2?a:n,l=!!(u&1024),h=!!(u&512),g=s===2?n:a,w=u&255;return new r(t,l,h,g,w)}e.createSimpleKeybinding=f;class r{constructor(s,n,a,t,l){this.ctrlKey=s,this.shiftKey=n,this.altKey=a,this.metaKey=t,this.keyCode=l}equals(s){return this.ctrlKey===s.ctrlKey&&this.shiftKey===s.shiftKey&&this.altKey===s.altKey&&this.metaKey===s.metaKey&&this.keyCode===s.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new o([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.SimpleKeybinding=r;class o{constructor(s){if(s.length===0)throw(0,y.illegalArgument)("parts");this.parts=s}}e.ChordKeybinding=o;class d{constructor(s,n,a,t,l,h){this.ctrlKey=s,this.shiftKey=n,this.altKey=a,this.metaKey=t,this.keyLabel=l,this.keyAriaLabel=h}}e.ResolvedKeybindingPart=d;class c{}e.ResolvedKeybinding=c}),define(te[158],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class y{constructor(T){this.executor=T,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(T){this._error=T}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=y}),define(te[2],ie([0,1,82,54]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmortalReference=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.markAsSingleton=e.setDisposableTracker=void 0;const T=!1;let D=null;function S(h){D=h}if(e.setDisposableTracker=S,T){const h="__is_disposable_tracked__";S(new class{trackDisposable(g){const w=new Error("Potentially leaked disposable").stack;setTimeout(()=>{g[h]||console.log(w)},3e3)}setParent(g,w){if(g&&g!==a.None)try{g[h]=!0}catch(_){}}markAsDisposed(g){if(g&&g!==a.None)try{g[h]=!0}catch(w){}}markAsSingleton(g){}})}function p(h){return D==null||D.trackDisposable(h),h}function b(h){D==null||D.markAsDisposed(h)}function i(h,g){D==null||D.setParent(h,g)}function f(h,g){if(!!D)for(const w of h)D.setParent(w,g)}function r(h){return D==null||D.markAsSingleton(h),h}e.markAsSingleton=r;class o extends Error{constructor(g){super(`Encountered errors while disposing of store. Errors: [${g.join(", ")}]`);this.errors=g}}e.MultiDisposeError=o;function d(h){return typeof h.dispose=="function"&&h.dispose.length===0}e.isDisposable=d;function c(h){if(N.Iterable.is(h)){let g=[];for(const w of h)if(w)try{w.dispose()}catch(_){g.push(_)}if(g.length===1)throw g[0];if(g.length>1)throw new o(g);return Array.isArray(h)?[]:h}else if(h)return h.dispose(),h}e.dispose=c;function u(...h){const g=s(()=>c(h));return f(h,g),g}e.combinedDisposable=u;function s(h){const g=p({dispose:(0,y.once)(()=>{b(g),h()})});return g}e.toDisposable=s;class n{constructor(){this._toDispose=new Set,this._isDisposed=!1,p(this)}dispose(){this._isDisposed||(b(this),this._isDisposed=!0,this.clear())}clear(){try{c(this._toDispose.values())}finally{this._toDispose.clear()}}add(g){if(!g)return g;if(g===this)throw new Error("Cannot register a disposable on itself!");return i(g,this),this._isDisposed?n.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(g),g}}e.DisposableStore=n,n.DISABLE_DISPOSED_WARNING=!1;class a{constructor(){this._store=new n,p(this),i(this._store,this)}dispose(){b(this),this._store.dispose()}_register(g){if(g===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(g)}}e.Disposable=a,a.None=Object.freeze({dispose(){}});class t{constructor(){this._isDisposed=!1,p(this)}get value(){return this._isDisposed?void 0:this._value}set value(g){var w;this._isDisposed||g===this._value||((w=this._value)===null||w===void 0||w.dispose(),g&&i(g,this),this._value=g)}clear(){this.value=void 0}dispose(){var g;this._isDisposed=!0,b(this),(g=this._value)===null||g===void 0||g.dispose(),this._value=void 0}clearAndLeak(){const g=this._value;return this._value=void 0,g&&i(g,null),g}}e.MutableDisposable=t;class l{constructor(g){this.object=g}dispose(){}}e.ImmortalReference=l}),define(te[73],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class y{constructor(D){this.element=D,this.next=y.Undefined,this.prev=y.Undefined}}y.Undefined=new y(void 0);class N{constructor(){this._first=y.Undefined,this._last=y.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===y.Undefined}clear(){let D=this._first;for(;D!==y.Undefined;){const S=D.next;D.prev=y.Undefined,D.next=y.Undefined,D=S}this._first=y.Undefined,this._last=y.Undefined,this._size=0}unshift(D){return this._insert(D,!1)}push(D){return this._insert(D,!0)}_insert(D,S){const p=new y(D);if(this._first===y.Undefined)this._first=p,this._last=p;else if(S){const i=this._last;this._last=p,p.prev=i,i.next=p}else{const i=this._first;this._first=p,p.next=i,i.prev=p}this._size+=1;let b=!1;return()=>{b||(b=!0,this._remove(p))}}shift(){if(this._first!==y.Undefined){const D=this._first.element;return this._remove(this._first),D}}pop(){if(this._last!==y.Undefined){const D=this._last.element;return this._remove(this._last),D}}_remove(D){if(D.prev!==y.Undefined&&D.next!==y.Undefined){const S=D.prev;S.next=D.next,D.next.prev=S}else D.prev===y.Undefined&&D.next===y.Undefined?(this._first=y.Undefined,this._last=y.Undefined):D.next===y.Undefined?(this._last=this._last.prev,this._last.next=y.Undefined):D.prev===y.Undefined&&(this._first=this._first.next,this._first.prev=y.Undefined);this._size-=1}*[Symbol.iterator](){let D=this._first;for(;D!==y.Undefined;)yield D.element,D=D.next}}e.LinkedList=N}),function(q,e){typeof exports=="object"&&typeof module!="undefined"?module.exports=e():typeof define=="function"&&define.amd?define("vs/base/common/marked/marked",e):(q=typeof globalThis!="undefined"?globalThis:q||self,q.marked=e())}(this,function(){"use strict";function q(ke,De){for(var Ne=0;Ne<De.length;Ne++){var fe=De[Ne];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(ke,fe.key,fe)}}function e(ke,De,Ne){return De&&q(ke.prototype,De),Ne&&q(ke,Ne),ke}function y(ke,De){if(!!ke){if(typeof ke=="string")return N(ke,De);var Ne=Object.prototype.toString.call(ke).slice(8,-1);if(Ne==="Object"&&ke.constructor&&(Ne=ke.constructor.name),Ne==="Map"||Ne==="Set")return Array.from(ke);if(Ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ne))return N(ke,De)}}function N(ke,De){(De==null||De>ke.length)&&(De=ke.length);for(var Ne=0,fe=new Array(De);Ne<De;Ne++)fe[Ne]=ke[Ne];return fe}function T(ke,De){var Ne=typeof Symbol!="undefined"&&ke[Symbol.iterator]||ke["@@iterator"];if(Ne)return(Ne=Ne.call(ke)).next.bind(Ne);if(Array.isArray(ke)||(Ne=y(ke))||De&&ke&&typeof ke.length=="number"){Ne&&(ke=Ne);var fe=0;return function(){return fe>=ke.length?{done:!0}:{done:!1,value:ke[fe++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D={exports:{}};function S(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function p(ke){D.exports.defaults=ke}D.exports={defaults:S(),getDefaults:S,changeDefaults:p};var b=/[&<>"']/,i=/[&<>"']/g,f=/[<>"']|&(?!#?\w+;)/,r=/[<>"']|&(?!#?\w+;)/g,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d=function(De){return o[De]};function c(ke,De){if(De){if(b.test(ke))return ke.replace(i,d)}else if(f.test(ke))return ke.replace(r,d);return ke}var u=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function s(ke){return ke.replace(u,function(De,Ne){return Ne=Ne.toLowerCase(),Ne==="colon"?":":Ne.charAt(0)==="#"?Ne.charAt(1)==="x"?String.fromCharCode(parseInt(Ne.substring(2),16)):String.fromCharCode(+Ne.substring(1)):""})}var n=/(^|[^\[])\^/g;function a(ke,De){ke=ke.source||ke,De=De||"";var Ne={replace:function(me,ye){return ye=ye.source||ye,ye=ye.replace(n,"$1"),ke=ke.replace(me,ye),Ne},getRegex:function(){return new RegExp(ke,De)}};return Ne}var t=/[^\w:]/g,l=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function h(ke,De,Ne){if(ke){var fe;try{fe=decodeURIComponent(s(Ne)).replace(t,"").toLowerCase()}catch(me){return null}if(fe.indexOf("javascript:")===0||fe.indexOf("vbscript:")===0||fe.indexOf("data:")===0)return null}De&&!l.test(Ne)&&(Ne=v(De,Ne));try{Ne=encodeURI(Ne).replace(/%25/g,"%")}catch(me){return null}return Ne}var g={},w=/^[^:]+:\/*[^/]*$/,_=/^([^:]+:)[\s\S]*$/,C=/^([^:]+:\/*[^/]*)[\s\S]*$/;function v(ke,De){g[" "+ke]||(w.test(ke)?g[" "+ke]=ke+"/":g[" "+ke]=k(ke,"/",!0)),ke=g[" "+ke];var Ne=ke.indexOf(":")===-1;return De.substring(0,2)==="//"?Ne?De:ke.replace(_,"$1")+De:De.charAt(0)==="/"?Ne?De:ke.replace(C,"$1")+De:ke+De}var m={exec:function(){}};function E(ke){for(var De=1,Ne,fe;De<arguments.length;De++){Ne=arguments[De];for(fe in Ne)Object.prototype.hasOwnProperty.call(Ne,fe)&&(ke[fe]=Ne[fe])}return ke}function I(ke,De){var Ne=ke.replace(/\|/g,function(ye,Se,_e){for(var Ae=!1,Ie=Se;--Ie>=0&&_e[Ie]==="\\";)Ae=!Ae;return Ae?"|":" |"}),fe=Ne.split(/ \|/),me=0;if(fe[0].trim()||fe.shift(),fe[fe.length-1].trim()||fe.pop(),fe.length>De)fe.splice(De);else for(;fe.length<De;)fe.push("");for(;me<fe.length;me++)fe[me]=fe[me].trim().replace(/\\\|/g,"|");return fe}function k(ke,De,Ne){var fe=ke.length;if(fe===0)return"";for(var me=0;me<fe;){var ye=ke.charAt(fe-me-1);if(ye===De&&!Ne)me++;else if(ye!==De&&Ne)me++;else break}return ke.substr(0,fe-me)}function A(ke,De){if(ke.indexOf(De[1])===-1)return-1;for(var Ne=ke.length,fe=0,me=0;me<Ne;me++)if(ke[me]==="\\")me++;else if(ke[me]===De[0])fe++;else if(ke[me]===De[1]&&(fe--,fe<0))return me;return-1}function P(ke){ke&&ke.sanitize&&!ke.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function F(ke,De){if(De<1)return"";for(var Ne="";De>1;)De&1&&(Ne+=ke),De>>=1,ke+=ke;return Ne+ke}var M={escape:c,unescape:s,edit:a,cleanUrl:h,resolveUrl:v,noopTest:m,merge:E,splitCells:I,rtrim:k,findClosingBracket:A,checkSanitizeDeprecation:P,repeatString:F},R=D.exports.defaults,O=M.rtrim,L=M.splitCells,B=M.escape,z=M.findClosingBracket;function $(ke,De,Ne,fe){var me=De.href,ye=De.title?B(De.title):null,Se=ke[1].replace(/\\([\[\]])/g,"$1");if(ke[0].charAt(0)!=="!"){fe.state.inLink=!0;var _e={type:"link",raw:Ne,href:me,title:ye,text:Se,tokens:fe.inlineTokens(Se,[])};return fe.state.inLink=!1,_e}else return{type:"image",raw:Ne,href:me,title:ye,text:B(Se)}}function j(ke,De){var Ne=ke.match(/^(\s+)(?:```)/);if(Ne===null)return De;var fe=Ne[1];return De.split(`
`).map(function(me){var ye=me.match(/^\s+/);if(ye===null)return me;var Se=ye[0];return Se.length>=fe.length?me.slice(fe.length):me}).join(`
`)}var X=function(){function ke(Ne){this.options=Ne||R}var De=ke.prototype;return De.space=function(fe){var me=this.rules.block.newline.exec(fe);if(me)return me[0].length>1?{type:"space",raw:me[0]}:{raw:`
`}},De.code=function(fe){var me=this.rules.block.code.exec(fe);if(me){var ye=me[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:me[0],codeBlockStyle:"indented",text:this.options.pedantic?ye:O(ye,`
`)}}},De.fences=function(fe){var me=this.rules.block.fences.exec(fe);if(me){var ye=me[0],Se=j(ye,me[3]||"");return{type:"code",raw:ye,lang:me[2]?me[2].trim():me[2],text:Se}}},De.heading=function(fe){var me=this.rules.block.heading.exec(fe);if(me){var ye=me[2].trim();if(/#$/.test(ye)){var Se=O(ye,"#");(this.options.pedantic||!Se||/ $/.test(Se))&&(ye=Se.trim())}var _e={type:"heading",raw:me[0],depth:me[1].length,text:ye,tokens:[]};return this.lexer.inline(_e.text,_e.tokens),_e}},De.hr=function(fe){var me=this.rules.block.hr.exec(fe);if(me)return{type:"hr",raw:me[0]}},De.blockquote=function(fe){var me=this.rules.block.blockquote.exec(fe);if(me){var ye=me[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:me[0],tokens:this.lexer.blockTokens(ye,[]),text:ye}}},De.list=function(fe){var me=this.rules.block.list.exec(fe);if(me){var ye,Se,_e,Ae,Ie,xe,qe,Ue,$e,Ge,Ke=me[1].trim(),Qe=Ke.length>1,Ye={type:"list",raw:"",ordered:Qe,start:Qe?+Ke.slice(0,-1):"",loose:!1,items:[]};Ke=Qe?"\\d{1,9}\\"+Ke.slice(-1):"\\"+Ke,this.options.pedantic&&(Ke=Qe?Ke:"[*+-]");for(var Je=new RegExp("^( {0,3}"+Ke+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");fe&&!(this.rules.block.hr.test(fe)||!(me=Je.exec(fe)));){$e=me[2].split(`
`),this.options.pedantic?(Ae=2,Ge=$e[0].trimLeft()):(Ae=me[2].search(/[^ ]/),Ae=me[1].length+(Ae>4?1:Ae),Ge=$e[0].slice(Ae-me[1].length)),xe=!1,ye=me[0],!$e[0]&&/^ *$/.test($e[1])&&(ye=me[1]+$e.slice(0,2).join(`
`)+`
`,Ye.loose=!0,$e=[]);var tt=new RegExp("^ {0,"+Math.min(3,Ae-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(Ie=1;Ie<$e.length;Ie++){if(Ue=$e[Ie],this.options.pedantic&&(Ue=Ue.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),tt.test(Ue)){ye=me[1]+$e.slice(0,Ie).join(`
`)+`
`;break}if(!xe){Ue.trim()||(xe=!0),Ue.search(/[^ ]/)>=Ae?Ge+=`
`+Ue.slice(Ae):Ge+=`
`+Ue;continue}if(Ue.search(/[^ ]/)>=Ae||!Ue.trim()){Ge+=`
`+Ue.slice(Ae);continue}else{ye=me[1]+$e.slice(0,Ie).join(`
`)+`
`;break}}Ye.loose||(qe?Ye.loose=!0:/\n *\n *$/.test(ye)&&(qe=!0)),this.options.gfm&&(Se=/^\[[ xX]\] /.exec(Ge),Se&&(_e=Se[0]!=="[ ] ",Ge=Ge.replace(/^\[[ xX]\] +/,""))),Ye.items.push({type:"list_item",raw:ye,task:!!Se,checked:_e,loose:!1,text:Ge}),Ye.raw+=ye,fe=fe.slice(ye.length)}Ye.items[Ye.items.length-1].raw=ye.trimRight(),Ye.items[Ye.items.length-1].text=Ge.trimRight(),Ye.raw=Ye.raw.trimRight();var et=Ye.items.length;for(Ie=0;Ie<et;Ie++)this.lexer.state.top=!1,Ye.items[Ie].tokens=this.lexer.blockTokens(Ye.items[Ie].text,[]),Ye.items[Ie].tokens.some(function(at){return at.type==="space"})&&(Ye.loose=!0,Ye.items[Ie].loose=!0);return Ye}},De.html=function(fe){var me=this.rules.block.html.exec(fe);if(me){var ye={type:"html",raw:me[0],pre:!this.options.sanitizer&&(me[1]==="pre"||me[1]==="script"||me[1]==="style"),text:me[0]};return this.options.sanitize&&(ye.type="paragraph",ye.text=this.options.sanitizer?this.options.sanitizer(me[0]):B(me[0]),ye.tokens=[],this.lexer.inline(ye.text,ye.tokens)),ye}},De.def=function(fe){var me=this.rules.block.def.exec(fe);if(me){me[3]&&(me[3]=me[3].substring(1,me[3].length-1));var ye=me[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:ye,raw:me[0],href:me[2],title:me[3]}}},De.table=function(fe){var me=this.rules.block.table.exec(fe);if(me){var ye={type:"table",header:L(me[1]).map(function(qe){return{text:qe}}),align:me[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:me[3]?me[3].replace(/\n$/,"").split(`
`):[]};if(ye.header.length===ye.align.length){ye.raw=me[0];var Se=ye.align.length,_e,Ae,Ie,xe;for(_e=0;_e<Se;_e++)/^ *-+: *$/.test(ye.align[_e])?ye.align[_e]="right":/^ *:-+: *$/.test(ye.align[_e])?ye.align[_e]="center":/^ *:-+ *$/.test(ye.align[_e])?ye.align[_e]="left":ye.align[_e]=null;for(Se=ye.rows.length,_e=0;_e<Se;_e++)ye.rows[_e]=L(ye.rows[_e],ye.header.length).map(function(qe){return{text:qe}});for(Se=ye.header.length,Ae=0;Ae<Se;Ae++)ye.header[Ae].tokens=[],this.lexer.inlineTokens(ye.header[Ae].text,ye.header[Ae].tokens);for(Se=ye.rows.length,Ae=0;Ae<Se;Ae++)for(xe=ye.rows[Ae],Ie=0;Ie<xe.length;Ie++)xe[Ie].tokens=[],this.lexer.inlineTokens(xe[Ie].text,xe[Ie].tokens);return ye}}},De.lheading=function(fe){var me=this.rules.block.lheading.exec(fe);if(me){var ye={type:"heading",raw:me[0],depth:me[2].charAt(0)==="="?1:2,text:me[1],tokens:[]};return this.lexer.inline(ye.text,ye.tokens),ye}},De.paragraph=function(fe){var me=this.rules.block.paragraph.exec(fe);if(me){var ye={type:"paragraph",raw:me[0],text:me[1].charAt(me[1].length-1)===`
`?me[1].slice(0,-1):me[1],tokens:[]};return this.lexer.inline(ye.text,ye.tokens),ye}},De.text=function(fe){var me=this.rules.block.text.exec(fe);if(me){var ye={type:"text",raw:me[0],text:me[0],tokens:[]};return this.lexer.inline(ye.text,ye.tokens),ye}},De.escape=function(fe){var me=this.rules.inline.escape.exec(fe);if(me)return{type:"escape",raw:me[0],text:B(me[1])}},De.tag=function(fe){var me=this.rules.inline.tag.exec(fe);if(me)return!this.lexer.state.inLink&&/^<a /i.test(me[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(me[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(me[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(me[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:me[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(me[0]):B(me[0]):me[0]}},De.link=function(fe){var me=this.rules.inline.link.exec(fe);if(me){var ye=me[2].trim();if(!this.options.pedantic&&/^</.test(ye)){if(!/>$/.test(ye))return;var Se=O(ye.slice(0,-1),"\\");if((ye.length-Se.length)%2==0)return}else{var _e=z(me[2],"()");if(_e>-1){var Ae=me[0].indexOf("!")===0?5:4,Ie=Ae+me[1].length+_e;me[2]=me[2].substring(0,_e),me[0]=me[0].substring(0,Ie).trim(),me[3]=""}}var xe=me[2],qe="";if(this.options.pedantic){var Ue=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(xe);Ue&&(xe=Ue[1],qe=Ue[3])}else qe=me[3]?me[3].slice(1,-1):"";return xe=xe.trim(),/^</.test(xe)&&(this.options.pedantic&&!/>$/.test(ye)?xe=xe.slice(1):xe=xe.slice(1,-1)),$(me,{href:xe&&xe.replace(this.rules.inline._escapes,"$1"),title:qe&&qe.replace(this.rules.inline._escapes,"$1")},me[0],this.lexer)}},De.reflink=function(fe,me){var ye;if((ye=this.rules.inline.reflink.exec(fe))||(ye=this.rules.inline.nolink.exec(fe))){var Se=(ye[2]||ye[1]).replace(/\s+/g," ");if(Se=me[Se.toLowerCase()],!Se||!Se.href){var _e=ye[0].charAt(0);return{type:"text",raw:_e,text:_e}}return $(ye,Se,ye[0],this.lexer)}},De.emStrong=function(fe,me,ye){ye===void 0&&(ye="");var Se=this.rules.inline.emStrong.lDelim.exec(fe);if(!!Se&&!(Se[3]&&ye.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var _e=Se[1]||Se[2]||"";if(!_e||_e&&(ye===""||this.rules.inline.punctuation.exec(ye))){var Ae=Se[0].length-1,Ie,xe,qe=Ae,Ue=0,$e=Se[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for($e.lastIndex=0,me=me.slice(-1*fe.length+Ae);(Se=$e.exec(me))!=null;)if(Ie=Se[1]||Se[2]||Se[3]||Se[4]||Se[5]||Se[6],!!Ie){if(xe=Ie.length,Se[3]||Se[4]){qe+=xe;continue}else if((Se[5]||Se[6])&&Ae%3&&!((Ae+xe)%3)){Ue+=xe;continue}if(qe-=xe,!(qe>0)){if(xe=Math.min(xe,xe+qe+Ue),Math.min(Ae,xe)%2){var Ge=fe.slice(1,Ae+Se.index+xe);return{type:"em",raw:fe.slice(0,Ae+Se.index+xe+1),text:Ge,tokens:this.lexer.inlineTokens(Ge,[])}}var Ke=fe.slice(2,Ae+Se.index+xe-1);return{type:"strong",raw:fe.slice(0,Ae+Se.index+xe+1),text:Ke,tokens:this.lexer.inlineTokens(Ke,[])}}}}}},De.codespan=function(fe){var me=this.rules.inline.code.exec(fe);if(me){var ye=me[2].replace(/\n/g," "),Se=/[^ ]/.test(ye),_e=/^ /.test(ye)&&/ $/.test(ye);return Se&&_e&&(ye=ye.substring(1,ye.length-1)),ye=B(ye,!0),{type:"codespan",raw:me[0],text:ye}}},De.br=function(fe){var me=this.rules.inline.br.exec(fe);if(me)return{type:"br",raw:me[0]}},De.del=function(fe){var me=this.rules.inline.del.exec(fe);if(me)return{type:"del",raw:me[0],text:me[2],tokens:this.lexer.inlineTokens(me[2],[])}},De.autolink=function(fe,me){var ye=this.rules.inline.autolink.exec(fe);if(ye){var Se,_e;return ye[2]==="@"?(Se=B(this.options.mangle?me(ye[1]):ye[1]),_e="mailto:"+Se):(Se=B(ye[1]),_e=Se),{type:"link",raw:ye[0],text:Se,href:_e,tokens:[{type:"text",raw:Se,text:Se}]}}},De.url=function(fe,me){var ye;if(ye=this.rules.inline.url.exec(fe)){var Se,_e;if(ye[2]==="@")Se=B(this.options.mangle?me(ye[0]):ye[0]),_e="mailto:"+Se;else{var Ae;do Ae=ye[0],ye[0]=this.rules.inline._backpedal.exec(ye[0])[0];while(Ae!==ye[0]);Se=B(ye[0]),ye[1]==="www."?_e="http://"+Se:_e=Se}return{type:"link",raw:ye[0],text:Se,href:_e,tokens:[{type:"text",raw:Se,text:Se}]}}},De.inlineText=function(fe,me){var ye=this.rules.inline.text.exec(fe);if(ye){var Se;return this.lexer.state.inRawBlock?Se=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ye[0]):B(ye[0]):ye[0]:Se=B(this.options.smartypants?me(ye[0]):ye[0]),{type:"text",raw:ye[0],text:Se}}},ke}(),Q=M.noopTest,Y=M.edit,oe=M.merge,se={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:Q,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};se._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,se._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,se.def=Y(se.def).replace("label",se._label).replace("title",se._title).getRegex(),se.bullet=/(?:[*+-]|\d{1,9}[.)])/,se.listItemStart=Y(/^( *)(bull) */).replace("bull",se.bullet).getRegex(),se.list=Y(se.list).replace(/bull/g,se.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+se.def.source+")").getRegex(),se._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",se._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,se.html=Y(se.html,"i").replace("comment",se._comment).replace("tag",se._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),se.paragraph=Y(se._paragraph).replace("hr",se.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",se._tag).getRegex(),se.blockquote=Y(se.blockquote).replace("paragraph",se.paragraph).getRegex(),se.normal=oe({},se),se.gfm=oe({},se.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)\\|?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),se.gfm.table=Y(se.gfm.table).replace("hr",se.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",se._tag).getRegex(),se.pedantic=oe({},se.normal,{html:Y(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",se._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Q,paragraph:Y(se.normal._paragraph).replace("hr",se.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",se.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var K={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Q,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Q,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};K._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",K.punctuation=Y(K.punctuation).replace(/punctuation/g,K._punctuation).getRegex(),K.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,K.escapedEmSt=/\\\*|\\_/g,K._comment=Y(se._comment).replace("(?:-->|$)","-->").getRegex(),K.emStrong.lDelim=Y(K.emStrong.lDelim).replace(/punct/g,K._punctuation).getRegex(),K.emStrong.rDelimAst=Y(K.emStrong.rDelimAst,"g").replace(/punct/g,K._punctuation).getRegex(),K.emStrong.rDelimUnd=Y(K.emStrong.rDelimUnd,"g").replace(/punct/g,K._punctuation).getRegex(),K._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,K._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,K._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,K.autolink=Y(K.autolink).replace("scheme",K._scheme).replace("email",K._email).getRegex(),K._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,K.tag=Y(K.tag).replace("comment",K._comment).replace("attribute",K._attribute).getRegex(),K._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,K._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,K._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,K.link=Y(K.link).replace("label",K._label).replace("href",K._href).replace("title",K._title).getRegex(),K.reflink=Y(K.reflink).replace("label",K._label).getRegex(),K.reflinkSearch=Y(K.reflinkSearch,"g").replace("reflink",K.reflink).replace("nolink",K.nolink).getRegex(),K.normal=oe({},K),K.pedantic=oe({},K.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Y(/^!?\[(label)\]\((.*?)\)/).replace("label",K._label).getRegex(),reflink:Y(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",K._label).getRegex()}),K.gfm=oe({},K.normal,{escape:Y(K.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),K.gfm.url=Y(K.gfm.url,"i").replace("email",K.gfm._extended_email).getRegex(),K.breaks=oe({},K.gfm,{br:Y(K.br).replace("{2,}","*").getRegex(),text:Y(K.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var x={block:se,inline:K},U=X,H=D.exports.defaults,V=x.block,ne=x.inline,ue=M.repeatString;function pe(ke){return ke.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function ge(ke){var De="",Ne,fe,me=ke.length;for(Ne=0;Ne<me;Ne++)fe=ke.charCodeAt(Ne),Math.random()>.5&&(fe="x"+fe.toString(16)),De+="&#"+fe+";";return De}var W=function(){function ke(Ne){this.tokens=[],this.tokens.links=Object.create(null),this.options=Ne||H,this.options.tokenizer=this.options.tokenizer||new U,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var fe={block:V.normal,inline:ne.normal};this.options.pedantic?(fe.block=V.pedantic,fe.inline=ne.pedantic):this.options.gfm&&(fe.block=V.gfm,this.options.breaks?fe.inline=ne.breaks:fe.inline=ne.gfm),this.tokenizer.rules=fe}ke.lex=function(fe,me){var ye=new ke(me);return ye.lex(fe)},ke.lexInline=function(fe,me){var ye=new ke(me);return ye.inlineTokens(fe)};var De=ke.prototype;return De.lex=function(fe){fe=fe.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(fe,this.tokens);for(var me;me=this.inlineQueue.shift();)this.inlineTokens(me.src,me.tokens);return this.tokens},De.blockTokens=function(fe,me){var ye=this;me===void 0&&(me=[]),this.options.pedantic&&(fe=fe.replace(/^ +$/gm,""));for(var Se,_e,Ae,Ie;fe;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(qe){return(Se=qe.call({lexer:ye},fe,me))?(fe=fe.substring(Se.raw.length),me.push(Se),!0):!1}))){if(Se=this.tokenizer.space(fe)){fe=fe.substring(Se.raw.length),Se.type&&me.push(Se);continue}if(Se=this.tokenizer.code(fe)){fe=fe.substring(Se.raw.length),_e=me[me.length-1],_e&&(_e.type==="paragraph"||_e.type==="text")?(_e.raw+=`
`+Se.raw,_e.text+=`
`+Se.text,this.inlineQueue[this.inlineQueue.length-1].src=_e.text):me.push(Se);continue}if(Se=this.tokenizer.fences(fe)){fe=fe.substring(Se.raw.length),me.push(Se);continue}if(Se=this.tokenizer.heading(fe)){fe=fe.substring(Se.raw.length),me.push(Se);continue}if(Se=this.tokenizer.hr(fe)){fe=fe.substring(Se.raw.length),me.push(Se);continue}if(Se=this.tokenizer.blockquote(fe)){fe=fe.substring(Se.raw.length),me.push(Se);continue}if(Se=this.tokenizer.list(fe)){fe=fe.substring(Se.raw.length),me.push(Se);continue}if(Se=this.tokenizer.html(fe)){fe=fe.substring(Se.raw.length),me.push(Se);continue}if(Se=this.tokenizer.def(fe)){fe=fe.substring(Se.raw.length),_e=me[me.length-1],_e&&(_e.type==="paragraph"||_e.type==="text")?(_e.raw+=`
`+Se.raw,_e.text+=`
`+Se.raw,this.inlineQueue[this.inlineQueue.length-1].src=_e.text):this.tokens.links[Se.tag]||(this.tokens.links[Se.tag]={href:Se.href,title:Se.title});continue}if(Se=this.tokenizer.table(fe)){fe=fe.substring(Se.raw.length),me.push(Se);continue}if(Se=this.tokenizer.lheading(fe)){fe=fe.substring(Se.raw.length),me.push(Se);continue}if(Ae=fe,this.options.extensions&&this.options.extensions.startBlock&&function(){var qe=Infinity,Ue=fe.slice(1),$e=void 0;ye.options.extensions.startBlock.forEach(function(Ge){$e=Ge.call({lexer:this},Ue),typeof $e=="number"&&$e>=0&&(qe=Math.min(qe,$e))}),qe<Infinity&&qe>=0&&(Ae=fe.substring(0,qe+1))}(),this.state.top&&(Se=this.tokenizer.paragraph(Ae))){_e=me[me.length-1],Ie&&_e.type==="paragraph"?(_e.raw+=`
`+Se.raw,_e.text+=`
`+Se.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=_e.text):me.push(Se),Ie=Ae.length!==fe.length,fe=fe.substring(Se.raw.length);continue}if(Se=this.tokenizer.text(fe)){fe=fe.substring(Se.raw.length),_e=me[me.length-1],_e&&_e.type==="text"?(_e.raw+=`
`+Se.raw,_e.text+=`
`+Se.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=_e.text):me.push(Se);continue}if(fe){var xe="Infinite loop on byte: "+fe.charCodeAt(0);if(this.options.silent){console.error(xe);break}else throw new Error(xe)}}return this.state.top=!0,me},De.inline=function(fe,me){this.inlineQueue.push({src:fe,tokens:me})},De.inlineTokens=function(fe,me){var ye=this;me===void 0&&(me=[]);var Se,_e,Ae,Ie=fe,xe,qe,Ue;if(this.tokens.links){var $e=Object.keys(this.tokens.links);if($e.length>0)for(;(xe=this.tokenizer.rules.inline.reflinkSearch.exec(Ie))!=null;)$e.includes(xe[0].slice(xe[0].lastIndexOf("[")+1,-1))&&(Ie=Ie.slice(0,xe.index)+"["+ue("a",xe[0].length-2)+"]"+Ie.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(xe=this.tokenizer.rules.inline.blockSkip.exec(Ie))!=null;)Ie=Ie.slice(0,xe.index)+"["+ue("a",xe[0].length-2)+"]"+Ie.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(xe=this.tokenizer.rules.inline.escapedEmSt.exec(Ie))!=null;)Ie=Ie.slice(0,xe.index)+"++"+Ie.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;fe;)if(qe||(Ue=""),qe=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Ke){return(Se=Ke.call({lexer:ye},fe,me))?(fe=fe.substring(Se.raw.length),me.push(Se),!0):!1}))){if(Se=this.tokenizer.escape(fe)){fe=fe.substring(Se.raw.length),me.push(Se);continue}if(Se=this.tokenizer.tag(fe)){fe=fe.substring(Se.raw.length),_e=me[me.length-1],_e&&Se.type==="text"&&_e.type==="text"?(_e.raw+=Se.raw,_e.text+=Se.text):me.push(Se);continue}if(Se=this.tokenizer.link(fe)){fe=fe.substring(Se.raw.length),me.push(Se);continue}if(Se=this.tokenizer.reflink(fe,this.tokens.links)){fe=fe.substring(Se.raw.length),_e=me[me.length-1],_e&&Se.type==="text"&&_e.type==="text"?(_e.raw+=Se.raw,_e.text+=Se.text):me.push(Se);continue}if(Se=this.tokenizer.emStrong(fe,Ie,Ue)){fe=fe.substring(Se.raw.length),me.push(Se);continue}if(Se=this.tokenizer.codespan(fe)){fe=fe.substring(Se.raw.length),me.push(Se);continue}if(Se=this.tokenizer.br(fe)){fe=fe.substring(Se.raw.length),me.push(Se);continue}if(Se=this.tokenizer.del(fe)){fe=fe.substring(Se.raw.length),me.push(Se);continue}if(Se=this.tokenizer.autolink(fe,ge)){fe=fe.substring(Se.raw.length),me.push(Se);continue}if(!this.state.inLink&&(Se=this.tokenizer.url(fe,ge))){fe=fe.substring(Se.raw.length),me.push(Se);continue}if(Ae=fe,this.options.extensions&&this.options.extensions.startInline&&function(){var Ke=Infinity,Qe=fe.slice(1),Ye=void 0;ye.options.extensions.startInline.forEach(function(Je){Ye=Je.call({lexer:this},Qe),typeof Ye=="number"&&Ye>=0&&(Ke=Math.min(Ke,Ye))}),Ke<Infinity&&Ke>=0&&(Ae=fe.substring(0,Ke+1))}(),Se=this.tokenizer.inlineText(Ae,pe)){fe=fe.substring(Se.raw.length),Se.raw.slice(-1)!=="_"&&(Ue=Se.raw.slice(-1)),qe=!0,_e=me[me.length-1],_e&&_e.type==="text"?(_e.raw+=Se.raw,_e.text+=Se.text):me.push(Se);continue}if(fe){var Ge="Infinite loop on byte: "+fe.charCodeAt(0);if(this.options.silent){console.error(Ge);break}else throw new Error(Ge)}}return me},e(ke,null,[{key:"rules",get:function(){return{block:V,inline:ne}}}]),ke}(),G=D.exports.defaults,re=M.cleanUrl,ee=M.escape,de=function(){function ke(Ne){this.options=Ne||G}var De=ke.prototype;return De.code=function(fe,me,ye){var Se=(me||"").match(/\S*/)[0];if(this.options.highlight){var _e=this.options.highlight(fe,Se);_e!=null&&_e!==fe&&(ye=!0,fe=_e)}return fe=fe.replace(/\n$/,"")+`
`,Se?'<pre><code class="'+this.options.langPrefix+ee(Se,!0)+'">'+(ye?fe:ee(fe,!0))+`</code></pre>
`:"<pre><code>"+(ye?fe:ee(fe,!0))+`</code></pre>
`},De.blockquote=function(fe){return`<blockquote>
`+fe+`</blockquote>
`},De.html=function(fe){return fe},De.heading=function(fe,me,ye,Se){return this.options.headerIds?"<h"+me+' id="'+this.options.headerPrefix+Se.slug(ye)+'">'+fe+"</h"+me+`>
`:"<h"+me+">"+fe+"</h"+me+`>
`},De.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},De.list=function(fe,me,ye){var Se=me?"ol":"ul",_e=me&&ye!==1?' start="'+ye+'"':"";return"<"+Se+_e+`>
`+fe+"</"+Se+`>
`},De.listitem=function(fe){return"<li>"+fe+`</li>
`},De.checkbox=function(fe){return"<input "+(fe?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},De.paragraph=function(fe){return"<p>"+fe+`</p>
`},De.table=function(fe,me){return me&&(me="<tbody>"+me+"</tbody>"),`<table>
<thead>
`+fe+`</thead>
`+me+`</table>
`},De.tablerow=function(fe){return`<tr>
`+fe+`</tr>
`},De.tablecell=function(fe,me){var ye=me.header?"th":"td",Se=me.align?"<"+ye+' align="'+me.align+'">':"<"+ye+">";return Se+fe+"</"+ye+`>
`},De.strong=function(fe){return"<strong>"+fe+"</strong>"},De.em=function(fe){return"<em>"+fe+"</em>"},De.codespan=function(fe){return"<code>"+fe+"</code>"},De.br=function(){return this.options.xhtml?"<br/>":"<br>"},De.del=function(fe){return"<del>"+fe+"</del>"},De.link=function(fe,me,ye){if(fe=re(this.options.sanitize,this.options.baseUrl,fe),fe===null)return ye;var Se='<a href="'+ee(fe)+'"';return me&&(Se+=' title="'+me+'"'),Se+=">"+ye+"</a>",Se},De.image=function(fe,me,ye){if(fe=re(this.options.sanitize,this.options.baseUrl,fe),fe===null)return ye;var Se='<img src="'+fe+'" alt="'+ye+'"';return me&&(Se+=' title="'+me+'"'),Se+=this.options.xhtml?"/>":">",Se},De.text=function(fe){return fe},ke}(),ae=function(){function ke(){}var De=ke.prototype;return De.strong=function(fe){return fe},De.em=function(fe){return fe},De.codespan=function(fe){return fe},De.del=function(fe){return fe},De.html=function(fe){return fe},De.text=function(fe){return fe},De.link=function(fe,me,ye){return""+ye},De.image=function(fe,me,ye){return""+ye},De.br=function(){return""},ke}(),ce=function(){function ke(){this.seen={}}var De=ke.prototype;return De.serialize=function(fe){return fe.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},De.getNextSafeSlug=function(fe,me){var ye=fe,Se=0;if(this.seen.hasOwnProperty(ye)){Se=this.seen[fe];do Se++,ye=fe+"-"+Se;while(this.seen.hasOwnProperty(ye))}return me||(this.seen[fe]=Se,this.seen[ye]=0),ye},De.slug=function(fe,me){me===void 0&&(me={});var ye=this.serialize(fe);return this.getNextSafeSlug(ye,me.dryrun)},ke}(),J=de,Z=ae,le=ce,he=D.exports.defaults,ve=M.unescape,be=function(){function ke(Ne){this.options=Ne||he,this.options.renderer=this.options.renderer||new J,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Z,this.slugger=new le}ke.parse=function(fe,me){var ye=new ke(me);return ye.parse(fe)},ke.parseInline=function(fe,me){var ye=new ke(me);return ye.parseInline(fe)};var De=ke.prototype;return De.parse=function(fe,me){me===void 0&&(me=!0);var ye="",Se,_e,Ae,Ie,xe,qe,Ue,$e,Ge,Ke,Qe,Ye,Je,tt,et,at,ft,ut,Vt,ui=fe.length;for(Se=0;Se<ui;Se++){if(Ke=fe[Se],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ke.type]&&(Vt=this.options.extensions.renderers[Ke.type].call({parser:this},Ke),Vt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Ke.type))){ye+=Vt||"";continue}switch(Ke.type){case"space":continue;case"hr":{ye+=this.renderer.hr();continue}case"heading":{ye+=this.renderer.heading(this.parseInline(Ke.tokens),Ke.depth,ve(this.parseInline(Ke.tokens,this.textRenderer)),this.slugger);continue}case"code":{ye+=this.renderer.code(Ke.text,Ke.lang,Ke.escaped);continue}case"table":{for($e="",Ue="",Ie=Ke.header.length,_e=0;_e<Ie;_e++)Ue+=this.renderer.tablecell(this.parseInline(Ke.header[_e].tokens),{header:!0,align:Ke.align[_e]});for($e+=this.renderer.tablerow(Ue),Ge="",Ie=Ke.rows.length,_e=0;_e<Ie;_e++){for(qe=Ke.rows[_e],Ue="",xe=qe.length,Ae=0;Ae<xe;Ae++)Ue+=this.renderer.tablecell(this.parseInline(qe[Ae].tokens),{header:!1,align:Ke.align[Ae]});Ge+=this.renderer.tablerow(Ue)}ye+=this.renderer.table($e,Ge);continue}case"blockquote":{Ge=this.parse(Ke.tokens),ye+=this.renderer.blockquote(Ge);continue}case"list":{for(Qe=Ke.ordered,Ye=Ke.start,Je=Ke.loose,Ie=Ke.items.length,Ge="",_e=0;_e<Ie;_e++)et=Ke.items[_e],at=et.checked,ft=et.task,tt="",et.task&&(ut=this.renderer.checkbox(at),Je?et.tokens.length>0&&et.tokens[0].type==="paragraph"?(et.tokens[0].text=ut+" "+et.tokens[0].text,et.tokens[0].tokens&&et.tokens[0].tokens.length>0&&et.tokens[0].tokens[0].type==="text"&&(et.tokens[0].tokens[0].text=ut+" "+et.tokens[0].tokens[0].text)):et.tokens.unshift({type:"text",text:ut}):tt+=ut),tt+=this.parse(et.tokens,Je),Ge+=this.renderer.listitem(tt,ft,at);ye+=this.renderer.list(Ge,Qe,Ye);continue}case"html":{ye+=this.renderer.html(Ke.text);continue}case"paragraph":{ye+=this.renderer.paragraph(this.parseInline(Ke.tokens));continue}case"text":{for(Ge=Ke.tokens?this.parseInline(Ke.tokens):Ke.text;Se+1<ui&&fe[Se+1].type==="text";)Ke=fe[++Se],Ge+=`
`+(Ke.tokens?this.parseInline(Ke.tokens):Ke.text);ye+=me?this.renderer.paragraph(Ge):Ge;continue}default:{var ci='Token with "'+Ke.type+'" type was not found.';if(this.options.silent){console.error(ci);return}else throw new Error(ci)}}}return ye},De.parseInline=function(fe,me){me=me||this.renderer;var ye="",Se,_e,Ae,Ie=fe.length;for(Se=0;Se<Ie;Se++){if(_e=fe[Se],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[_e.type]&&(Ae=this.options.extensions.renderers[_e.type].call({parser:this},_e),Ae!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(_e.type))){ye+=Ae||"";continue}switch(_e.type){case"escape":{ye+=me.text(_e.text);break}case"html":{ye+=me.html(_e.text);break}case"link":{ye+=me.link(_e.href,_e.title,this.parseInline(_e.tokens,me));break}case"image":{ye+=me.image(_e.href,_e.title,_e.text);break}case"strong":{ye+=me.strong(this.parseInline(_e.tokens,me));break}case"em":{ye+=me.em(this.parseInline(_e.tokens,me));break}case"codespan":{ye+=me.codespan(_e.text);break}case"br":{ye+=me.br();break}case"del":{ye+=me.del(this.parseInline(_e.tokens,me));break}case"text":{ye+=me.text(_e.text);break}default:{var xe='Token with "'+_e.type+'" type was not found.';if(this.options.silent){console.error(xe);return}else throw new Error(xe)}}}return ye},ke}(),we=W,Te=be,Pe=X,Oe=de,Ve=ae,Be=ce,He=M.merge,je=M.checkSanitizeDeprecation,Le=M.escape,Ee=D.exports.getDefaults,Re=D.exports.changeDefaults,ze=D.exports.defaults;function We(ke,De,Ne){if(typeof ke=="undefined"||ke===null)throw new Error("marked(): input parameter is undefined or null");if(typeof ke!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ke)+", string expected");if(typeof De=="function"&&(Ne=De,De=null),De=He({},We.defaults,De||{}),je(De),Ne){var fe=De.highlight,me;try{me=we.lex(ke,De)}catch(Ae){return Ne(Ae)}var ye=function(Ie){var xe;if(!Ie)try{De.walkTokens&&We.walkTokens(me,De.walkTokens),xe=Te.parse(me,De)}catch(qe){Ie=qe}return De.highlight=fe,Ie?Ne(Ie):Ne(null,xe)};if(!fe||fe.length<3||(delete De.highlight,!me.length))return ye();var Se=0;We.walkTokens(me,function(Ae){Ae.type==="code"&&(Se++,setTimeout(function(){fe(Ae.text,Ae.lang,function(Ie,xe){if(Ie)return ye(Ie);xe!=null&&xe!==Ae.text&&(Ae.text=xe,Ae.escaped=!0),Se--,Se===0&&ye()})},0))}),Se===0&&ye();return}try{var _e=we.lex(ke,De);return De.walkTokens&&We.walkTokens(_e,De.walkTokens),Te.parse(_e,De)}catch(Ae){if(Ae.message+=`
Please report this to https://github.com/markedjs/marked.`,De.silent)return"<p>An error occurred:</p><pre>"+Le(Ae.message+"",!0)+"</pre>";throw Ae}}We.options=We.setOptions=function(ke){return He(We.defaults,ke),Re(We.defaults),We},We.getDefaults=Ee,We.defaults=ze,We.use=function(){for(var ke=this,De=arguments.length,Ne=new Array(De),fe=0;fe<De;fe++)Ne[fe]=arguments[fe];var me=He.apply(void 0,[{}].concat(Ne)),ye=We.defaults.extensions||{renderers:{},childTokens:{}},Se;Ne.forEach(function(_e){if(_e.extensions&&(Se=!0,_e.extensions.forEach(function(Ie){if(!Ie.name)throw new Error("extension name required");if(Ie.renderer){var xe=ye.renderers?ye.renderers[Ie.name]:null;xe?ye.renderers[Ie.name]=function(){for(var qe=arguments.length,Ue=new Array(qe),$e=0;$e<qe;$e++)Ue[$e]=arguments[$e];var Ge=Ie.renderer.apply(this,Ue);return Ge===!1&&(Ge=xe.apply(this,Ue)),Ge}:ye.renderers[Ie.name]=Ie.renderer}if(Ie.tokenizer){if(!Ie.level||Ie.level!=="block"&&Ie.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");ye[Ie.level]?ye[Ie.level].unshift(Ie.tokenizer):ye[Ie.level]=[Ie.tokenizer],Ie.start&&(Ie.level==="block"?ye.startBlock?ye.startBlock.push(Ie.start):ye.startBlock=[Ie.start]:Ie.level==="inline"&&(ye.startInline?ye.startInline.push(Ie.start):ye.startInline=[Ie.start]))}Ie.childTokens&&(ye.childTokens[Ie.name]=Ie.childTokens)})),_e.renderer&&function(){var Ie=We.defaults.renderer||new Oe,xe=function($e){var Ge=Ie[$e];Ie[$e]=function(){for(var Ke=arguments.length,Qe=new Array(Ke),Ye=0;Ye<Ke;Ye++)Qe[Ye]=arguments[Ye];var Je=_e.renderer[$e].apply(Ie,Qe);return Je===!1&&(Je=Ge.apply(Ie,Qe)),Je}};for(var qe in _e.renderer)xe(qe);me.renderer=Ie}(),_e.tokenizer&&function(){var Ie=We.defaults.tokenizer||new Pe,xe=function($e){var Ge=Ie[$e];Ie[$e]=function(){for(var Ke=arguments.length,Qe=new Array(Ke),Ye=0;Ye<Ke;Ye++)Qe[Ye]=arguments[Ye];var Je=_e.tokenizer[$e].apply(Ie,Qe);return Je===!1&&(Je=Ge.apply(Ie,Qe)),Je}};for(var qe in _e.tokenizer)xe(qe);me.tokenizer=Ie}(),_e.walkTokens){var Ae=We.defaults.walkTokens;me.walkTokens=function(Ie){_e.walkTokens.call(ke,Ie),Ae&&Ae(Ie)}}Se&&(me.extensions=ye),We.setOptions(me)})},We.walkTokens=function(ke,De){for(var Ne=function(){var Se=me.value;switch(De(Se),Se.type){case"table":{for(var _e=T(Se.header),Ae;!(Ae=_e()).done;){var Ie=Ae.value;We.walkTokens(Ie.tokens,De)}for(var xe=T(Se.rows),qe;!(qe=xe()).done;)for(var Ue=qe.value,$e=T(Ue),Ge;!(Ge=$e()).done;){var Ke=Ge.value;We.walkTokens(Ke.tokens,De)}break}case"list":{We.walkTokens(Se.items,De);break}default:We.defaults.extensions&&We.defaults.extensions.childTokens&&We.defaults.extensions.childTokens[Se.type]?We.defaults.extensions.childTokens[Se.type].forEach(function(Qe){We.walkTokens(Se[Qe],De)}):Se.tokens&&We.walkTokens(Se.tokens,De)}},fe=T(ke),me;!(me=fe()).done;)Ne()},We.parseInline=function(ke,De){if(typeof ke=="undefined"||ke===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof ke!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ke)+", string expected");De=He({},We.defaults,De||{}),je(De);try{var Ne=we.lexInline(ke,De);return De.walkTokens&&We.walkTokens(Ne,De.walkTokens),Te.parseInline(Ne,De)}catch(fe){if(fe.message+=`
Please report this to https://github.com/markedjs/marked.`,De.silent)return"<p>An error occurred:</p><pre>"+Le(fe.message+"",!0)+"</pre>";throw fe}},We.Parser=Te,We.parser=Te.parse,We.Renderer=Oe,We.TextRenderer=Ve,We.Lexer=we,We.lexer=we.lex,We.Tokenizer=Pe,We.Slugger=Be,We.parse=We;var Ze=We;return Ze}),define(te[296],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class y{constructor(T,D=0,S=T.length,p=D-1){this.items=T,this.start=D,this.end=S,this.index=p}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=y}),define(te[297],ie([0,1,296]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class N{constructor(D=[],S=10){this._initialize(D),this._limit=S,this._onChange()}getHistory(){return this._elements}add(D){this._history.delete(D),this._history.add(D),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(D){return this._history.has(D)}_onChange(){this._reduceToLimit();const D=this._elements;this._navigator=new y.ArrayNavigator(D,0,D.length,D.length)}_reduceToLimit(){const D=this._elements;D.length>this._limit&&this._initialize(D.slice(D.length-this._limit))}_currentPosition(){const D=this._navigator.current();return D?this._elements.indexOf(D):-1}_initialize(D){this._history=new Set;for(const S of D)this._history.add(S)}get _elements(){const D=[];return this._history.forEach(S=>D.push(S)),D}}e.HistoryNavigator=N}),define(te[105],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovingAverage=e.clamp=void 0;function y(T,D,S){return Math.min(Math.max(T,D),S)}e.clamp=y;class N{constructor(){this._n=1,this._val=0}update(D){return this._val=this._val+(D-this._val)/this._n,this._n+=1,this}get value(){return this._val}}e.MovingAverage=N}),define(te[17],ie([0,1]),function(q,e){"use strict";var y;Object.defineProperty(e,"__esModule",{value:!0}),e.isLittleEndian=e.OS=e.setImmediate=e.userAgent=e.isIOS=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.globals=void 0;const N="en";let T=!1,D=!1,S=!1,p=!1,b=!1,i=!1,f=!1,r,o=N,d,c;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let u;typeof e.globals.vscode!="undefined"&&typeof e.globals.vscode.process!="undefined"?u=e.globals.vscode.process:typeof process!="undefined"&&(u=process);const s=typeof((y=u==null?void 0:u.versions)===null||y===void 0?void 0:y.electron)=="string"&&u.type==="renderer";if(typeof navigator=="object"&&!s)c=navigator.userAgent,T=c.indexOf("Windows")>=0,D=c.indexOf("Macintosh")>=0,f=(c.indexOf("Macintosh")>=0||c.indexOf("iPad")>=0||c.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,S=c.indexOf("Linux")>=0,i=!0,r=navigator.language,o=r;else if(typeof u=="object"){T=u.platform==="win32",D=u.platform==="darwin",S=u.platform==="linux",p=S&&!!u.env.SNAP&&!!u.env.SNAP_REVISION,r=N,o=N;const h=u.env.VSCODE_NLS_CONFIG;if(h)try{const g=JSON.parse(h),w=g.availableLanguages["*"];r=g.locale,o=w||N,d=g._translationsConfigFile}catch(g){}b=!0}else console.error("Unable to resolve platform.");let n=0;D?n=1:T?n=3:S&&(n=2),e.isWindows=T,e.isMacintosh=D,e.isLinux=S,e.isNative=b,e.isWeb=i,e.isIOS=f,e.userAgent=c,e.setImmediate=function(){if(e.globals.setImmediate)return e.globals.setImmediate.bind(e.globals);if(typeof e.globals.postMessage=="function"&&!e.globals.importScripts){let w=[];e.globals.addEventListener("message",C=>{if(C.data&&C.data.vscodeSetImmediateId)for(let v=0,m=w.length;v<m;v++){const E=w[v];if(E.id===C.data.vscodeSetImmediateId){w.splice(v,1),E.callback();return}}});let _=0;return C=>{const v=++_;w.push({id:v,callback:C}),e.globals.postMessage({vscodeSetImmediateId:v},"*")}}if(typeof(u==null?void 0:u.nextTick)=="function")return u.nextTick.bind(u);const g=Promise.resolve();return w=>g.then(w)}(),e.OS=D||f?2:T?1:3;let a=!0,t=!1;function l(){if(!t){t=!0;const h=new Uint8Array(2);h[0]=1,h[1]=2,a=new Uint16Array(h.buffer)[0]===(2<<8)+1}return a}e.isLittleEndian=l}),define(te[298],ie([0,1,17]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let N;if(typeof y.globals.vscode!="undefined"&&typeof y.globals.vscode.process!="undefined"){const T=y.globals.vscode.process;N={get platform(){return T.platform},get arch(){return T.arch},get env(){return T.env},cwd(){return T.cwd()},nextTick(D){return(0,y.setImmediate)(D)}}}else typeof process!="undefined"?N={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()},nextTick(T){return process.nextTick(T)}}:N={get platform(){return y.isWindows?"win32":y.isMacintosh?"darwin":"linux"},get arch(){},nextTick(T){return(0,y.setImmediate)(T)},get env(){return{}},cwd(){return"/"}};e.cwd=N.cwd,e.env=N.env,e.platform=N.platform}),define(te[74],ie([0,1,298]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const N=65,T=97,D=90,S=122,p=46,b=47,i=92,f=58,r=63;class o extends Error{constructor(l,h,g){let w;typeof h=="string"&&h.indexOf("not ")===0?(w="must not be",h=h.replace(/^not /,"")):w="must be";const _=l.indexOf(".")!==-1?"property":"argument";let C=`The "${l}" ${_} ${w} of type ${h}`;C+=`. Received type ${typeof g}`,super(C),this.code="ERR_INVALID_ARG_TYPE"}}function d(t,l){if(typeof t!="string")throw new o(l,"string",t)}function c(t){return t===b||t===i}function u(t){return t===b}function s(t){return t>=N&&t<=D||t>=T&&t<=S}function n(t,l,h,g){let w="",_=0,C=-1,v=0,m=0;for(let E=0;E<=t.length;++E){if(E<t.length)m=t.charCodeAt(E);else{if(g(m))break;m=b}if(g(m)){if(!(C===E-1||v===1))if(v===2){if(w.length<2||_!==2||w.charCodeAt(w.length-1)!==p||w.charCodeAt(w.length-2)!==p){if(w.length>2){const I=w.lastIndexOf(h);I===-1?(w="",_=0):(w=w.slice(0,I),_=w.length-1-w.lastIndexOf(h)),C=E,v=0;continue}else if(w.length!==0){w="",_=0,C=E,v=0;continue}}l&&(w+=w.length>0?`${h}..`:"..",_=2)}else w.length>0?w+=`${h}${t.slice(C+1,E)}`:w=t.slice(C+1,E),_=E-C-1;C=E,v=0}else m===p&&v!==-1?++v:v=-1}return w}function a(t,l){if(l===null||typeof l!="object")throw new o("pathObject","Object",l);const h=l.dir||l.root,g=l.base||`${l.name||""}${l.ext||""}`;return h?h===l.root?`${h}${g}`:`${h}${t}${g}`:g}e.win32={resolve(...t){let l="",h="",g=!1;for(let w=t.length-1;w>=-1;w--){let _;if(w>=0){if(_=t[w],d(_,"path"),_.length===0)continue}else l.length===0?_=y.cwd():(_=y.env[`=${l}`]||y.cwd(),(_===void 0||_.slice(0,2).toLowerCase()!==l.toLowerCase()&&_.charCodeAt(2)===i)&&(_=`${l}\\`));const C=_.length;let v=0,m="",E=!1;const I=_.charCodeAt(0);if(C===1)c(I)&&(v=1,E=!0);else if(c(I))if(E=!0,c(_.charCodeAt(1))){let k=2,A=k;for(;k<C&&!c(_.charCodeAt(k));)k++;if(k<C&&k!==A){const P=_.slice(A,k);for(A=k;k<C&&c(_.charCodeAt(k));)k++;if(k<C&&k!==A){for(A=k;k<C&&!c(_.charCodeAt(k));)k++;(k===C||k!==A)&&(m=`\\\\${P}\\${_.slice(A,k)}`,v=k)}}}else v=1;else s(I)&&_.charCodeAt(1)===f&&(m=_.slice(0,2),v=2,C>2&&c(_.charCodeAt(2))&&(E=!0,v=3));if(m.length>0)if(l.length>0){if(m.toLowerCase()!==l.toLowerCase())continue}else l=m;if(g){if(l.length>0)break}else if(h=`${_.slice(v)}\\${h}`,g=E,E&&l.length>0)break}return h=n(h,!g,"\\",c),g?`${l}\\${h}`:`${l}${h}`||"."},normalize(t){d(t,"path");const l=t.length;if(l===0)return".";let h=0,g,w=!1;const _=t.charCodeAt(0);if(l===1)return u(_)?"\\":t;if(c(_))if(w=!0,c(t.charCodeAt(1))){let v=2,m=v;for(;v<l&&!c(t.charCodeAt(v));)v++;if(v<l&&v!==m){const E=t.slice(m,v);for(m=v;v<l&&c(t.charCodeAt(v));)v++;if(v<l&&v!==m){for(m=v;v<l&&!c(t.charCodeAt(v));)v++;if(v===l)return`\\\\${E}\\${t.slice(m)}\\`;v!==m&&(g=`\\\\${E}\\${t.slice(m,v)}`,h=v)}}}else h=1;else s(_)&&t.charCodeAt(1)===f&&(g=t.slice(0,2),h=2,l>2&&c(t.charCodeAt(2))&&(w=!0,h=3));let C=h<l?n(t.slice(h),!w,"\\",c):"";return C.length===0&&!w&&(C="."),C.length>0&&c(t.charCodeAt(l-1))&&(C+="\\"),g===void 0?w?`\\${C}`:C:w?`${g}\\${C}`:`${g}${C}`},isAbsolute(t){d(t,"path");const l=t.length;if(l===0)return!1;const h=t.charCodeAt(0);return c(h)||l>2&&s(h)&&t.charCodeAt(1)===f&&c(t.charCodeAt(2))},join(...t){if(t.length===0)return".";let l,h;for(let _=0;_<t.length;++_){const C=t[_];d(C,"path"),C.length>0&&(l===void 0?l=h=C:l+=`\\${C}`)}if(l===void 0)return".";let g=!0,w=0;if(typeof h=="string"&&c(h.charCodeAt(0))){++w;const _=h.length;_>1&&c(h.charCodeAt(1))&&(++w,_>2&&(c(h.charCodeAt(2))?++w:g=!1))}if(g){for(;w<l.length&&c(l.charCodeAt(w));)w++;w>=2&&(l=`\\${l.slice(w)}`)}return e.win32.normalize(l)},relative(t,l){if(d(t,"from"),d(l,"to"),t===l)return"";const h=e.win32.resolve(t),g=e.win32.resolve(l);if(h===g||(t=h.toLowerCase(),l=g.toLowerCase(),t===l))return"";let w=0;for(;w<t.length&&t.charCodeAt(w)===i;)w++;let _=t.length;for(;_-1>w&&t.charCodeAt(_-1)===i;)_--;const C=_-w;let v=0;for(;v<l.length&&l.charCodeAt(v)===i;)v++;let m=l.length;for(;m-1>v&&l.charCodeAt(m-1)===i;)m--;const E=m-v,I=C<E?C:E;let k=-1,A=0;for(;A<I;A++){const F=t.charCodeAt(w+A);if(F!==l.charCodeAt(v+A))break;F===i&&(k=A)}if(A!==I){if(k===-1)return g}else{if(E>I){if(l.charCodeAt(v+A)===i)return g.slice(v+A+1);if(A===2)return g.slice(v+A)}C>I&&(t.charCodeAt(w+A)===i?k=A:A===2&&(k=3)),k===-1&&(k=0)}let P="";for(A=w+k+1;A<=_;++A)(A===_||t.charCodeAt(A)===i)&&(P+=P.length===0?"..":"\\..");return v+=k,P.length>0?`${P}${g.slice(v,m)}`:(g.charCodeAt(v)===i&&++v,g.slice(v,m))},toNamespacedPath(t){if(typeof t!="string")return t;if(t.length===0)return"";const l=e.win32.resolve(t);if(l.length<=2)return t;if(l.charCodeAt(0)===i){if(l.charCodeAt(1)===i){const h=l.charCodeAt(2);if(h!==r&&h!==p)return`\\\\?\\UNC\\${l.slice(2)}`}}else if(s(l.charCodeAt(0))&&l.charCodeAt(1)===f&&l.charCodeAt(2)===i)return`\\\\?\\${l}`;return t},dirname(t){d(t,"path");const l=t.length;if(l===0)return".";let h=-1,g=0;const w=t.charCodeAt(0);if(l===1)return c(w)?t:".";if(c(w)){if(h=g=1,c(t.charCodeAt(1))){let v=2,m=v;for(;v<l&&!c(t.charCodeAt(v));)v++;if(v<l&&v!==m){for(m=v;v<l&&c(t.charCodeAt(v));)v++;if(v<l&&v!==m){for(m=v;v<l&&!c(t.charCodeAt(v));)v++;if(v===l)return t;v!==m&&(h=g=v+1)}}}}else s(w)&&t.charCodeAt(1)===f&&(h=l>2&&c(t.charCodeAt(2))?3:2,g=h);let _=-1,C=!0;for(let v=l-1;v>=g;--v)if(c(t.charCodeAt(v))){if(!C){_=v;break}}else C=!1;if(_===-1){if(h===-1)return".";_=h}return t.slice(0,_)},basename(t,l){l!==void 0&&d(l,"ext"),d(t,"path");let h=0,g=-1,w=!0,_;if(t.length>=2&&s(t.charCodeAt(0))&&t.charCodeAt(1)===f&&(h=2),l!==void 0&&l.length>0&&l.length<=t.length){if(l===t)return"";let C=l.length-1,v=-1;for(_=t.length-1;_>=h;--_){const m=t.charCodeAt(_);if(c(m)){if(!w){h=_+1;break}}else v===-1&&(w=!1,v=_+1),C>=0&&(m===l.charCodeAt(C)?--C==-1&&(g=_):(C=-1,g=v))}return h===g?g=v:g===-1&&(g=t.length),t.slice(h,g)}for(_=t.length-1;_>=h;--_)if(c(t.charCodeAt(_))){if(!w){h=_+1;break}}else g===-1&&(w=!1,g=_+1);return g===-1?"":t.slice(h,g)},extname(t){d(t,"path");let l=0,h=-1,g=0,w=-1,_=!0,C=0;t.length>=2&&t.charCodeAt(1)===f&&s(t.charCodeAt(0))&&(l=g=2);for(let v=t.length-1;v>=l;--v){const m=t.charCodeAt(v);if(c(m)){if(!_){g=v+1;break}continue}w===-1&&(_=!1,w=v+1),m===p?h===-1?h=v:C!==1&&(C=1):h!==-1&&(C=-1)}return h===-1||w===-1||C===0||C===1&&h===w-1&&h===g+1?"":t.slice(h,w)},format:a.bind(null,"\\"),parse(t){d(t,"path");const l={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return l;const h=t.length;let g=0,w=t.charCodeAt(0);if(h===1)return c(w)?(l.root=l.dir=t,l):(l.base=l.name=t,l);if(c(w)){if(g=1,c(t.charCodeAt(1))){let k=2,A=k;for(;k<h&&!c(t.charCodeAt(k));)k++;if(k<h&&k!==A){for(A=k;k<h&&c(t.charCodeAt(k));)k++;if(k<h&&k!==A){for(A=k;k<h&&!c(t.charCodeAt(k));)k++;k===h?g=k:k!==A&&(g=k+1)}}}}else if(s(w)&&t.charCodeAt(1)===f){if(h<=2)return l.root=l.dir=t,l;if(g=2,c(t.charCodeAt(2))){if(h===3)return l.root=l.dir=t,l;g=3}}g>0&&(l.root=t.slice(0,g));let _=-1,C=g,v=-1,m=!0,E=t.length-1,I=0;for(;E>=g;--E){if(w=t.charCodeAt(E),c(w)){if(!m){C=E+1;break}continue}v===-1&&(m=!1,v=E+1),w===p?_===-1?_=E:I!==1&&(I=1):_!==-1&&(I=-1)}return v!==-1&&(_===-1||I===0||I===1&&_===v-1&&_===C+1?l.base=l.name=t.slice(C,v):(l.name=t.slice(C,_),l.base=t.slice(C,v),l.ext=t.slice(_,v))),C>0&&C!==g?l.dir=t.slice(0,C-1):l.dir=l.root,l},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...t){let l="",h=!1;for(let g=t.length-1;g>=-1&&!h;g--){const w=g>=0?t[g]:y.cwd();d(w,"path"),w.length!==0&&(l=`${w}/${l}`,h=w.charCodeAt(0)===b)}return l=n(l,!h,"/",u),h?`/${l}`:l.length>0?l:"."},normalize(t){if(d(t,"path"),t.length===0)return".";const l=t.charCodeAt(0)===b,h=t.charCodeAt(t.length-1)===b;return t=n(t,!l,"/",u),t.length===0?l?"/":h?"./":".":(h&&(t+="/"),l?`/${t}`:t)},isAbsolute(t){return d(t,"path"),t.length>0&&t.charCodeAt(0)===b},join(...t){if(t.length===0)return".";let l;for(let h=0;h<t.length;++h){const g=t[h];d(g,"path"),g.length>0&&(l===void 0?l=g:l+=`/${g}`)}return l===void 0?".":e.posix.normalize(l)},relative(t,l){if(d(t,"from"),d(l,"to"),t===l||(t=e.posix.resolve(t),l=e.posix.resolve(l),t===l))return"";const h=1,g=t.length,w=g-h,_=1,C=l.length-_,v=w<C?w:C;let m=-1,E=0;for(;E<v;E++){const k=t.charCodeAt(h+E);if(k!==l.charCodeAt(_+E))break;k===b&&(m=E)}if(E===v)if(C>v){if(l.charCodeAt(_+E)===b)return l.slice(_+E+1);if(E===0)return l.slice(_+E)}else w>v&&(t.charCodeAt(h+E)===b?m=E:E===0&&(m=0));let I="";for(E=h+m+1;E<=g;++E)(E===g||t.charCodeAt(E)===b)&&(I+=I.length===0?"..":"/..");return`${I}${l.slice(_+m)}`},toNamespacedPath(t){return t},dirname(t){if(d(t,"path"),t.length===0)return".";const l=t.charCodeAt(0)===b;let h=-1,g=!0;for(let w=t.length-1;w>=1;--w)if(t.charCodeAt(w)===b){if(!g){h=w;break}}else g=!1;return h===-1?l?"/":".":l&&h===1?"//":t.slice(0,h)},basename(t,l){l!==void 0&&d(l,"ext"),d(t,"path");let h=0,g=-1,w=!0,_;if(l!==void 0&&l.length>0&&l.length<=t.length){if(l===t)return"";let C=l.length-1,v=-1;for(_=t.length-1;_>=0;--_){const m=t.charCodeAt(_);if(m===b){if(!w){h=_+1;break}}else v===-1&&(w=!1,v=_+1),C>=0&&(m===l.charCodeAt(C)?--C==-1&&(g=_):(C=-1,g=v))}return h===g?g=v:g===-1&&(g=t.length),t.slice(h,g)}for(_=t.length-1;_>=0;--_)if(t.charCodeAt(_)===b){if(!w){h=_+1;break}}else g===-1&&(w=!1,g=_+1);return g===-1?"":t.slice(h,g)},extname(t){d(t,"path");let l=-1,h=0,g=-1,w=!0,_=0;for(let C=t.length-1;C>=0;--C){const v=t.charCodeAt(C);if(v===b){if(!w){h=C+1;break}continue}g===-1&&(w=!1,g=C+1),v===p?l===-1?l=C:_!==1&&(_=1):l!==-1&&(_=-1)}return l===-1||g===-1||_===0||_===1&&l===g-1&&l===h+1?"":t.slice(l,g)},format:a.bind(null,"/"),parse(t){d(t,"path");const l={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return l;const h=t.charCodeAt(0)===b;let g;h?(l.root="/",g=1):g=0;let w=-1,_=0,C=-1,v=!0,m=t.length-1,E=0;for(;m>=g;--m){const I=t.charCodeAt(m);if(I===b){if(!v){_=m+1;break}continue}C===-1&&(v=!1,C=m+1),I===p?w===-1?w=m:E!==1&&(E=1):w!==-1&&(E=-1)}if(C!==-1){const I=_===0&&h?1:_;w===-1||E===0||E===1&&w===C-1&&w===_+1?l.base=l.name=t.slice(I,C):(l.name=t.slice(I,w),l.base=t.slice(I,C),l.ext=t.slice(w,C))}return _>0?l.dir=t.slice(0,_-1):h&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=y.platform==="win32"?e.win32.normalize:e.posix.normalize,e.resolve=y.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=y.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=y.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=y.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=y.platform==="win32"?e.win32.extname:e.posix.extname,e.sep=y.platform==="win32"?e.win32.sep:e.posix.sep}),define(te[129],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var y;(function(N){function T(b,i){if(b.start>=i.end||i.start>=b.end)return{start:0,end:0};const f=Math.max(b.start,i.start),r=Math.min(b.end,i.end);return r-f<=0?{start:0,end:0}:{start:f,end:r}}N.intersect=T;function D(b){return b.end-b.start<=0}N.isEmpty=D;function S(b,i){return!D(T(b,i))}N.intersects=S;function p(b,i){const f=[],r={start:b.start,end:Math.min(i.start,b.end)},o={start:Math.max(i.end,b.start),end:b.end};return D(r)||f.push(r),D(o)||f.push(o),f}N.relativeComplement=p})(y=e.Range||(e.Range={}))}),define(te[299],ie([0,1,129]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function N(b,i){const f=[];for(let r of i){if(b.start>=r.range.end)continue;if(b.end<r.range.start)break;const o=y.Range.intersect(b,r.range);y.Range.isEmpty(o)||f.push({range:o,size:r.size})}return f}e.groupIntersect=N;function T({start:b,end:i},f){return{start:b+f,end:i+f}}e.shift=T;function D(b){const i=[];let f=null;for(let r of b){const o=r.range.start,d=r.range.end,c=r.size;if(f&&c===f.size){f.range.end=d;continue}f={range:{start:o,end:d},size:c},i.push(f)}return i}e.consolidate=D;function S(...b){return D(b.reduce((i,f)=>i.concat(f),[]))}class p{constructor(){this.groups=[],this._size=0}splice(i,f,r=[]){const o=r.length-f,d=N({start:0,end:i},this.groups),c=N({start:i+f,end:Number.POSITIVE_INFINITY},this.groups).map(s=>({range:T(s.range,o),size:s.size})),u=r.map((s,n)=>({range:{start:i+n,end:i+n+1},size:s.size}));this.groups=S(d,u,c),this._size=this.groups.reduce((s,n)=>s+n.size*(n.range.end-n.range.start),0)}get count(){const i=this.groups.length;return i?this.groups[i-1].range.end:0}get size(){return this._size}indexAt(i){if(i<0)return-1;let f=0,r=0;for(let o of this.groups){const d=o.range.end-o.range.start,c=r+d*o.size;if(i<c)return f+Math.floor((i-r)/o.size);f+=d,r=c}return f}indexAfter(i){return Math.min(this.indexAt(i)+1,this.count)}positionAt(i){if(i<0)return-1;let f=0,r=0;for(let o of this.groups){const d=o.range.end-o.range.start,c=r+d;if(i<c)return f+(i-r)*o.size;f+=d*o.size,r=c}return-1}}e.RangeMap=p}),define(te[83],ie([0,1,17]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const N=y.globals.performance&&typeof y.globals.performance.now=="function";class T{constructor(S){this._highResolution=N&&S,this._startTime=this._now(),this._stopTime=-1}static create(S=!0){return new T(S)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?y.globals.performance.now():Date.now()}}e.StopWatch=T}),define(te[6],ie([0,1,10,2,73,83]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.DebounceEmitter=e.PauseableEmitter=e.Emitter=e.Event=void 0;var S;(function(u){u.None=()=>N.Disposable.None;function s(F){return(M,R=null,O)=>{let L=!1,B;return B=F(z=>{if(!L)return B?B.dispose():L=!0,M.call(R,z)},null,O),L&&B.dispose(),B}}u.once=s;function n(F,M){return w((R,O=null,L)=>F(B=>R.call(O,M(B)),null,L))}u.map=n;function a(F,M){return w((R,O=null,L)=>F(B=>{M(B),R.call(O,B)},null,L))}u.forEach=a;function t(F,M){return w((R,O=null,L)=>F(B=>M(B)&&R.call(O,B),null,L))}u.filter=t;function l(F){return F}u.signal=l;function h(...F){return(M,R=null,O)=>(0,N.combinedDisposable)(...F.map(L=>L(B=>M.call(R,B),null,O)))}u.any=h;function g(F,M,R){let O=R;return n(F,L=>(O=M(O,L),O))}u.reduce=g;function w(F){let M;const R=new f({onFirstListenerAdd(){M=F(R.fire,R)},onLastListenerRemove(){M.dispose()}});return R.event}function _(F,M,R=100,O=!1,L){let B,z,$,j=0;const X=new f({leakWarningThreshold:L,onFirstListenerAdd(){B=F(Q=>{j++,z=M(z,Q),O&&!$&&(X.fire(z),z=void 0),clearTimeout($),$=setTimeout(()=>{const Y=z;z=void 0,$=void 0,(!O||j>1)&&X.fire(Y),j=0},R)})},onLastListenerRemove(){B.dispose()}});return X.event}u.debounce=_;function C(F,M=(R,O)=>R===O){let R=!0,O;return t(F,L=>{const B=R||!M(L,O);return R=!1,O=L,B})}u.latch=C;function v(F,M){return[u.filter(F,M),u.filter(F,R=>!M(R))]}u.split=v;function m(F,M=!1,R=[]){let O=R.slice(),L=F($=>{O?O.push($):z.fire($)});const B=()=>{O&&O.forEach($=>z.fire($)),O=null},z=new f({onFirstListenerAdd(){L||(L=F($=>z.fire($)))},onFirstListenerDidAdd(){O&&(M?setTimeout(B):B())},onLastListenerRemove(){L&&L.dispose(),L=null}});return z.event}u.buffer=m;class E{constructor(M){this.event=M}map(M){return new E(n(this.event,M))}forEach(M){return new E(a(this.event,M))}filter(M){return new E(t(this.event,M))}reduce(M,R){return new E(g(this.event,M,R))}latch(){return new E(C(this.event))}debounce(M,R=100,O=!1,L){return new E(_(this.event,M,R,O,L))}on(M,R,O){return this.event(M,R,O)}once(M,R,O){return s(this.event)(M,R,O)}}function I(F){return new E(F)}u.chain=I;function k(F,M,R=O=>O){const O=(...$)=>z.fire(R(...$)),L=()=>F.on(M,O),B=()=>F.removeListener(M,O),z=new f({onFirstListenerAdd:L,onLastListenerRemove:B});return z.event}u.fromNodeEventEmitter=k;function A(F,M,R=O=>O){const O=(...$)=>z.fire(R(...$)),L=()=>F.addEventListener(M,O),B=()=>F.removeEventListener(M,O),z=new f({onFirstListenerAdd:L,onLastListenerRemove:B});return z.event}u.fromDOMEventEmitter=A;function P(F){return new Promise(M=>s(F)(M))}u.toPromise=P})(S=e.Event||(e.Event={}));class p{constructor(s){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${s}_${p._idPool++}`}start(s){this._stopWatch=new D.StopWatch(!0),this._listenerCount=s}stop(){if(this._stopWatch){const s=this._stopWatch.elapsed();this._elapsedOverall+=s,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${s.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}p._idPool=0;let b=-1;class i{constructor(s,n=Math.random().toString(18).slice(2,5)){this.customThreshold=s,this.name=n,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(s){let n=b;if(typeof this.customThreshold=="number"&&(n=this.customThreshold),n<=0||s<n)return;this._stacks||(this._stacks=new Map);const a=new Error().stack.split(`
`).slice(3).join(`
`),t=this._stacks.get(a)||0;if(this._stacks.set(a,t+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let l,h=0;for(const[g,w]of this._stacks)(!l||h<w)&&(l=g,h=w);console.warn(`[${this.name}] potential listener LEAK detected, having ${s} listeners already. MOST frequent listener (${h}):`),console.warn(l)}return()=>{const l=this._stacks.get(a)||0;this._stacks.set(a,l-1)}}}class f{constructor(s){var n;this._disposed=!1,this._options=s,this._leakageMon=b>0?new i(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=((n=this._options)===null||n===void 0?void 0:n._profName)?new p(this._options._profName):void 0}get event(){return this._event||(this._event=(s,n,a)=>{var t;this._listeners||(this._listeners=new T.LinkedList);const l=this._listeners.isEmpty();l&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const h=this._listeners.push(n?[s,n]:s);l&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,s,n);const g=(t=this._leakageMon)===null||t===void 0?void 0:t.check(this._listeners.size),w=(0,N.toDisposable)(()=>{g&&g(),this._disposed||(h(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return a instanceof N.DisposableStore?a.add(w):Array.isArray(a)&&a.push(w),w}),this._event}fire(s){var n,a;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new T.LinkedList);for(let t of this._listeners)this._deliveryQueue.push([t,s]);for((n=this._perfMon)===null||n===void 0||n.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[t,l]=this._deliveryQueue.shift();try{typeof t=="function"?t.call(void 0,l):t[0].call(t[1],l)}catch(h){(0,y.onUnexpectedError)(h)}}(a=this._perfMon)===null||a===void 0||a.stop()}}dispose(){var s,n,a,t,l;this._disposed||(this._disposed=!0,(s=this._listeners)===null||s===void 0||s.clear(),(n=this._deliveryQueue)===null||n===void 0||n.clear(),(t=(a=this._options)===null||a===void 0?void 0:a.onLastListenerRemove)===null||t===void 0||t.call(a),(l=this._leakageMon)===null||l===void 0||l.dispose())}}e.Emitter=f;class r extends f{constructor(s){super(s);this._isPaused=0,this._eventQueue=new T.LinkedList,this._mergeFn=s==null?void 0:s.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const s=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(s))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(s){this._listeners&&(this._isPaused!==0?this._eventQueue.push(s):super.fire(s))}}e.PauseableEmitter=r;class o extends r{constructor(s){var n;super(s);this._delay=(n=s.delay)!==null&&n!==void 0?n:100}fire(s){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(s)}}e.DebounceEmitter=o;class d{constructor(){this.buffers=[]}wrapEvent(s){return(n,a,t)=>s(l=>{const h=this.buffers[this.buffers.length-1];h?h.push(()=>n.call(a,l)):n.call(a,l)},void 0,t)}bufferEvents(s){const n=[];this.buffers.push(n);const a=s();return this.buffers.pop(),n.forEach(t=>t()),a}}e.EventBufferer=d;class c{constructor(){this.listening=!1,this.inputEvent=S.None,this.inputEventListener=N.Disposable.None,this.emitter=new f({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(s){this.inputEvent=s,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=s(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=c}),define(te[36],ie([0,1,6]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getPixelRatio=e.getZoomFactor=e.onDidChangeZoomLevel=e.getTimeSinceLastZoomLevelChanged=e.getZoomLevel=void 0;class N{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new y.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let r=document.createElement("canvas").getContext("2d"),o=window.devicePixelRatio||1,d=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;return o/d}}N.INSTANCE=new N;function T(){return N.INSTANCE.getZoomLevel()}e.getZoomLevel=T;function D(){return N.INSTANCE.getTimeSinceLastZoomLevelChanged()}e.getTimeSinceLastZoomLevelChanged=D;function S(f){return N.INSTANCE.onDidChangeZoomLevel(f)}e.onDidChangeZoomLevel=S;function p(){return N.INSTANCE.getZoomFactor()}e.getZoomFactor=p;function b(){return N.INSTANCE.getPixelRatio()}e.getPixelRatio=b;const i=navigator.userAgent;e.isFirefox=i.indexOf("Firefox")>=0,e.isWebKit=i.indexOf("AppleWebKit")>=0,e.isChrome=i.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&i.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isAndroid=i.indexOf("Android")>=0,e.isStandalone=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches}),define(te[159],ie([0,1,36,17]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:N.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:N.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>N.isNative||y.isStandalone?0:navigator.keyboard||y.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}}),define(te[92],ie([0,1,6]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stopEvent=e.DomEmitter=void 0;class N{constructor(S,p,b){const i=f=>this.emitter.fire(f);this.emitter=new y.Emitter({onFirstListenerAdd:()=>S.addEventListener(p,i,b),onLastListenerRemove:()=>S.removeEventListener(p,i,b)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}e.DomEmitter=N;function T(D){return D.preventDefault(),D.stopPropagation(),D}e.stopEvent=T}),define(te[52],ie([0,1,36,43,17]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;let D=new Array(230),S=new Array(112);(function(){for(let c=0;c<S.length;c++)S[c]=-1;function d(c,u){D[c]=u,S[u]=c}d(3,7),d(8,1),d(9,2),d(13,3),d(16,4),d(17,5),d(18,6),d(19,7),d(20,8),d(27,9),d(32,10),d(33,11),d(34,12),d(35,13),d(36,14),d(37,15),d(38,16),d(39,17),d(40,18),d(45,19),d(46,20),d(48,21),d(49,22),d(50,23),d(51,24),d(52,25),d(53,26),d(54,27),d(55,28),d(56,29),d(57,30),d(65,31),d(66,32),d(67,33),d(68,34),d(69,35),d(70,36),d(71,37),d(72,38),d(73,39),d(74,40),d(75,41),d(76,42),d(77,43),d(78,44),d(79,45),d(80,46),d(81,47),d(82,48),d(83,49),d(84,50),d(85,51),d(86,52),d(87,53),d(88,54),d(89,55),d(90,56),d(93,58),d(96,93),d(97,94),d(98,95),d(99,96),d(100,97),d(101,98),d(102,99),d(103,100),d(104,101),d(105,102),d(106,103),d(107,104),d(108,105),d(109,106),d(110,107),d(111,108),d(112,59),d(113,60),d(114,61),d(115,62),d(116,63),d(117,64),d(118,65),d(119,66),d(120,67),d(121,68),d(122,69),d(123,70),d(124,71),d(125,72),d(126,73),d(127,74),d(128,75),d(129,76),d(130,77),d(144,78),d(145,79),d(186,80),d(187,81),d(188,82),d(189,83),d(190,84),d(191,85),d(192,86),d(193,110),d(194,111),d(219,87),d(220,88),d(221,89),d(222,90),d(223,91),d(226,92),d(229,109),y.isFirefox?(d(59,80),d(107,81),d(109,83),T.isMacintosh&&d(224,57)):y.isWebKit&&(d(91,57),T.isMacintosh?d(93,57):d(92,57))})();function p(d){if(d.charCode){let c=String.fromCharCode(d.charCode).toUpperCase();return N.KeyCodeUtils.fromString(c)}return D[d.keyCode]||0}const b=T.isMacintosh?256:2048,i=512,f=1024,r=T.isMacintosh?2048:256;class o{constructor(c){this._standardKeyboardEventBrand=!0;let u=c;this.browserEvent=u,this.target=u.target,this.ctrlKey=u.ctrlKey,this.shiftKey=u.shiftKey,this.altKey=u.altKey,this.metaKey=u.metaKey,this.keyCode=p(u),this.code=u.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(c){return this._asKeybinding===c}_computeKeybinding(){let c=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(c=this.keyCode);let u=0;return this.ctrlKey&&(u|=b),this.altKey&&(u|=i),this.shiftKey&&(u|=f),this.metaKey&&(u|=r),u|=c,u}_computeRuntimeKeybinding(){let c=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(c=this.keyCode),new N.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,c)}}e.StandardKeyboardEvent=o}),define(te[55],ie([0,1,36,202,17]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class D{constructor(b){this.timestamp=Date.now(),this.browserEvent=b,this.leftButton=b.button===0,this.middleButton=b.button===1,this.rightButton=b.button===2,this.buttons=b.buttons,this.target=b.target,this.detail=b.detail||1,b.type==="dblclick"&&(this.detail=2),this.ctrlKey=b.ctrlKey,this.shiftKey=b.shiftKey,this.altKey=b.altKey,this.metaKey=b.metaKey,typeof b.pageX=="number"?(this.posx=b.pageX,this.posy=b.pageY):(this.posx=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=b.clientY+document.body.scrollTop+document.documentElement.scrollTop);let i=N.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,b.view);this.posx-=i.left,this.posy-=i.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=D;class S{constructor(b,i=0,f=0){if(this.browserEvent=b||null,this.target=b?b.target||b.targetNode||b.srcElement:null,this.deltaY=f,this.deltaX=i,b){let r=b,o=b;if(typeof r.wheelDeltaY!="undefined")this.deltaY=r.wheelDeltaY/120;else if(typeof o.VERTICAL_AXIS!="undefined"&&o.axis===o.VERTICAL_AXIS)this.deltaY=-o.detail/3;else if(b.type==="wheel"){const d=b;d.deltaMode===d.DOM_DELTA_LINE?y.isFirefox&&!T.isMacintosh?this.deltaY=-b.deltaY/3:this.deltaY=-b.deltaY:this.deltaY=-b.deltaY/40}if(typeof r.wheelDeltaX!="undefined")y.isSafari&&T.isWindows?this.deltaX=-(r.wheelDeltaX/120):this.deltaX=r.wheelDeltaX/120;else if(typeof o.HORIZONTAL_AXIS!="undefined"&&o.axis===o.HORIZONTAL_AXIS)this.deltaX=-b.detail/3;else if(b.type==="wheel"){const d=b;d.deltaMode===d.DOM_DELTA_LINE?y.isFirefox&&!T.isMacintosh?this.deltaX=-b.deltaX/3:this.deltaX=-b.deltaX:this.deltaX=-b.deltaX/40}this.deltaY===0&&this.deltaX===0&&b.wheelDelta&&(this.deltaY=b.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}e.StandardWheelEvent=S}),define(te[23],ie([0,1,6]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const N=Object.freeze(function(p,b){const i=setTimeout(p.bind(b),0);return{dispose(){clearTimeout(i)}}});var T;(function(p){function b(i){return i===p.None||i===p.Cancelled||i instanceof D?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}p.isCancellationToken=b,p.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:y.Event.None}),p.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:N})})(T=e.CancellationToken||(e.CancellationToken={}));class D{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?N:(this._emitter||(this._emitter=new y.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class S{constructor(b){this._token=void 0,this._parentListener=void 0,this._parentListener=b&&b.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new D),this._token}cancel(){this._token?this._token instanceof D&&this._token.cancel():this._token=T.Cancelled}dispose(b=!1){b&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof D&&this._token.dispose():this._token=T.None}}e.CancellationTokenSource=S});var Me=this&&this.__awaiter||function(q,e,y,N){function T(D){return D instanceof y?D:new y(function(S){S(D)})}return new(y||(y=Promise))(function(D,S){function p(f){try{i(N.next(f))}catch(r){S(r)}}function b(f){try{i(N.throw(f))}catch(r){S(r)}}function i(f){f.done?D(f.value):T(f.value).then(p,b)}i((N=N.apply(q,e||[])).next())})};define(te[14],ie([0,1,23,10,2]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Promises=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function D(t){return!!t&&typeof t.then=="function"}e.isThenable=D;function S(t){const l=new y.CancellationTokenSource,h=t(l.token),g=new Promise((w,_)=>{const C=l.token.onCancellationRequested(()=>{C.dispose(),l.dispose(),_((0,N.canceled)())});Promise.resolve(h).then(v=>{C.dispose(),l.dispose(),w(v)},v=>{C.dispose(),l.dispose(),_(v)})});return new class{cancel(){l.cancel()}then(w,_){return g.then(w,_)}catch(w){return this.then(void 0,w)}finally(w){return g.finally(w)}}}e.createCancelablePromise=S;function p(t,l,h){return Promise.race([t,new Promise(g=>l.onCancellationRequested(()=>g(h)))])}e.raceCancellation=p;class b{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(l){if(this.activePromise){if(this.queuedPromiseFactory=l,!this.queuedPromise){const h=()=>{this.queuedPromise=null;const g=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,g};this.queuedPromise=new Promise(g=>{this.activePromise.then(h,h).then(g)})}return new Promise((h,g)=>{this.queuedPromise.then(h,g)})}return this.activePromise=l(),new Promise((h,g)=>{this.activePromise.then(w=>{this.activePromise=null,h(w)},w=>{this.activePromise=null,g(w)})})}}e.Throttler=b;class i{constructor(l){this.defaultDelay=l,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(l,h=this.defaultDelay){return this.task=l,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((g,w)=>{this.doResolve=g,this.doReject=w}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const g=this.task;return this.task=null,g()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},h),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,N.canceled)()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}e.Delayer=i;class f{constructor(l){this.delayer=new i(l),this.throttler=new b}trigger(l,h){return this.delayer.trigger(()=>this.throttler.queue(l),h)}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=f;function r(t,l){return l?new Promise((h,g)=>{const w=setTimeout(()=>{_.dispose(),h()},t),_=l.onCancellationRequested(()=>{clearTimeout(w),_.dispose(),g((0,N.canceled)())})}):S(h=>r(t,h))}e.timeout=r;function o(t,l=0){const h=setTimeout(t,l);return(0,T.toDisposable)(()=>clearTimeout(h))}e.disposableTimeout=o;function d(t,l=g=>!!g,h=null){let g=0;const w=t.length,_=()=>{if(g>=w)return Promise.resolve(h);const C=t[g++];return Promise.resolve(C()).then(m=>l(m)?Promise.resolve(m):_())};return _()}e.first=d;class c{constructor(l,h){this._token=-1,typeof l=="function"&&typeof h=="number"&&this.setIfNotSet(l,h)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(l,h){this.cancel(),this._token=setTimeout(()=>{this._token=-1,l()},h)}setIfNotSet(l,h){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,l()},h))}}e.TimeoutTimer=c;class u{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(l,h){this.cancel(),this._token=setInterval(()=>{l()},h)}}e.IntervalTimer=u;class s{constructor(l,h){this.timeoutToken=-1,this.runner=l,this.timeout=h,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(l=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,l)}get delay(){return this.timeout}set delay(l){this.timeout=l}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=s,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=t=>{const l=setTimeout(()=>{const g=Date.now()+15;t(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,g-Date.now())}}))});let h=!1;return{dispose(){h||(h=!0,clearTimeout(l))}}}:e.runWhenIdle=(t,l)=>{const h=requestIdleCallback(t,typeof l=="number"?{timeout:l}:void 0);let g=!1;return{dispose(){g||(g=!0,cancelIdleCallback(h))}}}}();class n{constructor(l){this._didRun=!1,this._executor=()=>{try{this._value=l()}catch(h){this._error=h}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=n;var a;(function(t){function l(h){return Me(this,void 0,void 0,function*(){let g;const w=yield Promise.all(h.map(_=>_.then(C=>C,C=>{g||(g=C)})));if(typeof g!="undefined")throw g;return w})}t.settled=l})(a=e.Promises||(e.Promises={}))}),define(te[300],ie([0,1,14,2]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class T extends N.Disposable{constructor(S,p,b){super();this._visibility=S,this._visibleClassName=p,this._invisibleClassName=b,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new y.TimeoutTimer)}setVisibility(S){this._visibility!==S&&(this._visibility=S,this._updateShouldBeVisible())}setShouldBeVisible(S){this._rawShouldBeVisible=S,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const S=this._applyVisibilitySetting();this._shouldBeVisible!==S&&(this._shouldBeVisible=S,this.ensureVisibility())}setIsNeeded(S){this._isNeeded!==S&&(this._isNeeded=S,this.ensureVisibility())}setDomNode(S){this._domNode=S,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(S){this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(S?" fade":"")))}}e.ScrollbarVisibilityController=T}),define(te[27],ie([0,1,6]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.Codicon=e.getCodiconAriaLabel=e.registerCodicon=e.iconRegistry=void 0;class N{constructor(){this._icons=new Map,this._onDidRegister=new y.Emitter}add(f){const r=this._icons.get(f.id);r?f.description?r.description=f.description:console.error(`Duplicate registration of codicon ${f.id}`):(this._icons.set(f.id,f),this._onDidRegister.fire(f))}get(f){return this._icons.get(f)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}}const T=new N;e.iconRegistry=T;function D(i,f){return new p(i,f)}e.registerCodicon=D;function S(i){return i?i.replace(/\$\((.*?)\)/g,(f,r)=>` ${r} `).trim():""}e.getCodiconAriaLabel=S;class p{constructor(f,r,o){this.id=f,this.definition=r,this.description=o,T.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}e.Codicon=p;var b;(function(i){i.iconNameSegment="[A-Za-z0-9]+",i.iconNameExpression="[A-Za-z0-9\\-]+",i.iconModifierExpression="~[A-Za-z]+";const f=new RegExp(`^(${i.iconNameExpression})(${i.iconModifierExpression})?$`);function r(c){if(c instanceof p)return["codicon","codicon-"+c.id];const u=f.exec(c.id);if(!u)return r(p.error);let[,s,n]=u;const a=["codicon","codicon-"+s];return n&&a.push("codicon-modifier-"+n.substr(1)),a}i.asClassNameArray=r;function o(c){return r(c).join(" ")}i.asClassName=o;function d(c){return"."+r(c).join(".")}i.asCSSSelector=d})(b=e.CSSIcon||(e.CSSIcon={})),function(i){i.add=new i("add",{fontCharacter:"\\ea60"}),i.plus=new i("plus",{fontCharacter:"\\ea60"}),i.gistNew=new i("gist-new",{fontCharacter:"\\ea60"}),i.repoCreate=new i("repo-create",{fontCharacter:"\\ea60"}),i.lightbulb=new i("lightbulb",{fontCharacter:"\\ea61"}),i.lightBulb=new i("light-bulb",{fontCharacter:"\\ea61"}),i.repo=new i("repo",{fontCharacter:"\\ea62"}),i.repoDelete=new i("repo-delete",{fontCharacter:"\\ea62"}),i.gistFork=new i("gist-fork",{fontCharacter:"\\ea63"}),i.repoForked=new i("repo-forked",{fontCharacter:"\\ea63"}),i.gitPullRequest=new i("git-pull-request",{fontCharacter:"\\ea64"}),i.gitPullRequestAbandoned=new i("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),i.recordKeys=new i("record-keys",{fontCharacter:"\\ea65"}),i.keyboard=new i("keyboard",{fontCharacter:"\\ea65"}),i.tag=new i("tag",{fontCharacter:"\\ea66"}),i.tagAdd=new i("tag-add",{fontCharacter:"\\ea66"}),i.tagRemove=new i("tag-remove",{fontCharacter:"\\ea66"}),i.person=new i("person",{fontCharacter:"\\ea67"}),i.personFollow=new i("person-follow",{fontCharacter:"\\ea67"}),i.personOutline=new i("person-outline",{fontCharacter:"\\ea67"}),i.personFilled=new i("person-filled",{fontCharacter:"\\ea67"}),i.gitBranch=new i("git-branch",{fontCharacter:"\\ea68"}),i.gitBranchCreate=new i("git-branch-create",{fontCharacter:"\\ea68"}),i.gitBranchDelete=new i("git-branch-delete",{fontCharacter:"\\ea68"}),i.sourceControl=new i("source-control",{fontCharacter:"\\ea68"}),i.mirror=new i("mirror",{fontCharacter:"\\ea69"}),i.mirrorPublic=new i("mirror-public",{fontCharacter:"\\ea69"}),i.star=new i("star",{fontCharacter:"\\ea6a"}),i.starAdd=new i("star-add",{fontCharacter:"\\ea6a"}),i.starDelete=new i("star-delete",{fontCharacter:"\\ea6a"}),i.starEmpty=new i("star-empty",{fontCharacter:"\\ea6a"}),i.comment=new i("comment",{fontCharacter:"\\ea6b"}),i.commentAdd=new i("comment-add",{fontCharacter:"\\ea6b"}),i.alert=new i("alert",{fontCharacter:"\\ea6c"}),i.warning=new i("warning",{fontCharacter:"\\ea6c"}),i.search=new i("search",{fontCharacter:"\\ea6d"}),i.searchSave=new i("search-save",{fontCharacter:"\\ea6d"}),i.logOut=new i("log-out",{fontCharacter:"\\ea6e"}),i.signOut=new i("sign-out",{fontCharacter:"\\ea6e"}),i.logIn=new i("log-in",{fontCharacter:"\\ea6f"}),i.signIn=new i("sign-in",{fontCharacter:"\\ea6f"}),i.eye=new i("eye",{fontCharacter:"\\ea70"}),i.eyeUnwatch=new i("eye-unwatch",{fontCharacter:"\\ea70"}),i.eyeWatch=new i("eye-watch",{fontCharacter:"\\ea70"}),i.circleFilled=new i("circle-filled",{fontCharacter:"\\ea71"}),i.primitiveDot=new i("primitive-dot",{fontCharacter:"\\ea71"}),i.closeDirty=new i("close-dirty",{fontCharacter:"\\ea71"}),i.debugBreakpoint=new i("debug-breakpoint",{fontCharacter:"\\ea71"}),i.debugBreakpointDisabled=new i("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),i.debugHint=new i("debug-hint",{fontCharacter:"\\ea71"}),i.primitiveSquare=new i("primitive-square",{fontCharacter:"\\ea72"}),i.edit=new i("edit",{fontCharacter:"\\ea73"}),i.pencil=new i("pencil",{fontCharacter:"\\ea73"}),i.info=new i("info",{fontCharacter:"\\ea74"}),i.issueOpened=new i("issue-opened",{fontCharacter:"\\ea74"}),i.gistPrivate=new i("gist-private",{fontCharacter:"\\ea75"}),i.gitForkPrivate=new i("git-fork-private",{fontCharacter:"\\ea75"}),i.lock=new i("lock",{fontCharacter:"\\ea75"}),i.mirrorPrivate=new i("mirror-private",{fontCharacter:"\\ea75"}),i.close=new i("close",{fontCharacter:"\\ea76"}),i.removeClose=new i("remove-close",{fontCharacter:"\\ea76"}),i.x=new i("x",{fontCharacter:"\\ea76"}),i.repoSync=new i("repo-sync",{fontCharacter:"\\ea77"}),i.sync=new i("sync",{fontCharacter:"\\ea77"}),i.clone=new i("clone",{fontCharacter:"\\ea78"}),i.desktopDownload=new i("desktop-download",{fontCharacter:"\\ea78"}),i.beaker=new i("beaker",{fontCharacter:"\\ea79"}),i.microscope=new i("microscope",{fontCharacter:"\\ea79"}),i.vm=new i("vm",{fontCharacter:"\\ea7a"}),i.deviceDesktop=new i("device-desktop",{fontCharacter:"\\ea7a"}),i.file=new i("file",{fontCharacter:"\\ea7b"}),i.fileText=new i("file-text",{fontCharacter:"\\ea7b"}),i.more=new i("more",{fontCharacter:"\\ea7c"}),i.ellipsis=new i("ellipsis",{fontCharacter:"\\ea7c"}),i.kebabHorizontal=new i("kebab-horizontal",{fontCharacter:"\\ea7c"}),i.mailReply=new i("mail-reply",{fontCharacter:"\\ea7d"}),i.reply=new i("reply",{fontCharacter:"\\ea7d"}),i.organization=new i("organization",{fontCharacter:"\\ea7e"}),i.organizationFilled=new i("organization-filled",{fontCharacter:"\\ea7e"}),i.organizationOutline=new i("organization-outline",{fontCharacter:"\\ea7e"}),i.newFile=new i("new-file",{fontCharacter:"\\ea7f"}),i.fileAdd=new i("file-add",{fontCharacter:"\\ea7f"}),i.newFolder=new i("new-folder",{fontCharacter:"\\ea80"}),i.fileDirectoryCreate=new i("file-directory-create",{fontCharacter:"\\ea80"}),i.trash=new i("trash",{fontCharacter:"\\ea81"}),i.trashcan=new i("trashcan",{fontCharacter:"\\ea81"}),i.history=new i("history",{fontCharacter:"\\ea82"}),i.clock=new i("clock",{fontCharacter:"\\ea82"}),i.folder=new i("folder",{fontCharacter:"\\ea83"}),i.fileDirectory=new i("file-directory",{fontCharacter:"\\ea83"}),i.symbolFolder=new i("symbol-folder",{fontCharacter:"\\ea83"}),i.logoGithub=new i("logo-github",{fontCharacter:"\\ea84"}),i.markGithub=new i("mark-github",{fontCharacter:"\\ea84"}),i.github=new i("github",{fontCharacter:"\\ea84"}),i.terminal=new i("terminal",{fontCharacter:"\\ea85"}),i.console=new i("console",{fontCharacter:"\\ea85"}),i.repl=new i("repl",{fontCharacter:"\\ea85"}),i.zap=new i("zap",{fontCharacter:"\\ea86"}),i.symbolEvent=new i("symbol-event",{fontCharacter:"\\ea86"}),i.error=new i("error",{fontCharacter:"\\ea87"}),i.stop=new i("stop",{fontCharacter:"\\ea87"}),i.variable=new i("variable",{fontCharacter:"\\ea88"}),i.symbolVariable=new i("symbol-variable",{fontCharacter:"\\ea88"}),i.array=new i("array",{fontCharacter:"\\ea8a"}),i.symbolArray=new i("symbol-array",{fontCharacter:"\\ea8a"}),i.symbolModule=new i("symbol-module",{fontCharacter:"\\ea8b"}),i.symbolPackage=new i("symbol-package",{fontCharacter:"\\ea8b"}),i.symbolNamespace=new i("symbol-namespace",{fontCharacter:"\\ea8b"}),i.symbolObject=new i("symbol-object",{fontCharacter:"\\ea8b"}),i.symbolMethod=new i("symbol-method",{fontCharacter:"\\ea8c"}),i.symbolFunction=new i("symbol-function",{fontCharacter:"\\ea8c"}),i.symbolConstructor=new i("symbol-constructor",{fontCharacter:"\\ea8c"}),i.symbolBoolean=new i("symbol-boolean",{fontCharacter:"\\ea8f"}),i.symbolNull=new i("symbol-null",{fontCharacter:"\\ea8f"}),i.symbolNumeric=new i("symbol-numeric",{fontCharacter:"\\ea90"}),i.symbolNumber=new i("symbol-number",{fontCharacter:"\\ea90"}),i.symbolStructure=new i("symbol-structure",{fontCharacter:"\\ea91"}),i.symbolStruct=new i("symbol-struct",{fontCharacter:"\\ea91"}),i.symbolParameter=new i("symbol-parameter",{fontCharacter:"\\ea92"}),i.symbolTypeParameter=new i("symbol-type-parameter",{fontCharacter:"\\ea92"}),i.symbolKey=new i("symbol-key",{fontCharacter:"\\ea93"}),i.symbolText=new i("symbol-text",{fontCharacter:"\\ea93"}),i.symbolReference=new i("symbol-reference",{fontCharacter:"\\ea94"}),i.goToFile=new i("go-to-file",{fontCharacter:"\\ea94"}),i.symbolEnum=new i("symbol-enum",{fontCharacter:"\\ea95"}),i.symbolValue=new i("symbol-value",{fontCharacter:"\\ea95"}),i.symbolRuler=new i("symbol-ruler",{fontCharacter:"\\ea96"}),i.symbolUnit=new i("symbol-unit",{fontCharacter:"\\ea96"}),i.activateBreakpoints=new i("activate-breakpoints",{fontCharacter:"\\ea97"}),i.archive=new i("archive",{fontCharacter:"\\ea98"}),i.arrowBoth=new i("arrow-both",{fontCharacter:"\\ea99"}),i.arrowDown=new i("arrow-down",{fontCharacter:"\\ea9a"}),i.arrowLeft=new i("arrow-left",{fontCharacter:"\\ea9b"}),i.arrowRight=new i("arrow-right",{fontCharacter:"\\ea9c"}),i.arrowSmallDown=new i("arrow-small-down",{fontCharacter:"\\ea9d"}),i.arrowSmallLeft=new i("arrow-small-left",{fontCharacter:"\\ea9e"}),i.arrowSmallRight=new i("arrow-small-right",{fontCharacter:"\\ea9f"}),i.arrowSmallUp=new i("arrow-small-up",{fontCharacter:"\\eaa0"}),i.arrowUp=new i("arrow-up",{fontCharacter:"\\eaa1"}),i.bell=new i("bell",{fontCharacter:"\\eaa2"}),i.bold=new i("bold",{fontCharacter:"\\eaa3"}),i.book=new i("book",{fontCharacter:"\\eaa4"}),i.bookmark=new i("bookmark",{fontCharacter:"\\eaa5"}),i.debugBreakpointConditionalUnverified=new i("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),i.debugBreakpointConditional=new i("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),i.debugBreakpointConditionalDisabled=new i("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),i.debugBreakpointDataUnverified=new i("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),i.debugBreakpointData=new i("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),i.debugBreakpointDataDisabled=new i("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),i.debugBreakpointLogUnverified=new i("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),i.debugBreakpointLog=new i("debug-breakpoint-log",{fontCharacter:"\\eaab"}),i.debugBreakpointLogDisabled=new i("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),i.briefcase=new i("briefcase",{fontCharacter:"\\eaac"}),i.broadcast=new i("broadcast",{fontCharacter:"\\eaad"}),i.browser=new i("browser",{fontCharacter:"\\eaae"}),i.bug=new i("bug",{fontCharacter:"\\eaaf"}),i.calendar=new i("calendar",{fontCharacter:"\\eab0"}),i.caseSensitive=new i("case-sensitive",{fontCharacter:"\\eab1"}),i.check=new i("check",{fontCharacter:"\\eab2"}),i.checklist=new i("checklist",{fontCharacter:"\\eab3"}),i.chevronDown=new i("chevron-down",{fontCharacter:"\\eab4"}),i.chevronLeft=new i("chevron-left",{fontCharacter:"\\eab5"}),i.chevronRight=new i("chevron-right",{fontCharacter:"\\eab6"}),i.chevronUp=new i("chevron-up",{fontCharacter:"\\eab7"}),i.chromeClose=new i("chrome-close",{fontCharacter:"\\eab8"}),i.chromeMaximize=new i("chrome-maximize",{fontCharacter:"\\eab9"}),i.chromeMinimize=new i("chrome-minimize",{fontCharacter:"\\eaba"}),i.chromeRestore=new i("chrome-restore",{fontCharacter:"\\eabb"}),i.circleOutline=new i("circle-outline",{fontCharacter:"\\eabc"}),i.debugBreakpointUnverified=new i("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),i.circleSlash=new i("circle-slash",{fontCharacter:"\\eabd"}),i.circuitBoard=new i("circuit-board",{fontCharacter:"\\eabe"}),i.clearAll=new i("clear-all",{fontCharacter:"\\eabf"}),i.clippy=new i("clippy",{fontCharacter:"\\eac0"}),i.closeAll=new i("close-all",{fontCharacter:"\\eac1"}),i.cloudDownload=new i("cloud-download",{fontCharacter:"\\eac2"}),i.cloudUpload=new i("cloud-upload",{fontCharacter:"\\eac3"}),i.code=new i("code",{fontCharacter:"\\eac4"}),i.collapseAll=new i("collapse-all",{fontCharacter:"\\eac5"}),i.colorMode=new i("color-mode",{fontCharacter:"\\eac6"}),i.commentDiscussion=new i("comment-discussion",{fontCharacter:"\\eac7"}),i.compareChanges=new i("compare-changes",{fontCharacter:"\\eafd"}),i.creditCard=new i("credit-card",{fontCharacter:"\\eac9"}),i.dash=new i("dash",{fontCharacter:"\\eacc"}),i.dashboard=new i("dashboard",{fontCharacter:"\\eacd"}),i.database=new i("database",{fontCharacter:"\\eace"}),i.debugContinue=new i("debug-continue",{fontCharacter:"\\eacf"}),i.debugDisconnect=new i("debug-disconnect",{fontCharacter:"\\ead0"}),i.debugPause=new i("debug-pause",{fontCharacter:"\\ead1"}),i.debugRestart=new i("debug-restart",{fontCharacter:"\\ead2"}),i.debugStart=new i("debug-start",{fontCharacter:"\\ead3"}),i.debugStepInto=new i("debug-step-into",{fontCharacter:"\\ead4"}),i.debugStepOut=new i("debug-step-out",{fontCharacter:"\\ead5"}),i.debugStepOver=new i("debug-step-over",{fontCharacter:"\\ead6"}),i.debugStop=new i("debug-stop",{fontCharacter:"\\ead7"}),i.debug=new i("debug",{fontCharacter:"\\ead8"}),i.deviceCameraVideo=new i("device-camera-video",{fontCharacter:"\\ead9"}),i.deviceCamera=new i("device-camera",{fontCharacter:"\\eada"}),i.deviceMobile=new i("device-mobile",{fontCharacter:"\\eadb"}),i.diffAdded=new i("diff-added",{fontCharacter:"\\eadc"}),i.diffIgnored=new i("diff-ignored",{fontCharacter:"\\eadd"}),i.diffModified=new i("diff-modified",{fontCharacter:"\\eade"}),i.diffRemoved=new i("diff-removed",{fontCharacter:"\\eadf"}),i.diffRenamed=new i("diff-renamed",{fontCharacter:"\\eae0"}),i.diff=new i("diff",{fontCharacter:"\\eae1"}),i.discard=new i("discard",{fontCharacter:"\\eae2"}),i.editorLayout=new i("editor-layout",{fontCharacter:"\\eae3"}),i.emptyWindow=new i("empty-window",{fontCharacter:"\\eae4"}),i.exclude=new i("exclude",{fontCharacter:"\\eae5"}),i.extensions=new i("extensions",{fontCharacter:"\\eae6"}),i.eyeClosed=new i("eye-closed",{fontCharacter:"\\eae7"}),i.fileBinary=new i("file-binary",{fontCharacter:"\\eae8"}),i.fileCode=new i("file-code",{fontCharacter:"\\eae9"}),i.fileMedia=new i("file-media",{fontCharacter:"\\eaea"}),i.filePdf=new i("file-pdf",{fontCharacter:"\\eaeb"}),i.fileSubmodule=new i("file-submodule",{fontCharacter:"\\eaec"}),i.fileSymlinkDirectory=new i("file-symlink-directory",{fontCharacter:"\\eaed"}),i.fileSymlinkFile=new i("file-symlink-file",{fontCharacter:"\\eaee"}),i.fileZip=new i("file-zip",{fontCharacter:"\\eaef"}),i.files=new i("files",{fontCharacter:"\\eaf0"}),i.filter=new i("filter",{fontCharacter:"\\eaf1"}),i.flame=new i("flame",{fontCharacter:"\\eaf2"}),i.foldDown=new i("fold-down",{fontCharacter:"\\eaf3"}),i.foldUp=new i("fold-up",{fontCharacter:"\\eaf4"}),i.fold=new i("fold",{fontCharacter:"\\eaf5"}),i.folderActive=new i("folder-active",{fontCharacter:"\\eaf6"}),i.folderOpened=new i("folder-opened",{fontCharacter:"\\eaf7"}),i.gear=new i("gear",{fontCharacter:"\\eaf8"}),i.gift=new i("gift",{fontCharacter:"\\eaf9"}),i.gistSecret=new i("gist-secret",{fontCharacter:"\\eafa"}),i.gist=new i("gist",{fontCharacter:"\\eafb"}),i.gitCommit=new i("git-commit",{fontCharacter:"\\eafc"}),i.gitCompare=new i("git-compare",{fontCharacter:"\\eafd"}),i.gitMerge=new i("git-merge",{fontCharacter:"\\eafe"}),i.githubAction=new i("github-action",{fontCharacter:"\\eaff"}),i.githubAlt=new i("github-alt",{fontCharacter:"\\eb00"}),i.globe=new i("globe",{fontCharacter:"\\eb01"}),i.grabber=new i("grabber",{fontCharacter:"\\eb02"}),i.graph=new i("graph",{fontCharacter:"\\eb03"}),i.gripper=new i("gripper",{fontCharacter:"\\eb04"}),i.heart=new i("heart",{fontCharacter:"\\eb05"}),i.home=new i("home",{fontCharacter:"\\eb06"}),i.horizontalRule=new i("horizontal-rule",{fontCharacter:"\\eb07"}),i.hubot=new i("hubot",{fontCharacter:"\\eb08"}),i.inbox=new i("inbox",{fontCharacter:"\\eb09"}),i.issueClosed=new i("issue-closed",{fontCharacter:"\\eba4"}),i.issueReopened=new i("issue-reopened",{fontCharacter:"\\eb0b"}),i.issues=new i("issues",{fontCharacter:"\\eb0c"}),i.italic=new i("italic",{fontCharacter:"\\eb0d"}),i.jersey=new i("jersey",{fontCharacter:"\\eb0e"}),i.json=new i("json",{fontCharacter:"\\eb0f"}),i.kebabVertical=new i("kebab-vertical",{fontCharacter:"\\eb10"}),i.key=new i("key",{fontCharacter:"\\eb11"}),i.law=new i("law",{fontCharacter:"\\eb12"}),i.lightbulbAutofix=new i("lightbulb-autofix",{fontCharacter:"\\eb13"}),i.linkExternal=new i("link-external",{fontCharacter:"\\eb14"}),i.link=new i("link",{fontCharacter:"\\eb15"}),i.listOrdered=new i("list-ordered",{fontCharacter:"\\eb16"}),i.listUnordered=new i("list-unordered",{fontCharacter:"\\eb17"}),i.liveShare=new i("live-share",{fontCharacter:"\\eb18"}),i.loading=new i("loading",{fontCharacter:"\\eb19"}),i.location=new i("location",{fontCharacter:"\\eb1a"}),i.mailRead=new i("mail-read",{fontCharacter:"\\eb1b"}),i.mail=new i("mail",{fontCharacter:"\\eb1c"}),i.markdown=new i("markdown",{fontCharacter:"\\eb1d"}),i.megaphone=new i("megaphone",{fontCharacter:"\\eb1e"}),i.mention=new i("mention",{fontCharacter:"\\eb1f"}),i.milestone=new i("milestone",{fontCharacter:"\\eb20"}),i.mortarBoard=new i("mortar-board",{fontCharacter:"\\eb21"}),i.move=new i("move",{fontCharacter:"\\eb22"}),i.multipleWindows=new i("multiple-windows",{fontCharacter:"\\eb23"}),i.mute=new i("mute",{fontCharacter:"\\eb24"}),i.noNewline=new i("no-newline",{fontCharacter:"\\eb25"}),i.note=new i("note",{fontCharacter:"\\eb26"}),i.octoface=new i("octoface",{fontCharacter:"\\eb27"}),i.openPreview=new i("open-preview",{fontCharacter:"\\eb28"}),i.package_=new i("package",{fontCharacter:"\\eb29"}),i.paintcan=new i("paintcan",{fontCharacter:"\\eb2a"}),i.pin=new i("pin",{fontCharacter:"\\eb2b"}),i.play=new i("play",{fontCharacter:"\\eb2c"}),i.run=new i("run",{fontCharacter:"\\eb2c"}),i.plug=new i("plug",{fontCharacter:"\\eb2d"}),i.preserveCase=new i("preserve-case",{fontCharacter:"\\eb2e"}),i.preview=new i("preview",{fontCharacter:"\\eb2f"}),i.project=new i("project",{fontCharacter:"\\eb30"}),i.pulse=new i("pulse",{fontCharacter:"\\eb31"}),i.question=new i("question",{fontCharacter:"\\eb32"}),i.quote=new i("quote",{fontCharacter:"\\eb33"}),i.radioTower=new i("radio-tower",{fontCharacter:"\\eb34"}),i.reactions=new i("reactions",{fontCharacter:"\\eb35"}),i.references=new i("references",{fontCharacter:"\\eb36"}),i.refresh=new i("refresh",{fontCharacter:"\\eb37"}),i.regex=new i("regex",{fontCharacter:"\\eb38"}),i.remoteExplorer=new i("remote-explorer",{fontCharacter:"\\eb39"}),i.remote=new i("remote",{fontCharacter:"\\eb3a"}),i.remove=new i("remove",{fontCharacter:"\\eb3b"}),i.replaceAll=new i("replace-all",{fontCharacter:"\\eb3c"}),i.replace=new i("replace",{fontCharacter:"\\eb3d"}),i.repoClone=new i("repo-clone",{fontCharacter:"\\eb3e"}),i.repoForcePush=new i("repo-force-push",{fontCharacter:"\\eb3f"}),i.repoPull=new i("repo-pull",{fontCharacter:"\\eb40"}),i.repoPush=new i("repo-push",{fontCharacter:"\\eb41"}),i.report=new i("report",{fontCharacter:"\\eb42"}),i.requestChanges=new i("request-changes",{fontCharacter:"\\eb43"}),i.rocket=new i("rocket",{fontCharacter:"\\eb44"}),i.rootFolderOpened=new i("root-folder-opened",{fontCharacter:"\\eb45"}),i.rootFolder=new i("root-folder",{fontCharacter:"\\eb46"}),i.rss=new i("rss",{fontCharacter:"\\eb47"}),i.ruby=new i("ruby",{fontCharacter:"\\eb48"}),i.saveAll=new i("save-all",{fontCharacter:"\\eb49"}),i.saveAs=new i("save-as",{fontCharacter:"\\eb4a"}),i.save=new i("save",{fontCharacter:"\\eb4b"}),i.screenFull=new i("screen-full",{fontCharacter:"\\eb4c"}),i.screenNormal=new i("screen-normal",{fontCharacter:"\\eb4d"}),i.searchStop=new i("search-stop",{fontCharacter:"\\eb4e"}),i.server=new i("server",{fontCharacter:"\\eb50"}),i.settingsGear=new i("settings-gear",{fontCharacter:"\\eb51"}),i.settings=new i("settings",{fontCharacter:"\\eb52"}),i.shield=new i("shield",{fontCharacter:"\\eb53"}),i.smiley=new i("smiley",{fontCharacter:"\\eb54"}),i.sortPrecedence=new i("sort-precedence",{fontCharacter:"\\eb55"}),i.splitHorizontal=new i("split-horizontal",{fontCharacter:"\\eb56"}),i.splitVertical=new i("split-vertical",{fontCharacter:"\\eb57"}),i.squirrel=new i("squirrel",{fontCharacter:"\\eb58"}),i.starFull=new i("star-full",{fontCharacter:"\\eb59"}),i.starHalf=new i("star-half",{fontCharacter:"\\eb5a"}),i.symbolClass=new i("symbol-class",{fontCharacter:"\\eb5b"}),i.symbolColor=new i("symbol-color",{fontCharacter:"\\eb5c"}),i.symbolConstant=new i("symbol-constant",{fontCharacter:"\\eb5d"}),i.symbolEnumMember=new i("symbol-enum-member",{fontCharacter:"\\eb5e"}),i.symbolField=new i("symbol-field",{fontCharacter:"\\eb5f"}),i.symbolFile=new i("symbol-file",{fontCharacter:"\\eb60"}),i.symbolInterface=new i("symbol-interface",{fontCharacter:"\\eb61"}),i.symbolKeyword=new i("symbol-keyword",{fontCharacter:"\\eb62"}),i.symbolMisc=new i("symbol-misc",{fontCharacter:"\\eb63"}),i.symbolOperator=new i("symbol-operator",{fontCharacter:"\\eb64"}),i.symbolProperty=new i("symbol-property",{fontCharacter:"\\eb65"}),i.wrench=new i("wrench",{fontCharacter:"\\eb65"}),i.wrenchSubaction=new i("wrench-subaction",{fontCharacter:"\\eb65"}),i.symbolSnippet=new i("symbol-snippet",{fontCharacter:"\\eb66"}),i.tasklist=new i("tasklist",{fontCharacter:"\\eb67"}),i.telescope=new i("telescope",{fontCharacter:"\\eb68"}),i.textSize=new i("text-size",{fontCharacter:"\\eb69"}),i.threeBars=new i("three-bars",{fontCharacter:"\\eb6a"}),i.thumbsdown=new i("thumbsdown",{fontCharacter:"\\eb6b"}),i.thumbsup=new i("thumbsup",{fontCharacter:"\\eb6c"}),i.tools=new i("tools",{fontCharacter:"\\eb6d"}),i.triangleDown=new i("triangle-down",{fontCharacter:"\\eb6e"}),i.triangleLeft=new i("triangle-left",{fontCharacter:"\\eb6f"}),i.triangleRight=new i("triangle-right",{fontCharacter:"\\eb70"}),i.triangleUp=new i("triangle-up",{fontCharacter:"\\eb71"}),i.twitter=new i("twitter",{fontCharacter:"\\eb72"}),i.unfold=new i("unfold",{fontCharacter:"\\eb73"}),i.unlock=new i("unlock",{fontCharacter:"\\eb74"}),i.unmute=new i("unmute",{fontCharacter:"\\eb75"}),i.unverified=new i("unverified",{fontCharacter:"\\eb76"}),i.verified=new i("verified",{fontCharacter:"\\eb77"}),i.versions=new i("versions",{fontCharacter:"\\eb78"}),i.vmActive=new i("vm-active",{fontCharacter:"\\eb79"}),i.vmOutline=new i("vm-outline",{fontCharacter:"\\eb7a"}),i.vmRunning=new i("vm-running",{fontCharacter:"\\eb7b"}),i.watch=new i("watch",{fontCharacter:"\\eb7c"}),i.whitespace=new i("whitespace",{fontCharacter:"\\eb7d"}),i.wholeWord=new i("whole-word",{fontCharacter:"\\eb7e"}),i.window=new i("window",{fontCharacter:"\\eb7f"}),i.wordWrap=new i("word-wrap",{fontCharacter:"\\eb80"}),i.zoomIn=new i("zoom-in",{fontCharacter:"\\eb81"}),i.zoomOut=new i("zoom-out",{fontCharacter:"\\eb82"}),i.listFilter=new i("list-filter",{fontCharacter:"\\eb83"}),i.listFlat=new i("list-flat",{fontCharacter:"\\eb84"}),i.listSelection=new i("list-selection",{fontCharacter:"\\eb85"}),i.selection=new i("selection",{fontCharacter:"\\eb85"}),i.listTree=new i("list-tree",{fontCharacter:"\\eb86"}),i.debugBreakpointFunctionUnverified=new i("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),i.debugBreakpointFunction=new i("debug-breakpoint-function",{fontCharacter:"\\eb88"}),i.debugBreakpointFunctionDisabled=new i("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),i.debugStackframeActive=new i("debug-stackframe-active",{fontCharacter:"\\eb89"}),i.debugStackframeDot=new i("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),i.debugStackframe=new i("debug-stackframe",{fontCharacter:"\\eb8b"}),i.debugStackframeFocused=new i("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),i.debugBreakpointUnsupported=new i("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),i.symbolString=new i("symbol-string",{fontCharacter:"\\eb8d"}),i.debugReverseContinue=new i("debug-reverse-continue",{fontCharacter:"\\eb8e"}),i.debugStepBack=new i("debug-step-back",{fontCharacter:"\\eb8f"}),i.debugRestartFrame=new i("debug-restart-frame",{fontCharacter:"\\eb90"}),i.callIncoming=new i("call-incoming",{fontCharacter:"\\eb92"}),i.callOutgoing=new i("call-outgoing",{fontCharacter:"\\eb93"}),i.menu=new i("menu",{fontCharacter:"\\eb94"}),i.expandAll=new i("expand-all",{fontCharacter:"\\eb95"}),i.feedback=new i("feedback",{fontCharacter:"\\eb96"}),i.groupByRefType=new i("group-by-ref-type",{fontCharacter:"\\eb97"}),i.ungroupByRefType=new i("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),i.account=new i("account",{fontCharacter:"\\eb99"}),i.bellDot=new i("bell-dot",{fontCharacter:"\\eb9a"}),i.debugConsole=new i("debug-console",{fontCharacter:"\\eb9b"}),i.library=new i("library",{fontCharacter:"\\eb9c"}),i.output=new i("output",{fontCharacter:"\\eb9d"}),i.runAll=new i("run-all",{fontCharacter:"\\eb9e"}),i.syncIgnored=new i("sync-ignored",{fontCharacter:"\\eb9f"}),i.pinned=new i("pinned",{fontCharacter:"\\eba0"}),i.githubInverted=new i("github-inverted",{fontCharacter:"\\eba1"}),i.debugAlt=new i("debug-alt",{fontCharacter:"\\eb91"}),i.serverProcess=new i("server-process",{fontCharacter:"\\eba2"}),i.serverEnvironment=new i("server-environment",{fontCharacter:"\\eba3"}),i.pass=new i("pass",{fontCharacter:"\\eba4"}),i.stopCircle=new i("stop-circle",{fontCharacter:"\\eba5"}),i.playCircle=new i("play-circle",{fontCharacter:"\\eba6"}),i.record=new i("record",{fontCharacter:"\\eba7"}),i.debugAltSmall=new i("debug-alt-small",{fontCharacter:"\\eba8"}),i.vmConnect=new i("vm-connect",{fontCharacter:"\\eba9"}),i.cloud=new i("cloud",{fontCharacter:"\\ebaa"}),i.merge=new i("merge",{fontCharacter:"\\ebab"}),i.exportIcon=new i("export",{fontCharacter:"\\ebac"}),i.graphLeft=new i("graph-left",{fontCharacter:"\\ebad"}),i.magnet=new i("magnet",{fontCharacter:"\\ebae"}),i.notebook=new i("notebook",{fontCharacter:"\\ebaf"}),i.redo=new i("redo",{fontCharacter:"\\ebb0"}),i.checkAll=new i("check-all",{fontCharacter:"\\ebb1"}),i.pinnedDirty=new i("pinned-dirty",{fontCharacter:"\\ebb2"}),i.passFilled=new i("pass-filled",{fontCharacter:"\\ebb3"}),i.circleLargeFilled=new i("circle-large-filled",{fontCharacter:"\\ebb4"}),i.circleLargeOutline=new i("circle-large-outline",{fontCharacter:"\\ebb5"}),i.combine=new i("combine",{fontCharacter:"\\ebb6"}),i.gather=new i("gather",{fontCharacter:"\\ebb6"}),i.table=new i("table",{fontCharacter:"\\ebb7"}),i.variableGroup=new i("variable-group",{fontCharacter:"\\ebb8"}),i.typeHierarchy=new i("type-hierarchy",{fontCharacter:"\\ebb9"}),i.typeHierarchySub=new i("type-hierarchy-sub",{fontCharacter:"\\ebba"}),i.typeHierarchySuper=new i("type-hierarchy-super",{fontCharacter:"\\ebbb"}),i.gitPullRequestCreate=new i("git-pull-request-create",{fontCharacter:"\\ebbc"}),i.runAbove=new i("run-above",{fontCharacter:"\\ebbd"}),i.runBelow=new i("run-below",{fontCharacter:"\\ebbe"}),i.notebookTemplate=new i("notebook-template",{fontCharacter:"\\ebbf"}),i.debugRerun=new i("debug-rerun",{fontCharacter:"\\ebc0"}),i.workspaceTrusted=new i("workspace-trusted",{fontCharacter:"\\ebc1"}),i.workspaceUntrusted=new i("workspace-untrusted",{fontCharacter:"\\ebc2"}),i.workspaceUnspecified=new i("workspace-unspecified",{fontCharacter:"\\ebc3"}),i.terminalCmd=new i("terminal-cmd",{fontCharacter:"\\ebc4"}),i.terminalDebian=new i("terminal-debian",{fontCharacter:"\\ebc5"}),i.terminalLinux=new i("terminal-linux",{fontCharacter:"\\ebc6"}),i.terminalPowershell=new i("terminal-powershell",{fontCharacter:"\\ebc7"}),i.terminalTmux=new i("terminal-tmux",{fontCharacter:"\\ebc8"}),i.terminalUbuntu=new i("terminal-ubuntu",{fontCharacter:"\\ebc9"}),i.terminalBash=new i("terminal-bash",{fontCharacter:"\\ebca"}),i.arrowSwap=new i("arrow-swap",{fontCharacter:"\\ebcb"}),i.copy=new i("copy",{fontCharacter:"\\ebcc"}),i.personAdd=new i("person-add",{fontCharacter:"\\ebcd"}),i.filterFilled=new i("filter-filled",{fontCharacter:"\\ebce"}),i.wand=new i("wand",{fontCharacter:"\\ebcf"}),i.debugLineByLine=new i("debug-line-by-line",{fontCharacter:"\\ebd0"}),i.inspect=new i("inspect",{fontCharacter:"\\ebd1"}),i.layers=new i("layers",{fontCharacter:"\\ebd2"}),i.layersDot=new i("layers-dot",{fontCharacter:"\\ebd3"}),i.layersActive=new i("layers-active",{fontCharacter:"\\ebd4"}),i.compass=new i("compass",{fontCharacter:"\\ebd5"}),i.compassDot=new i("compass-dot",{fontCharacter:"\\ebd6"}),i.compassActive=new i("compass-active",{fontCharacter:"\\ebd7"}),i.azure=new i("azure",{fontCharacter:"\\ebd8"}),i.issueDraft=new i("issue-draft",{fontCharacter:"\\ebd9"}),i.gitPullRequestClosed=new i("git-pull-request-closed",{fontCharacter:"\\ebda"}),i.gitPullRequestDraft=new i("git-pull-request-draft",{fontCharacter:"\\ebdb"}),i.debugAll=new i("debug-all",{fontCharacter:"\\ebdc"}),i.debugCoverage=new i("debug-coverage",{fontCharacter:"\\ebdd"}),i.runErrors=new i("run-errors",{fontCharacter:"\\ebde"}),i.folderLibrary=new i("folder-library",{fontCharacter:"\\ebdf"}),i.debugContinueSmall=new i("debug-continue-small",{fontCharacter:"\\ebe0"}),i.beakerStop=new i("beaker-stop",{fontCharacter:"\\ebe1"}),i.graphLine=new i("graph-line",{fontCharacter:"\\ebe2"}),i.graphScatter=new i("graph-scatter",{fontCharacter:"\\ebe3"}),i.pieChart=new i("pie-chart",{fontCharacter:"\\ebe4"}),i.bracket=new i("bracket",{fontCharacter:"\\eb0f"}),i.bracketDot=new i("bracket-dot",{fontCharacter:"\\ebe5"}),i.bracketError=new i("bracket-error",{fontCharacter:"\\ebe6"}),i.dropDownButton=new i("drop-down-button",i.chevronDown.definition)}(p=e.Codicon||(e.Codicon={}))}),define(te[206],ie([0,1,27]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.treeItemLoadingIcon=e.treeFilterClearIcon=e.treeFilterOnTypeOffIcon=e.treeFilterOnTypeOnIcon=e.treeItemExpandedIcon=void 0,e.treeItemExpandedIcon=(0,y.registerCodicon)("tree-item-expanded",y.Codicon.chevronDown),e.treeFilterOnTypeOnIcon=(0,y.registerCodicon)("tree-filter-on-type-on",y.Codicon.listFilter),e.treeFilterOnTypeOffIcon=(0,y.registerCodicon)("tree-filter-on-type-off",y.Codicon.listSelection),e.treeFilterClearIcon=(0,y.registerCodicon)("tree-filter-clear",y.Codicon.close),e.treeItemLoadingIcon=(0,y.registerCodicon)("tree-item-loading",y.Codicon.loading)}),define(te[301],ie([0,1,14]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const N=new y.IdleValue(()=>{const p=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:p,collatorIsNumeric:p.resolvedOptions().numeric}});function T(p,b,i=!1){const f=p||"",r=b||"",o=N.value.collator.compare(f,r);return N.value.collatorIsNumeric&&o===0&&f!==r?f<r?-1:1:o}e.compareFileNames=T;function D(p,b,i){const f=p.toLowerCase(),r=b.toLowerCase(),o=S(p,b,i);if(o)return o;const d=f.endsWith(i),c=r.endsWith(i);if(d!==c)return d?-1:1;const u=T(f,r);return u!==0?u:f.localeCompare(r)}e.compareAnything=D;function S(p,b,i){const f=p.toLowerCase(),r=b.toLowerCase(),o=f.startsWith(i),d=r.startsWith(i);if(o!==d)return o?-1:1;if(o&&d){if(f.length<r.length)return-1;if(f.length>r.length)return 1}return 0}e.compareByPrefix=S}),define(te[130],ie([0,1,6,2]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class T{constructor(d,c,u,s,n,a){this._scrollStateBrand=void 0,d=d|0,c=c|0,u=u|0,s=s|0,n=n|0,a=a|0,this.rawScrollLeft=u,this.rawScrollTop=a,d<0&&(d=0),u+d>c&&(u=c-d),u<0&&(u=0),s<0&&(s=0),a+s>n&&(a=n-s),a<0&&(a=0),this.width=d,this.scrollWidth=c,this.scrollLeft=u,this.height=s,this.scrollHeight=n,this.scrollTop=a}equals(d){return this.rawScrollLeft===d.rawScrollLeft&&this.rawScrollTop===d.rawScrollTop&&this.width===d.width&&this.scrollWidth===d.scrollWidth&&this.scrollLeft===d.scrollLeft&&this.height===d.height&&this.scrollHeight===d.scrollHeight&&this.scrollTop===d.scrollTop}withScrollDimensions(d,c){return new T(typeof d.width!="undefined"?d.width:this.width,typeof d.scrollWidth!="undefined"?d.scrollWidth:this.scrollWidth,c?this.rawScrollLeft:this.scrollLeft,typeof d.height!="undefined"?d.height:this.height,typeof d.scrollHeight!="undefined"?d.scrollHeight:this.scrollHeight,c?this.rawScrollTop:this.scrollTop)}withScrollPosition(d){return new T(this.width,this.scrollWidth,typeof d.scrollLeft!="undefined"?d.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof d.scrollTop!="undefined"?d.scrollTop:this.rawScrollTop)}createScrollEvent(d,c){const u=this.width!==d.width,s=this.scrollWidth!==d.scrollWidth,n=this.scrollLeft!==d.scrollLeft,a=this.height!==d.height,t=this.scrollHeight!==d.scrollHeight,l=this.scrollTop!==d.scrollTop;return{inSmoothScrolling:c,oldWidth:d.width,oldScrollWidth:d.scrollWidth,oldScrollLeft:d.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:d.height,oldScrollHeight:d.scrollHeight,oldScrollTop:d.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:u,scrollWidthChanged:s,scrollLeftChanged:n,heightChanged:a,scrollHeightChanged:t,scrollTopChanged:l}}}e.ScrollState=T;class D extends N.Disposable{constructor(d,c){super();this._scrollableBrand=void 0,this._onScroll=this._register(new y.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=d,this._scheduleAtNextAnimationFrame=c,this._state=new T(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(d){this._smoothScrollDuration=d}validateScrollPosition(d){return this._state.withScrollPosition(d)}getScrollDimensions(){return this._state}setScrollDimensions(d,c){const u=this._state.withScrollDimensions(d,c);this._setState(u,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(d){const c=this._state.withScrollPosition(d);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(c,!1)}setScrollPositionSmooth(d,c){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(d);if(this._smoothScrolling){d={scrollLeft:typeof d.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:d.scrollLeft,scrollTop:typeof d.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:d.scrollTop};const u=this._state.withScrollPosition(d);if(this._smoothScrolling.to.scrollLeft===u.scrollLeft&&this._smoothScrolling.to.scrollTop===u.scrollTop)return;let s;c?s=new i(this._smoothScrolling.from,u,this._smoothScrolling.startTime,this._smoothScrolling.duration):s=this._smoothScrolling.combine(this._state,u,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=s}else{const u=this._state.withScrollPosition(d);this._smoothScrolling=i.start(this._state,u,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const d=this._smoothScrolling.tick(),c=this._state.withScrollPosition(d);if(this._setState(c,!0),!!this._smoothScrolling){if(d.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(d,c){const u=this._state;u.equals(d)||(this._state=d,this._onScroll.fire(this._state.createScrollEvent(u,c)))}}e.Scrollable=D;class S{constructor(d,c,u){this.scrollLeft=d,this.scrollTop=c,this.isDone=u}}e.SmoothScrollingUpdate=S;function p(o,d){const c=d-o;return function(u){return o+c*r(u)}}function b(o,d,c){return function(u){return u<c?o(u/c):d((u-c)/(1-c))}}class i{constructor(d,c,u,s){this.from=d,this.to=c,this.duration=s,this.startTime=u,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(d,c,u){if(Math.abs(d-c)>2.5*u){let n,a;return d<c?(n=d+.75*u,a=c-.75*u):(n=d-.75*u,a=c+.75*u),b(p(d,n),p(a,c),.33)}return p(d,c)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(d){this.to=d.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(d){const c=(d-this.startTime)/this.duration;if(c<1){const u=this.scrollLeft(c),s=this.scrollTop(c);return new S(u,s,!1)}return new S(this.to.scrollLeft,this.to.scrollTop,!0)}combine(d,c,u){return i.start(d,c,u)}static start(d,c,u){u=u+10;const s=Date.now()-10;return new i(d,c,s,u)}}e.SmoothScrollingOperation=i;function f(o){return Math.pow(o,3)}function r(o){return 1-f(1-o)}}),define(te[8],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLeftDeleteOffset=e.breakBetweenGraphemeBreakType=e.getGraphemeBreakType=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsEmoji=e.containsRTL=e.prevCharLength=e.nextCharLength=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function y(ee){return!ee||typeof ee!="string"?!0:ee.trim().length===0}e.isFalsyOrWhitespace=y;const N=/{(\d+)}/g;function T(ee,...de){return de.length===0?ee:ee.replace(N,function(ae,ce){const J=parseInt(ce,10);return isNaN(J)||J<0||J>=de.length?ae:de[J]})}e.format=T;function D(ee){return ee.replace(/[<>&]/g,function(de){switch(de){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return de}})}e.escape=D;function S(ee){return ee.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=S;function p(ee,de=" "){const ae=b(ee,de);return i(ae,de)}e.trim=p;function b(ee,de){if(!ee||!de)return ee;const ae=de.length;if(ae===0||ee.length===0)return ee;let ce=0;for(;ee.indexOf(de,ce)===ce;)ce=ce+ae;return ee.substring(ce)}e.ltrim=b;function i(ee,de){if(!ee||!de)return ee;const ae=de.length,ce=ee.length;if(ae===0||ce===0)return ee;let J=ce,Z=-1;for(;Z=ee.lastIndexOf(de,J-1),!(Z===-1||Z+ae!==J);){if(Z===0)return"";J=Z}return ee.substring(0,J)}e.rtrim=i;function f(ee){return ee.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=f;function r(ee){return ee.replace(/\*/g,"")}e.stripWildcards=r;function o(ee,de,ae={}){if(!ee)throw new Error("Cannot create regex from empty string");de||(ee=S(ee)),ae.wholeWord&&(/\B/.test(ee.charAt(0))||(ee="\\b"+ee),/\B/.test(ee.charAt(ee.length-1))||(ee=ee+"\\b"));let ce="";return ae.global&&(ce+="g"),ae.matchCase||(ce+="i"),ae.multiline&&(ce+="m"),ae.unicode&&(ce+="u"),new RegExp(ee,ce)}e.createRegExp=o;function d(ee){return ee.source==="^"||ee.source==="^$"||ee.source==="$"||ee.source==="^\\s*$"?!1:!!(ee.exec("")&&ee.lastIndex===0)}e.regExpLeadsToEndlessLoop=d;function c(ee){return(ee.global?"g":"")+(ee.ignoreCase?"i":"")+(ee.multiline?"m":"")+(ee.unicode?"u":"")}e.regExpFlags=c;function u(ee){return ee.split(/\r\n|\r|\n/)}e.splitLines=u;function s(ee){for(let de=0,ae=ee.length;de<ae;de++){const ce=ee.charCodeAt(de);if(ce!==32&&ce!==9)return de}return-1}e.firstNonWhitespaceIndex=s;function n(ee,de=0,ae=ee.length){for(let ce=de;ce<ae;ce++){const J=ee.charCodeAt(ce);if(J!==32&&J!==9)return ee.substring(de,ce)}return ee.substring(de,ae)}e.getLeadingWhitespace=n;function a(ee,de=ee.length-1){for(let ae=de;ae>=0;ae--){const ce=ee.charCodeAt(ae);if(ce!==32&&ce!==9)return ae}return-1}e.lastNonWhitespaceIndex=a;function t(ee,de){return ee<de?-1:ee>de?1:0}e.compare=t;function l(ee,de,ae=0,ce=ee.length,J=0,Z=de.length){for(;ae<ce&&J<Z;ae++,J++){let ve=ee.charCodeAt(ae),be=de.charCodeAt(J);if(ve<be)return-1;if(ve>be)return 1}const le=ce-ae,he=Z-J;return le<he?-1:le>he?1:0}e.compareSubstring=l;function h(ee,de){return g(ee,de,0,ee.length,0,de.length)}e.compareIgnoreCase=h;function g(ee,de,ae=0,ce=ee.length,J=0,Z=de.length){for(;ae<ce&&J<Z;ae++,J++){let ve=ee.charCodeAt(ae),be=de.charCodeAt(J);if(ve===be)continue;const we=ve-be;if(!(we===32&&_(be))&&!(we===-32&&_(ve)))return w(ve)&&w(be)?we:l(ee.toLowerCase(),de.toLowerCase(),ae,ce,J,Z)}const le=ce-ae,he=Z-J;return le<he?-1:le>he?1:0}e.compareSubstringIgnoreCase=g;function w(ee){return ee>=97&&ee<=122}e.isLowerAsciiLetter=w;function _(ee){return ee>=65&&ee<=90}e.isUpperAsciiLetter=_;function C(ee){return w(ee)||_(ee)}function v(ee,de){return ee.length===de.length&&m(ee,de)}e.equalsIgnoreCase=v;function m(ee,de,ae=ee.length){for(let ce=0;ce<ae;ce++){const J=ee.charCodeAt(ce),Z=de.charCodeAt(ce);if(J!==Z){if(C(J)&&C(Z)){const le=Math.abs(J-Z);if(le!==0&&le!==32)return!1}else if(String.fromCharCode(J).toLowerCase()!==String.fromCharCode(Z).toLowerCase())return!1}}return!0}function E(ee,de){const ae=de.length;return de.length>ee.length?!1:m(ee,de,ae)}e.startsWithIgnoreCase=E;function I(ee,de){let ae,ce=Math.min(ee.length,de.length);for(ae=0;ae<ce;ae++)if(ee.charCodeAt(ae)!==de.charCodeAt(ae))return ae;return ce}e.commonPrefixLength=I;function k(ee,de){let ae,ce=Math.min(ee.length,de.length);const J=ee.length-1,Z=de.length-1;for(ae=0;ae<ce;ae++)if(ee.charCodeAt(J-ae)!==de.charCodeAt(Z-ae))return ae;return ce}e.commonSuffixLength=k;function A(ee){return 55296<=ee&&ee<=56319}e.isHighSurrogate=A;function P(ee){return 56320<=ee&&ee<=57343}e.isLowSurrogate=P;function F(ee,de){return(ee-55296<<10)+(de-56320)+65536}e.computeCodePoint=F;function M(ee,de,ae){const ce=ee.charCodeAt(ae);if(A(ce)&&ae+1<de){const J=ee.charCodeAt(ae+1);if(P(J))return F(ce,J)}return ce}e.getNextCodePoint=M;function R(ee,de){const ae=ee.charCodeAt(de-1);if(P(ae)&&de>1){const ce=ee.charCodeAt(de-2);if(A(ce))return F(ce,ae)}return ae}function O(ee,de){const ae=ue.getInstance(),ce=de,J=ee.length,Z=M(ee,J,de);de+=Z>=65536?2:1;let le=ae.getGraphemeBreakType(Z);for(;de<J;){const he=M(ee,J,de),ve=ae.getGraphemeBreakType(he);if(ne(le,ve))break;de+=he>=65536?2:1,le=ve}return de-ce}e.nextCharLength=O;function L(ee,de){const ae=ue.getInstance(),ce=de,J=R(ee,de);de-=J>=65536?2:1;let Z=ae.getGraphemeBreakType(J);for(;de>0;){const le=R(ee,de),he=ae.getGraphemeBreakType(le);if(ne(he,Z))break;de-=le>=65536?2:1,Z=he}return ce-de}e.prevCharLength=L;const B=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function z(ee){return B.test(ee)}e.containsRTL=z;const $=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;function j(ee){return $.test(ee)}e.containsEmoji=j;const X=/^[\t\n\r\x20-\x7E]*$/;function Q(ee){return X.test(ee)}e.isBasicASCII=Q,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function Y(ee){return e.UNUSUAL_LINE_TERMINATORS.test(ee)}e.containsUnusualLineTerminators=Y;function oe(ee){for(let de=0,ae=ee.length;de<ae;de++)if(se(ee.charCodeAt(de)))return!0;return!1}e.containsFullWidthCharacter=oe;function se(ee){return ee=+ee,ee>=11904&&ee<=55215||ee>=63744&&ee<=64255||ee>=65281&&ee<=65374}e.isFullWidthCharacter=se;function K(ee){return ee>=127462&&ee<=127487||ee===8986||ee===8987||ee===9200||ee===9203||ee>=9728&&ee<=10175||ee===11088||ee===11093||ee>=127744&&ee<=128591||ee>=128640&&ee<=128764||ee>=128992&&ee<=129003||ee>=129280&&ee<=129535||ee>=129648&&ee<=129750}e.isEmojiImprecise=K,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function x(ee){return!!(ee&&ee.length>0&&ee.charCodeAt(0)===65279)}e.startsWithUTF8BOM=x;function U(ee,de=!1){return ee?(de&&(ee=ee.replace(/\\./g,"")),ee.toLowerCase()!==ee):!1}e.containsUppercaseCharacter=U;function H(ee){const de=90-65+1;return ee=ee%(2*de),ee<de?String.fromCharCode(97+ee):String.fromCharCode(65+ee-de)}e.singleLetterHash=H;function V(ee){return ue.getInstance().getGraphemeBreakType(ee)}e.getGraphemeBreakType=V;function ne(ee,de){return ee===0?de!==5&&de!==7:ee===2&&de===3?!1:ee===4||ee===2||ee===3||de===4||de===2||de===3?!0:!(ee===8&&(de===8||de===9||de===11||de===12)||(ee===11||ee===9)&&(de===9||de===10)||(ee===12||ee===10)&&de===10||de===5||de===13||de===7||ee===1||ee===13&&de===14||ee===6&&de===6)}e.breakBetweenGraphemeBreakType=ne;class ue{constructor(){this._data=pe()}static getInstance(){return ue._INSTANCE||(ue._INSTANCE=new ue),ue._INSTANCE}getGraphemeBreakType(de){if(de<32)return de===10?3:de===13?2:4;if(de<127)return 0;const ae=this._data,ce=ae.length/3;let J=1;for(;J<=ce;)if(de<ae[3*J])J=2*J;else if(de>ae[3*J+1])J=2*J+1;else return ae[3*J+2];return 0}}ue._INSTANCE=null;function pe(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}function ge(ee,de){if(ee===0)return 0;const ae=W(ee,de);if(ae!==void 0)return ae;const ce=R(de,ee);return ee-=G(ce),ee}e.getLeftDeleteOffset=ge;function W(ee,de){let ae=R(de,ee);for(ee-=G(ae);re(ae)||ae===65039||ae===8419;){if(ee===0)return;ae=R(de,ee),ee-=G(ae)}if(!!K(ae)){if(ee>=0){const ce=R(de,ee);ce===8205&&(ee-=G(ce))}return ee}}function G(ee){return ee>=65536?2:1}function re(ee){return 127995<=ee&&ee<=127999}}),define(te[160],ie([0,1,74,17,8]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isRootOrDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.toPosixPath=e.toSlashes=void 0;function D(r){return r.replace(/[\\/]/g,y.posix.sep)}e.toSlashes=D;function S(r){return r.indexOf("/")===-1&&(r=D(r)),/^[a-zA-Z]:(\/|$)/.test(r)&&(r="/"+r),r}e.toPosixPath=S;function p(r,o,d,c=y.sep){if(r===o)return!0;if(!r||!o||o.length>r.length)return!1;if(d){if(!(0,T.startsWithIgnoreCase)(r,o))return!1;if(o.length===r.length)return!0;let s=o.length;return o.charAt(o.length-1)===c&&s--,r.charAt(s)===c}return o.charAt(o.length-1)!==c&&(o+=c),r.indexOf(o)===0}e.isEqualOrParent=p;function b(r){return r>=65&&r<=90||r>=97&&r<=122}e.isWindowsDriveLetter=b;function i(r){const o=(0,y.normalize)(r);return N.isWindows?r.length>3?!1:f(o)&&(r.length===2||o.charCodeAt(2)===92):o===y.posix.sep}e.isRootOrDriveLetter=i;function f(r){return N.isWindows?b(r.charCodeAt(0))&&r.charCodeAt(1)===58:!1}e.hasDriveLetter=f}),define(te[93],ie([0,1,8]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.numberHash=e.doHash=e.hash=void 0;function N(u){return T(u,0)}e.hash=N;function T(u,s){switch(typeof u){case"object":return u===null?D(349,s):Array.isArray(u)?b(u,s):i(u,s);case"string":return p(u,s);case"boolean":return S(u,s);case"number":return D(u,s);case"undefined":return D(937,s);default:return D(617,s)}}e.doHash=T;function D(u,s){return(s<<5)-s+u|0}e.numberHash=D;function S(u,s){return D(u?433:863,s)}function p(u,s){s=D(149417,s);for(let n=0,a=u.length;n<a;n++)s=D(u.charCodeAt(n),s);return s}e.stringHash=p;function b(u,s){return s=D(104579,s),u.reduce((n,a)=>T(a,n),s)}function i(u,s){return s=D(181387,s),Object.keys(u).sort().reduce((n,a)=>(n=p(a,n),T(u[a],n)),s)}function f(u,s,n=32){const a=n-s,t=~((1<<a)-1);return(u<<s|(t&u)>>>a)>>>0}function r(u,s=0,n=u.byteLength,a=0){for(let t=0;t<n;t++)u[s+t]=a}function o(u,s,n="0"){for(;u.length<s;)u=n+u;return u}function d(u,s=32){return u instanceof ArrayBuffer?Array.from(new Uint8Array(u)).map(n=>n.toString(16).padStart(2,"0")).join(""):o((u>>>0).toString(16),s/4)}e.toHexString=d;class c{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(s){const n=s.length;if(n===0)return;const a=this._buff;let t=this._buffLen,l=this._leftoverHighSurrogate,h,g;for(l!==0?(h=l,g=-1,l=0):(h=s.charCodeAt(0),g=0);;){let w=h;if(y.isHighSurrogate(h))if(g+1<n){const _=s.charCodeAt(g+1);y.isLowSurrogate(_)?(g++,w=y.computeCodePoint(h,_)):w=65533}else{l=h;break}else y.isLowSurrogate(h)&&(w=65533);if(t=this._push(a,t,w),g++,g<n)h=s.charCodeAt(g);else break}this._buffLen=t,this._leftoverHighSurrogate=l}_push(s,n,a){return a<128?s[n++]=a:a<2048?(s[n++]=192|(a&1984)>>>6,s[n++]=128|(a&63)>>>0):a<65536?(s[n++]=224|(a&61440)>>>12,s[n++]=128|(a&4032)>>>6,s[n++]=128|(a&63)>>>0):(s[n++]=240|(a&1835008)>>>18,s[n++]=128|(a&258048)>>>12,s[n++]=128|(a&4032)>>>6,s[n++]=128|(a&63)>>>0),n>=64&&(this._step(),n-=64,this._totalLen+=64,s[0]=s[64+0],s[1]=s[64+1],s[2]=s[64+2]),n}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),d(this._h0)+d(this._h1)+d(this._h2)+d(this._h3)+d(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,r(this._buff,this._buffLen),this._buffLen>56&&(this._step(),r(this._buff));const s=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(s/4294967296),!1),this._buffDV.setUint32(60,s%4294967296,!1),this._step()}_step(){const s=c._bigBlock32,n=this._buffDV;for(let v=0;v<64;v+=4)s.setUint32(v,n.getUint32(v,!1),!1);for(let v=64;v<320;v+=4)s.setUint32(v,f(s.getUint32(v-12,!1)^s.getUint32(v-32,!1)^s.getUint32(v-56,!1)^s.getUint32(v-64,!1),1),!1);let a=this._h0,t=this._h1,l=this._h2,h=this._h3,g=this._h4,w,_,C;for(let v=0;v<80;v++)v<20?(w=t&l|~t&h,_=1518500249):v<40?(w=t^l^h,_=1859775393):v<60?(w=t&l|t&h|l&h,_=2400959708):(w=t^l^h,_=3395469782),C=f(a,5)+w+g+_+s.getUint32(v*4,!1)&4294967295,g=h,h=l,l=f(t,30),t=a,a=C;this._h0=this._h0+a&4294967295,this._h1=this._h1+t&4294967295,this._h2=this._h2+l&4294967295,this._h3=this._h3+h&4294967295,this._h4=this._h4+g&4294967295}}e.StringSHA1=c,c._bigBlock32=new DataView(new ArrayBuffer(320))}),define(te[131],ie([0,1,295,93]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.MyArray=e.Debug=e.stringDiff=e.StringDiffSequence=void 0;class T{constructor(r){this.source=r}getElements(){const r=this.source,o=new Int32Array(r.length);for(let d=0,c=r.length;d<c;d++)o[d]=r.charCodeAt(d);return o}}e.StringDiffSequence=T;function D(f,r,o){return new i(new T(f),new T(r)).ComputeDiff(o).changes}e.stringDiff=D;class S{static Assert(r,o){if(!r)throw new Error(o)}}e.Debug=S;class p{static Copy(r,o,d,c,u){for(let s=0;s<u;s++)d[c+s]=r[o+s]}static Copy2(r,o,d,c,u){for(let s=0;s<u;s++)d[c+s]=r[o+s]}}e.MyArray=p;class b{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new y.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(r,o){this.m_originalStart=Math.min(this.m_originalStart,r),this.m_modifiedStart=Math.min(this.m_modifiedStart,o),this.m_originalCount++}AddModifiedElement(r,o){this.m_originalStart=Math.min(this.m_originalStart,r),this.m_modifiedStart=Math.min(this.m_modifiedStart,o),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class i{constructor(r,o,d=null){this.ContinueProcessingPredicate=d,this._originalSequence=r,this._modifiedSequence=o;const[c,u,s]=i._getElements(r),[n,a,t]=i._getElements(o);this._hasStrings=s&&t,this._originalStringElements=c,this._originalElementsOrHash=u,this._modifiedStringElements=n,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(r){return r.length>0&&typeof r[0]=="string"}static _getElements(r){const o=r.getElements();if(i._isStringArray(o)){const d=new Int32Array(o.length);for(let c=0,u=o.length;c<u;c++)d[c]=(0,N.stringHash)(o[c],0);return[o,d,!0]}return o instanceof Int32Array?[[],o,!1]:[[],new Int32Array(o),!1]}ElementsAreEqual(r,o){return this._originalElementsOrHash[r]!==this._modifiedElementsOrHash[o]?!1:this._hasStrings?this._originalStringElements[r]===this._modifiedStringElements[o]:!0}ElementsAreStrictEqual(r,o){if(!this.ElementsAreEqual(r,o))return!1;const d=i._getStrictElement(this._originalSequence,r),c=i._getStrictElement(this._modifiedSequence,o);return d===c}static _getStrictElement(r,o){return typeof r.getStrictElement=="function"?r.getStrictElement(o):null}OriginalElementsAreEqual(r,o){return this._originalElementsOrHash[r]!==this._originalElementsOrHash[o]?!1:this._hasStrings?this._originalStringElements[r]===this._originalStringElements[o]:!0}ModifiedElementsAreEqual(r,o){return this._modifiedElementsOrHash[r]!==this._modifiedElementsOrHash[o]?!1:this._hasStrings?this._modifiedStringElements[r]===this._modifiedStringElements[o]:!0}ComputeDiff(r){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,r)}_ComputeDiff(r,o,d,c,u){const s=[!1];let n=this.ComputeDiffRecursive(r,o,d,c,s);return u&&(n=this.PrettifyChanges(n)),{quitEarly:s[0],changes:n}}ComputeDiffRecursive(r,o,d,c,u){for(u[0]=!1;r<=o&&d<=c&&this.ElementsAreEqual(r,d);)r++,d++;for(;o>=r&&c>=d&&this.ElementsAreEqual(o,c);)o--,c--;if(r>o||d>c){let h;return d<=c?(S.Assert(r===o+1,"originalStart should only be one more than originalEnd"),h=[new y.DiffChange(r,0,d,c-d+1)]):r<=o?(S.Assert(d===c+1,"modifiedStart should only be one more than modifiedEnd"),h=[new y.DiffChange(r,o-r+1,d,0)]):(S.Assert(r===o+1,"originalStart should only be one more than originalEnd"),S.Assert(d===c+1,"modifiedStart should only be one more than modifiedEnd"),h=[]),h}const s=[0],n=[0],a=this.ComputeRecursionPoint(r,o,d,c,s,n,u),t=s[0],l=n[0];if(a!==null)return a;if(!u[0]){const h=this.ComputeDiffRecursive(r,t,d,l,u);let g=[];return u[0]?g=[new y.DiffChange(t+1,o-(t+1)+1,l+1,c-(l+1)+1)]:g=this.ComputeDiffRecursive(t+1,o,l+1,c,u),this.ConcatenateChanges(h,g)}return[new y.DiffChange(r,o-r+1,d,c-d+1)]}WALKTRACE(r,o,d,c,u,s,n,a,t,l,h,g,w,_,C,v,m,E){let I=null,k=null,A=new b,P=o,F=d,M=w[0]-v[0]-c,R=-1073741824,O=this.m_forwardHistory.length-1;do{const L=M+r;L===P||L<F&&t[L-1]<t[L+1]?(h=t[L+1],_=h-M-c,h<R&&A.MarkNextChange(),R=h,A.AddModifiedElement(h+1,_),M=L+1-r):(h=t[L-1]+1,_=h-M-c,h<R&&A.MarkNextChange(),R=h-1,A.AddOriginalElement(h,_+1),M=L-1-r),O>=0&&(t=this.m_forwardHistory[O],r=t[0],P=1,F=t.length-1)}while(--O>=-1);if(I=A.getReverseChanges(),E[0]){let L=w[0]+1,B=v[0]+1;if(I!==null&&I.length>0){const z=I[I.length-1];L=Math.max(L,z.getOriginalEnd()),B=Math.max(B,z.getModifiedEnd())}k=[new y.DiffChange(L,g-L+1,B,C-B+1)]}else{A=new b,P=s,F=n,M=w[0]-v[0]-a,R=1073741824,O=m?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const L=M+u;L===P||L<F&&l[L-1]>=l[L+1]?(h=l[L+1]-1,_=h-M-a,h>R&&A.MarkNextChange(),R=h+1,A.AddOriginalElement(h+1,_+1),M=L+1-u):(h=l[L-1],_=h-M-a,h>R&&A.MarkNextChange(),R=h,A.AddModifiedElement(h+1,_+1),M=L-1-u),O>=0&&(l=this.m_reverseHistory[O],u=l[0],P=1,F=l.length-1)}while(--O>=-1);k=A.getChanges()}return this.ConcatenateChanges(I,k)}ComputeRecursionPoint(r,o,d,c,u,s,n){let a=0,t=0,l=0,h=0,g=0,w=0;r--,d--,u[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const _=o-r+(c-d),C=_+1,v=new Int32Array(C),m=new Int32Array(C),E=c-d,I=o-r,k=r-d,A=o-c,F=(I-E)%2==0;v[E]=r,m[I]=o,n[0]=!1;for(let M=1;M<=_/2+1;M++){let R=0,O=0;l=this.ClipDiagonalBound(E-M,M,E,C),h=this.ClipDiagonalBound(E+M,M,E,C);for(let B=l;B<=h;B+=2){B===l||B<h&&v[B-1]<v[B+1]?a=v[B+1]:a=v[B-1]+1,t=a-(B-E)-k;const z=a;for(;a<o&&t<c&&this.ElementsAreEqual(a+1,t+1);)a++,t++;if(v[B]=a,a+t>R+O&&(R=a,O=t),!F&&Math.abs(B-I)<=M-1&&a>=m[B])return u[0]=a,s[0]=t,z<=m[B]&&1447>0&&M<=1447+1?this.WALKTRACE(E,l,h,k,I,g,w,A,v,m,a,o,u,t,c,s,F,n):null}const L=(R-r+(O-d)-M)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(R,L))return n[0]=!0,u[0]=R,s[0]=O,L>0&&1447>0&&M<=1447+1?this.WALKTRACE(E,l,h,k,I,g,w,A,v,m,a,o,u,t,c,s,F,n):(r++,d++,[new y.DiffChange(r,o-r+1,d,c-d+1)]);g=this.ClipDiagonalBound(I-M,M,I,C),w=this.ClipDiagonalBound(I+M,M,I,C);for(let B=g;B<=w;B+=2){B===g||B<w&&m[B-1]>=m[B+1]?a=m[B+1]-1:a=m[B-1],t=a-(B-I)-A;const z=a;for(;a>r&&t>d&&this.ElementsAreEqual(a,t);)a--,t--;if(m[B]=a,F&&Math.abs(B-E)<=M&&a<=v[B])return u[0]=a,s[0]=t,z>=v[B]&&1447>0&&M<=1447+1?this.WALKTRACE(E,l,h,k,I,g,w,A,v,m,a,o,u,t,c,s,F,n):null}if(M<=1447){let B=new Int32Array(h-l+2);B[0]=E-l+1,p.Copy2(v,l,B,1,h-l+1),this.m_forwardHistory.push(B),B=new Int32Array(w-g+2),B[0]=I-g+1,p.Copy2(m,g,B,1,w-g+1),this.m_reverseHistory.push(B)}}return this.WALKTRACE(E,l,h,k,I,g,w,A,v,m,a,o,u,t,c,s,F,n)}PrettifyChanges(r){for(let o=0;o<r.length;o++){const d=r[o],c=o<r.length-1?r[o+1].originalStart:this._originalElementsOrHash.length,u=o<r.length-1?r[o+1].modifiedStart:this._modifiedElementsOrHash.length,s=d.originalLength>0,n=d.modifiedLength>0;for(;d.originalStart+d.originalLength<c&&d.modifiedStart+d.modifiedLength<u&&(!s||this.OriginalElementsAreEqual(d.originalStart,d.originalStart+d.originalLength))&&(!n||this.ModifiedElementsAreEqual(d.modifiedStart,d.modifiedStart+d.modifiedLength));){const t=this.ElementsAreStrictEqual(d.originalStart,d.modifiedStart);if(this.ElementsAreStrictEqual(d.originalStart+d.originalLength,d.modifiedStart+d.modifiedLength)&&!t)break;d.originalStart++,d.modifiedStart++}let a=[null];if(o<r.length-1&&this.ChangesOverlap(r[o],r[o+1],a)){r[o]=a[0],r.splice(o+1,1),o--;continue}}for(let o=r.length-1;o>=0;o--){const d=r[o];let c=0,u=0;if(o>0){const h=r[o-1];c=h.originalStart+h.originalLength,u=h.modifiedStart+h.modifiedLength}const s=d.originalLength>0,n=d.modifiedLength>0;let a=0,t=this._boundaryScore(d.originalStart,d.originalLength,d.modifiedStart,d.modifiedLength);for(let h=1;;h++){const g=d.originalStart-h,w=d.modifiedStart-h;if(g<c||w<u||s&&!this.OriginalElementsAreEqual(g,g+d.originalLength)||n&&!this.ModifiedElementsAreEqual(w,w+d.modifiedLength))break;const C=(g===c&&w===u?5:0)+this._boundaryScore(g,d.originalLength,w,d.modifiedLength);C>t&&(t=C,a=h)}d.originalStart-=a,d.modifiedStart-=a;const l=[null];if(o>0&&this.ChangesOverlap(r[o-1],r[o],l)){r[o-1]=l[0],r.splice(o,1),o++;continue}}if(this._hasStrings)for(let o=1,d=r.length;o<d;o++){const c=r[o-1],u=r[o],s=u.originalStart-c.originalStart-c.originalLength,n=c.originalStart,a=u.originalStart+u.originalLength,t=a-n,l=c.modifiedStart,h=u.modifiedStart+u.modifiedLength,g=h-l;if(s<5&&t<20&&g<20){const w=this._findBetterContiguousSequence(n,t,l,g,s);if(w){const[_,C]=w;(_!==c.originalStart+c.originalLength||C!==c.modifiedStart+c.modifiedLength)&&(c.originalLength=_-c.originalStart,c.modifiedLength=C-c.modifiedStart,u.originalStart=_+s,u.modifiedStart=C+s,u.originalLength=a-u.originalStart,u.modifiedLength=h-u.modifiedStart)}}}return r}_findBetterContiguousSequence(r,o,d,c,u){if(o<u||c<u)return null;const s=r+o-u+1,n=d+c-u+1;let a=0,t=0,l=0;for(let h=r;h<s;h++)for(let g=d;g<n;g++){const w=this._contiguousSequenceScore(h,g,u);w>0&&w>a&&(a=w,t=h,l=g)}return a>0?[t,l]:null}_contiguousSequenceScore(r,o,d){let c=0;for(let u=0;u<d;u++){if(!this.ElementsAreEqual(r+u,o+u))return 0;c+=this._originalStringElements[r+u].length}return c}_OriginalIsBoundary(r){return r<=0||r>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[r])}_OriginalRegionIsBoundary(r,o){if(this._OriginalIsBoundary(r)||this._OriginalIsBoundary(r-1))return!0;if(o>0){const d=r+o;if(this._OriginalIsBoundary(d-1)||this._OriginalIsBoundary(d))return!0}return!1}_ModifiedIsBoundary(r){return r<=0||r>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[r])}_ModifiedRegionIsBoundary(r,o){if(this._ModifiedIsBoundary(r)||this._ModifiedIsBoundary(r-1))return!0;if(o>0){const d=r+o;if(this._ModifiedIsBoundary(d-1)||this._ModifiedIsBoundary(d))return!0}return!1}_boundaryScore(r,o,d,c){const u=this._OriginalRegionIsBoundary(r,o)?1:0,s=this._ModifiedRegionIsBoundary(d,c)?1:0;return u+s}ConcatenateChanges(r,o){let d=[];if(r.length===0||o.length===0)return o.length>0?o:r;if(this.ChangesOverlap(r[r.length-1],o[0],d)){const c=new Array(r.length+o.length-1);return p.Copy(r,0,c,0,r.length-1),c[r.length-1]=d[0],p.Copy(o,1,c,r.length,o.length-1),c}else{const c=new Array(r.length+o.length);return p.Copy(r,0,c,0,r.length),p.Copy(o,0,c,r.length,o.length),c}}ChangesOverlap(r,o,d){if(S.Assert(r.originalStart<=o.originalStart,"Left change is not less than or equal to right change"),S.Assert(r.modifiedStart<=o.modifiedStart,"Left change is not less than or equal to right change"),r.originalStart+r.originalLength>=o.originalStart||r.modifiedStart+r.modifiedLength>=o.modifiedStart){const c=r.originalStart;let u=r.originalLength;const s=r.modifiedStart;let n=r.modifiedLength;return r.originalStart+r.originalLength>=o.originalStart&&(u=o.originalStart+o.originalLength-r.originalStart),r.modifiedStart+r.modifiedLength>=o.modifiedStart&&(n=o.modifiedStart+o.modifiedLength-r.modifiedStart),d[0]=new y.DiffChange(c,u,s,n),!0}else return d[0]=null,!1}ClipDiagonalBound(r,o,d,c){if(r>=0&&r<c)return r;const u=d,s=c-d-1,n=o%2==0;if(r<0){const a=u%2==0;return n===a?0:1}else{const a=s%2==0;return n===a?c-1:c-2}}}e.LcsDiff=i}),define(te[161],ie([0,1,103,19,131,6,54]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function p(r){return typeof r=="object"&&"visibility"in r&&"data"in r}e.isFilterResult=p;function b(r){switch(r){case!0:return 1;case!1:return 0;default:return r}}e.getVisibleState=b;function i(r){return typeof r.collapsible=="boolean"}class f{constructor(o,d,c,u={}){this.user=o,this.list=d,this.rootRef=[],this.eventBufferer=new D.EventBufferer,this._onDidChangeCollapseState=new D.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new D.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new D.Emitter,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof u.collapseByDefault=="undefined"?!1:u.collapseByDefault,this.filter=u.filter,this.autoExpandSingleChildren=typeof u.autoExpandSingleChildren=="undefined"?!1:u.autoExpandSingleChildren,this.root={parent:void 0,element:c,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(o,d,c=S.Iterable.empty(),u={}){if(o.length===0)throw new y.TreeError(this.user,"Invalid tree location");u.diffIdentityProvider?this.spliceSmart(u.diffIdentityProvider,o,d,c,u):this.spliceSimple(o,d,c,u)}spliceSmart(o,d,c,u,s,n){var a;u===void 0&&(u=S.Iterable.empty()),n===void 0&&(n=(a=s.diffDepth)!==null&&a!==void 0?a:0);const{parentNode:t}=this.getParentNodeWithListIndex(d),l=[...u],h=d[d.length-1],g=new T.LcsDiff({getElements:()=>t.children.map(m=>o.getId(m.element).toString())},{getElements:()=>[...t.children.slice(0,h),...l,...t.children.slice(h+c)].map(m=>o.getId(m.element).toString())}).ComputeDiff(!1);if(g.quitEarly)return this.spliceSimple(d,c,l,s);const w=d.slice(0,-1),_=(m,E,I)=>{if(n>0)for(let k=0;k<I;k++)m--,E--,this.spliceSmart(o,[...w,m,0],Number.MAX_SAFE_INTEGER,l[E].children,s,n-1)};let C=Math.min(t.children.length,h+c),v=l.length;for(const m of g.changes.sort((E,I)=>I.originalStart-E.originalStart))_(C,v,C-(m.originalStart+m.originalLength)),C=m.originalStart,v=m.modifiedStart-h,this.spliceSimple([...w,C],m.originalLength,S.Iterable.slice(l,v,v+m.modifiedLength),s);_(C,v,C)}spliceSimple(o,d,c=S.Iterable.empty(),{onDidCreateNode:u,onDidDeleteNode:s}){const{parentNode:n,listIndex:a,revealed:t,visible:l}=this.getParentNodeWithListIndex(o),h=[],g=S.Iterable.map(c,F=>this.createTreeNode(F,n,n.visible?1:0,t,h,u)),w=o[o.length-1],_=n.children.length>0;let C=0;for(let F=w;F>=0&&F<n.children.length;F--){const M=n.children[F];if(M.visible){C=M.visibleChildIndex;break}}const v=[];let m=0,E=0;for(const F of g)v.push(F),E+=F.renderNodeCount,F.visible&&(F.visibleChildIndex=C+m++);const I=(0,N.splice)(n.children,w,d,v);let k=0;for(const F of I)F.visible&&k++;if(k!==0)for(let F=w+v.length;F<n.children.length;F++){const M=n.children[F];M.visible&&(M.visibleChildIndex-=k)}if(n.visibleChildrenCount+=m-k,t&&l){const F=I.reduce((M,R)=>M+(R.visible?R.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(n,E-F),this.list.splice(a,F,h)}if(I.length>0&&s){const F=M=>{s(M),M.children.forEach(F)};I.forEach(F)}const A=n.children.length>0;_!==A&&this.setCollapsible(o.slice(0,-1),A),this._onDidSplice.fire({insertedNodes:v,deletedNodes:I});let P=n;for(;P;){if(P.visibility===2){this.refilter();break}P=P.parent}}rerender(o){if(o.length===0)throw new y.TreeError(this.user,"Invalid tree location");const{node:d,listIndex:c,revealed:u}=this.getTreeNodeWithListIndex(o);d.visible&&u&&this.list.splice(c,1,[d])}has(o){return this.hasTreeNode(o)}getListIndex(o){const{listIndex:d,visible:c,revealed:u}=this.getTreeNodeWithListIndex(o);return c&&u?d:-1}getListRenderCount(o){return this.getTreeNode(o).renderNodeCount}isCollapsible(o){return this.getTreeNode(o).collapsible}setCollapsible(o,d){const c=this.getTreeNode(o);typeof d=="undefined"&&(d=!c.collapsible);const u={collapsible:d};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(o,u))}isCollapsed(o){return this.getTreeNode(o).collapsed}setCollapsed(o,d,c){const u=this.getTreeNode(o);typeof d=="undefined"&&(d=!u.collapsed);const s={collapsed:d,recursive:c||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(o,s))}_setCollapseState(o,d){const{node:c,listIndex:u,revealed:s}=this.getTreeNodeWithListIndex(o),n=this._setListNodeCollapseState(c,u,s,d);if(c!==this.root&&this.autoExpandSingleChildren&&n&&!i(d)&&c.collapsible&&!c.collapsed&&!d.recursive){let a=-1;for(let t=0;t<c.children.length;t++)if(c.children[t].visible)if(a>-1){a=-1;break}else a=t;a>-1&&this._setCollapseState([...o,a],d)}return n}_setListNodeCollapseState(o,d,c,u){const s=this._setNodeCollapseState(o,u,!1);if(!c||!o.visible||!s)return s;const n=o.renderNodeCount,a=this.updateNodeAfterCollapseChange(o),t=n-(d===-1?0:1);return this.list.splice(d+1,t,a.slice(1)),s}_setNodeCollapseState(o,d,c){let u;if(o===this.root?u=!1:(i(d)?(u=o.collapsible!==d.collapsible,o.collapsible=d.collapsible):o.collapsible?(u=o.collapsed!==d.collapsed,o.collapsed=d.collapsed):u=!1,u&&this._onDidChangeCollapseState.fire({node:o,deep:c})),!i(d)&&d.recursive)for(const s of o.children)u=this._setNodeCollapseState(s,d,!0)||u;return u}expandTo(o){this.eventBufferer.bufferEvents(()=>{let d=this.getTreeNode(o);for(;d.parent;)d=d.parent,o=o.slice(0,o.length-1),d.collapsed&&this._setCollapseState(o,{collapsed:!1,recursive:!1})})}refilter(){const o=this.root.renderNodeCount,d=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,o,d)}createTreeNode(o,d,c,u,s,n){const a={parent:d,element:o.element,children:[],depth:d.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof o.collapsible=="boolean"?o.collapsible:typeof o.collapsed!="undefined",collapsed:typeof o.collapsed=="undefined"?this.collapseByDefault:o.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},t=this._filterNode(a,c);a.visibility=t,u&&s.push(a);const l=o.children||S.Iterable.empty(),h=u&&t!==0&&!a.collapsed,g=S.Iterable.map(l,C=>this.createTreeNode(C,a,t,h,s,n));let w=0,_=1;for(const C of g)a.children.push(C),_+=C.renderNodeCount,C.visible&&(C.visibleChildIndex=w++);return a.collapsible=a.collapsible||a.children.length>0,a.visibleChildrenCount=w,a.visible=t===2?w>0:t===1,a.visible?a.collapsed||(a.renderNodeCount=_):(a.renderNodeCount=0,u&&s.pop()),n&&n(a),a}updateNodeAfterCollapseChange(o){const d=o.renderNodeCount,c=[];return this._updateNodeAfterCollapseChange(o,c),this._updateAncestorsRenderNodeCount(o.parent,c.length-d),c}_updateNodeAfterCollapseChange(o,d){if(o.visible===!1)return 0;if(d.push(o),o.renderNodeCount=1,!o.collapsed)for(const c of o.children)o.renderNodeCount+=this._updateNodeAfterCollapseChange(c,d);return this._onDidChangeRenderNodeCount.fire(o),o.renderNodeCount}updateNodeAfterFilterChange(o){const d=o.renderNodeCount,c=[];return this._updateNodeAfterFilterChange(o,o.visible?1:0,c),this._updateAncestorsRenderNodeCount(o.parent,c.length-d),c}_updateNodeAfterFilterChange(o,d,c,u=!0){let s;if(o!==this.root){if(s=this._filterNode(o,d),s===0)return o.visible=!1,o.renderNodeCount=0,!1;u&&c.push(o)}const n=c.length;o.renderNodeCount=o===this.root?0:1;let a=!1;if(!o.collapsed||s!==0){let t=0;for(const l of o.children)a=this._updateNodeAfterFilterChange(l,s,c,u&&!o.collapsed)||a,l.visible&&(l.visibleChildIndex=t++);o.visibleChildrenCount=t}else o.visibleChildrenCount=0;return o!==this.root&&(o.visible=s===2?a:s===1),o.visible?o.collapsed||(o.renderNodeCount+=c.length-n):(o.renderNodeCount=0,u&&c.pop()),this._onDidChangeRenderNodeCount.fire(o),o.visible}_updateAncestorsRenderNodeCount(o,d){if(d!==0)for(;o;)o.renderNodeCount+=d,this._onDidChangeRenderNodeCount.fire(o),o=o.parent}_filterNode(o,d){const c=this.filter?this.filter.filter(o.element,d):1;return typeof c=="boolean"?(o.filterData=void 0,c?1:0):p(c)?(o.filterData=c.data,b(c.visibility)):(o.filterData=void 0,b(c))}hasTreeNode(o,d=this.root){if(!o||o.length===0)return!0;const[c,...u]=o;return c<0||c>d.children.length?!1:this.hasTreeNode(u,d.children[c])}getTreeNode(o,d=this.root){if(!o||o.length===0)return d;const[c,...u]=o;if(c<0||c>d.children.length)throw new y.TreeError(this.user,"Invalid tree location");return this.getTreeNode(u,d.children[c])}getTreeNodeWithListIndex(o){if(o.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:d,listIndex:c,revealed:u,visible:s}=this.getParentNodeWithListIndex(o),n=o[o.length-1];if(n<0||n>d.children.length)throw new y.TreeError(this.user,"Invalid tree location");const a=d.children[n];return{node:a,listIndex:c,revealed:u,visible:s&&a.visible}}getParentNodeWithListIndex(o,d=this.root,c=0,u=!0,s=!0){const[n,...a]=o;if(n<0||n>d.children.length)throw new y.TreeError(this.user,"Invalid tree location");for(let t=0;t<n;t++)c+=d.children[t].renderNodeCount;return u=u&&!d.collapsed,s=s&&d.visible,a.length===0?{parentNode:d,listIndex:c,revealed:u,visible:s}:this.getParentNodeWithListIndex(a,d.children[n],c+1,u,s)}getNode(o=[]){return this.getTreeNode(o)}getNodeLocation(o){const d=[];let c=o;for(;c.parent;)d.push(c.parent.children.indexOf(c)),c=c.parent;return d.reverse()}getParentNodeLocation(o){if(o.length!==0)return o.length===1?[]:(0,N.tail2)(o)[0]}}e.IndexTreeModel=f}),define(te[162],ie([0,1,161,103,54]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class D{constructor(p,b,i={}){this.user=p,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new y.IndexTreeModel(p,b,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(f,r){return i.sorter.compare(f.element,r.element)}}),this.identityProvider=i.identityProvider}setChildren(p,b=T.Iterable.empty(),i={}){const f=this.getElementLocation(p);this._setChildren(f,this.preserveCollapseState(b),i)}_setChildren(p,b=T.Iterable.empty(),i){const f=new Set,r=new Set,o=c=>{var u;if(c.element===null)return;const s=c;if(f.add(s.element),this.nodes.set(s.element,s),this.identityProvider){const n=this.identityProvider.getId(s.element).toString();r.add(n),this.nodesByIdentity.set(n,s)}(u=i.onDidCreateNode)===null||u===void 0||u.call(i,s)},d=c=>{var u;if(c.element===null)return;const s=c;if(f.has(s.element)||this.nodes.delete(s.element),this.identityProvider){const n=this.identityProvider.getId(s.element).toString();r.has(n)||this.nodesByIdentity.delete(n)}(u=i.onDidDeleteNode)===null||u===void 0||u.call(i,s)};this.model.splice([...p,0],Number.MAX_VALUE,b,Object.assign(Object.assign({},i),{onDidCreateNode:o,onDidDeleteNode:d}))}preserveCollapseState(p=T.Iterable.empty()){return this.sorter&&(p=[...p].sort(this.sorter.compare.bind(this.sorter))),T.Iterable.map(p,b=>{let i=this.nodes.get(b.element);if(!i&&this.identityProvider){const o=this.identityProvider.getId(b.element).toString();i=this.nodesByIdentity.get(o)}if(!i)return Object.assign(Object.assign({},b),{children:this.preserveCollapseState(b.children)});const f=typeof b.collapsible=="boolean"?b.collapsible:i.collapsible,r=typeof b.collapsed!="undefined"?b.collapsed:i.collapsed;return Object.assign(Object.assign({},b),{collapsible:f,collapsed:r,children:this.preserveCollapseState(b.children)})})}rerender(p){const b=this.getElementLocation(p);this.model.rerender(b)}has(p){return this.nodes.has(p)}getListIndex(p){const b=this.getElementLocation(p);return this.model.getListIndex(b)}getListRenderCount(p){const b=this.getElementLocation(p);return this.model.getListRenderCount(b)}isCollapsible(p){const b=this.getElementLocation(p);return this.model.isCollapsible(b)}setCollapsible(p,b){const i=this.getElementLocation(p);return this.model.setCollapsible(i,b)}isCollapsed(p){const b=this.getElementLocation(p);return this.model.isCollapsed(b)}setCollapsed(p,b,i){const f=this.getElementLocation(p);return this.model.setCollapsed(f,b,i)}expandTo(p){const b=this.getElementLocation(p);this.model.expandTo(b)}refilter(){this.model.refilter()}getNode(p=null){if(p===null)return this.model.getNode(this.model.rootRef);const b=this.nodes.get(p);if(!b)throw new N.TreeError(this.user,`Tree element not found: ${p}`);return b}getNodeLocation(p){return p.element}getParentNodeLocation(p){if(p===null)throw new N.TreeError(this.user,"Invalid getParentNodeLocation call");const b=this.nodes.get(p);if(!b)throw new N.TreeError(this.user,`Tree element not found: ${p}`);const i=this.model.getNodeLocation(b),f=this.model.getParentNodeLocation(i);return this.model.getNode(f).element}getElementLocation(p){if(p===null)return[];const b=this.nodes.get(p);if(!b)throw new N.TreeError(this.user,`Tree element not found: ${p}`);return this.model.getNodeLocation(b)}}e.ObjectTreeModel=D}),define(te[302],ie([0,1,162,103,6,54]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function S(a){const t=[a.element],l=a.incompressible||!1;return{element:{elements:t,incompressible:l},children:D.Iterable.map(D.Iterable.from(a.children),S),collapsible:a.collapsible,collapsed:a.collapsed}}function p(a){const t=[a.element],l=a.incompressible||!1;let h,g;for(;[g,h]=D.Iterable.consume(D.Iterable.from(a.children),2),!(g.length!==1||g[0].incompressible);)a=g[0],t.push(a.element);return{element:{elements:t,incompressible:l},children:D.Iterable.map(D.Iterable.concat(g,h),p),collapsible:a.collapsible,collapsed:a.collapsed}}e.compress=p;function b(a,t=0){let l;return t<a.element.elements.length-1?l=[b(a,t+1)]:l=D.Iterable.map(D.Iterable.from(a.children),h=>b(h,0)),t===0&&a.element.incompressible?{element:a.element.elements[t],children:l,incompressible:!0,collapsible:a.collapsible,collapsed:a.collapsed}:{element:a.element.elements[t],children:l,collapsible:a.collapsible,collapsed:a.collapsed}}function i(a){return b(a,0)}e.decompress=i;function f(a,t,l){return a.element===t?Object.assign(Object.assign({},a),{children:l}):Object.assign(Object.assign({},a),{children:D.Iterable.map(D.Iterable.from(a.children),h=>f(h,t,l))})}const r=a=>({getId(t){return t.elements.map(l=>a.getId(l).toString()).join("\0")}});class o{constructor(t,l,h={}){this.user=t,this.rootRef=null,this.nodes=new Map,this.model=new y.ObjectTreeModel(t,l,h),this.enabled=typeof h.compressionEnabled=="undefined"?!0:h.compressionEnabled,this.identityProvider=h.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(t,l=D.Iterable.empty(),h){const g=h.diffIdentityProvider&&r(h.diffIdentityProvider);if(t===null){const A=D.Iterable.map(l,this.enabled?p:S);this._setChildren(null,A,{diffIdentityProvider:g,diffDepth:Infinity});return}const w=this.nodes.get(t);if(!w)throw new Error("Unknown compressed tree node");const _=this.model.getNode(w),C=this.model.getParentNodeLocation(w),v=this.model.getNode(C),m=i(_),E=f(m,t,l),I=(this.enabled?p:S)(E),k=v.children.map(A=>A===_?I:A);this._setChildren(v.element,k,{diffIdentityProvider:g,diffDepth:_.depth-v.depth})}setCompressionEnabled(t){if(t===this.enabled)return;this.enabled=t;const h=this.model.getNode().children,g=D.Iterable.map(h,i),w=D.Iterable.map(g,t?p:S);this._setChildren(null,w,{diffIdentityProvider:this.identityProvider,diffDepth:Infinity})}_setChildren(t,l,h){const g=new Set,w=C=>{for(const v of C.element.elements)g.add(v),this.nodes.set(v,C.element)},_=C=>{for(const v of C.element.elements)g.has(v)||this.nodes.delete(v)};this.model.setChildren(t,l,Object.assign(Object.assign({},h),{onDidCreateNode:w,onDidDeleteNode:_}))}has(t){return this.nodes.has(t)}getListIndex(t){const l=this.getCompressedNode(t);return this.model.getListIndex(l)}getListRenderCount(t){const l=this.getCompressedNode(t);return this.model.getListRenderCount(l)}getNode(t){if(typeof t=="undefined")return this.model.getNode();const l=this.getCompressedNode(t);return this.model.getNode(l)}getNodeLocation(t){const l=this.model.getNodeLocation(t);return l===null?null:l.elements[l.elements.length-1]}getParentNodeLocation(t){const l=this.getCompressedNode(t),h=this.model.getParentNodeLocation(l);return h===null?null:h.elements[h.elements.length-1]}isCollapsible(t){const l=this.getCompressedNode(t);return this.model.isCollapsible(l)}setCollapsible(t,l){const h=this.getCompressedNode(t);return this.model.setCollapsible(h,l)}isCollapsed(t){const l=this.getCompressedNode(t);return this.model.isCollapsed(l)}setCollapsed(t,l,h){const g=this.getCompressedNode(t);return this.model.setCollapsed(g,l,h)}expandTo(t){const l=this.getCompressedNode(t);this.model.expandTo(l)}rerender(t){const l=this.getCompressedNode(t);this.model.rerender(l)}refilter(){this.model.refilter()}getCompressedNode(t){if(t===null)return null;const l=this.nodes.get(t);if(!l)throw new N.TreeError(this.user,`Tree element not found: ${t}`);return l}}e.CompressedObjectTreeModel=o;const d=a=>a[a.length-1];e.DefaultElementMapper=d;class c{constructor(t,l){this.unwrapper=t,this.node=l}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(t=>new c(this.unwrapper,t))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function u(a,t){return{splice(l,h,g){t.splice(l,h,g.map(w=>a.map(w)))},updateElementHeight(l,h){t.updateElementHeight(l,h)}}}function s(a,t){return Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId(l){return t.identityProvider.getId(a(l))}},sorter:t.sorter&&{compare(l,h){return t.sorter.compare(l.elements[0],h.elements[0])}},filter:t.filter&&{filter(l,h){return t.filter.filter(a(l),h)}}})}class n{constructor(t,l,h={}){this.rootRef=null,this.elementMapper=h.elementMapper||e.DefaultElementMapper;const g=w=>this.elementMapper(w.elements);this.nodeMapper=new N.WeakMapper(w=>new c(g,w)),this.model=new o(t,u(this.nodeMapper,l),s(g,h))}get onDidSplice(){return T.Event.map(this.model.onDidSplice,({insertedNodes:t,deletedNodes:l})=>({insertedNodes:t.map(h=>this.nodeMapper.map(h)),deletedNodes:l.map(h=>this.nodeMapper.map(h))}))}get onDidChangeCollapseState(){return T.Event.map(this.model.onDidChangeCollapseState,({node:t,deep:l})=>({node:this.nodeMapper.map(t),deep:l}))}get onDidChangeRenderNodeCount(){return T.Event.map(this.model.onDidChangeRenderNodeCount,t=>this.nodeMapper.map(t))}setChildren(t,l=D.Iterable.empty(),h={}){this.model.setChildren(t,l,h)}setCompressionEnabled(t){this.model.setCompressionEnabled(t)}has(t){return this.model.has(t)}getListIndex(t){return this.model.getListIndex(t)}getListRenderCount(t){return this.model.getListRenderCount(t)}getNode(t){return this.nodeMapper.map(this.model.getNode(t))}getNodeLocation(t){return t.element}getParentNodeLocation(t){return this.model.getParentNodeLocation(t)}isCollapsible(t){return this.model.isCollapsible(t)}setCollapsible(t,l){return this.model.setCollapsible(t,l)}isCollapsed(t){return this.model.isCollapsed(t)}setCollapsed(t,l,h){return this.model.setCollapsed(t,l,h)}expandTo(t){return this.model.expandTo(t)}rerender(t){return this.model.rerender(t)}refilter(){return this.model.refilter()}getCompressedTreeNode(t=null){return this.model.getNode(t)}}e.CompressibleObjectTreeModel=n}),define(te[303],ie([0,1,8]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function N(S,p){if(S&&S[0]!==""){const b=T(S,p,"-"),i=T(S,p,"_");return b&&!i?D(S,p,"-"):!b&&i?D(S,p,"_"):S[0].toUpperCase()===S[0]?p.toUpperCase():S[0].toLowerCase()===S[0]?p.toLowerCase():y.containsUppercaseCharacter(S[0][0])&&p.length>0?p[0].toUpperCase()+p.substr(1):S[0][0].toUpperCase()!==S[0][0]&&p.length>0?p[0].toLowerCase()+p.substr(1):p}else return p}e.buildReplaceStringWithCasePreserved=N;function T(S,p,b){return S[0].indexOf(b)!==-1&&p.indexOf(b)!==-1&&S[0].split(b).length===p.split(b).length}function D(S,p,b){const i=p.split(b),f=S[0].split(b);let r="";return i.forEach((o,d)=>{r+=N([f[d]],o)+b}),r.slice(0,-1)}}),define(te[75],ie([0,1,8]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var N;(function(T){T[T.Ignore=0]="Ignore",T[T.Info=1]="Info",T[T.Warning=2]="Warning",T[T.Error=3]="Error"})(N||(N={})),function(T){const D="error",S="warning",p="warn",b="info",i="ignore";function f(o){return o?y.equalsIgnoreCase(D,o)?T.Error:y.equalsIgnoreCase(S,o)||y.equalsIgnoreCase(p,o)?T.Warning:y.equalsIgnoreCase(b,o)?T.Info:T.Ignore:T.Ignore}T.fromValue=f;function r(o){switch(o){case T.Error:return D;case T.Warning:return S;case T.Info:return b;default:return i}}T.toString=r}(N||(N={})),e.default=N}),define(te[20],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertNever=e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isUndefined=e.isBoolean=e.isNumber=e.isObject=e.isString=e.isArray=void 0;function y(t){return Array.isArray(t)}e.isArray=y;function N(t){return typeof t=="string"}e.isString=N;function T(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}e.isObject=T;function D(t){return typeof t=="number"&&!isNaN(t)}e.isNumber=D;function S(t){return t===!0||t===!1}e.isBoolean=S;function p(t){return typeof t=="undefined"}e.isUndefined=p;function b(t){return p(t)||t===null}e.isUndefinedOrNull=b;function i(t,l){if(!t)throw new Error(l?`Unexpected type, expected '${l}'`:"Unexpected type")}e.assertType=i;function f(t){if(b(t))throw new Error("Assertion Failed: argument is undefined or null");return t}e.assertIsDefined=f;function r(t){return typeof t=="function"}e.isFunction=r;function o(t,l){const h=Math.min(t.length,l.length);for(let g=0;g<h;g++)d(t[g],l[g])}e.validateConstraints=o;function d(t,l){if(N(l)){if(typeof t!==l)throw new Error(`argument does not match constraint: typeof ${l}`)}else if(r(l)){try{if(t instanceof l)return}catch(h){}if(!b(t)&&t.constructor===l||l.length===1&&l.call(void 0,t)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=d;function c(t){let l=[],h=Object.getPrototypeOf(t);for(;Object.prototype!==h;)l=l.concat(Object.getOwnPropertyNames(h)),h=Object.getPrototypeOf(h);return l}e.getAllPropertyNames=c;function u(t){const l=[];for(const h of c(t))typeof t[h]=="function"&&l.push(h);return l}e.getAllMethodNames=u;function s(t,l){const h=w=>function(){const _=Array.prototype.slice.call(arguments,0);return l(w,_)};let g={};for(const w of t)g[w]=h(w);return g}e.createProxyObject=s;function n(t){return t===null?void 0:t}e.withNullAsUndefined=n;function a(t,l="Unreachable"){throw new Error(l)}e.assertNever=a}),define(te[37],ie([0,1,20]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOrDefault=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function N(r){if(!r||typeof r!="object"||r instanceof RegExp)return r;const o=Array.isArray(r)?[]:{};return Object.keys(r).forEach(d=>{r[d]&&typeof r[d]=="object"?o[d]=N(r[d]):o[d]=r[d]}),o}e.deepClone=N;function T(r){if(!r||typeof r!="object")return r;const o=[r];for(;o.length>0;){const d=o.shift();Object.freeze(d);for(const c in d)if(D.call(d,c)){const u=d[c];typeof u=="object"&&!Object.isFrozen(u)&&o.push(u)}}return r}e.deepFreeze=T;const D=Object.prototype.hasOwnProperty;function S(r,o){return p(r,o,new Set)}e.cloneAndChange=S;function p(r,o,d){if((0,y.isUndefinedOrNull)(r))return r;const c=o(r);if(typeof c!="undefined")return c;if((0,y.isArray)(r)){const u=[];for(const s of r)u.push(p(s,o,d));return u}if((0,y.isObject)(r)){if(d.has(r))throw new Error("Cannot clone recursive data-structure");d.add(r);const u={};for(let s in r)D.call(r,s)&&(u[s]=p(r[s],o,d));return d.delete(r),u}return r}function b(r,o,d=!0){return(0,y.isObject)(r)?((0,y.isObject)(o)&&Object.keys(o).forEach(c=>{c in r?d&&((0,y.isObject)(r[c])&&(0,y.isObject)(o[c])?b(r[c],o[c],d):r[c]=o[c]):r[c]=o[c]}),r):o}e.mixin=b;function i(r,o){if(r===o)return!0;if(r==null||o===null||o===void 0||typeof r!=typeof o||typeof r!="object"||Array.isArray(r)!==Array.isArray(o))return!1;let d,c;if(Array.isArray(r)){if(r.length!==o.length)return!1;for(d=0;d<r.length;d++)if(!i(r[d],o[d]))return!1}else{const u=[];for(c in r)u.push(c);u.sort();const s=[];for(c in o)s.push(c);if(s.sort(),!i(u,s))return!1;for(d=0;d<u.length;d++)if(!i(r[u[d]],o[u[d]]))return!1}return!0}e.equals=i;function f(r,o,d){const c=o(r);return typeof c=="undefined"?d:c}e.getOrDefault=f}),define(te[132],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function y(T){return T<0?0:T>255?255:T|0}e.toUint8=y;function N(T){return T<0?0:T>4294967295?4294967295:T|0}e.toUint32=N}),define(te[24],ie([0,1,74,17]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const T=/^\w[\w\d+.-]*$/,D=/^\//,S=/^\/\//;function p(_,C){if(!_.scheme&&C)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${_.authority}", path: "${_.path}", query: "${_.query}", fragment: "${_.fragment}"}`);if(_.scheme&&!T.test(_.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(_.path){if(_.authority){if(!D.test(_.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(S.test(_.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function b(_,C){return!_&&!C?"file":_}function i(_,C){switch(_){case"https":case"http":case"file":C?C[0]!==r&&(C=r+C):C=r;break}return C}const f="",r="/",o=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class d{constructor(C,v,m,E,I,k=!1){typeof C=="object"?(this.scheme=C.scheme||f,this.authority=C.authority||f,this.path=C.path||f,this.query=C.query||f,this.fragment=C.fragment||f):(this.scheme=b(C,k),this.authority=v||f,this.path=i(this.scheme,m||f),this.query=E||f,this.fragment=I||f,p(this,k))}static isUri(C){return C instanceof d?!0:C?typeof C.authority=="string"&&typeof C.fragment=="string"&&typeof C.path=="string"&&typeof C.query=="string"&&typeof C.scheme=="string"&&typeof C.fsPath=="string"&&typeof C.with=="function"&&typeof C.toString=="function":!1}get fsPath(){return t(this,!1)}with(C){if(!C)return this;let{scheme:v,authority:m,path:E,query:I,fragment:k}=C;return v===void 0?v=this.scheme:v===null&&(v=f),m===void 0?m=this.authority:m===null&&(m=f),E===void 0?E=this.path:E===null&&(E=f),I===void 0?I=this.query:I===null&&(I=f),k===void 0?k=this.fragment:k===null&&(k=f),v===this.scheme&&m===this.authority&&E===this.path&&I===this.query&&k===this.fragment?this:new u(v,m,E,I,k)}static parse(C,v=!1){const m=o.exec(C);return m?new u(m[2]||f,w(m[4]||f),w(m[5]||f),w(m[7]||f),w(m[9]||f),v):new u(f,f,f,f,f)}static file(C){let v=f;if(N.isWindows&&(C=C.replace(/\\/g,r)),C[0]===r&&C[1]===r){const m=C.indexOf(r,2);m===-1?(v=C.substring(2),C=r):(v=C.substring(2,m),C=C.substring(m)||r)}return new u("file",v,C,f,f)}static from(C){const v=new u(C.scheme,C.authority,C.path,C.query,C.fragment);return p(v,!0),v}static joinPath(C,...v){if(!C.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let m;return N.isWindows&&C.scheme==="file"?m=d.file(y.win32.join(t(C,!0),...v)).path:m=y.posix.join(C.path,...v),C.with({path:m})}toString(C=!1){return l(this,C)}toJSON(){return this}static revive(C){if(C){if(C instanceof d)return C;{const v=new u(C);return v._formatted=C.external,v._fsPath=C._sep===c?C.fsPath:null,v}}else return C}}e.URI=d;const c=N.isWindows?1:void 0;class u extends d{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=t(this,!1)),this._fsPath}toString(C=!1){return C?l(this,!0):(this._formatted||(this._formatted=l(this,!1)),this._formatted)}toJSON(){const C={$mid:1};return this._fsPath&&(C.fsPath=this._fsPath,C._sep=c),this._formatted&&(C.external=this._formatted),this.path&&(C.path=this.path),this.scheme&&(C.scheme=this.scheme),this.authority&&(C.authority=this.authority),this.query&&(C.query=this.query),this.fragment&&(C.fragment=this.fragment),C}}const s={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function n(_,C){let v,m=-1;for(let E=0;E<_.length;E++){const I=_.charCodeAt(E);if(I>=97&&I<=122||I>=65&&I<=90||I>=48&&I<=57||I===45||I===46||I===95||I===126||C&&I===47)m!==-1&&(v+=encodeURIComponent(_.substring(m,E)),m=-1),v!==void 0&&(v+=_.charAt(E));else{v===void 0&&(v=_.substr(0,E));const k=s[I];k!==void 0?(m!==-1&&(v+=encodeURIComponent(_.substring(m,E)),m=-1),v+=k):m===-1&&(m=E)}}return m!==-1&&(v+=encodeURIComponent(_.substring(m))),v!==void 0?v:_}function a(_){let C;for(let v=0;v<_.length;v++){const m=_.charCodeAt(v);m===35||m===63?(C===void 0&&(C=_.substr(0,v)),C+=s[m]):C!==void 0&&(C+=_[v])}return C!==void 0?C:_}function t(_,C){let v;return _.authority&&_.path.length>1&&_.scheme==="file"?v=`//${_.authority}${_.path}`:_.path.charCodeAt(0)===47&&(_.path.charCodeAt(1)>=65&&_.path.charCodeAt(1)<=90||_.path.charCodeAt(1)>=97&&_.path.charCodeAt(1)<=122)&&_.path.charCodeAt(2)===58?C?v=_.path.substr(1):v=_.path[1].toLowerCase()+_.path.substr(2):v=_.path,N.isWindows&&(v=v.replace(/\//g,"\\")),v}e.uriToFsPath=t;function l(_,C){const v=C?a:n;let m="",{scheme:E,authority:I,path:k,query:A,fragment:P}=_;if(E&&(m+=E,m+=":"),(I||E==="file")&&(m+=r,m+=r),I){let F=I.indexOf("@");if(F!==-1){const M=I.substr(0,F);I=I.substr(F+1),F=M.indexOf(":"),F===-1?m+=v(M,!1):(m+=v(M.substr(0,F),!1),m+=":",m+=v(M.substr(F+1),!1)),m+="@"}I=I.toLowerCase(),F=I.indexOf(":"),F===-1?m+=v(I,!1):(m+=v(I.substr(0,F),!1),m+=I.substr(F))}if(k){if(k.length>=3&&k.charCodeAt(0)===47&&k.charCodeAt(2)===58){const F=k.charCodeAt(1);F>=65&&F<=90&&(k=`/${String.fromCharCode(F+32)}:${k.substr(3)}`)}else if(k.length>=2&&k.charCodeAt(1)===58){const F=k.charCodeAt(0);F>=65&&F<=90&&(k=`${String.fromCharCode(F+32)}:${k.substr(2)}`)}m+=v(k,!0)}return A&&(m+="?",m+=v(A,!1)),P&&(m+="#",m+=C?P:n(P,!1)),m}function h(_){try{return decodeURIComponent(_)}catch(C){return _.length>3?_.substr(0,3)+h(_.substr(3)):_}}const g=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function w(_){return _.match(g)?_.replace(g,C=>h(C)):_}}),define(te[47],ie([0,1,8,24]),function(q,e,y,N){"use strict";var T,D;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class S{constructor(){this._value="",this._pos=0}reset(s){return this._value=s,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(s){const n=s.charCodeAt(0),a=this._value.charCodeAt(this._pos);return n-a}value(){return this._value[this._pos]}}e.StringIterator=S;class p{constructor(s=!0){this._caseSensitive=s}reset(s){return this._value=s,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let s=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(s)this._from++;else break;else s=!1;return this}cmp(s){return this._caseSensitive?(0,y.compareSubstring)(s,this._value,0,s.length,this._from,this._to):(0,y.compareSubstringIgnoreCase)(s,this._value,0,s.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=p;class b{constructor(s=!0,n=!0){this._splitOnBackslash=s,this._caseSensitive=n}reset(s){return this._value=s.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let s=!0;for(;this._to<this._value.length;this._to++){const n=this._value.charCodeAt(this._to);if(n===47||this._splitOnBackslash&&n===92)if(s)this._from++;else break;else s=!1}return this}cmp(s){return this._caseSensitive?(0,y.compareSubstring)(s,this._value,0,s.length,this._from,this._to):(0,y.compareSubstringIgnoreCase)(s,this._value,0,s.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=b;class i{constructor(s){this._ignorePathCasing=s,this._states=[],this._stateIdx=0}reset(s){return this._value=s,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new b(!1,!this._ignorePathCasing(s)),this._pathIterator.reset(s.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(s){if(this._states[this._stateIdx]===1)return(0,y.compareIgnoreCase)(s,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,y.compareIgnoreCase)(s,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(s);if(this._states[this._stateIdx]===4)return(0,y.compare)(s,this._value.query);if(this._states[this._stateIdx]===5)return(0,y.compare)(s,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=i;class f{isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class r{constructor(s){this._iter=s}static forUris(s=()=>!1){return new r(new i(s))}static forStrings(){return new r(new S)}static forConfigKeys(){return new r(new p)}clear(){this._root=void 0}set(s,n){const a=this._iter.reset(s);let t;for(this._root||(this._root=new f,this._root.segment=a.value()),t=this._root;;){const h=a.cmp(t.segment);if(h>0)t.left||(t.left=new f,t.left.segment=a.value()),t=t.left;else if(h<0)t.right||(t.right=new f,t.right.segment=a.value()),t=t.right;else if(a.hasNext())a.next(),t.mid||(t.mid=new f,t.mid.segment=a.value()),t=t.mid;else break}const l=t.value;return t.value=n,t.key=s,l}get(s){var n;return(n=this._getNode(s))===null||n===void 0?void 0:n.value}_getNode(s){const n=this._iter.reset(s);let a=this._root;for(;a;){const t=n.cmp(a.segment);if(t>0)a=a.left;else if(t<0)a=a.right;else if(n.hasNext())n.next(),a=a.mid;else break}return a}has(s){const n=this._getNode(s);return!((n==null?void 0:n.value)===void 0&&(n==null?void 0:n.mid)===void 0)}delete(s){return this._delete(s,!1)}deleteSuperstr(s){return this._delete(s,!0)}_delete(s,n){const a=this._iter.reset(s),t=[];let l=this._root;for(;l;){const h=a.cmp(l.segment);if(h>0)t.push([1,l]),l=l.left;else if(h<0)t.push([-1,l]),l=l.right;else if(a.hasNext())a.next(),t.push([0,l]),l=l.mid;else{for(n?(l.left=void 0,l.mid=void 0,l.right=void 0):l.value=void 0;t.length>0&&l.isEmpty();){let[g,w]=t.pop();switch(g){case 1:w.left=void 0;break;case 0:w.mid=void 0;break;case-1:w.right=void 0;break}l=w}break}}}findSubstr(s){const n=this._iter.reset(s);let a=this._root,t;for(;a;){const l=n.cmp(a.segment);if(l>0)a=a.left;else if(l<0)a=a.right;else if(n.hasNext())n.next(),t=a.value||t,a=a.mid;else break}return a&&a.value||t}findSuperstr(s){const n=this._iter.reset(s);let a=this._root;for(;a;){const t=n.cmp(a.segment);if(t>0)a=a.left;else if(t<0)a=a.right;else if(n.hasNext())n.next(),a=a.mid;else return a.mid?this._entries(a.mid):void 0}}forEach(s){for(const[n,a]of this)s(a,n)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(s){if(!s)return;const n=[s];for(;n.length>0;){const a=n.pop();a&&(a.value&&(yield[a.key,a.value]),a.left&&n.push(a.left),a.mid&&n.push(a.mid),a.right&&n.push(a.right))}}}e.TernarySearchTree=r;class o{constructor(s,n){this[T]="ResourceMap",s instanceof o?(this.map=new Map(s.map),this.toKey=n??o.defaultToKey):(this.map=new Map,this.toKey=s??o.defaultToKey)}set(s,n){return this.map.set(this.toKey(s),n),this}get(s){return this.map.get(this.toKey(s))}has(s){return this.map.has(this.toKey(s))}get size(){return this.map.size}clear(){this.map.clear()}delete(s){return this.map.delete(this.toKey(s))}forEach(s,n){typeof n!="undefined"&&(s=s.bind(n));for(let[a,t]of this.map)s(t,N.URI.parse(a),this)}values(){return this.map.values()}*keys(){for(let s of this.map.keys())yield N.URI.parse(s)}*entries(){for(let s of this.map.entries())yield[N.URI.parse(s[0]),s[1]]}*[(T=Symbol.toStringTag,Symbol.iterator)](){for(let s of this.map)yield[N.URI.parse(s[0]),s[1]]}}e.ResourceMap=o,o.defaultToKey=u=>u.toString();class d{constructor(){this[D]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var s;return(s=this._head)===null||s===void 0?void 0:s.value}get last(){var s;return(s=this._tail)===null||s===void 0?void 0:s.value}has(s){return this._map.has(s)}get(s,n=0){const a=this._map.get(s);if(!!a)return n!==0&&this.touch(a,n),a.value}set(s,n,a=0){let t=this._map.get(s);if(t)t.value=n,a!==0&&this.touch(t,a);else{switch(t={key:s,value:n,next:void 0,previous:void 0},a){case 0:this.addItemLast(t);break;case 1:this.addItemFirst(t);break;case 2:this.addItemLast(t);break;default:this.addItemLast(t);break}this._map.set(s,t),this._size++}return this}delete(s){return!!this.remove(s)}remove(s){const n=this._map.get(s);if(!!n)return this._map.delete(s),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const s=this._head;return this._map.delete(s.key),this.removeItem(s),this._size--,s.value}forEach(s,n){const a=this._state;let t=this._head;for(;t;){if(n?s.bind(n)(t.value,t.key,this):s(t.value,t.key,this),this._state!==a)throw new Error("LinkedMap got modified during iteration.");t=t.next}}keys(){const s=this,n=this._state;let a=this._head;const t={[Symbol.iterator](){return t},next(){if(s._state!==n)throw new Error("LinkedMap got modified during iteration.");if(a){const l={value:a.key,done:!1};return a=a.next,l}else return{value:void 0,done:!0}}};return t}values(){const s=this,n=this._state;let a=this._head;const t={[Symbol.iterator](){return t},next(){if(s._state!==n)throw new Error("LinkedMap got modified during iteration.");if(a){const l={value:a.value,done:!1};return a=a.next,l}else return{value:void 0,done:!0}}};return t}entries(){const s=this,n=this._state;let a=this._head;const t={[Symbol.iterator](){return t},next(){if(s._state!==n)throw new Error("LinkedMap got modified during iteration.");if(a){const l={value:[a.key,a.value],done:!1};return a=a.next,l}else return{value:void 0,done:!0}}};return t}[(D=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(s){if(s>=this.size)return;if(s===0){this.clear();return}let n=this._head,a=this.size;for(;n&&a>s;)this._map.delete(n.key),n=n.next,a--;this._head=n,this._size=a,n&&(n.previous=void 0),this._state++}addItemFirst(s){if(!this._head&&!this._tail)this._tail=s;else if(this._head)s.next=this._head,this._head.previous=s;else throw new Error("Invalid list");this._head=s,this._state++}addItemLast(s){if(!this._head&&!this._tail)this._head=s;else if(this._tail)s.previous=this._tail,this._tail.next=s;else throw new Error("Invalid list");this._tail=s,this._state++}removeItem(s){if(s===this._head&&s===this._tail)this._head=void 0,this._tail=void 0;else if(s===this._head){if(!s.next)throw new Error("Invalid list");s.next.previous=void 0,this._head=s.next}else if(s===this._tail){if(!s.previous)throw new Error("Invalid list");s.previous.next=void 0,this._tail=s.previous}else{const n=s.next,a=s.previous;if(!n||!a)throw new Error("Invalid list");n.previous=a,a.next=n}s.next=void 0,s.previous=void 0,this._state++}touch(s,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==1&&n!==2)){if(n===1){if(s===this._head)return;const a=s.next,t=s.previous;s===this._tail?(t.next=void 0,this._tail=t):(a.previous=t,t.next=a),s.previous=void 0,s.next=this._head,this._head.previous=s,this._head=s,this._state++}else if(n===2){if(s===this._tail)return;const a=s.next,t=s.previous;s===this._head?(a.previous=void 0,this._head=a):(a.previous=t,t.next=a),s.next=void 0,s.previous=this._tail,this._tail.next=s,this._tail=s,this._state++}}}toJSON(){const s=[];return this.forEach((n,a)=>{s.push([a,n])}),s}fromJSON(s){this.clear();for(const[n,a]of s)this.set(n,a)}}e.LinkedMap=d;class c extends d{constructor(s,n=1){super();this._limit=s,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(s){this._limit=s,this.checkTrim()}get(s,n=2){return super.get(s,n)}peek(s){return super.get(s,0)}set(s,n){return super.set(s,n,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=c}),define(te[67],ie([0,1,47,8]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.or=void 0;function T(...W){return function(G,re){for(let ee=0,de=W.length;ee<de;ee++){const ae=W[ee](G,re);if(ae)return ae}return null}}e.or=T,e.matchesPrefix=D.bind(void 0,!0);function D(W,G,re){if(!re||re.length<G.length)return null;let ee;return W?ee=N.startsWithIgnoreCase(re,G):ee=re.indexOf(G)===0,ee?G.length>0?[{start:0,end:G.length}]:[]:null}function S(W,G){const re=G.toLowerCase().indexOf(W.toLowerCase());return re===-1?null:[{start:re,end:re+W.length}]}e.matchesContiguousSubString=S;function p(W,G){return b(W.toLowerCase(),G.toLowerCase(),0,0)}e.matchesSubString=p;function b(W,G,re,ee){if(re===W.length)return[];if(ee===G.length)return null;if(W[re]===G[ee]){let de=null;return(de=b(W,G,re+1,ee+1))?n({start:ee,end:ee+1},de):null}return b(W,G,re,ee+1)}function i(W){return 97<=W&&W<=122}function f(W){return 65<=W&&W<=90}e.isUpper=f;function r(W){return 48<=W&&W<=57}function o(W){return W===32||W===9||W===10||W===13}const d=new Set;"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(W=>d.add(W.charCodeAt(0)));function c(W){return o(W)||d.has(W)}function u(W,G){return W===G||c(W)&&c(G)}function s(W){return i(W)||f(W)||r(W)}function n(W,G){return G.length===0?G=[W]:W.end===G[0].start?G[0].start=W.start:G.unshift(W),G}function a(W,G){for(let re=G;re<W.length;re++){const ee=W.charCodeAt(re);if(f(ee)||r(ee)||re>0&&!s(W.charCodeAt(re-1)))return re}return W.length}function t(W,G,re,ee){if(re===W.length)return[];if(ee===G.length)return null;if(W[re]!==G[ee].toLowerCase())return null;{let de=null,ae=ee+1;for(de=t(W,G,re+1,ee+1);!de&&(ae=a(G,ae))<G.length;)de=t(W,G,re+1,ae),ae++;return de===null?null:n({start:ee,end:ee+1},de)}}function l(W){let G=0,re=0,ee=0,de=0,ae=0;for(let he=0;he<W.length;he++)ae=W.charCodeAt(he),f(ae)&&G++,i(ae)&&re++,s(ae)&&ee++,r(ae)&&de++;const ce=G/W.length,J=re/W.length,Z=ee/W.length,le=de/W.length;return{upperPercent:ce,lowerPercent:J,alphaPercent:Z,numericPercent:le}}function h(W){const{upperPercent:G,lowerPercent:re}=W;return re===0&&G>.6}function g(W){const{upperPercent:G,lowerPercent:re,alphaPercent:ee,numericPercent:de}=W;return re>.2&&G<.8&&ee>.6&&de<.2}function w(W){let G=0,re=0,ee=0,de=0;for(let ae=0;ae<W.length;ae++)ee=W.charCodeAt(ae),f(ee)&&G++,i(ee)&&re++,o(ee)&&de++;return(G===0||re===0)&&de===0?W.length<=30:G<=5}function _(W,G){if(!G||(G=G.trim(),G.length===0)||!w(W)||G.length>60)return null;const re=l(G);if(!g(re)){if(!h(re))return null;G=G.toLowerCase()}let ee=null,de=0;for(W=W.toLowerCase();de<G.length&&(ee=t(W,G,0,de))===null;)de=a(G,de+1);return ee}e.matchesCamelCase=_;function C(W,G,re=!1){if(!G||G.length===0)return null;let ee=null,de=0;for(W=W.toLowerCase(),G=G.toLowerCase();de<G.length&&(ee=v(W,G,0,de,re))===null;)de=m(G,de+1);return ee}e.matchesWords=C;function v(W,G,re,ee,de){if(re===W.length)return[];if(ee===G.length)return null;if(u(W.charCodeAt(re),G.charCodeAt(ee))){let ae=null,ce=ee+1;if(ae=v(W,G,re+1,ee+1,de),!de)for(;!ae&&(ce=m(G,ce))<G.length;)ae=v(W,G,re+1,ce,de),ce++;return ae===null?null:n({start:ee,end:ee+1},ae)}else return null}function m(W,G){for(let re=G;re<W.length;re++)if(c(W.charCodeAt(re))||re>0&&c(W.charCodeAt(re-1)))return re;return W.length}const E=T(e.matchesPrefix,_,S),I=T(e.matchesPrefix,_,p),k=new y.LRUCache(1e4);function A(W,G,re=!1){if(typeof W!="string"||typeof G!="string")return null;let ee=k.get(W);ee||(ee=new RegExp(N.convertSimple2RegExpPattern(W),"i"),k.set(W,ee));const de=ee.exec(G);return de?[{start:de.index,end:de.index+de[0].length}]:re?I(W,G):E(W,G)}e.matchesFuzzy=A;function P(W,G,re,ee,de,ae){const ce=Math.min(13,W.length);for(;re<ce;re++){const J=H(W,G,re,ee,de,ae,!1);if(J)return J}return[0,ae]}e.anyScore=P;function F(W){if(typeof W=="undefined")return[];const G=[],re=W[1];for(let ee=W.length-1;ee>1;ee--){const de=W[ee]+re,ae=G[G.length-1];ae&&ae.end===de?ae.end=de+1:G.push({start:de,end:de+1})}return G}e.createMatches=F;const M=128;function R(){const W=[],G=[];for(let re=0;re<=M;re++)G[re]=0;for(let re=0;re<=M;re++)W.push(G.slice(0));return W}function O(W){const G=[];for(let re=0;re<=W;re++)G[re]=0;return G}const L=O(2*M),B=O(2*M),z=R(),$=R(),j=R(),X=!1;function Q(W,G,re,ee,de){function ae(J,Z,le=" "){for(;J.length<Z;)J=le+J;return J}let ce=` |   |${ee.split("").map(J=>ae(J,3)).join("|")}
`;for(let J=0;J<=re;J++)J===0?ce+=" |":ce+=`${G[J-1]}|`,ce+=W[J].slice(0,de+1).map(Z=>ae(Z.toString(),3)).join("|")+`
`;return ce}function Y(W,G,re,ee){W=W.substr(G),re=re.substr(ee),console.log(Q($,W,W.length,re,re.length)),console.log(Q(j,W,W.length,re,re.length)),console.log(Q(z,W,W.length,re,re.length))}function oe(W,G){if(G<0||G>=W.length)return!1;const re=W.codePointAt(G);switch(re){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!N.isEmojiImprecise(re)}}function se(W,G){if(G<0||G>=W.length)return!1;switch(W.charCodeAt(G)){case 32:case 9:return!0;default:return!1}}function K(W,G,re){return G[W]!==re[W]}function x(W,G,re,ee,de,ae,ce=!1){for(;G<re&&de<ae;)W[G]===ee[de]&&(ce&&(L[G]=de),G+=1),de+=1;return G===re}e.isPatternInWord=x;var U;(function(W){W.Default=[-100,0];function G(re){return!re||re.length===2&&re[0]===-100&&re[1]===0}W.isDefault=G})(U=e.FuzzyScore||(e.FuzzyScore={}));function H(W,G,re,ee,de,ae,ce){const J=W.length>M?M:W.length,Z=ee.length>M?M:ee.length;if(re>=J||ae>=Z||J-re>Z-ae||!x(G,re,J,de,ae,Z,!0))return;V(J,Z,re,ae,G,de);let le=1,he=1,ve=re,be=ae;const we=[!1];for(le=1,ve=re;ve<J;le++,ve++){const Be=L[ve],He=B[ve],je=ve+1<J?B[ve+1]:Z;for(he=Be-ae+1,be=Be;be<je;he++,be++){let Le=Number.MIN_SAFE_INTEGER,Ee=!1;be<=He&&(Le=ne(W,G,ve,re,ee,de,be,Z,ae,z[le-1][he-1]===0,we));let Re=0;Le!==Number.MAX_SAFE_INTEGER&&(Ee=!0,Re=Le+$[le-1][he-1]);const ze=be>Be,We=ze?$[le][he-1]+(z[le][he-1]>0?-5:0):0,Ze=be>Be+1&&z[le][he-1]>0,ke=Ze?$[le][he-2]+(z[le][he-2]>0?-5:0):0;if(Ze&&(!ze||ke>=We)&&(!Ee||ke>=Re))$[le][he]=ke,j[le][he]=3,z[le][he]=0;else if(ze&&(!Ee||We>=Re))$[le][he]=We,j[le][he]=2,z[le][he]=0;else if(Ee)$[le][he]=Re,j[le][he]=1,z[le][he]=z[le-1][he-1]+1;else throw new Error("not possible")}}if(X&&Y(W,re,ee,ae),!we[0]&&!ce)return;le--,he--;const Te=[$[le][he],ae];let Pe=0,Oe=0;for(;le>=1;){let Be=he;do{const He=j[le][Be];if(He===3)Be=Be-2;else if(He===2)Be=Be-1;else break}while(Be>=1);Pe>1&&G[re+le-1]===de[ae+he-1]&&!K(Be+ae-1,ee,de)&&Pe+1>z[le][Be]&&(Be=he),Be===he?Pe++:Pe=1,Oe||(Oe=Be),le--,he=Be-1,Te.push(he)}Z===J&&(Te[0]+=2);const Ve=Oe-J;return Te[0]-=Ve,Te}e.fuzzyScore=H;function V(W,G,re,ee,de,ae){let ce=W-1,J=G-1;for(;ce>=re&&J>=ee;)de[ce]===ae[J]&&(B[ce]=J,ce--),J--}function ne(W,G,re,ee,de,ae,ce,J,Z,le,he){if(G[re]!==ae[ce])return Number.MIN_SAFE_INTEGER;let ve=1,be=!1;return ce===re-ee?ve=W[re]===de[ce]?7:5:K(ce,de,ae)&&(ce===0||!K(ce-1,de,ae))?(ve=W[re]===de[ce]?7:5,be=!0):oe(ae,ce)&&(ce===0||!oe(ae,ce-1))?ve=5:(oe(ae,ce-1)||se(ae,ce-1))&&(ve=5,be=!0),ve>1&&re===ee&&(he[0]=!0),be||(be=K(ce,de,ae)||oe(ae,ce-1)||se(ae,ce-1)),re===ee?ce>Z&&(ve-=be?3:5):le?ve+=be?2:0:ve+=be?0:1,ce+1===J&&(ve-=be?3:5),ve}function ue(W,G,re,ee,de,ae,ce){return pe(W,G,re,ee,de,ae,!0,ce)}e.fuzzyScoreGracefulAggressive=ue;function pe(W,G,re,ee,de,ae,ce,J){let Z=H(W,G,re,ee,de,ae,J);if(Z&&!ce)return Z;if(W.length>=3){const le=Math.min(7,W.length-1);for(let he=re+1;he<le;he++){const ve=ge(W,he);if(ve){const be=H(ve,ve.toLowerCase(),re,ee,de,ae,J);be&&(be[0]-=3,(!Z||be[0]>Z[0])&&(Z=be))}}}return Z}function ge(W,G){if(G+1>=W.length)return;const re=W[G],ee=W[G+1];if(re!==ee)return W.slice(0,G)+ee+re+W.slice(G+2)}}),define(te[304],ie([0,1,67,74,17,8]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const S=[void 0,[]];function p(n,a,t=0,l=0){const h=a;return h.values&&h.values.length>1?b(n,h.values,t,l):i(n,a,t,l)}e.scoreFuzzy2=p;function b(n,a,t,l){let h=0;const g=[];for(const w of a){const[_,C]=i(n,w,t,l);if(typeof _!="number")return S;h+=_,g.push(...C)}return[h,f(g)]}function i(n,a,t,l){const h=(0,y.fuzzyScore)(a.original,a.originalLowercase,t,n,n.toLowerCase(),l,!0);return h?[h[0],(0,y.createMatches)(h)]:S}function f(n){const a=n.sort((h,g)=>h.start-g.start),t=[];let l;for(const h of a)!l||!r(l,h)?(l=h,t.push(h)):(l.start=Math.min(l.start,h.start),l.end=Math.max(l.end,h.end));return t}function r(n,a){return!(n.end<a.start||a.end<n.start)}function o(n){return n.startsWith('"')&&n.endsWith('"')}const d=" ";function c(n){typeof n!="string"&&(n="");const a=n.toLowerCase(),{pathNormalized:t,normalized:l,normalizedLowercase:h}=u(n),g=t.indexOf(N.sep)>=0,w=o(n);let _;const C=n.split(d);if(C.length>1)for(const v of C){const m=o(v),{pathNormalized:E,normalized:I,normalizedLowercase:k}=u(v);I&&(_||(_=[]),_.push({original:v,originalLowercase:v.toLowerCase(),pathNormalized:E,normalized:I,normalizedLowercase:k,expectContiguousMatch:m}))}return{original:n,originalLowercase:a,pathNormalized:t,normalized:l,normalizedLowercase:h,values:_,containsPathSeparator:g,expectContiguousMatch:w}}e.prepareQuery=c;function u(n){let a;T.isWindows?a=n.replace(/\//g,N.sep):a=n.replace(/\\/g,N.sep);const t=(0,D.stripWildcards)(a).replace(/\s|"/g,"");return{pathNormalized:a,normalized:t,normalizedLowercase:t.toLowerCase()}}function s(n){return Array.isArray(n)?c(n.map(a=>a.original).join(d)):c(n.original)}e.pieceToQuery=s}),define(te[207],ie([0,1,14,160,47,74,8]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=void 0;const p="**",b="/",i="[/\\\\]",f="[^/\\\\]",r=/\//g;function o(L){switch(L){case 0:return"";case 1:return`${f}*?`;default:return`(?:${i}|${f}+${i}|${i}${f}+)*?`}}function d(L,B){if(!L)return[];const z=[];let $=!1,j=!1,X="";for(const Q of L){switch(Q){case B:if(!$&&!j){z.push(X),X="";continue}break;case"{":$=!0;break;case"}":$=!1;break;case"[":j=!0;break;case"]":j=!1;break}X+=Q}return X&&z.push(X),z}e.splitGlobAware=d;function c(L){if(!L)return"";let B="";const z=d(L,b);if(z.every($=>$===p))B=".*";else{let $=!1;z.forEach((j,X)=>{if(j===p){$||(B+=o(2),$=!0);return}let Q=!1,Y="",oe=!1,se="";for(const K of j){if(K!=="}"&&Q){Y+=K;continue}if(oe&&(K!=="]"||!se)){let x;K==="-"?x=K:(K==="^"||K==="!")&&!se?x="^":K===b?x="":x=S.escapeRegExpCharacters(K),se+=x;continue}switch(K){case"{":Q=!0;continue;case"[":oe=!0;continue;case"}":B+=`(?:${d(Y,",").map(H=>c(H)).join("|")})`,Q=!1,Y="";break;case"]":B+="["+se+"]",oe=!1,se="";break;case"?":B+=f;continue;case"*":B+=o(1);continue;default:B+=S.escapeRegExpCharacters(K)}}X<z.length-1&&(z[X+1]!==p||X+2<z.length)&&(B+=i),$=!1})}return B}const u=/^\*\*\/\*\.[\w\.-]+$/,s=/^\*\*\/([\w\.-]+)\/?$/,n=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,a=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,t=/^\*\*((\/[\w\.-]+)+)\/?$/,l=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,h=new T.LRUCache(1e4),g=function(){return!1},w=function(){return null};function _(L,B){if(!L)return w;let z;typeof L!="string"?z=L.pattern:z=L,z=z.trim();const $=`${z}_${!!B.trimForExclusions}`;let j=h.get($);if(j)return C(j,L);let X;if(u.test(z)){const Q=z.substr(4);j=function(Y,oe){return typeof Y=="string"&&Y.endsWith(Q)?z:null}}else(X=s.exec(v(z,B)))?j=m(X[1],z):(B.trimForExclusions?a:n).test(z)?j=E(z,B):(X=t.exec(v(z,B)))?j=I(X[1].substr(1),z,!0):(X=l.exec(v(z,B)))?j=I(X[1],z,!1):j=k(z);return h.set($,j),C(j,L)}function C(L,B){return typeof B=="string"?L:function(z,$){return N.isEqualOrParent(z,B.base)?L(D.relative(B.base,z),$):null}}function v(L,B){return B.trimForExclusions&&L.endsWith("/**")?L.substr(0,L.length-2):L}function m(L,B){const z=`/${L}`,$=`\\${L}`,j=function(Q,Y){return typeof Q!="string"?null:Y?Y===L?B:null:Q===L||Q.endsWith(z)||Q.endsWith($)?B:null},X=[L];return j.basenames=X,j.patterns=[B],j.allBasenames=X,j}function E(L,B){const z=O(L.slice(1,-1).split(",").map(Y=>_(Y,B)).filter(Y=>Y!==w),L),$=z.length;if(!$)return w;if($===1)return z[0];const j=function(Y,oe){for(let se=0,K=z.length;se<K;se++)if(z[se](Y,oe))return L;return null},X=z.find(Y=>!!Y.allBasenames);X&&(j.allBasenames=X.allBasenames);const Q=z.reduce((Y,oe)=>oe.allPaths?Y.concat(oe.allPaths):Y,[]);return Q.length&&(j.allPaths=Q),j}function I(L,B,z){const $=D.sep===D.posix.sep,j=$?L:L.replace(r,D.sep),X=D.sep+j,Q=D.posix.sep+L,Y=z?function(oe,se){return typeof oe=="string"&&(oe===j||oe.endsWith(X)||!$&&(oe===L||oe.endsWith(Q)))?B:null}:function(oe,se){return typeof oe=="string"&&(oe===j||!$&&oe===L)?B:null};return Y.allPaths=[(z?"*/":"./")+L],Y}function k(L){try{const B=new RegExp(`^${c(L)}$`);return function(z){return B.lastIndex=0,typeof z=="string"&&B.test(z)?L:null}}catch(B){return w}}function A(L,B,z){return!L||typeof B!="string"?!1:P(L)(B,void 0,z)}e.match=A;function P(L,B={}){if(!L)return g;if(typeof L=="string"||F(L)){const z=_(L,B);if(z===w)return g;const $=function(j,X){return!!z(j,X)};return z.allBasenames&&($.allBasenames=z.allBasenames),z.allPaths&&($.allPaths=z.allPaths),$}return M(L,B)}e.parse=P;function F(L){const B=L;return B&&typeof B.base=="string"&&typeof B.pattern=="string"}e.isRelativePattern=F;function M(L,B){const z=O(Object.getOwnPropertyNames(L).map(Y=>R(Y,L[Y],B)).filter(Y=>Y!==w)),$=z.length;if(!$)return w;if(!z.some(Y=>!!Y.requiresSiblings)){if($===1)return z[0];const Y=function(K,x){for(let U=0,H=z.length;U<H;U++){const V=z[U](K,x);if(V)return V}return null},oe=z.find(K=>!!K.allBasenames);oe&&(Y.allBasenames=oe.allBasenames);const se=z.reduce((K,x)=>x.allPaths?K.concat(x.allPaths):K,[]);return se.length&&(Y.allPaths=se),Y}const j=function(Y,oe,se){let K;for(let x=0,U=z.length;x<U;x++){const H=z[x];H.requiresSiblings&&se&&(oe||(oe=D.basename(Y)),K||(K=oe.substr(0,oe.length-D.extname(Y).length)));const V=H(Y,oe,K,se);if(V)return V}return null},X=z.find(Y=>!!Y.allBasenames);X&&(j.allBasenames=X.allBasenames);const Q=z.reduce((Y,oe)=>oe.allPaths?Y.concat(oe.allPaths):Y,[]);return Q.length&&(j.allPaths=Q),j}function R(L,B,z){if(B===!1)return w;const $=_(L,z);if($===w)return w;if(typeof B=="boolean")return $;if(B){const j=B.when;if(typeof j=="string"){const X=(Q,Y,oe,se)=>{if(!se||!$(Q,Y))return null;const K=j.replace("$(basename)",oe),x=se(K);return(0,y.isThenable)(x)?x.then(U=>U?L:null):x?L:null};return X.requiresSiblings=!0,X}}return $}function O(L,B){const z=L.filter(Y=>!!Y.basenames);if(z.length<2)return L;const $=z.reduce((Y,oe)=>{const se=oe.basenames;return se?Y.concat(se):Y},[]);let j;if(B){j=[];for(let Y=0,oe=$.length;Y<oe;Y++)j.push(B)}else j=z.reduce((Y,oe)=>{const se=oe.patterns;return se?Y.concat(se):Y},[]);const X=function(Y,oe){if(typeof Y!="string")return null;if(!oe){let K;for(K=Y.length;K>0;K--){const x=Y.charCodeAt(K-1);if(x===47||x===92)break}oe=Y.substr(K)}const se=$.indexOf(oe);return se!==-1?j[se]:null};X.basenames=$,X.patterns=j,X.allBasenames=$;const Q=L.filter(Y=>!Y.basenames);return Q.push(X),Q}}),define(te[106],ie([0,1,27,67,8]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const D=new RegExp(`\\$\\(${y.CSSIcon.iconNameExpression}(?:${y.CSSIcon.iconModifierExpression})?\\)`,"g"),S=new RegExp(`(\\\\)?${D.source}`,"g");function p(u){return u.replace(S,(s,n)=>n?s:`\\${s}`)}e.escapeIcons=p;const b=new RegExp(`\\\\${D.source}`,"g");function i(u){return u.replace(b,s=>`\\${s}`)}e.markdownEscapeEscapedIcons=i;const f=new RegExp(`(\\s)?(\\\\)?${D.source}(\\s)?`,"g");function r(u){return u.indexOf(e.iconStartMarker)===-1?u:u.replace(f,(s,n,a,t)=>a?s:n||t||"")}e.stripIcons=r;function o(u){const s=u.indexOf(e.iconStartMarker);return s===-1?{text:u}:d(u,s)}e.parseLabelWithIcons=o;function d(u,s){const n=[];let a="";function t(m){if(m){a+=m;for(const E of m)n.push(g)}}let l=-1,h="",g=0,w,_,C=s;const v=u.length;for(t(u.substr(0,s));C<v;)w=u[C],_=u[C+1],w===e.iconStartMarker[0]&&_===e.iconStartMarker[1]?(l=C,t(h),h=e.iconStartMarker,C++):w===")"&&l!==-1?(g+=C-l+1,l=-1,h=""):l!==-1?/^[a-z0-9\-]$/i.test(w)?h+=w:(t(h),l=-1,h=""):t(w),C++;return t(h),{text:a,iconOffsets:n}}function c(u,s,n=!1){const{text:a,iconOffsets:t}=s;if(!t||t.length===0)return(0,N.matchesFuzzy)(u,a,n);const l=(0,T.ltrim)(a," "),h=a.length-l.length,g=(0,N.matchesFuzzy)(u,l,n);if(g)for(const w of g){const _=t[w.start+h]+h;w.start+=_,w.end+=_}return g}e.matchesFuzzyIconAware=c}),define(te[68],ie([0,1,10,106]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeMarkdownSyntaxTokens=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class T{constructor(r="",o=!1){var d,c,u;if(this.value=r,typeof this.value!="string")throw(0,y.illegalArgument)("value");typeof o=="boolean"?(this.isTrusted=o,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(d=o.isTrusted)!==null&&d!==void 0?d:void 0,this.supportThemeIcons=(c=o.supportThemeIcons)!==null&&c!==void 0?c:!1,this.supportHtml=(u=o.supportHtml)!==null&&u!==void 0?u:!1)}appendText(r,o=0){return this.value+=p(this.supportThemeIcons?(0,N.escapeIcons)(r):r).replace(/([ \t]+)/g,(d,c)=>"&nbsp;".repeat(c.length)).replace(/\>/gm,"\\>").replace(/\n/g,o===1?`\\
`:`

`),this}appendMarkdown(r){return this.value+=r,this}appendCodeblock(r,o){return this.value+="\n```",this.value+=r,this.value+=`
`,this.value+=o,this.value+="\n```\n",this}}e.MarkdownString=T;function D(f){return S(f)?!f.value:Array.isArray(f)?f.every(D):!0}e.isEmptyMarkdownString=D;function S(f){return f instanceof T?!0:f&&typeof f=="object"?typeof f.value=="string"&&(typeof f.isTrusted=="boolean"||f.isTrusted===void 0)&&(typeof f.supportThemeIcons=="boolean"||f.supportThemeIcons===void 0):!1}e.isMarkdownString=S;function p(f){return f.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=p;function b(f){return f&&f.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=b;function i(f){const r=[],o=f.split("|").map(c=>c.trim());f=o[0];const d=o[1];if(d){const c=/height=(\d+)/.exec(d),u=/width=(\d+)/.exec(d),s=c?c[1]:"",n=u?u[1]:"",a=isFinite(parseInt(n)),t=isFinite(parseInt(s));a&&r.push(`width="${n}"`),t&&r.push(`height="${s}"`)}return{href:f,dimensions:r}}e.parseHrefAndDimensions=i}),define(te[208],ie([0,1,104,24]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=void 0;function T(S){let p=JSON.parse(S);return p=D(p),p}e.parse=T;function D(S,p=0){if(!S||p>200)return S;if(typeof S=="object"){switch(S.$mid){case 1:return N.URI.revive(S);case 2:return new RegExp(S.source,S.flags)}if(S instanceof y.VSBuffer||S instanceof Uint8Array)return S;if(Array.isArray(S))for(let b=0;b<S.length;++b)S[b]=D(S[b],p+1);else for(const b in S)Object.hasOwnProperty.call(S,b)&&(S[b]=D(S[b],p+1))}return S}e.revive=D}),define(te[48],ie([0,1,17,24]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var T;(function(p){p.inMemory="inmemory",p.vscode="vscode",p.internal="private",p.walkThrough="walkThrough",p.walkThroughSnippet="walkThroughSnippet",p.http="http",p.https="https",p.file="file",p.mailto="mailto",p.untitled="untitled",p.data="data",p.command="command",p.vscodeRemote="vscode-remote",p.vscodeRemoteResource="vscode-remote-resource",p.userData="vscode-userdata",p.vscodeCustomEditor="vscode-custom-editor",p.vscodeNotebook="vscode-notebook",p.vscodeNotebookCell="vscode-notebook-cell",p.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",p.vscodeNotebookCellOutput="vscode-notebook-cell-output",p.vscodeInteractive="vscode-interactive",p.vscodeInteractiveInput="vscode-interactive-input",p.vscodeSettings="vscode-settings",p.vscodeWorkspaceTrust="vscode-workspace-trust",p.vscodeTerminal="vscode-terminal",p.webviewPanel="webview-panel",p.vscodeWebview="vscode-webview",p.extension="extension",p.vscodeFileResource="vscode-file",p.tmp="tmp"})(T=e.Schemas||(e.Schemas={}));class D{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(b){this._preferredWebSchema=b}rewrite(b){if(this._delegate)return this._delegate(b);const i=b.authority;let f=this._hosts[i];f&&f.indexOf(":")!==-1&&(f=`[${f}]`);const r=this._ports[i],o=this._connectionTokens[i];let d=`path=${encodeURIComponent(b.path)}`;return typeof o=="string"&&(d+=`&tkn=${encodeURIComponent(o)}`),N.URI.from({scheme:y.isWeb?this._preferredWebSchema:T.vscodeRemoteResource,authority:`${f}:${r}`,path:"/vscode-remote-resource",query:d})}}e.RemoteAuthorities=new D;class S{asBrowserUri(b,i){const f=this.toUri(b,i);return f.scheme===T.vscodeRemote?e.RemoteAuthorities.rewrite(f):f.scheme===T.file&&(y.isNative||typeof y.globals.importScripts=="function"&&y.globals.origin===`${T.vscodeFileResource}://${S.FALLBACK_AUTHORITY}`)?f.with({scheme:T.vscodeFileResource,authority:f.authority||S.FALLBACK_AUTHORITY,query:null,fragment:null}):f}toUri(b,i){return N.URI.isUri(b)?b:N.URI.parse(i.toUrl(b))}}S.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new S}),define(te[7],ie([0,1,36,159,52,55,14,10,6,2,48,17]),function(q,e,y,N,T,D,S,p,b,i,f,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addMatchMediaChangeListener=e.ModifierKeyEmitter=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.getElementsByTagName=e.hide=e.show=e.$=e.Namespace=e.reset=e.prepend=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.StandardWindow=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.addDisposableThrottledListener=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.addDisposableNonBubblingPointerOutListener=e.addDisposableNonBubblingMouseOutListener=e.addDisposableGenericMouseUpListner=e.addDisposableGenericMouseDownListner=e.addStandardDisposableGenericMouseDownListner=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function o(Le){for(;Le.firstChild;)Le.firstChild.remove()}e.clearNode=o;function d(Le){var Ee;return(Ee=Le==null?void 0:Le.isConnected)!==null&&Ee!==void 0?Ee:!1}e.isInDOM=d;class c{constructor(Ee,Re,ze,We){this._node=Ee,this._type=Re,this._handler=ze,this._options=We||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function u(Le,Ee,Re,ze){return new c(Le,Ee,Re,ze)}e.addDisposableListener=u;function s(Le){return function(Ee){return Le(new D.StandardMouseEvent(Ee))}}function n(Le){return function(Ee){return Le(new T.StandardKeyboardEvent(Ee))}}let a=function(Ee,Re,ze,We){let Ze=ze;return Re==="click"||Re==="mousedown"?Ze=s(ze):(Re==="keydown"||Re==="keypress"||Re==="keyup")&&(Ze=n(ze)),u(Ee,Re,Ze,We)};e.addStandardDisposableListener=a;let t=function(Ee,Re,ze){let We=s(Re);return l(Ee,We,ze)};e.addStandardDisposableGenericMouseDownListner=t;function l(Le,Ee,Re){return u(Le,r.isIOS&&N.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,Ee,Re)}e.addDisposableGenericMouseDownListner=l;function h(Le,Ee,Re){return u(Le,r.isIOS&&N.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,Ee,Re)}e.addDisposableGenericMouseUpListner=h;function g(Le,Ee){return u(Le,"mouseout",Re=>{let ze=Re.relatedTarget;for(;ze&&ze!==Le;)ze=ze.parentNode;ze!==Le&&Ee(Re)})}e.addDisposableNonBubblingMouseOutListener=g;function w(Le,Ee){return u(Le,"pointerout",Re=>{let ze=Re.relatedTarget;for(;ze&&ze!==Le;)ze=ze.parentNode;ze!==Le&&Ee(Re)})}e.addDisposableNonBubblingPointerOutListener=w;let _=null;function C(Le){if(!_){const Ee=Re=>setTimeout(()=>Re(new Date().getTime()),0);_=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||Ee}return _.call(self,Le)}class v{constructor(Ee,Re=0){this._runner=Ee,this.priority=Re,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(Ee){(0,p.onUnexpectedError)(Ee)}}static sort(Ee,Re){return Re.priority-Ee.priority}}(function(){let Le=[],Ee=null,Re=!1,ze=!1,We=()=>{for(Re=!1,Ee=Le,Le=[],ze=!0;Ee.length>0;)Ee.sort(v.sort),Ee.shift().execute();ze=!1};e.scheduleAtNextAnimationFrame=(Ze,ke=0)=>{let De=new v(Ze,ke);return Le.push(De),Re||(Re=!0,C(We)),De},e.runAtThisOrScheduleAtNextAnimationFrame=(Ze,ke)=>{if(ze){let De=new v(Ze,ke);return Ee.push(De),De}else return(0,e.scheduleAtNextAnimationFrame)(Ze,ke)}})();const m=8,E=function(Le,Ee){return Ee};class I extends i.Disposable{constructor(Ee,Re,ze,We=E,Ze=m){super();let ke=null,De=0,Ne=this._register(new S.TimeoutTimer),fe=()=>{De=new Date().getTime(),ze(ke),ke=null};this._register(u(Ee,Re,me=>{ke=We(ke,me);let ye=new Date().getTime()-De;ye>=Ze?(Ne.cancel(),fe()):Ne.setIfNotSet(fe,Ze-ye)}))}}function k(Le,Ee,Re,ze,We){return new I(Le,Ee,Re,ze,We)}e.addDisposableThrottledListener=k;function A(Le){return document.defaultView.getComputedStyle(Le,null)}e.getComputedStyle=A;function P(Le){if(Le!==document.body)return new M(Le.clientWidth,Le.clientHeight);if(r.isIOS&&window.visualViewport)return new M(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new M(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new M(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new M(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=P;class F{static convertToPixels(Ee,Re){return parseFloat(Re)||0}static getDimension(Ee,Re,ze){let We=A(Ee),Ze="0";return We&&(We.getPropertyValue?Ze=We.getPropertyValue(Re):Ze=We.getAttribute(ze)),F.convertToPixels(Ee,Ze)}static getBorderLeftWidth(Ee){return F.getDimension(Ee,"border-left-width","borderLeftWidth")}static getBorderRightWidth(Ee){return F.getDimension(Ee,"border-right-width","borderRightWidth")}static getBorderTopWidth(Ee){return F.getDimension(Ee,"border-top-width","borderTopWidth")}static getBorderBottomWidth(Ee){return F.getDimension(Ee,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(Ee){return F.getDimension(Ee,"padding-left","paddingLeft")}static getPaddingRight(Ee){return F.getDimension(Ee,"padding-right","paddingRight")}static getPaddingTop(Ee){return F.getDimension(Ee,"padding-top","paddingTop")}static getPaddingBottom(Ee){return F.getDimension(Ee,"padding-bottom","paddingBottom")}static getMarginLeft(Ee){return F.getDimension(Ee,"margin-left","marginLeft")}static getMarginTop(Ee){return F.getDimension(Ee,"margin-top","marginTop")}static getMarginRight(Ee){return F.getDimension(Ee,"margin-right","marginRight")}static getMarginBottom(Ee){return F.getDimension(Ee,"margin-bottom","marginBottom")}}class M{constructor(Ee,Re){this.width=Ee,this.height=Re}with(Ee=this.width,Re=this.height){return Ee!==this.width||Re!==this.height?new M(Ee,Re):this}static is(Ee){return typeof Ee=="object"&&typeof Ee.height=="number"&&typeof Ee.width=="number"}static lift(Ee){return Ee instanceof M?Ee:new M(Ee.width,Ee.height)}static equals(Ee,Re){return Ee===Re?!0:!Ee||!Re?!1:Ee.width===Re.width&&Ee.height===Re.height}}e.Dimension=M;function R(Le){let Ee=Le.offsetParent,Re=Le.offsetTop,ze=Le.offsetLeft;for(;(Le=Le.parentNode)!==null&&Le!==document.body&&Le!==document.documentElement;){Re-=Le.scrollTop;const We=oe(Le)?null:A(Le);We&&(ze-=We.direction!=="rtl"?Le.scrollLeft:-Le.scrollLeft),Le===Ee&&(ze+=F.getBorderLeftWidth(Le),Re+=F.getBorderTopWidth(Le),Re+=Le.offsetTop,ze+=Le.offsetLeft,Ee=Le.offsetParent)}return{left:ze,top:Re}}e.getTopLeftOffset=R;function O(Le,Ee,Re){typeof Ee=="number"&&(Le.style.width=`${Ee}px`),typeof Re=="number"&&(Le.style.height=`${Re}px`)}e.size=O;function L(Le){let Ee=Le.getBoundingClientRect();return{left:Ee.left+e.StandardWindow.scrollX,top:Ee.top+e.StandardWindow.scrollY,width:Ee.width,height:Ee.height}}e.getDomNodePagePosition=L,e.StandardWindow=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function B(Le){let Ee=F.getMarginLeft(Le)+F.getMarginRight(Le);return Le.offsetWidth+Ee}e.getTotalWidth=B;function z(Le){let Ee=F.getBorderLeftWidth(Le)+F.getBorderRightWidth(Le),Re=F.getPaddingLeft(Le)+F.getPaddingRight(Le);return Le.offsetWidth-Ee-Re}e.getContentWidth=z;function $(Le){let Ee=F.getBorderTopWidth(Le)+F.getBorderBottomWidth(Le),Re=F.getPaddingTop(Le)+F.getPaddingBottom(Le);return Le.offsetHeight-Ee-Re}e.getContentHeight=$;function j(Le){let Ee=F.getMarginTop(Le)+F.getMarginBottom(Le);return Le.offsetHeight+Ee}e.getTotalHeight=j;function X(Le,Ee){for(;Le;){if(Le===Ee)return!0;Le=Le.parentNode}return!1}e.isAncestor=X;function Q(Le,Ee,Re){for(;Le&&Le.nodeType===Le.ELEMENT_NODE;){if(Le.classList.contains(Ee))return Le;if(Re){if(typeof Re=="string"){if(Le.classList.contains(Re))return null}else if(Le===Re)return null}Le=Le.parentNode}return null}e.findParentWithClass=Q;function Y(Le,Ee,Re){return!!Q(Le,Ee,Re)}e.hasParentWithClass=Y;function oe(Le){return Le&&!!Le.host&&!!Le.mode}e.isShadowRoot=oe;function se(Le){return!!K(Le)}e.isInShadowDOM=se;function K(Le){for(;Le.parentNode;){if(Le===document.body)return null;Le=Le.parentNode}return oe(Le)?Le:null}e.getShadowRoot=K;function x(){let Le=document.activeElement;for(;Le==null?void 0:Le.shadowRoot;)Le=Le.shadowRoot.activeElement;return Le}e.getActiveElement=x;function U(Le=document.getElementsByTagName("head")[0]){let Ee=document.createElement("style");return Ee.type="text/css",Ee.media="screen",Le.appendChild(Ee),Ee}e.createStyleSheet=U;let H=null;function V(){return H||(H=U()),H}function ne(Le){var Ee,Re;return((Ee=Le==null?void 0:Le.sheet)===null||Ee===void 0?void 0:Ee.rules)?Le.sheet.rules:((Re=Le==null?void 0:Le.sheet)===null||Re===void 0?void 0:Re.cssRules)?Le.sheet.cssRules:[]}function ue(Le,Ee,Re=V()){!Re||!Ee||Re.sheet.insertRule(Le+"{"+Ee+"}",0)}e.createCSSRule=ue;function pe(Le,Ee=V()){if(!Ee)return;let Re=ne(Ee),ze=[];for(let We=0;We<Re.length;We++)Re[We].selectorText.indexOf(Le)!==-1&&ze.push(We);for(let We=ze.length-1;We>=0;We--)Ee.sheet.deleteRule(ze[We])}e.removeCSSRulesContainingSelector=pe;function ge(Le){return typeof HTMLElement=="object"?Le instanceof HTMLElement:Le&&typeof Le=="object"&&Le.nodeType===1&&typeof Le.nodeName=="string"}e.isHTMLElement=ge,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:y.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:y.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:y.isWebKit?"webkitAnimationIteration":"animationiteration"},e.EventHelper={stop:function(Le,Ee){Le.preventDefault?Le.preventDefault():Le.returnValue=!1,Ee&&(Le.stopPropagation?Le.stopPropagation():Le.cancelBubble=!0)}};function W(Le){let Ee=[];for(let Re=0;Le&&Le.nodeType===Le.ELEMENT_NODE;Re++)Ee[Re]=Le.scrollTop,Le=Le.parentNode;return Ee}e.saveParentsScrollTop=W;function G(Le,Ee){for(let Re=0;Le&&Le.nodeType===Le.ELEMENT_NODE;Re++)Le.scrollTop!==Ee[Re]&&(Le.scrollTop=Ee[Re]),Le=Le.parentNode}e.restoreParentsScrollTop=G;class re extends i.Disposable{constructor(Ee){super();this._onDidFocus=this._register(new b.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new b.Emitter),this.onDidBlur=this._onDidBlur.event;let Re=X(document.activeElement,Ee),ze=!1;const We=()=>{ze=!1,Re||(Re=!0,this._onDidFocus.fire())},Ze=()=>{Re&&(ze=!0,window.setTimeout(()=>{ze&&(ze=!1,Re=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{X(document.activeElement,Ee)!==Re&&(Re?Ze():We())},this._register(u(Ee,e.EventType.FOCUS,We,!0)),this._register(u(Ee,e.EventType.BLUR,Ze,!0))}}function ee(Le){return new re(Le)}e.trackFocus=ee;function de(Le,...Ee){if(Le.append(...Ee),Ee.length===1&&typeof Ee[0]!="string")return Ee[0]}e.append=de;function ae(Le,Ee){return Le.insertBefore(Ee,Le.firstChild),Ee}e.prepend=ae;function ce(Le,...Ee){Le.innerText="",de(Le,...Ee)}e.reset=ce;const J=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Z;(function(Le){Le.HTML="http://www.w3.org/1999/xhtml",Le.SVG="http://www.w3.org/2000/svg"})(Z=e.Namespace||(e.Namespace={}));function le(Le,Ee,Re,...ze){let We=J.exec(Ee);if(!We)throw new Error("Bad use of emmet");Re=Object.assign({},Re||{});let Ze=We[1]||"div",ke;return Le!==Z.HTML?ke=document.createElementNS(Le,Ze):ke=document.createElement(Ze),We[3]&&(ke.id=We[3]),We[4]&&(ke.className=We[4].replace(/\./g," ").trim()),Object.keys(Re).forEach(De=>{const Ne=Re[De];typeof Ne!="undefined"&&(/^on\w+$/.test(De)?ke[De]=Ne:De==="selected"?Ne&&ke.setAttribute(De,"true"):ke.setAttribute(De,Ne))}),ke.append(...ze),ke}function he(Le,Ee,...Re){return le(Z.HTML,Le,Ee,...Re)}e.$=he,he.SVG=function(Le,Ee,...Re){return le(Z.SVG,Le,Ee,...Re)};function ve(...Le){for(let Ee of Le)Ee.style.display="",Ee.removeAttribute("aria-hidden")}e.show=ve;function be(...Le){for(let Ee of Le)Ee.style.display="none",Ee.setAttribute("aria-hidden","true")}e.hide=be;function we(Le){return Array.prototype.slice.call(document.getElementsByTagName(Le),0)}e.getElementsByTagName=we;function Te(Le){const Ee=window.devicePixelRatio*Le;return Math.max(1,Math.floor(Ee))/window.devicePixelRatio}e.computeScreenAwareSize=Te;function Pe(Le){window.open(Le,"_blank","noopener")}e.windowOpenNoOpener=Pe;function Oe(Le){const Ee=()=>{Le(),Re=(0,e.scheduleAtNextAnimationFrame)(Ee)};let Re=(0,e.scheduleAtNextAnimationFrame)(Ee);return(0,i.toDisposable)(()=>Re.dispose())}e.animate=Oe,f.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function Ve(Le){return Le?`url('${f.FileAccess.asBrowserUri(Le).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=Ve;function Be(Le){return`'${Le.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=Be;class He extends b.Emitter{constructor(){super();this._subscriptions=new i.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(u(window,"keydown",Ee=>{if(Ee.defaultPrevented)return;const Re=new T.StandardKeyboardEvent(Ee);if(!(Re.keyCode===6&&Ee.repeat)){if(Ee.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Ee.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Ee.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Ee.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Re.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=Ee.altKey,this._keyStatus.ctrlKey=Ee.ctrlKey,this._keyStatus.metaKey=Ee.metaKey,this._keyStatus.shiftKey=Ee.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Ee,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(u(window,"keyup",Ee=>{Ee.defaultPrevented||(!Ee.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!Ee.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!Ee.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!Ee.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Ee.altKey,this._keyStatus.ctrlKey=Ee.ctrlKey,this._keyStatus.metaKey=Ee.metaKey,this._keyStatus.shiftKey=Ee.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Ee,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(u(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(u(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(u(document.body,"mousemove",Ee=>{Ee.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(u(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return He.instance||(He.instance=new He),He.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=He;function je(Le,Ee){const Re=window.matchMedia(Le);typeof Re.addEventListener=="function"?Re.addEventListener("change",Ee):Re.addListener(Ee)}e.addMatchMediaChangeListener=je}),define(te[163],ie([0,1,7]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function N(r,o={}){const d=D(o);return d.textContent=r,d}e.renderText=N;function T(r,o={}){const d=D(o);return p(d,b(r,!!o.renderCodeSegments),o.actionHandler,o.renderCodeSegments),d}e.renderFormattedText=T;function D(r){const o=r.inline?"span":"div",d=document.createElement(o);return r.className&&(d.className=r.className),d}e.createElement=D;class S{constructor(o){this.source=o,this.index=0}eos(){return this.index>=this.source.length}next(){const o=this.peek();return this.advance(),o}peek(){return this.source[this.index]}advance(){this.index++}}function p(r,o,d,c){let u;if(o.type===2)u=document.createTextNode(o.content||"");else if(o.type===3)u=document.createElement("b");else if(o.type===4)u=document.createElement("i");else if(o.type===7&&c)u=document.createElement("code");else if(o.type===5&&d){const s=document.createElement("a");s.href="#",d.disposables.add(y.addStandardDisposableListener(s,"click",n=>{d.callback(String(o.index),n)})),u=s}else o.type===8?u=document.createElement("br"):o.type===1&&(u=r);u&&r!==u&&r.appendChild(u),u&&Array.isArray(o.children)&&o.children.forEach(s=>{p(u,s,d,c)})}function b(r,o){const d={type:1,children:[]};let c=0,u=d;const s=[],n=new S(r);for(;!n.eos();){let a=n.next();const t=a==="\\"&&f(n.peek(),o)!==0;if(t&&(a=n.next()),!t&&i(a,o)&&a===n.peek()){n.advance(),u.type===2&&(u=s.pop());const l=f(a,o);if(u.type===l||u.type===5&&l===6)u=s.pop();else{const h={type:l,children:[]};l===5&&(h.index=c,c++),u.children.push(h),s.push(u),u=h}}else if(a===`
`)u.type===2&&(u=s.pop()),u.children.push({type:8});else if(u.type!==2){const l={type:2,content:a};u.children.push(l),s.push(u),u=l}else u.content+=a}return u.type===2&&(u=s.pop()),s.length,d}function i(r,o){return f(r,o)!==0}function f(r,o){switch(r){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return o?7:0;default:return 0}}}),define(te[94],ie([0,1,7,202,55,2,17]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalMouseMoveMonitor=e.standardMouseMoveMerger=void 0;function p(i,f){let r=new T.StandardMouseEvent(f);return r.preventDefault(),{leftButton:r.leftButton,buttons:r.buttons,posx:r.posx,posy:r.posy}}e.standardMouseMoveMerger=p;class b{constructor(){this._hooks=new D.DisposableStore,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(f,r){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const o=this._onStopCallback;this._onStopCallback=null,f&&o&&o(r)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(f,r,o,d,c){if(this.isMonitoring())return;this._mouseMoveEventMerger=o,this._mouseMoveCallback=d,this._onStopCallback=c;const u=N.IframeUtils.getSameOriginWindowChain(),s=S.isIOS?"pointermove":"mousemove",n="mouseup",a=u.map(l=>l.window.document),t=y.getShadowRoot(f);t&&a.unshift(t);for(const l of a)this._hooks.add(y.addDisposableThrottledListener(l,s,h=>{if(h.buttons!==r){this.stopMonitoring(!0);return}this._mouseMoveCallback(h)},(h,g)=>this._mouseMoveEventMerger(h,g))),this._hooks.add(y.addDisposableListener(l,n,h=>this.stopMonitoring(!0)));if(N.IframeUtils.hasDifferentOriginAncestor()){let l=u[u.length-1];this._hooks.add(y.addDisposableListener(l.window.document,"mouseout",h=>{new T.StandardMouseEvent(h).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(y.addDisposableListener(l.window.document,"mouseover",h=>{new T.StandardMouseEvent(h).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(y.addDisposableListener(l.window.document.body,"mouseleave",h=>{this.stopMonitoring(!0)}))}}}e.GlobalMouseMoveMonitor=b});var Fe=this&&this.__decorate||function(q,e,y,N){var T=arguments.length,D=T<3?e:N===null?N=Object.getOwnPropertyDescriptor(e,y):N,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(q,e,y,N);else for(var p=q.length-1;p>=0;p--)(S=q[p])&&(D=(T<3?S(D):T>3?S(e,y,D):S(e,y))||D);return T>3&&D&&Object.defineProperty(e,y,D),D};define(te[58],ie([0,1,7,19,91,2]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var S;(function(b){b.Tap="-monaco-gesturetap",b.Change="-monaco-gesturechange",b.Start="-monaco-gesturestart",b.End="-monaco-gesturesend",b.Contextmenu="-monaco-gesturecontextmenu"})(S=e.EventType||(e.EventType={}));class p extends D.Disposable{constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(y.addDisposableListener(document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),this._register(y.addDisposableListener(document,"touchend",i=>this.onTouchEnd(i))),this._register(y.addDisposableListener(document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))}static addTarget(i){return p.isTouchDevice()?(p.INSTANCE||(p.INSTANCE=new p),p.INSTANCE.targets.push(i),{dispose:()=>{p.INSTANCE.targets=p.INSTANCE.targets.filter(f=>f!==i)}}):D.Disposable.None}static ignoreTarget(i){return p.isTouchDevice()?(p.INSTANCE||(p.INSTANCE=new p),p.INSTANCE.ignoreTargets.push(i),{dispose:()=>{p.INSTANCE.ignoreTargets=p.INSTANCE.ignoreTargets.filter(f=>f!==i)}}):D.Disposable.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(i){let f=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let r=0,o=i.targetTouches.length;r<o;r++){let d=i.targetTouches.item(r);this.activeTouches[d.identifier]={id:d.identifier,initialTarget:d.target,initialTimeStamp:f,initialPageX:d.pageX,initialPageY:d.pageY,rollingTimestamps:[f],rollingPageX:[d.pageX],rollingPageY:[d.pageY]};let c=this.newGestureEvent(S.Start,d.target);c.pageX=d.pageX,c.pageY=d.pageY,this.dispatchEvent(c)}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}onTouchEnd(i){let f=Date.now(),r=Object.keys(this.activeTouches).length;for(let o=0,d=i.changedTouches.length;o<d;o++){let c=i.changedTouches.item(o);if(!this.activeTouches.hasOwnProperty(String(c.identifier))){console.warn("move of an UNKNOWN touch",c);continue}let u=this.activeTouches[c.identifier],s=Date.now()-u.initialTimeStamp;if(s<p.HOLD_DELAY&&Math.abs(u.initialPageX-N.tail(u.rollingPageX))<30&&Math.abs(u.initialPageY-N.tail(u.rollingPageY))<30){let n=this.newGestureEvent(S.Tap,u.initialTarget);n.pageX=N.tail(u.rollingPageX),n.pageY=N.tail(u.rollingPageY),this.dispatchEvent(n)}else if(s>=p.HOLD_DELAY&&Math.abs(u.initialPageX-N.tail(u.rollingPageX))<30&&Math.abs(u.initialPageY-N.tail(u.rollingPageY))<30){let n=this.newGestureEvent(S.Contextmenu,u.initialTarget);n.pageX=N.tail(u.rollingPageX),n.pageY=N.tail(u.rollingPageY),this.dispatchEvent(n)}else if(r===1){let n=N.tail(u.rollingPageX),a=N.tail(u.rollingPageY),t=N.tail(u.rollingTimestamps)-u.rollingTimestamps[0],l=n-u.rollingPageX[0],h=a-u.rollingPageY[0];const g=this.targets.filter(w=>u.initialTarget instanceof Node&&w.contains(u.initialTarget));this.inertia(g,f,Math.abs(l)/t,l>0?1:-1,n,Math.abs(h)/t,h>0?1:-1,a)}this.dispatchEvent(this.newGestureEvent(S.End,u.initialTarget)),delete this.activeTouches[c.identifier]}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}newGestureEvent(i,f){let r=document.createEvent("CustomEvent");return r.initEvent(i,!1,!0),r.initialTarget=f,r.tapCount=0,r}dispatchEvent(i){if(i.type===S.Tap){const f=new Date().getTime();let r=0;f-this._lastSetTapCountTime>p.CLEAR_TAP_COUNT_TIME?r=1:r=2,this._lastSetTapCountTime=f,i.tapCount=r}else(i.type===S.Change||i.type===S.Contextmenu)&&(this._lastSetTapCountTime=0);for(let f=0;f<this.ignoreTargets.length;f++)if(i.initialTarget instanceof Node&&this.ignoreTargets[f].contains(i.initialTarget))return;this.targets.forEach(f=>{i.initialTarget instanceof Node&&f.contains(i.initialTarget)&&(f.dispatchEvent(i),this.dispatched=!0)})}inertia(i,f,r,o,d,c,u,s){this.handle=y.scheduleAtNextAnimationFrame(()=>{let n=Date.now(),a=n-f,t=0,l=0,h=!0;r+=p.SCROLL_FRICTION*a,c+=p.SCROLL_FRICTION*a,r>0&&(h=!1,t=o*r*a),c>0&&(h=!1,l=u*c*a);let g=this.newGestureEvent(S.Change);g.translationX=t,g.translationY=l,i.forEach(w=>w.dispatchEvent(g)),h||this.inertia(i,n,r,o,d+t,c,u,s+l)})}onTouchMove(i){let f=Date.now();for(let r=0,o=i.changedTouches.length;r<o;r++){let d=i.changedTouches.item(r);if(!this.activeTouches.hasOwnProperty(String(d.identifier))){console.warn("end of an UNKNOWN touch",d);continue}let c=this.activeTouches[d.identifier],u=this.newGestureEvent(S.Change,c.initialTarget);u.translationX=d.pageX-N.tail(c.rollingPageX),u.translationY=d.pageY-N.tail(c.rollingPageY),u.pageX=d.pageX,u.pageY=d.pageY,this.dispatchEvent(u),c.rollingPageX.length>3&&(c.rollingPageX.shift(),c.rollingPageY.shift(),c.rollingTimestamps.shift()),c.rollingPageX.push(d.pageX),c.rollingPageY.push(d.pageY),c.rollingTimestamps.push(f)}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}}p.SCROLL_FRICTION=-.005,p.HOLD_DELAY=700,p.CLEAR_TAP_COUNT_TIME=400,Fe([T.memoize],p,"isTouchDevice",null),e.Gesture=p}),define(te[107],ie([0,1,7,27]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const T=new RegExp(`(\\\\)?\\$\\((${N.CSSIcon.iconNameExpression}(?:${N.CSSIcon.iconModifierExpression})?)\\)`,"g");function D(p){const b=new Array;let i,f=0,r=0;for(;(i=T.exec(p))!==null;){r=i.index||0,b.push(p.substring(f,r)),f=(i.index||0)+i[0].length;const[,o,d]=i;b.push(o?`$(${d})`:S({id:d}))}return f<p.length&&b.push(p.substring(f)),b}e.renderLabelWithIcons=D;function S(p){const b=y.$("span");return b.classList.add(...N.CSSIcon.asClassNameArray(p)),b}e.renderIcon=S}),define(te[164],ie([0,1,7,107,37]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class D{constructor(p,b){this.supportIcons=b,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",p.appendChild(this.domNode)}get element(){return this.domNode}set(p,b=[],i="",f){p||(p=""),f&&(p=D.escapeNewLines(p,b)),!(this.didEverRender&&this.text===p&&this.title===i&&T.equals(this.highlights,b))&&(this.text=p,this.title=i,this.highlights=b,this.render())}render(){const p=[];let b=0;for(const i of this.highlights){if(i.end===i.start)continue;if(b<i.start){const o=this.text.substring(b,i.start);p.push(y.$("span",void 0,...this.supportIcons?(0,N.renderLabelWithIcons)(o):[o])),b=i.end}const f=this.text.substring(i.start,i.end),r=y.$("span.highlight",void 0,...this.supportIcons?(0,N.renderLabelWithIcons)(f):[f]);i.extraClasses&&r.classList.add(i.extraClasses),p.push(r),b=i.end}if(b<this.text.length){const i=this.text.substring(b);p.push(y.$("span",void 0,...this.supportIcons?(0,N.renderLabelWithIcons)(i):[i]))}y.reset(this.domNode,...p),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(p,b){let i=0,f=0;return p.replace(/\r\n|\r|\n/g,(r,o)=>{f=r===`\r
`?-1:0,o+=i;for(const d of b)d.end<=o||(d.start>=o&&(d.start+=f),d.end>=o&&(d.end+=f));return i+=f,"\u23CE"})}}e.HighlightedLabel=D}),define(te[305],ie([0,1,7]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function N(D){try{D.parentElement&&D.parentElement.removeChild(D)}catch(S){}}class T{constructor(S){this.renderers=S,this.cache=new Map}alloc(S){let p=this.getTemplateCache(S).pop();if(!p){const b=(0,y.$)(".monaco-list-row"),f=this.getRenderer(S).renderTemplate(b);p={domNode:b,templateId:S,templateData:f}}return p}release(S){!S||this.releaseRow(S)}releaseRow(S){const{domNode:p,templateId:b}=S;p&&(p.classList.remove("scrolling"),N(p)),this.getTemplateCache(b).push(S)}getTemplateCache(S){let p=this.cache.get(S);return p||(p=[],this.cache.set(S,p)),p}dispose(){this.cache.forEach((S,p)=>{for(const b of S)this.getRenderer(p).disposeTemplate(b.templateData),b.templateData=null}),this.cache.clear()}getRenderer(S){const p=this.renderers.get(S);if(!p)throw new Error(`No renderer found for ${S}`);return p}}e.RowCache=T}),define(te[53],ie([0,1,7,52,55,58,2]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class p extends S.Disposable{onclick(i,f){this._register(y.addDisposableListener(i,y.EventType.CLICK,r=>f(new T.StandardMouseEvent(r))))}onmousedown(i,f){this._register(y.addDisposableListener(i,y.EventType.MOUSE_DOWN,r=>f(new T.StandardMouseEvent(r))))}onmouseover(i,f){this._register(y.addDisposableListener(i,y.EventType.MOUSE_OVER,r=>f(new T.StandardMouseEvent(r))))}onnonbubblingmouseout(i,f){this._register(y.addDisposableNonBubblingMouseOutListener(i,r=>f(new T.StandardMouseEvent(r))))}onkeydown(i,f){this._register(y.addDisposableListener(i,y.EventType.KEY_DOWN,r=>f(new N.StandardKeyboardEvent(r))))}onkeyup(i,f){this._register(y.addDisposableListener(i,y.EventType.KEY_UP,r=>f(new N.StandardKeyboardEvent(r))))}oninput(i,f){this._register(y.addDisposableListener(i,y.EventType.INPUT,f))}onblur(i,f){this._register(y.addDisposableListener(i,y.EventType.BLUR,f))}onfocus(i,f){this._register(y.addDisposableListener(i,y.EventType.FOCUS,f))}ignoreGesture(i){D.Gesture.ignoreTarget(i)}}e.Widget=p}),define(te[165],ie([0,1,94,53,14]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class D extends N.Widget{constructor(p){super();this._onActivate=p.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=p.bgWidth+"px",this.bgDomNode.style.height=p.bgHeight+"px",typeof p.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof p.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof p.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof p.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=p.className,this.domNode.classList.add(...p.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof p.top!="undefined"&&(this.domNode.style.top=p.top+"px"),typeof p.left!="undefined"&&(this.domNode.style.left=p.left+"px"),typeof p.bottom!="undefined"&&(this.domNode.style.bottom=p.bottom+"px"),typeof p.right!="undefined"&&(this.domNode.style.right=p.right+"px"),this._mouseMoveMonitor=this._register(new y.GlobalMouseMoveMonitor),this.onmousedown(this.bgDomNode,b=>this._arrowMouseDown(b)),this.onmousedown(this.domNode,b=>this._arrowMouseDown(b)),this._mousedownRepeatTimer=this._register(new T.IntervalTimer),this._mousedownScheduleRepeatTimer=this._register(new T.TimeoutTimer)}_arrowMouseDown(p){const b=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(b,200),this._mouseMoveMonitor.startMonitoring(p.target,p.buttons,y.standardMouseMoveMerger,i=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),p.preventDefault()}}e.ScrollbarArrow=D}),define(te[209],ie([0,1,7,30,94,165,300,53,17]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const i=140;class f extends p.Widget{constructor(o){super();this._lazyRender=o.lazyRender,this._host=o.host,this._scrollable=o.scrollable,this._scrollByPage=o.scrollByPage,this._scrollbarState=o.scrollbarState,this._visibilityController=this._register(new S.ScrollbarVisibilityController(o.visibility,"visible scrollbar "+o.extraScrollbarClassName,"invisible scrollbar "+o.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new T.GlobalMouseMoveMonitor),this._shouldRender=!0,this.domNode=(0,N.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,d=>this._domNodeMouseDown(d))}_createArrow(o){const d=this._register(new D.ScrollbarArrow(o));this.domNode.domNode.appendChild(d.bgDomNode),this.domNode.domNode.appendChild(d.domNode)}_createSlider(o,d,c,u){this.slider=(0,N.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(o),this.slider.setLeft(d),typeof c=="number"&&this.slider.setWidth(c),typeof u=="number"&&this.slider.setHeight(u),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,s=>{s.leftButton&&(s.preventDefault(),this._sliderMouseDown(s,()=>{}))}),this.onclick(this.slider.domNode,s=>{s.leftButton&&s.stopPropagation()})}_onElementSize(o){return this._scrollbarState.setVisibleSize(o)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(o){return this._scrollbarState.setScrollSize(o)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(o){return this._scrollbarState.setScrollPosition(o)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(o){o.target===this.domNode.domNode&&this._onMouseDown(o)}delegateMouseDown(o){const d=this.domNode.domNode.getClientRects()[0].top,c=d+this._scrollbarState.getSliderPosition(),u=d+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),s=this._sliderMousePosition(o);c<=s&&s<=u?o.leftButton&&(o.preventDefault(),this._sliderMouseDown(o,()=>{})):this._onMouseDown(o)}_onMouseDown(o){let d,c;if(o.target===this.domNode.domNode&&typeof o.browserEvent.offsetX=="number"&&typeof o.browserEvent.offsetY=="number")d=o.browserEvent.offsetX,c=o.browserEvent.offsetY;else{const s=y.getDomNodePagePosition(this.domNode.domNode);d=o.posx-s.left,c=o.posy-s.top}const u=this._mouseDownRelativePosition(d,c);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(u):this._scrollbarState.getDesiredScrollPositionFromOffset(u)),o.leftButton&&(o.preventDefault(),this._sliderMouseDown(o,()=>{}))}_sliderMouseDown(o,d){const c=this._sliderMousePosition(o),u=this._sliderOrthogonalMousePosition(o),s=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(o.target,o.buttons,T.standardMouseMoveMerger,n=>{const a=this._sliderOrthogonalMousePosition(n),t=Math.abs(a-u);if(b.isWindows&&t>i){this._setDesiredScrollPositionNow(s.getScrollPosition());return}const h=this._sliderMousePosition(n)-c;this._setDesiredScrollPositionNow(s.getDesiredScrollPositionFromDelta(h))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),d()}),this._host.onDragStart()}_setDesiredScrollPositionNow(o){const d={};this.writeScrollPosition(d,o),this._scrollable.setScrollPositionNow(d)}updateScrollbarSize(o){this._updateScrollbarSize(o),this._scrollbarState.setScrollbarSize(o),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=f}),define(te[306],ie([0,1,55,209,165,203,27]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;const p=(0,S.registerCodicon)("scrollbar-button-left",S.Codicon.triangleLeft),b=(0,S.registerCodicon)("scrollbar-button-right",S.Codicon.triangleRight);class i extends N.AbstractScrollbar{constructor(r,o,d){const c=r.getScrollDimensions(),u=r.getCurrentScrollPosition();super({lazyRender:o.lazyRender,host:d,scrollbarState:new D.ScrollbarState(o.horizontalHasArrows?o.arrowSize:0,o.horizontal===2?0:o.horizontalScrollbarSize,o.vertical===2?0:o.verticalScrollbarSize,c.width,c.scrollWidth,u.scrollLeft),visibility:o.horizontal,extraScrollbarClassName:"horizontal",scrollable:r,scrollByPage:o.scrollByPage});if(o.horizontalHasArrows){const s=(o.arrowSize-T.ARROW_IMG_SIZE)/2,n=(o.horizontalScrollbarSize-T.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:p,top:n,left:s,bottom:void 0,right:void 0,bgWidth:o.arrowSize,bgHeight:o.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:b,top:n,left:void 0,bottom:void 0,right:s,bgWidth:o.arrowSize,bgHeight:o.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((o.horizontalScrollbarSize-o.horizontalSliderSize)/2),0,void 0,o.horizontalSliderSize)}_updateSlider(r,o){this.slider.setWidth(r),this.slider.setLeft(o)}_renderDomNode(r,o){this.domNode.setWidth(r),this.domNode.setHeight(o),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(r){return this._shouldRender=this._onElementScrollSize(r.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(r.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(r.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(r,o){return r}_sliderMousePosition(r){return r.posx}_sliderOrthogonalMousePosition(r){return r.posy}_updateScrollbarSize(r){this.slider.setHeight(r)}writeScrollPosition(r,o){r.scrollLeft=o}updateOptions(r){this.updateScrollbarSize(r.horizontal===2?0:r.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(r.vertical===2?0:r.verticalScrollbarSize),this._visibilityController.setVisibility(r.horizontal),this._scrollByPage=r.scrollByPage}}e.HorizontalScrollbar=i}),define(te[307],ie([0,1,55,209,165,203,27]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;const p=(0,S.registerCodicon)("scrollbar-button-up",S.Codicon.triangleUp),b=(0,S.registerCodicon)("scrollbar-button-down",S.Codicon.triangleDown);class i extends N.AbstractScrollbar{constructor(r,o,d){const c=r.getScrollDimensions(),u=r.getCurrentScrollPosition();super({lazyRender:o.lazyRender,host:d,scrollbarState:new D.ScrollbarState(o.verticalHasArrows?o.arrowSize:0,o.vertical===2?0:o.verticalScrollbarSize,0,c.height,c.scrollHeight,u.scrollTop),visibility:o.vertical,extraScrollbarClassName:"vertical",scrollable:r,scrollByPage:o.scrollByPage});if(o.verticalHasArrows){const s=(o.arrowSize-T.ARROW_IMG_SIZE)/2,n=(o.verticalScrollbarSize-T.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:p,top:s,left:n,bottom:void 0,right:void 0,bgWidth:o.verticalScrollbarSize,bgHeight:o.arrowSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:b,top:void 0,left:n,bottom:s,right:void 0,bgWidth:o.verticalScrollbarSize,bgHeight:o.arrowSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((o.verticalScrollbarSize-o.verticalSliderSize)/2),o.verticalSliderSize,void 0)}_updateSlider(r,o){this.slider.setHeight(r),this.slider.setTop(o)}_renderDomNode(r,o){this.domNode.setWidth(o),this.domNode.setHeight(r),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(r){return this._shouldRender=this._onElementScrollSize(r.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(r.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(r.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(r,o){return o}_sliderMousePosition(r){return r.posy}_sliderOrthogonalMousePosition(r){return r.posx}_updateScrollbarSize(r){this.slider.setWidth(r)}writeScrollPosition(r,o){r.scrollTop=o}updateOptions(r){this.updateScrollbarSize(r.vertical===2?0:r.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(r.vertical),this._scrollByPage=r.scrollByPage}}e.VerticalScrollbar=i}),define(te[44],ie([0,1,160,48,74,8,24]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.resolvePath=e.normalizePath=e.joinPath=e.dirname=e.basename=e.basenameOrAuthority=e.isEqual=e.extUri=e.ExtUri=e.originalFSPath=void 0;function p(f){return(0,S.uriToFsPath)(f,!0)}e.originalFSPath=p;class b{constructor(r){this._ignorePathCasing=r}compare(r,o,d=!1){return r===o?0:(0,D.compare)(this.getComparisonKey(r,d),this.getComparisonKey(o,d))}isEqual(r,o,d=!1){return r===o?!0:!r||!o?!1:this.getComparisonKey(r,d)===this.getComparisonKey(o,d)}getComparisonKey(r,o=!1){return r.with({path:this._ignorePathCasing(r)?r.path.toLowerCase():void 0,fragment:o?null:void 0}).toString()}joinPath(r,...o){return S.URI.joinPath(r,...o)}basenameOrAuthority(r){return(0,e.basename)(r)||r.authority}basename(r){return T.posix.basename(r.path)}dirname(r){if(r.path.length===0)return r;let o;return r.scheme===N.Schemas.file?o=S.URI.file(T.dirname(p(r))).path:(o=T.posix.dirname(r.path),r.authority&&o.length&&o.charCodeAt(0)!==47&&(console.error(`dirname("${r.toString})) resulted in a relative path`),o="/")),r.with({path:o})}normalizePath(r){if(!r.path.length)return r;let o;return r.scheme===N.Schemas.file?o=S.URI.file(T.normalize(p(r))).path:o=T.posix.normalize(r.path),r.with({path:o})}resolvePath(r,o){if(r.scheme===N.Schemas.file){const d=S.URI.file(T.resolve(p(r),o));return r.with({authority:d.authority,path:d.path})}return o=y.toPosixPath(o),r.with({path:T.posix.resolve(r.path,o)})}}e.ExtUri=b,e.extUri=new b(()=>!1),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri);var i;(function(f){f.META_DATA_LABEL="label",f.META_DATA_DESCRIPTION="description",f.META_DATA_SIZE="size",f.META_DATA_MIME="mime";function r(o){const d=new Map;o.path.substring(o.path.indexOf(";")+1,o.path.lastIndexOf(";")).split(";").forEach(s=>{const[n,a]=s.split(":");n&&a&&d.set(n,a)});const u=o.path.substring(0,o.path.indexOf(";"));return u&&d.set(f.META_DATA_MIME,u),d}f.parseMetaData=r})(i=e.DataUri||(e.DataUri={}))}),define(te[308],ie([0,1,7,713,92,163,55,107,14,23,10,6,68,106,128,2,714,208,48,37,44,8,24]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdown=void 0;function w(v,m={},E={}){var I;const k=new u.DisposableStore;let A=!1;const P=k.add(new i.CancellationTokenSource),F=(0,D.createElement)(m),M=function(j){let X;try{X=(0,n.parse)(decodeURIComponent(j))}catch(Q){}return X?(X=(0,t.cloneAndChange)(X,Q=>{if(v.uris&&v.uris[Q])return g.URI.revive(v.uris[Q])}),encodeURIComponent(JSON.stringify(X))):j},R=function(j,X){const Q=v.uris&&v.uris[j];if(!Q)return j;let Y=g.URI.revive(Q);return X?j.startsWith(a.Schemas.data+":")?j:a.FileAccess.asBrowserUri(Y).toString(!0):g.URI.parse(j).toString()===Y.toString()?j:(Y.query&&(Y=Y.with({query:M(Y.query)})),Y.toString())};let O;const L=new Promise(j=>O=j),B=new s.Renderer;if(B.image=(j,X,Q)=>{let Y=[],oe=[];if(j){({href:j,dimensions:Y}=(0,o.parseHrefAndDimensions)(j)),j=R(j,!0);try{const se=g.URI.parse(j);m.baseUrl&&se.scheme===a.Schemas.file&&(j=(0,l.resolvePath)(m.baseUrl,j).toString())}catch(se){}oe.push(`src="${j}"`)}return Q&&oe.push(`alt="${Q}"`),X&&oe.push(`title="${X}"`),Y.length&&(oe=oe.concat(Y)),"<img "+oe.join(" ")+">"},B.link=(j,X,Q)=>(j===Q&&(Q=(0,o.removeMarkdownEscapes)(Q)),j=R(j,!1),m.baseUrl&&(/^\w[\w\d+.-]*:/.test(j)||(j=(0,l.resolvePath)(m.baseUrl,j).toString())),X=(0,o.removeMarkdownEscapes)(X),j=(0,o.removeMarkdownEscapes)(j),!j||j.match(/^data:|javascript:/i)||j.match(/^command:/i)&&!v.isTrusted||j.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?Q:(j=j.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="#" data-href="${j}" title="${X||j}">${Q}</a>`)),B.paragraph=j=>(v.supportThemeIcons&&(j=(0,p.renderLabelWithIcons)(j).map(Q=>typeof Q=="string"?Q:Q.outerHTML).join("")),`<p>${j}</p>`),m.codeBlockRenderer&&(B.code=(j,X)=>{const Q=m.codeBlockRenderer(X,j),Y=c.defaultGenerator.nextId();return(0,b.raceCancellation)(Promise.all([Q,L]),P.token).then(oe=>{var se;if(!A&&oe){const K=F.querySelector(`div[data-code="${Y}"]`);K&&y.reset(K,oe[0]),(se=m.asyncRenderCallback)===null||se===void 0||se.call(m)}}).catch(()=>{}),`<div class="code" data-code="${Y}">${(0,h.escape)(j)}</div>`}),m.actionHandler){const j=m.actionHandler.disposables.add(new T.DomEmitter(F,"click")),X=m.actionHandler.disposables.add(new T.DomEmitter(F,"auxclick"));m.actionHandler.disposables.add(r.Event.any(j.event,X.event)(Q=>{const Y=new S.StandardMouseEvent(Q);if(!Y.leftButton&&!Y.middleButton)return;let oe=Y.target;if(!(oe.tagName!=="A"&&(oe=oe.parentElement,!oe||oe.tagName!=="A")))try{const se=oe.dataset.href;se&&m.actionHandler.callback(se,Y)}catch(se){(0,f.onUnexpectedError)(se)}finally{Y.preventDefault()}}))}v.supportHtml||(E.sanitizer=j=>(v.isTrusted?j.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?j:"",E.sanitize=!0,E.silent=!0),E.renderer=B;let z=(I=v.value)!==null&&I!==void 0?I:"";z.length>1e5&&(z=`${z.substr(0,1e5)}\u2026`),v.supportThemeIcons&&(z=(0,d.markdownEscapeEscapedIcons)(z));const $=s.parse(z,E);if(F.innerHTML=_(v,$),O(),m.asyncRenderCallback)for(const j of F.getElementsByTagName("img")){const X=k.add(y.addDisposableListener(j,"load",()=>{X.dispose(),m.asyncRenderCallback()}))}return{element:F,dispose:()=>{A=!0,P.cancel(),k.dispose()}}}e.renderMarkdown=w;function _(v,m){const{config:E,allowedSchemes:I}=C(v);N.addHook("uponSanitizeAttribute",(A,P)=>{if(P.attrName==="style"||P.attrName==="class"){if(A.tagName==="SPAN"){if(P.attrName==="style"){P.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(P.attrValue);return}else if(P.attrName==="class"){P.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(P.attrValue);return}}P.keepAttr=!1;return}});const k=document.createElement("a");N.addHook("afterSanitizeAttributes",A=>{for(const P of["href","src"])A.hasAttribute(P)&&(k.href=A.getAttribute(P),I.includes(k.protocol.replace(/:$/,""))||A.removeAttribute(P))});try{return N.sanitize(m,Object.assign(Object.assign({},E),{RETURN_TRUSTED_TYPE:!0}))}finally{N.removeHook("uponSanitizeAttribute"),N.removeHook("afterSanitizeAttributes")}}function C(v){const m=[a.Schemas.http,a.Schemas.https,a.Schemas.mailto,a.Schemas.data,a.Schemas.file,a.Schemas.vscodeFileResource,a.Schemas.vscodeRemote,a.Schemas.vscodeRemoteResource];return v.isTrusted&&m.push(a.Schemas.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:m}}}),define(te[166],ie([0,1,160,48,17,44,24]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=e.getBaseLabel=void 0;function p(i){if(!i)return;typeof i=="string"&&(i=S.URI.file(i));const f=(0,D.basename)(i)||(i.scheme===N.Schemas.file?i.fsPath:i.path);return T.isWindows&&(0,y.isRootOrDriveLetter)(f)?b(f):f}e.getBaseLabel=p;function b(i){return(0,y.hasDriveLetter)(i)?i.charAt(0).toUpperCase()+i.slice(1):i}e.normalizeDriveLetter=b}),define(te[108],ie([0,1,207,48,74,44,8]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessMimeTypes=e.registerTextMime=e.Mimes=void 0;var p;(function(s){s.text="text/plain",s.binary="application/octet-stream",s.unknown="application/unknown",s.markdown="text/markdown",s.latex="text/latex"})(p=e.Mimes||(e.Mimes={}));let b=[],i=[],f=[];function r(s,n=!1){const a=o(s);b.push(a),a.userConfigured?f.push(a):i.push(a),n&&!a.userConfigured&&b.forEach(t=>{t.mime===a.mime||t.userConfigured||(a.extension&&t.extension===a.extension&&console.warn(`Overwriting extension <<${a.extension}>> to now point to mime <<${a.mime}>>`),a.filename&&t.filename===a.filename&&console.warn(`Overwriting filename <<${a.filename}>> to now point to mime <<${a.mime}>>`),a.filepattern&&t.filepattern===a.filepattern&&console.warn(`Overwriting filepattern <<${a.filepattern}>> to now point to mime <<${a.mime}>>`),a.firstline&&t.firstline===a.firstline&&console.warn(`Overwriting firstline <<${a.firstline}>> to now point to mime <<${a.mime}>>`))})}e.registerTextMime=r;function o(s){return{id:s.id,mime:s.mime,filename:s.filename,extension:s.extension,filepattern:s.filepattern,firstline:s.firstline,userConfigured:s.userConfigured,filenameLowercase:s.filename?s.filename.toLowerCase():void 0,extensionLowercase:s.extension?s.extension.toLowerCase():void 0,filepatternLowercase:s.filepattern?(0,y.parse)(s.filepattern.toLowerCase()):void 0,filepatternOnPath:s.filepattern?s.filepattern.indexOf(T.posix.sep)>=0:!1}}function d(s,n){let a;if(s)switch(s.scheme){case N.Schemas.file:a=s.fsPath;break;case N.Schemas.data:a=D.DataUri.parseMetaData(s).get(D.DataUri.META_DATA_LABEL);break;default:a=s.path}if(!a)return[p.unknown];a=a.toLowerCase();const t=(0,T.basename)(a),l=c(a,t,f);if(l)return[l,p.text];const h=c(a,t,i);if(h)return[h,p.text];if(n){const g=u(n);if(g)return[g,p.text]}return[p.unknown]}e.guessMimeTypes=d;function c(s,n,a){var t;let l=null,h=null,g=null;for(let w=a.length-1;w>=0;w--){const _=a[w];if(n===_.filenameLowercase){l=_;break}if(_.filepattern&&(!h||_.filepattern.length>h.filepattern.length)){const C=_.filepatternOnPath?s:n;((t=_.filepatternLowercase)===null||t===void 0?void 0:t.call(_,C))&&(h=_)}_.extension&&(!g||_.extension.length>g.extension.length)&&n.endsWith(_.extensionLowercase)&&(g=_)}return l?l.mime:h?h.mime:g?g.mime:null}function u(s){if((0,S.startsWithUTF8BOM)(s)&&(s=s.substr(1)),s.length>0)for(let n=b.length-1;n>=0;n--){const a=b[n];if(!a.firstline)continue;const t=s.match(a.firstline);if(t&&t.length>0)return a.mime}return null}}),define(te[167],ie([0,1,108]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaticDND=e.DragAndDropData=e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:y.Mimes.text,TERMINALS:"Terminals"};class N{constructor(D){this.data=D}update(){}getData(){return this.data}}e.DragAndDropData=N,e.StaticDND={CurrentDragAndDropData:void 0}}),define(te[309],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0;const y=new Uint8Array(16),N=[];for(let S=0;S<256;S++)N.push(S.toString(16).padStart(2,"0"));let T;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?T=crypto.getRandomValues.bind(crypto):T=function(S){for(let p=0;p<S.length;p++)S[p]=Math.floor(Math.random()*256);return S};function D(){T(y),y[6]=y[6]&15|64,y[8]=y[8]&63|128;let S=0,p="";return p+=N[y[S++]],p+=N[y[S++]],p+=N[y[S++]],p+=N[y[S++]],p+="-",p+=N[y[S++]],p+=N[y[S++]],p+="-",p+=N[y[S++]],p+=N[y[S++]],p+="-",p+=N[y[S++]],p+=N[y[S++]],p+="-",p+=N[y[S++]],p+=N[y[S++]],p+=N[y[S++]],p+=N[y[S++]],p+=N[y[S++]],p+=N[y[S++]],p}e.generateUuid=D}),define(te[210],ie([0,1,10,2,17,20]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const S="$initialize";let p=!1;function b(d){!T.isWeb||(p||(p=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(d.message))}e.logOnceWebWorkerWarning=b;class i{constructor(c){this._workerId=-1,this._handler=c,this._lastSentReq=0,this._pendingReplies=Object.create(null)}setWorkerId(c){this._workerId=c}sendMessage(c,u){let s=String(++this._lastSentReq);return new Promise((n,a)=>{this._pendingReplies[s]={resolve:n,reject:a},this._send({vsWorker:this._workerId,req:s,method:c,args:u})})}handleMessage(c){!c||!c.vsWorker||this._workerId!==-1&&c.vsWorker!==this._workerId||this._handleMessage(c)}_handleMessage(c){if(c.seq){let a=c;if(!this._pendingReplies[a.seq]){console.warn("Got reply to unknown seq");return}let t=this._pendingReplies[a.seq];if(delete this._pendingReplies[a.seq],a.err){let l=a.err;a.err.$isError&&(l=new Error,l.name=a.err.name,l.message=a.err.message,l.stack=a.err.stack),t.reject(l);return}t.resolve(a.res);return}let u=c,s=u.req;this._handler.handleMessage(u.method,u.args).then(a=>{this._send({vsWorker:this._workerId,seq:s,res:a,err:void 0})},a=>{a.detail instanceof Error&&(a.detail=(0,y.transformErrorForSerialization)(a.detail)),this._send({vsWorker:this._workerId,seq:s,res:void 0,err:(0,y.transformErrorForSerialization)(a)})})}_send(c){let u=[];if(c.req){const s=c;for(let n=0;n<s.args.length;n++)s.args[n]instanceof ArrayBuffer&&u.push(s.args[n])}else{const s=c;s.res instanceof ArrayBuffer&&u.push(s.res)}this._handler.sendMessage(c,u)}}class f extends N.Disposable{constructor(c,u,s){super();let n=null;this._worker=this._register(c.create("vs/base/common/worker/simpleWorker",h=>{this._protocol.handleMessage(h)},h=>{n&&n(h)})),this._protocol=new i({sendMessage:(h,g)=>{this._worker.postMessage(h,g)},handleMessage:(h,g)=>{if(typeof s[h]!="function")return Promise.reject(new Error("Missing method "+h+" on main thread host."));try{return Promise.resolve(s[h].apply(s,g))}catch(w){return Promise.reject(w)}}}),this._protocol.setWorkerId(this._worker.getId());let a=null;typeof self.require!="undefined"&&typeof self.require.getConfig=="function"?a=self.require.getConfig():typeof self.requirejs!="undefined"&&(a=self.requirejs.s.contexts._.config);const t=D.getAllMethodNames(s);this._onModuleLoaded=this._protocol.sendMessage(S,[this._worker.getId(),JSON.parse(JSON.stringify(a)),u,t]);const l=(h,g)=>this._request(h,g);this._lazyProxy=new Promise((h,g)=>{n=g,this._onModuleLoaded.then(w=>{h(D.createProxyObject(w,l))},w=>{g(w),this._onError("Worker failed to load "+u,w)})})}getProxyObject(){return this._lazyProxy}_request(c,u){return new Promise((s,n)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(c,u).then(s,n)},n)})}_onError(c,u){console.error(c),console.info(u)}}e.SimpleWorkerClient=f;class r{constructor(c,u){this._requestHandlerFactory=u,this._requestHandler=null,this._protocol=new i({sendMessage:(s,n)=>{c(s,n)},handleMessage:(s,n)=>this._handleMessage(s,n)})}onmessage(c){this._protocol.handleMessage(c)}_handleMessage(c,u){if(c===S)return this.initialize(u[0],u[1],u[2],u[3]);if(!this._requestHandler||typeof this._requestHandler[c]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+c));try{return Promise.resolve(this._requestHandler[c].apply(this._requestHandler,u))}catch(s){return Promise.reject(s)}}initialize(c,u,s,n){this._protocol.setWorkerId(c);const a=(l,h)=>this._protocol.sendMessage(l,h),t=D.createProxyObject(n,a);return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(t),Promise.resolve(D.getAllMethodNames(this._requestHandler))):(u&&(typeof u.baseUrl!="undefined"&&delete u.baseUrl,typeof u.paths!="undefined"&&typeof u.paths.vs!="undefined"&&delete u.paths.vs,typeof u.trustedTypesPolicy!==void 0&&delete u.trustedTypesPolicy,u.catchError=!0,self.require.config(u)),new Promise((l,h)=>{self.require([s],g=>{if(this._requestHandler=g.create(t),!this._requestHandler){h(new Error("No RequestHandler!"));return}l(D.getAllMethodNames(this._requestHandler))},h)}))}}e.SimpleWorkerServer=r;function o(d){return new r(d,null)}e.create=o}),define(te[211],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var y;(function(T){T[T.Blur=1]="Blur",T[T.Gesture=2]="Gesture",T[T.Other=3]="Other"})(y=e.QuickInputHideReason||(e.QuickInputHideReason={}));var N;(function(T){T[T.NONE=0]="NONE",T[T.FIRST=1]="FIRST",T[T.SECOND=2]="SECOND",T[T.LAST=3]="LAST"})(N=e.ItemActivation||(e.ItemActivation={}))}),define(te[310],ie([0,1,14,6,2,20]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=void 0;var S;(function(i){i[i.None=0]="None",i[i.Initialized=1]="Initialized",i[i.Closed=2]="Closed"})(S||(S={}));class p extends T.Disposable{constructor(f,r=Object.create(null)){super();this.database=f,this.options=r,this._onDidChangeStorage=this._register(new N.Emitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=S.None,this.cache=new Map,this.flushDelayer=new y.ThrottledDelayer(p.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(f=>this.onDidChangeItemsExternal(f)))}onDidChangeItemsExternal(f){var r,o;(r=f.changed)===null||r===void 0||r.forEach((d,c)=>this.accept(c,d)),(o=f.deleted)===null||o===void 0||o.forEach(d=>this.accept(d,void 0))}accept(f,r){if(this.state===S.Closed)return;let o=!1;(0,D.isUndefinedOrNull)(r)?o=this.cache.delete(f):this.cache.get(f)!==r&&(this.cache.set(f,r),o=!0),o&&this._onDidChangeStorage.fire(f)}get(f,r){const o=this.cache.get(f);return(0,D.isUndefinedOrNull)(o)?r:o}getBoolean(f,r){const o=this.get(f);return(0,D.isUndefinedOrNull)(o)?r:o==="true"}getNumber(f,r){const o=this.get(f);return(0,D.isUndefinedOrNull)(o)?r:parseInt(o,10)}set(f,r){return Me(this,void 0,void 0,function*(){if(this.state===S.Closed)return;if((0,D.isUndefinedOrNull)(r))return this.delete(f);const o=String(r);if(this.cache.get(f)!==o)return this.cache.set(f,o),this.pendingInserts.set(f,o),this.pendingDeletes.delete(f),this._onDidChangeStorage.fire(f),this.flushDelayer.trigger(()=>this.flushPending())})}delete(f){return Me(this,void 0,void 0,function*(){if(!(this.state===S.Closed||!this.cache.delete(f)))return this.pendingDeletes.has(f)||this.pendingDeletes.add(f),this.pendingInserts.delete(f),this._onDidChangeStorage.fire(f),this.flushDelayer.trigger(()=>this.flushPending())})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Me(this,void 0,void 0,function*(){if(!this.hasPending)return;const f={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(f).finally(()=>{var r;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(r=this.whenFlushedCallbacks.pop())===null||r===void 0||r()})})}dispose(){this.flushDelayer.dispose(),super.dispose()}}e.Storage=p,p.DEFAULT_FLUSH_DELAY=100;class b{constructor(){this.onDidChangeItemsExternal=N.Event.None,this.items=new Map}updateItems(f){return Me(this,void 0,void 0,function*(){f.insert&&f.insert.forEach((r,o)=>this.items.set(o,r)),f.delete&&f.delete.forEach(r=>this.items.delete(r))})}}e.InMemoryStorageDatabase=b}),define(te[311],ie([0,1,17,210]),function(q,e,y,N){"use strict";var T;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const D=(T=window.trustedTypes)===null||T===void 0?void 0:T.createPolicy("defaultWorkerFactory",{createScriptURL:r=>r});function S(r,o){if(y.globals.MonacoEnvironment){if(typeof y.globals.MonacoEnvironment.getWorker=="function")return y.globals.MonacoEnvironment.getWorker(r,o);if(typeof y.globals.MonacoEnvironment.getWorkerUrl=="function"){const d=y.globals.MonacoEnvironment.getWorkerUrl(r,o);return new Worker(D?D.createScriptURL(d):d,{name:o})}}if(typeof q=="function"){const d=q.toUrl("./"+r),c=p(d,o);return new Worker(D?D.createScriptURL(c):c,{name:o})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function p(r,o){if(/^((http:)|(https:)|(file:))/.test(r)&&r.substring(0,self.origin.length)!==self.origin){const d="vs/base/worker/defaultWorkerFactory.js",c=q.toUrl(d).slice(0,-d.length),u=`/*${o}*/self.MonacoEnvironment={baseUrl: '${c}'};const ttPolicy = self.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${r}') ?? '${r}');/*${o}*/`,s=new Blob([u],{type:"application/javascript"});return URL.createObjectURL(s)}return r+"#"+o}e.getWorkerBootstrapUrl=p;function b(r){return typeof r.then=="function"}class i{constructor(o,d,c,u,s){this.id=d;const n=S("workerMain.js",c);b(n)?this.worker=n:this.worker=Promise.resolve(n),this.postMessage(o,[]),this.worker.then(a=>{a.onmessage=function(t){u(t.data)},a.onmessageerror=s,typeof a.addEventListener=="function"&&a.addEventListener("error",s)})}getId(){return this.id}postMessage(o,d){this.worker&&this.worker.then(c=>c.postMessage(o,d))}dispose(){this.worker&&this.worker.then(o=>o.terminate()),this.worker=null}}class f{constructor(o){this._label=o,this._webWorkerFailedBeforeError=!1}create(o,d,c){let u=++f.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new i(o,u,this._label||"anonymous"+u,d,s=>{(0,N.logOnceWebWorkerWarning)(s),this._webWorkerFailedBeforeError=s,c(s)})}}e.DefaultWorkerFactory=f,f.LAST_WORKER_ID=0}),define(te[212],ie([11]),{}),define(te[312],ie([11]),{}),define(te[45],ie([0,1,7,17,312]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const T=2e4;let D,S,p,b,i;function f(c){D=document.createElement("div"),D.className="monaco-aria-container";const u=()=>{const n=document.createElement("div");return n.className="monaco-alert",n.setAttribute("role","alert"),n.setAttribute("aria-atomic","true"),D.appendChild(n),n};S=u(),p=u();const s=()=>{const n=document.createElement("div");return n.className="monaco-status",n.setAttribute("role","complementary"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),D.appendChild(n),n};b=s(),i=s(),c.appendChild(D)}e.setARIAContainer=f;function r(c){!D||(S.textContent!==c?(y.clearNode(p),d(S,c)):(y.clearNode(S),d(p,c)))}e.alert=r;function o(c){!D||(N.isMacintosh?r(c):b.textContent!==c?(y.clearNode(i),d(b,c)):(y.clearNode(b),d(i,c)))}e.status=o;function d(c,u){y.clearNode(c),u.length>T&&(u=u.substr(0,T)),c.textContent=u,c.style.visibility="hidden",c.style.visibility="visible"}}),define(te[313],ie([11]),{}),define(te[314],ie([0,1,7,52,58,107,29,6,2,37,313]),function(q,e,y,N,T,D,S,p,b,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const f={buttonBackground:S.Color.fromHex("#0E639C"),buttonHoverBackground:S.Color.fromHex("#006BB3"),buttonForeground:S.Color.white};class r extends b.Disposable{constructor(d,c){super();this._onDidClick=this._register(new p.Emitter),this.options=c||Object.create(null),(0,i.mixin)(this.options,f,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),d.appendChild(this._element),this._register(T.Gesture.addTarget(this._element)),[y.EventType.CLICK,T.EventType.Tap].forEach(u=>{this._register((0,y.addDisposableListener)(this._element,u,s=>{if(!this.enabled){y.EventHelper.stop(s);return}this._onDidClick.fire(s)}))}),this._register((0,y.addDisposableListener)(this._element,y.EventType.KEY_DOWN,u=>{const s=new N.StandardKeyboardEvent(u);let n=!1;this.enabled&&(s.equals(3)||s.equals(10))?(this._onDidClick.fire(u),n=!0):s.equals(9)&&(this._element.blur(),n=!0),n&&y.EventHelper.stop(s,!0)})),this._register((0,y.addDisposableListener)(this._element,y.EventType.MOUSE_OVER,u=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,y.addDisposableListener)(this._element,y.EventType.MOUSE_OUT,u=>{this.applyStyles()})),this.focusTracker=this._register((0,y.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let d;this.options.secondary?d=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:d=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,d&&(this._element.style.backgroundColor=d)}style(d){this.buttonForeground=d.buttonForeground,this.buttonBackground=d.buttonBackground,this.buttonHoverBackground=d.buttonHoverBackground,this.buttonSecondaryForeground=d.buttonSecondaryForeground,this.buttonSecondaryBackground=d.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=d.buttonSecondaryHoverBackground,this.buttonBorder=d.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let d,c;this.options.secondary?(c=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",d=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(c=this.buttonForeground?this.buttonForeground.toString():"",d=this.buttonBackground?this.buttonBackground.toString():"");const u=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=c,this._element.style.backgroundColor=d,this._element.style.borderWidth=u?"1px":"",this._element.style.borderStyle=u?"solid":"",this._element.style.borderColor=u}}get element(){return this._element}set label(d){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,y.reset)(this._element,...(0,D.renderLabelWithIcons)(d)):this._element.textContent=d,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=d)}set enabled(d){d?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=r}),define(te[315],ie([11]),{}),define(te[168],ie([0,1,53,27,29,6,315]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Checkbox=void 0;const S={inputActiveOptionBorder:T.Color.fromHex("#007ACC00"),inputActiveOptionForeground:T.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:T.Color.fromHex("#0E639C50")};class p extends y.Widget{constructor(i){super();this._onChange=this._register(new D.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new D.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},S),i),this._checked=this._opts.isChecked;const f=["monaco-custom-checkbox"];this._opts.icon&&f.push(...N.CSSIcon.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&f.push(...this._opts.actionClassName.split(" ")),this._checked&&f.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...f),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,r=>{this.checked=!this._checked,this._onChange.fire(!1),r.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,r=>{if(r.keyCode===10||r.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),r.preventDefault();return}this._onKeyDown.fire(r)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(i){this._checked=i,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(i){i.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=i.inputActiveOptionBorder),i.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=i.inputActiveOptionForeground),i.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=i.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Checkbox=p}),define(te[316],ie([11]),{}),define(te[317],ie([11]),{}),define(te[133],ie([0,1,27,316,317]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=void 0;function N(T){let D=T.definition;for(;D instanceof y.Codicon;)D=D.definition;return`.codicon-${T.id}:before { content: '${D.fontCharacter}'; }`}e.formatRule=N}),define(te[318],ie([11]),{}),define(te[213],ie([0,1,159,7,2,17,129,318]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var p;(function(r){r[r.AVOID=0]="AVOID",r[r.ALIGN=1]="ALIGN"})(p=e.LayoutAnchorMode||(e.LayoutAnchorMode={}));function b(r,o,d){const c=d.mode===p.ALIGN?d.offset:d.offset+d.size,u=d.mode===p.ALIGN?d.offset+d.size:d.offset;return d.position===0?o<=r-c?c:o<=u?u-o:Math.max(r-o,0):o<=u?u-o:o<=r-c?c:0}e.layout=b;class i extends T.Disposable{constructor(o,d){super();this.container=null,this.delegate=null,this.toDisposeOnClean=T.Disposable.None,this.toDisposeOnSetContainer=T.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=N.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,N.hide(this.view),this.setContainer(o,d),this._register((0,T.toDisposable)(()=>this.setContainer(null,1)))}setContainer(o,d){var c;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(c=this.shadowRootHostElement)===null||c===void 0||c.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),o){if(this.container=o,this.useFixedPosition=d!==1,this.useShadowDOM=d===3,this.useShadowDOM){this.shadowRootHostElement=N.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const s=document.createElement("style");s.textContent=f,this.shadowRoot.appendChild(s),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(N.$("slot"))}else this.container.appendChild(this.view);const u=new T.DisposableStore;i.BUBBLE_UP_EVENTS.forEach(s=>{u.add(N.addStandardDisposableListener(this.container,s,n=>{this.onDOMEvent(n,!1)}))}),i.BUBBLE_DOWN_EVENTS.forEach(s=>{u.add(N.addStandardDisposableListener(this.container,s,n=>{this.onDOMEvent(n,!0)},!0))}),this.toDisposeOnSetContainer=u}}show(o){this.isVisible()&&this.hide(),N.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",N.show(this.view),this.toDisposeOnClean=o.render(this.view)||T.Disposable.None,this.delegate=o,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(D.isIOS&&y.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let o=this.delegate.getAnchor(),d;if(N.isHTMLElement(o)){let g=N.getDomNodePagePosition(o);d={top:g.top,left:g.left,width:g.width,height:g.height}}else d={top:o.y,left:o.x,width:o.width||1,height:o.height||2};const c=N.getTotalWidth(this.view),u=N.getTotalHeight(this.view),s=this.delegate.anchorPosition||0,n=this.delegate.anchorAlignment||0,a=this.delegate.anchorAxisAlignment||0;let t,l;if(a===0){const g={offset:d.top-window.pageYOffset,size:d.height,position:s===0?0:1},w={offset:d.left,size:d.width,position:n===0?0:1,mode:p.ALIGN};t=b(window.innerHeight,u,g)+window.pageYOffset,S.Range.intersects({start:t,end:t+u},{start:g.offset,end:g.offset+g.size})&&(w.mode=p.AVOID),l=b(window.innerWidth,c,w)}else{const g={offset:d.left,size:d.width,position:n===0?0:1},w={offset:d.top,size:d.height,position:s===0?0:1,mode:p.ALIGN};l=b(window.innerWidth,c,g),S.Range.intersects({start:l,end:l+c},{start:g.offset,end:g.offset+g.size})&&(w.mode=p.AVOID),t=b(window.innerHeight,u,w)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(s===0?"bottom":"top"),this.view.classList.add(n===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const h=N.getDomNodePagePosition(this.container);this.view.style.top=`${t-(this.useFixedPosition?N.getDomNodePagePosition(this.view).top:h.top)}px`,this.view.style.left=`${l-(this.useFixedPosition?N.getDomNodePagePosition(this.view).left:h.left)}px`,this.view.style.width="initial"}hide(o){const d=this.delegate;this.delegate=null,(d==null?void 0:d.onHide)&&d.onHide(o),this.toDisposeOnClean.dispose(),N.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(o,d){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(o,document.activeElement):d&&!N.isAncestor(o.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=i,i.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],i.BUBBLE_DOWN_EVENTS=["click"];let f=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(te[319],ie([11]),{}),define(te[214],ie([0,1,7,29,37,8,319]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;const S={badgeBackground:N.Color.fromHex("#4D4D4D"),badgeForeground:N.Color.fromHex("#FFFFFF")};class p{constructor(i,f){this.count=0,this.options=f||Object.create(null),(0,T.mixin)(this.options,S,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,y.append)(i,(0,y.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(i){this.count=i,this.render()}setTitleFormat(i){this.titleFormat=i,this.render()}render(){this.element.textContent=(0,D.format)(this.countFormat,this.count),this.element.title=(0,D.format)(this.titleFormat,this.count),this.applyStyles()}style(i){this.badgeBackground=i.badgeBackground,this.badgeForeground=i.badgeForeground,this.badgeBorder=i.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const i=this.badgeBackground?this.badgeBackground.toString():"",f=this.badgeForeground?this.badgeForeground.toString():"",r=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=i,this.element.style.color=f,this.element.style.borderWidth=r?"1px":"",this.element.style.borderStyle=r?"solid":"",this.element.style.borderColor=r}}}e.CountBadge=p}),define(te[215],ie([11]),{}),define(te[216],ie([11]),{}),define(te[320],ie([11]),{}),define(te[321],ie([11]),{}),define(te[322],ie([11]),{}),define(te[323],ie([11]),{}),define(te[217],ie([11]),{}),define(te[324],ie([11]),{}),define(te[134],ie([0,1,324]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(te[325],ie([11]),{}),define(te[326],ie([0,1,7,14,29,2,37,325]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const p="done",b="active",i="infinite",f="discrete",r={progressBarBackground:T.Color.fromHex("#0E70C0")};class o extends D.Disposable{constructor(c,u){super();this.options=u||Object.create(null),(0,S.mixin)(this.options,r,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new N.RunOnceScheduler(()=>(0,y.show)(this.element),0)),this.create(c)}create(c){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),c.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(b,i,f),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(c){return this.element.classList.add(p),this.element.classList.contains(i)?(this.bit.style.opacity="0",c?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",c?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(f,p),this.element.classList.add(b,i),this}getContainer(){return this.element}style(c){this.progressBarBackground=c.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const c=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=c}}}e.ProgressBar=o}),define(te[327],ie([11]),{}),define(te[109],ie([0,1,7,92,58,14,91,6,2,17,327]),function(q,e,y,N,T,D,S,p,b,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;let f=!1;var r;(function(l){l.North="north",l.South="south",l.East="east",l.West="west"})(r=e.OrthogonalEdge||(e.OrthogonalEdge={}));let o=4;const d=new p.Emitter;let c=300;const u=new p.Emitter;class s{constructor(){this.disposables=new b.DisposableStore}get onPointerMove(){return this.disposables.add(new N.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new N.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}Fe([S.memoize],s.prototype,"onPointerMove",null),Fe([S.memoize],s.prototype,"onPointerUp",null);class n{constructor(h){this.el=h,this.disposables=new b.DisposableStore}get onPointerMove(){return this.disposables.add(new N.DomEmitter(this.el,T.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new N.DomEmitter(this.el,T.EventType.End)).event}dispose(){this.disposables.dispose()}}Fe([S.memoize],n.prototype,"onPointerMove",null),Fe([S.memoize],n.prototype,"onPointerUp",null);class a{constructor(h){this.factory=h}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}Fe([S.memoize],a.prototype,"onPointerMove",null),Fe([S.memoize],a.prototype,"onPointerUp",null);class t extends b.Disposable{constructor(h,g,w){super();this.hoverDelay=c,this.hoverDelayer=this._register(new D.Delayer(this.hoverDelay)),this._state=3,this._onDidEnablementChange=this._register(new p.Emitter),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new p.Emitter),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new p.Emitter),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new p.Emitter),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new p.Emitter),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new b.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new b.DisposableStore),this.orthogonalEndSashDisposables=this._register(new b.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new b.DisposableStore),this.el=(0,y.append)(h,(0,y.$)(".monaco-sash")),w.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${w.orthogonalEdge}`),i.isMacintosh&&this.el.classList.add("mac");const _=this._register(new N.DomEmitter(this.el,"mousedown")).event;this._register(_(A=>this.onPointerStart(A,new s),this));const C=this._register(new N.DomEmitter(this.el,"dblclick")).event;this._register(C(this.onPointerDoublePress,this));const v=this._register(new N.DomEmitter(this.el,"mouseenter")).event;this._register(v(()=>t.onMouseEnter(this)));const m=this._register(new N.DomEmitter(this.el,"mouseleave")).event;this._register(m(()=>t.onMouseLeave(this))),this._register(T.Gesture.addTarget(this.el));const E=p.Event.map(this._register(new N.DomEmitter(this.el,T.EventType.Start)).event,A=>{var P;return Object.assign(Object.assign({},A),{target:(P=A.initialTarget)!==null&&P!==void 0?P:null})});this._register(E(A=>this.onPointerStart(A,new n(this.el)),this));const I=this._register(new N.DomEmitter(this.el,T.EventType.Tap)).event,k=p.Event.map(p.Event.filter(p.Event.debounce(I,(A,P)=>{var F;return{event:P,count:((F=A==null?void 0:A.count)!==null&&F!==void 0?F:0)+1}},250),({count:A})=>A===2),({event:A})=>{var P;return Object.assign(Object.assign({},A),{target:(P=A.initialTarget)!==null&&P!==void 0?P:null})});this._register(k(this.onPointerDoublePress,this)),typeof w.size=="number"?(this.size=w.size,w.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=o,this._register(d.event(A=>{this.size=A,this.layout()}))),this._register(u.event(A=>this.hoverDelay=A)),this.hidden=!1,this.layoutProvider=g,this.orthogonalStartSash=w.orthogonalStartSash,this.orthogonalEndSash=w.orthogonalEndSash,this.orientation=w.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",f),this.layout()}get state(){return this._state}set state(h){this._state!==h&&(this.el.classList.toggle("disabled",h===0),this.el.classList.toggle("minimum",h===1),this.el.classList.toggle("maximum",h===2),this._state=h,this._onDidEnablementChange.fire(h))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(h){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),h){const g=w=>{this.orthogonalStartDragHandleDisposables.clear(),w!==0&&(this._orthogonalStartDragHandle=(0,y.append)(this.el,(0,y.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,b.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new N.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>t.onMouseEnter(h),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new N.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>t.onMouseLeave(h),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(h.onDidEnablementChange(g,this)),g(h.state)}this._orthogonalStartSash=h}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(h){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),h){const g=w=>{this.orthogonalEndDragHandleDisposables.clear(),w!==0&&(this._orthogonalEndDragHandle=(0,y.append)(this.el,(0,y.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,b.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new N.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>t.onMouseEnter(h),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new N.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>t.onMouseLeave(h),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(h.onDidEnablementChange(g,this)),g(h.state)}this._orthogonalEndSash=h}onPointerStart(h,g){y.EventHelper.stop(h);let w=!1;if(!h.__orthogonalSashEvent){const M=this.getOrthogonalSash(h);M&&(w=!0,h.__orthogonalSashEvent=!0,M.onPointerStart(h,new a(g)))}if(this.linkedSash&&!h.__linkedSashEvent&&(h.__linkedSashEvent=!0,this.linkedSash.onPointerStart(h,new a(g))),!this.state)return;const _=(0,y.getElementsByTagName)("iframe");for(const M of _)M.style.pointerEvents="none";const C=h.pageX,v=h.pageY,m=h.altKey,E={startX:C,currentX:C,startY:v,currentY:v,altKey:m};this.el.classList.add("active"),this._onDidStart.fire(E);const I=(0,y.createStyleSheet)(this.el),k=()=>{let M="";w?M="all-scroll":this.orientation===1?this.state===1?M="s-resize":this.state===2?M="n-resize":M=i.isMacintosh?"row-resize":"ns-resize":this.state===1?M="e-resize":this.state===2?M="w-resize":M=i.isMacintosh?"col-resize":"ew-resize",I.textContent=`* { cursor: ${M} !important; }`},A=new b.DisposableStore;k(),w||this.onDidEnablementChange(k,null,A);const P=M=>{y.EventHelper.stop(M,!1);const R={startX:C,currentX:M.pageX,startY:v,currentY:M.pageY,altKey:m};this._onDidChange.fire(R)},F=M=>{y.EventHelper.stop(M,!1),this.el.removeChild(I),this.el.classList.remove("active"),this._onDidEnd.fire(),A.dispose();for(const R of _)R.style.pointerEvents="auto"};g.onPointerMove(P,null,A),g.onPointerUp(F,null,A),A.add(g)}onPointerDoublePress(h){const g=this.getOrthogonalSash(h);g&&g._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(h,g=!1){h.el.classList.contains("active")?(h.hoverDelayer.cancel(),h.el.classList.add("hover")):h.hoverDelayer.trigger(()=>h.el.classList.add("hover"),h.hoverDelay).then(void 0,()=>{}),!g&&h.linkedSash&&t.onMouseEnter(h.linkedSash,!0)}static onMouseLeave(h,g=!1){h.hoverDelayer.cancel(),h.el.classList.remove("hover"),!g&&h.linkedSash&&t.onMouseLeave(h.linkedSash,!0)}clearSashHoverState(){t.onMouseLeave(this)}layout(){if(this.orientation===0){const h=this.layoutProvider;this.el.style.left=h.getVerticalSashLeft(this)-this.size/2+"px",h.getVerticalSashTop&&(this.el.style.top=h.getVerticalSashTop(this)+"px"),h.getVerticalSashHeight&&(this.el.style.height=h.getVerticalSashHeight(this)+"px")}else{const h=this.layoutProvider;this.el.style.top=h.getHorizontalSashTop(this)-this.size/2+"px",h.getHorizontalSashLeft&&(this.el.style.left=h.getHorizontalSashLeft(this)+"px"),h.getHorizontalSashWidth&&(this.el.style.width=h.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}getOrthogonalSash(h){if(!(!h.target||!(h.target instanceof HTMLElement))&&h.target.classList.contains("orthogonal-drag-handle"))return h.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=t}),define(te[328],ie([11]),{}),define(te[62],ie([0,1,36,7,30,55,306,307,53,14,6,2,17,130,328]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const c=500,u=50,s=!0;class n{constructor(C,v,m){this.timestamp=C,this.deltaX=v,this.deltaY=m,this.score=0}}class a{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let C=1,v=0,m=1,E=this._rear;do{const I=E===this._front?C:Math.pow(2,-m);if(C-=I,v+=this._memory[E].score*I,E===this._front)break;E=(this._capacity+E-1)%this._capacity,m++}while(!0);return v<=.5}accept(C,v,m){const E=new n(C,v,m);E.score=this._computeScore(E),this._front===-1&&this._rear===-1?(this._memory[0]=E,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=E)}_computeScore(C){if(Math.abs(C.deltaX)>0&&Math.abs(C.deltaY)>0)return 1;let v=.5;const m=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(C.deltaX)||!this._isAlmostInt(C.deltaY))&&(v+=.25),Math.min(Math.max(v,0),1)}_isAlmostInt(C){return Math.abs(Math.round(C)-C)<.01}}e.MouseWheelClassifier=a,a.INSTANCE=new a;class t extends b.Widget{constructor(C,v,m){super();this._onScroll=this._register(new f.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new f.Emitter),C.style.overflow="hidden",this._options=w(v),this._scrollable=m,this._register(this._scrollable.onScroll(I=>{this._onWillScroll.fire(I),this._onDidScroll(I),this._onScroll.fire(I)}));const E={onMouseWheel:I=>this._onMouseWheel(I),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new p.VerticalScrollbar(this._scrollable,this._options,E)),this._horizontalScrollbar=this._register(new S.HorizontalScrollbar(this._scrollable,this._options,E)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(C),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,T.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,T.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,T.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,I=>this._onMouseOver(I)),this.onnonbubblingmouseout(this._listenOnDomNode,I=>this._onMouseOut(I)),this._hideTimeout=this._register(new i.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,r.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(C){this._verticalScrollbar.delegateMouseDown(C)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(C){this._scrollable.setScrollDimensions(C,!1)}updateClassName(C){this._options.className=C,o.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(C){typeof C.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=C.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof C.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=C.mouseWheelScrollSensitivity),typeof C.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=C.fastScrollSensitivity),typeof C.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=C.scrollPredominantAxis),typeof C.horizontal!="undefined"&&(this._options.horizontal=C.horizontal),typeof C.vertical!="undefined"&&(this._options.vertical=C.vertical),typeof C.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=C.horizontalScrollbarSize),typeof C.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=C.verticalScrollbarSize),typeof C.scrollByPage!="undefined"&&(this._options.scrollByPage=C.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(C){if(this._mouseWheelToDispose.length>0!==C&&(this._mouseWheelToDispose=(0,r.dispose)(this._mouseWheelToDispose),C)){const m=E=>{this._onMouseWheel(new D.StandardWheelEvent(E))};this._mouseWheelToDispose.push(N.addDisposableListener(this._listenOnDomNode,N.EventType.MOUSE_WHEEL,m,{passive:!1}))}}_onMouseWheel(C){const v=a.INSTANCE;if(s){const I=window.devicePixelRatio/(0,y.getZoomFactor)();o.isWindows||o.isLinux?v.accept(Date.now(),C.deltaX/I,C.deltaY/I):v.accept(Date.now(),C.deltaX,C.deltaY)}let m=!1;if(C.deltaY||C.deltaX){let I=C.deltaY*this._options.mouseWheelScrollSensitivity,k=C.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(I)>=Math.abs(k)?k=0:I=0),this._options.flipAxes&&([I,k]=[k,I]);const A=!o.isMacintosh&&C.browserEvent&&C.browserEvent.shiftKey;(this._options.scrollYToX||A)&&!k&&(k=I,I=0),C.browserEvent&&C.browserEvent.altKey&&(k=k*this._options.fastScrollSensitivity,I=I*this._options.fastScrollSensitivity);const P=this._scrollable.getFutureScrollPosition();let F={};if(I){const M=u*I,R=P.scrollTop-(M<0?Math.floor(M):Math.ceil(M));this._verticalScrollbar.writeScrollPosition(F,R)}if(k){const M=u*k,R=P.scrollLeft-(M<0?Math.floor(M):Math.ceil(M));this._horizontalScrollbar.writeScrollPosition(F,R)}F=this._scrollable.validateScrollPosition(F),(P.scrollLeft!==F.scrollLeft||P.scrollTop!==F.scrollTop)&&(s&&this._options.mouseWheelSmoothScroll&&v.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(F):this._scrollable.setScrollPositionNow(F),m=!0)}let E=m;!E&&this._options.alwaysConsumeMouseWheel&&(E=!0),!E&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(E=!0),E&&(C.preventDefault(),C.stopPropagation())}_onDidScroll(C){this._shouldRender=this._horizontalScrollbar.onDidScroll(C)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(C)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const C=this._scrollable.getCurrentScrollPosition(),v=C.scrollTop>0,m=C.scrollLeft>0,E=m?" left":"",I=v?" top":"",k=m||v?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${E}`),this._topShadowDomNode.setClassName(`shadow${I}`),this._topLeftShadowDomNode.setClassName(`shadow${k}${I}${E}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(C){this._mouseIsOver=!1,this._hide()}_onMouseOver(C){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),c)}}e.AbstractScrollableElement=t;class l extends t{constructor(C,v){v=v||{},v.mouseWheelSmoothScroll=!1;const m=new d.Scrollable(0,E=>N.scheduleAtNextAnimationFrame(E));super(C,v,m);this._register(m)}setScrollPosition(C){this._scrollable.setScrollPositionNow(C)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.ScrollableElement=l;class h extends t{constructor(C,v,m){super(C,v,m)}setScrollPosition(C){C.reuseAnimation?this._scrollable.setScrollPositionSmooth(C,C.reuseAnimation):this._scrollable.setScrollPositionNow(C)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=h;class g extends l{constructor(C,v){super(C,v);this._element=C,this.onScroll(m=>{m.scrollTopChanged&&(this._element.scrollTop=m.scrollTop),m.scrollLeftChanged&&(this._element.scrollLeft=m.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=g;function w(_){const C={lazyRender:typeof _.lazyRender!="undefined"?_.lazyRender:!1,className:typeof _.className!="undefined"?_.className:"",useShadows:typeof _.useShadows!="undefined"?_.useShadows:!0,handleMouseWheel:typeof _.handleMouseWheel!="undefined"?_.handleMouseWheel:!0,flipAxes:typeof _.flipAxes!="undefined"?_.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof _.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?_.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof _.alwaysConsumeMouseWheel!="undefined"?_.alwaysConsumeMouseWheel:!1,scrollYToX:typeof _.scrollYToX!="undefined"?_.scrollYToX:!1,mouseWheelScrollSensitivity:typeof _.mouseWheelScrollSensitivity!="undefined"?_.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof _.fastScrollSensitivity!="undefined"?_.fastScrollSensitivity:5,scrollPredominantAxis:typeof _.scrollPredominantAxis!="undefined"?_.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof _.mouseWheelSmoothScroll!="undefined"?_.mouseWheelSmoothScroll:!0,arrowSize:typeof _.arrowSize!="undefined"?_.arrowSize:11,listenOnDomNode:typeof _.listenOnDomNode!="undefined"?_.listenOnDomNode:null,horizontal:typeof _.horizontal!="undefined"?_.horizontal:1,horizontalScrollbarSize:typeof _.horizontalScrollbarSize!="undefined"?_.horizontalScrollbarSize:10,horizontalSliderSize:typeof _.horizontalSliderSize!="undefined"?_.horizontalSliderSize:0,horizontalHasArrows:typeof _.horizontalHasArrows!="undefined"?_.horizontalHasArrows:!1,vertical:typeof _.vertical!="undefined"?_.vertical:1,verticalScrollbarSize:typeof _.verticalScrollbarSize!="undefined"?_.verticalScrollbarSize:10,verticalHasArrows:typeof _.verticalHasArrows!="undefined"?_.verticalHasArrows:!1,verticalSliderSize:typeof _.verticalSliderSize!="undefined"?_.verticalSliderSize:0,scrollByPage:typeof _.scrollByPage!="undefined"?_.scrollByPage:!1};return C.horizontalSliderSize=typeof _.horizontalSliderSize!="undefined"?_.horizontalSliderSize:C.horizontalScrollbarSize,C.verticalSliderSize=typeof _.verticalSliderSize!="undefined"?_.verticalSliderSize:C.verticalScrollbarSize,o.isMacintosh&&(C.className+=" mac"),C}}),define(te[218],ie([0,1,7,62,2,320]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAction=e.HoverWidget=void 0;const D=y.$;class S extends T.Disposable{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new N.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}e.HoverWidget=S;class p extends T.Disposable{constructor(i,f,r){super();this.actionContainer=y.append(i,D("div.action-container")),this.action=y.append(this.actionContainer,D("a.action")),this.action.setAttribute("href","#"),this.action.setAttribute("role","button"),f.iconClass&&y.append(this.action,D(`span.icon.${f.iconClass}`));const o=y.append(this.action,D("span"));o.textContent=r?`${f.label} (${r})`:f.label,this._register(y.addDisposableListener(this.actionContainer,y.EventType.CLICK,d=>{d.stopPropagation(),d.preventDefault(),f.run(this.actionContainer)})),this.setEnabled(!0)}static render(i,f,r){return new p(i,f,r)}setEnabled(i){i?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=p}),define(te[169],ie([0,1,36,167,7,92,58,62,19,14,91,6,2,37,129,130,299,305]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const a={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(C){return[C]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class t{constructor(v){this.elements=v}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=t;class l{constructor(v){this.elements=v}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=l;class h{constructor(){this.types=[],this.files=[]}update(v){if(v.types&&this.types.splice(0,this.types.length,...v.types),v.files){this.files.splice(0,this.files.length);for(let m=0;m<v.files.length;m++){const E=v.files.item(m);E&&(E.size||E.type)&&this.files.push(E)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=h;function g(C,v){return Array.isArray(C)&&Array.isArray(v)?(0,b.equals)(C,v):C===v}class w{constructor(v){(v==null?void 0:v.getSetSize)?this.getSetSize=v.getSetSize.bind(v):this.getSetSize=(m,E,I)=>I,(v==null?void 0:v.getPosInSet)?this.getPosInSet=v.getPosInSet.bind(v):this.getPosInSet=(m,E)=>E+1,(v==null?void 0:v.getRole)?this.getRole=v.getRole.bind(v):this.getRole=m=>"listitem",(v==null?void 0:v.isChecked)?this.isChecked=v.isChecked.bind(v):this.isChecked=m=>{}}}class _{constructor(v,m,E,I=a){if(this.virtualDelegate=m,this.domId=`list_id_${++_.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new i.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=o.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=o.Disposable.None,this.onDragLeaveTimeout=o.Disposable.None,this.disposables=new o.DisposableStore,this._onDidChangeContentHeight=new r.Emitter,this._horizontalScrolling=!1,I.horizontalScrolling&&I.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new s.RangeMap;for(const A of E)this.renderers.set(A.templateId,A);this.cache=this.disposables.add(new n.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof I.mouseSupport=="boolean"?I.mouseSupport:!0),this._horizontalScrolling=(0,d.getOrDefault)(I,A=>A.horizontalScrolling,a.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof I.additionalScrollHeight=="undefined"?0:I.additionalScrollHeight,this.accessibilityProvider=new w(I.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,d.getOrDefault)(I,A=>A.transformOptimization,a.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(S.Gesture.addTarget(this.rowsContainer)),this.scrollable=new u.Scrollable((0,d.getOrDefault)(I,A=>A.smoothScrolling,!1)?125:0,A=>(0,T.scheduleAtNextAnimationFrame)(A)),this.scrollableElement=this.disposables.add(new p.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(0,d.getOrDefault)(I,A=>A.alwaysConsumeMouseWheel,a.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,d.getOrDefault)(I,A=>A.verticalScrollMode,a.verticalScrollMode),useShadows:(0,d.getOrDefault)(I,A=>A.useShadows,a.useShadows),mouseWheelScrollSensitivity:I.mouseWheelScrollSensitivity,fastScrollSensitivity:I.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),v.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,T.addDisposableListener)(this.rowsContainer,S.EventType.Change,A=>this.onTouchChange(A))),this.disposables.add((0,T.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",A=>A.target.scrollTop=0)),this.disposables.add((0,T.addDisposableListener)(this.domNode,"dragover",A=>this.onDragOver(this.toDragEvent(A)))),this.disposables.add((0,T.addDisposableListener)(this.domNode,"drop",A=>this.onDrop(this.toDragEvent(A)))),this.disposables.add((0,T.addDisposableListener)(this.domNode,"dragleave",A=>this.onDragLeave(this.toDragEvent(A)))),this.disposables.add((0,T.addDisposableListener)(this.domNode,"dragend",A=>this.onDragEnd(A))),this.setRowLineHeight=(0,d.getOrDefault)(I,A=>A.setRowLineHeight,a.setRowLineHeight),this.setRowHeight=(0,d.getOrDefault)(I,A=>A.setRowHeight,a.setRowHeight),this.supportDynamicHeights=(0,d.getOrDefault)(I,A=>A.supportDynamicHeights,a.supportDynamicHeights),this.dnd=(0,d.getOrDefault)(I,A=>A.dnd,a.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(v){if(v!==this._horizontalScrolling){if(v&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=v,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const m of this.items)this.measureItemWidth(m);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,T.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(v){v.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=v.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),v.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(v.smoothScrolling?125:0),v.horizontalScrolling!==void 0&&(this.horizontalScrolling=v.horizontalScrolling),v.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:v.mouseWheelScrollSensitivity}),v.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:v.fastScrollSensitivity})}splice(v,m,E=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(v,m,E)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(v,m,E=[]){const I=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),k={start:v,end:v+m},A=c.Range.intersect(I,k),P=new Map;for(let K=A.start;K<A.end;K++){const x=this.items[K];if(x.dragStartDisposable.dispose(),x.row){let U=P.get(x.templateId);U||(U=[],P.set(x.templateId,U));const H=this.renderers.get(x.templateId);H&&H.disposeElement&&H.disposeElement(x.element,K,x.row.templateData,x.size),U.push(x.row)}x.row=null}const F={start:v+m,end:this.items.length},M=c.Range.intersect(F,I),R=c.Range.relativeComplement(F,I),O=E.map(K=>({id:String(this.itemId++),element:K,templateId:this.virtualDelegate.getTemplateId(K),size:this.virtualDelegate.getHeight(K),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(K),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:o.Disposable.None}));let L;v===0&&m>=this.items.length?(this.rangeMap=new s.RangeMap,this.rangeMap.splice(0,0,O),L=this.items,this.items=O):(this.rangeMap.splice(v,m,O),L=this.items.splice(v,m,...O));const B=E.length-m,z=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),$=(0,s.shift)(M,B),j=c.Range.intersect(z,$);for(let K=j.start;K<j.end;K++)this.updateItemInDOM(this.items[K],K);const X=c.Range.relativeComplement($,z);for(const K of X)for(let x=K.start;x<K.end;x++)this.removeItemFromDOM(x);const Q=R.map(K=>(0,s.shift)(K,B)),oe=[{start:v,end:v+E.length},...Q].map(K=>c.Range.intersect(z,K)),se=this.getNextToLastElement(oe);for(const K of oe)for(let x=K.start;x<K.end;x++){const U=this.items[x],H=P.get(U.templateId),V=H==null?void 0:H.pop();this.insertItemInDOM(x,se,V)}for(const K of P.values())for(const x of K)this.cache.release(x);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),L.map(K=>K.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,T.scheduleAtNextAnimationFrame)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let v=0;for(const m of this.items)typeof m.width!="undefined"&&(v=Math.max(v,m.width));this.scrollWidth=v,this.scrollableElement.setScrollDimensions({scrollWidth:v===0?0:v+10})}rerender(){if(!!this.supportDynamicHeights){for(const v of this.items)v.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(v){return this.items[v].element}domElement(v){const m=this.items[v].row;return m&&m.domNode}elementHeight(v){return this.items[v].size}elementTop(v){return this.rangeMap.positionAt(v)}indexAt(v){return this.rangeMap.indexAt(v)}indexAfter(v){return this.rangeMap.indexAfter(v)}layout(v,m){let E={height:typeof v=="number"?v:(0,T.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,E.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(E),typeof m!="undefined"&&(this.renderWidth=m,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof m=="number"?m:(0,T.getContentWidth)(this.domNode)})}render(v,m,E,I,k,A=!1){const P=this.getRenderRange(m,E),F=c.Range.relativeComplement(P,v),M=c.Range.relativeComplement(v,P),R=this.getNextToLastElement(F);if(A){const O=c.Range.intersect(v,P);for(let L=O.start;L<O.end;L++)this.updateItemInDOM(this.items[L],L)}for(const O of F)for(let L=O.start;L<O.end;L++)this.insertItemInDOM(L,R);for(const O of M)for(let L=O.start;L<O.end;L++)this.removeItemFromDOM(L);I!==void 0&&(this.rowsContainer.style.left=`-${I}px`),this.rowsContainer.style.top=`-${m}px`,this.horizontalScrolling&&k!==void 0&&(this.rowsContainer.style.width=`${Math.max(k,this.renderWidth)}px`),this.lastRenderTop=m,this.lastRenderHeight=E}insertItemInDOM(v,m,E){const I=this.items[v];I.row||(I.row=E??this.cache.alloc(I.templateId));const k=this.accessibilityProvider.getRole(I.element)||"listitem";I.row.domNode.setAttribute("role",k);const A=this.accessibilityProvider.isChecked(I.element);typeof A!="undefined"&&I.row.domNode.setAttribute("aria-checked",String(!!A)),I.row.domNode.parentElement||(m?this.rowsContainer.insertBefore(I.row.domNode,m):this.rowsContainer.appendChild(I.row.domNode)),this.updateItemInDOM(I,v);const P=this.renderers.get(I.templateId);if(!P)throw new Error(`No renderer found for template id ${I.templateId}`);P&&P.renderElement(I.element,v,I.row.templateData,I.size);const F=this.dnd.getDragURI(I.element);I.dragStartDisposable.dispose(),I.row.domNode.draggable=!!F,F&&(I.dragStartDisposable=(0,T.addDisposableListener)(I.row.domNode,"dragstart",M=>this.onDragStart(I.element,F,M))),this.horizontalScrolling&&(this.measureItemWidth(I),this.eventuallyUpdateScrollWidth())}measureItemWidth(v){if(!v.row||!v.row.domNode)return;v.row.domNode.style.width=y.isFirefox?"-moz-fit-content":"fit-content",v.width=(0,T.getContentWidth)(v.row.domNode);const m=window.getComputedStyle(v.row.domNode);m.paddingLeft&&(v.width+=parseFloat(m.paddingLeft)),m.paddingRight&&(v.width+=parseFloat(m.paddingRight)),v.row.domNode.style.width=""}updateItemInDOM(v,m){v.row.domNode.style.top=`${this.elementTop(m)}px`,this.setRowHeight&&(v.row.domNode.style.height=`${v.size}px`),this.setRowLineHeight&&(v.row.domNode.style.lineHeight=`${v.size}px`),v.row.domNode.setAttribute("data-index",`${m}`),v.row.domNode.setAttribute("data-last-element",m===this.length-1?"true":"false"),v.row.domNode.setAttribute("data-parity",m%2==0?"even":"odd"),v.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(v.element,m,this.length))),v.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(v.element,m))),v.row.domNode.setAttribute("id",this.getElementDomId(m)),v.row.domNode.classList.toggle("drop-target",v.dropTarget)}removeItemFromDOM(v){const m=this.items[v];if(m.dragStartDisposable.dispose(),m.row){const E=this.renderers.get(m.templateId);E&&E.disposeElement&&E.disposeElement(m.element,v,m.row.templateData,m.size),this.cache.release(m.row),m.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(v,m){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:v,reuseAnimation:m})}get scrollTop(){return this.getScrollTop()}set scrollTop(v){this.setScrollTop(v)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return r.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"click")).event,v=>this.toMouseEvent(v))}get onMouseDblClick(){return r.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"dblclick")).event,v=>this.toMouseEvent(v))}get onMouseMiddleClick(){return r.Event.filter(r.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"auxclick")).event,v=>this.toMouseEvent(v)),v=>v.browserEvent.button===1)}get onMouseDown(){return r.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"mousedown")).event,v=>this.toMouseEvent(v))}get onContextMenu(){return r.Event.any(r.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"contextmenu")).event,v=>this.toMouseEvent(v)),r.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,S.EventType.Contextmenu)).event,v=>this.toGestureEvent(v)))}get onTouchStart(){return r.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"touchstart")).event,v=>this.toTouchEvent(v))}get onTap(){return r.Event.map(this.disposables.add(new D.DomEmitter(this.rowsContainer,S.EventType.Tap)).event,v=>this.toGestureEvent(v))}toMouseEvent(v){const m=this.getItemIndexFromEventTarget(v.target||null),E=typeof m=="undefined"?void 0:this.items[m],I=E&&E.element;return{browserEvent:v,index:m,element:I}}toTouchEvent(v){const m=this.getItemIndexFromEventTarget(v.target||null),E=typeof m=="undefined"?void 0:this.items[m],I=E&&E.element;return{browserEvent:v,index:m,element:I}}toGestureEvent(v){const m=this.getItemIndexFromEventTarget(v.initialTarget||null),E=typeof m=="undefined"?void 0:this.items[m],I=E&&E.element;return{browserEvent:v,index:m,element:I}}toDragEvent(v){const m=this.getItemIndexFromEventTarget(v.target||null),E=typeof m=="undefined"?void 0:this.items[m],I=E&&E.element;return{browserEvent:v,index:m,element:I}}onScroll(v){try{const m=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(m,v.scrollTop,v.height,v.scrollLeft,v.scrollWidth),this.supportDynamicHeights&&this._rerender(v.scrollTop,v.height,v.inSmoothScrolling)}catch(m){throw console.error("Got bad scroll event:",v),m}}onTouchChange(v){v.preventDefault(),v.stopPropagation(),this.scrollTop-=v.translationY}onDragStart(v,m,E){if(!E.dataTransfer)return;const I=this.dnd.getDragElements(v);if(E.dataTransfer.effectAllowed="copyMove",E.dataTransfer.setData(N.DataTransfers.TEXT,m),E.dataTransfer.setDragImage){let k;this.dnd.getDragLabel&&(k=this.dnd.getDragLabel(I,E)),typeof k=="undefined"&&(k=String(I.length));const A=(0,T.$)(".monaco-drag-image");A.textContent=k,document.body.appendChild(A),E.dataTransfer.setDragImage(A,-10,-10),setTimeout(()=>document.body.removeChild(A),0)}this.currentDragData=new t(I),N.StaticDND.CurrentDragAndDropData=new l(I),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,E)}onDragOver(v){if(v.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),N.StaticDND.CurrentDragAndDropData&&N.StaticDND.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(v.browserEvent),!v.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(N.StaticDND.CurrentDragAndDropData)this.currentDragData=N.StaticDND.CurrentDragAndDropData;else{if(!v.browserEvent.dataTransfer.types)return!1;this.currentDragData=new h}const m=this.dnd.onDragOver(this.currentDragData,v.element,v.index,v.browserEvent);if(this.canDrop=typeof m=="boolean"?m:m.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;v.browserEvent.dataTransfer.dropEffect=typeof m!="boolean"&&m.effect===0?"copy":"move";let E;if(typeof m!="boolean"&&m.feedback?E=m.feedback:typeof v.index=="undefined"?E=[-1]:E=[v.index],E=(0,b.distinct)(E).filter(I=>I>=-1&&I<this.length).sort((I,k)=>I-k),E=E[0]===-1?[-1]:E,g(this.currentDragFeedback,E))return!0;if(this.currentDragFeedback=E,this.currentDragFeedbackDisposable.dispose(),E[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,o.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const I of E){const k=this.items[I];k.dropTarget=!0,k.row&&k.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,o.toDisposable)(()=>{for(const I of E){const k=this.items[I];k.dropTarget=!1,k.row&&k.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(v){var m,E;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,i.disposableTimeout)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((E=(m=this.dnd).onDragLeave)===null||E===void 0||E.call(m,this.currentDragData,v.element,v.index,v.browserEvent))}onDrop(v){if(!this.canDrop)return;const m=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,N.StaticDND.CurrentDragAndDropData=void 0,!(!m||!v.browserEvent.dataTransfer)&&(v.browserEvent.preventDefault(),m.update(v.browserEvent.dataTransfer),this.dnd.drop(m,v.element,v.index,v.browserEvent))}onDragEnd(v){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,N.StaticDND.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(v)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=o.Disposable.None}setupDragAndDropScrollTopAnimation(v){if(!this.dragOverAnimationDisposable){const m=(0,T.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,T.animate)(this.animateDragAndDropScrollTop.bind(this,m))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,i.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=v.pageY}animateDragAndDropScrollTop(v){if(this.dragOverMouseY===void 0)return;const m=this.dragOverMouseY-v,E=this.renderHeight-35;m<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(m-35))):m>E&&(this.scrollTop+=Math.min(14,Math.floor(.3*(m-E))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(v){const m=this.scrollableElement.getDomNode();let E=v;for(;E instanceof HTMLElement&&E!==this.rowsContainer&&m.contains(E);){const I=E.getAttribute("data-index");if(I){const k=Number(I);if(!isNaN(k))return k}E=E.parentElement}}getRenderRange(v,m){return{start:this.rangeMap.indexAt(v),end:this.rangeMap.indexAfter(v+m-1)}}_rerender(v,m,E){const I=this.getRenderRange(v,m);let k,A;v===this.elementTop(I.start)?(k=I.start,A=0):I.end-I.start>1&&(k=I.start+1,A=this.elementTop(k)-v);let P=0;for(;;){const F=this.getRenderRange(v,m);let M=!1;for(let R=F.start;R<F.end;R++){const O=this.probeDynamicHeight(R);O!==0&&this.rangeMap.splice(R,1,[this.items[R]]),P+=O,M=M||O!==0}if(!M){P!==0&&this.eventuallyUpdateScrollDimensions();const R=c.Range.relativeComplement(I,F);for(const L of R)for(let B=L.start;B<L.end;B++)this.items[B].row&&this.removeItemFromDOM(B);const O=c.Range.relativeComplement(F,I);for(const L of O)for(let B=L.start;B<L.end;B++){const z=B+1,$=z<this.items.length?this.items[z].row:null,j=$?$.domNode:null;this.insertItemInDOM(B,j)}for(let L=F.start;L<F.end;L++)this.items[L].row&&this.updateItemInDOM(this.items[L],L);if(typeof k=="number"){const L=this.scrollable.getFutureScrollPosition().scrollTop-v,B=this.elementTop(k)-A+L;this.setScrollTop(B,E)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(v){const m=this.items[v];if(this.virtualDelegate.getDynamicHeight){const A=this.virtualDelegate.getDynamicHeight(m.element);if(A!==null){const P=m.size;return m.size=A,m.lastDynamicHeightWidth=this.renderWidth,A-P}}if(!m.hasDynamicHeight||m.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(m.element))return 0;const E=m.size;if(!this.setRowHeight&&m.row){let A=m.row.domNode.offsetHeight;return m.size=A,m.lastDynamicHeightWidth=this.renderWidth,A-E}const I=this.cache.alloc(m.templateId);I.domNode.style.height="",this.rowsContainer.appendChild(I.domNode);const k=this.renderers.get(m.templateId);return k&&(k.renderElement(m.element,v,I.templateData,void 0),k.disposeElement&&k.disposeElement(m.element,v,I.templateData,void 0)),m.size=I.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(m.element,m.size),m.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(I.domNode),this.cache.release(I),m.size-E}getNextToLastElement(v){const m=v[v.length-1];if(!m)return null;const E=this.items[m.end];return!E||!E.row?null:E.row.domNode}getElementDomId(v){return`${this.domId}_${v}`}dispose(){if(this.items){for(const v of this.items)if(v.row){const m=this.renderers.get(v.row.templateId);m&&(m.disposeElement&&m.disposeElement(v.element,-1,v.row.templateData,void 0),m.disposeTemplate(v.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,o.dispose)(this.disposables)}}_.InstanceCount=0,Fe([f.memoize],_.prototype,"onMouseClick",null),Fe([f.memoize],_.prototype,"onMouseDblClick",null),Fe([f.memoize],_.prototype,"onMouseMiddleClick",null),Fe([f.memoize],_.prototype,"onMouseDown",null),Fe([f.memoize],_.prototype,"onContextMenu",null),Fe([f.memoize],_.prototype,"onTouchStart",null),Fe([f.memoize],_.prototype,"onTap",null),e.ListView=_}),define(te[110],ie([0,1,7,92,52,58,45,294,19,14,29,91,6,67,2,105,37,17,20,293,169,217]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.isMonacoEditor=e.isInputElement=void 0;class h{constructor(x){this.trait=x,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(x){return x}renderElement(x,U,H){const V=this.renderedElements.findIndex(ne=>ne.templateData===H);if(V>=0){const ne=this.renderedElements[V];this.trait.unrender(H),ne.index=U}else{const ne={index:U,templateData:H};this.renderedElements.push(ne)}this.trait.renderIndex(U,H)}splice(x,U,H){const V=[];for(const ne of this.renderedElements)ne.index<x?V.push(ne):ne.index>=x+U&&V.push({index:ne.index+H-U,templateData:ne.templateData});this.renderedElements=V}renderIndexes(x){for(const{index:U,templateData:H}of this.renderedElements)x.indexOf(U)>-1&&this.trait.renderIndex(U,H)}disposeTemplate(x){const U=this.renderedElements.findIndex(H=>H.templateData===x);U<0||this.renderedElements.splice(U,1)}}class g{constructor(x){this._trait=x,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new o.Emitter,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new h(this)}splice(x,U,H){var V;U=Math.max(0,Math.min(U,this.length-x));const ne=H.length-U,ue=x+U,pe=[...this.sortedIndexes.filter(W=>W<x),...H.map((W,G)=>W?G+x:-1).filter(W=>W!==-1),...this.sortedIndexes.filter(W=>W>=ue).map(W=>W+ne)],ge=this.length+ne;if(this.sortedIndexes.length>0&&pe.length===0&&ge>0){const W=(V=this.sortedIndexes.find(G=>G>=x))!==null&&V!==void 0?V:ge-1;pe.push(Math.min(W,ge-1))}this.renderer.splice(x,U,H.length),this._set(pe,pe),this.length=ge}renderIndex(x,U){U.classList.toggle(this._trait,this.contains(x))}unrender(x){x.classList.remove(this._trait)}set(x,U){return this._set(x,[...x].sort(X),U)}_set(x,U,H){const V=this.indexes,ne=this.sortedIndexes;this.indexes=x,this.sortedIndexes=U;const ue=$(ne,x);return this.renderer.renderIndexes(ue),this._onChange.fire({indexes:x,browserEvent:H}),V}get(){return this.indexes}contains(x){return(0,b.binarySearch)(this.sortedIndexes,x,X)>=0}dispose(){(0,c.dispose)(this._onChange)}}Fe([r.memoize],g.prototype,"renderer",null);class w extends g{constructor(x){super("selected");this.setAriaSelected=x}renderIndex(x,U){super.renderIndex(x,U),this.setAriaSelected&&(this.contains(x)?U.setAttribute("aria-selected","true"):U.setAttribute("aria-selected","false"))}}class _{constructor(x,U,H){this.trait=x,this.view=U,this.identityProvider=H}splice(x,U,H){if(!this.identityProvider)return this.trait.splice(x,U,H.map(()=>!1));const V=this.trait.get().map(ue=>this.identityProvider.getId(this.view.element(ue)).toString()),ne=H.map(ue=>V.indexOf(this.identityProvider.getId(ue).toString())>-1);this.trait.splice(x,U,ne)}}function C(K){return K.tagName==="INPUT"||K.tagName==="TEXTAREA"}e.isInputElement=C;function v(K){return K.classList.contains("monaco-editor")?!0:K.classList.contains("monaco-list")||!K.parentElement?!1:v(K.parentElement)}e.isMonacoEditor=v;class m{constructor(x,U,H){this.list=x,this.view=U,this.disposables=new c.DisposableStore,this.multipleSelectionDisposables=new c.DisposableStore,this.onKeyDown.filter(V=>V.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(V=>V.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(V=>V.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(V=>V.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(V=>V.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(V=>V.keyCode===9).on(this.onEscape,this,this.disposables),H.multipleSelectionSupport!==!1&&this.onKeyDown.filter(V=>(n.isMacintosh?V.metaKey:V.ctrlKey)&&V.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return o.Event.chain(this.disposables.add(new N.DomEmitter(this.view.domNode,"keydown")).event).filter(x=>!C(x.target)).map(x=>new T.StandardKeyboardEvent(x))}updateOptions(x){x.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),x.multipleSelectionSupport&&this.onKeyDown.filter(U=>(n.isMacintosh?U.metaKey:U.ctrlKey)&&U.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(x){x.preventDefault(),x.stopPropagation(),this.list.setSelection(this.list.getFocus(),x.browserEvent)}onUpArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusPrevious(1,!1,x.browserEvent);const U=this.list.getFocus()[0];this.list.setAnchor(U),this.list.reveal(U),this.view.domNode.focus()}onDownArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusNext(1,!1,x.browserEvent);const U=this.list.getFocus()[0];this.list.setAnchor(U),this.list.reveal(U),this.view.domNode.focus()}onPageUpArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusPreviousPage(x.browserEvent);const U=this.list.getFocus()[0];this.list.setAnchor(U),this.list.reveal(U),this.view.domNode.focus()}onPageDownArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusNextPage(x.browserEvent);const U=this.list.getFocus()[0];this.list.setAnchor(U),this.list.reveal(U),this.view.domNode.focus()}onCtrlA(x){x.preventDefault(),x.stopPropagation(),this.list.setSelection((0,b.range)(this.list.length),x.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(x){this.list.getSelection().length&&(x.preventDefault(),x.stopPropagation(),this.list.setSelection([],x.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Fe([r.memoize],m.prototype,"onKeyDown",null);var E;(function(K){K[K.Idle=0]="Idle",K[K.Typing=1]="Typing"})(E||(E={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(K){return K.ctrlKey||K.metaKey||K.altKey?!1:K.keyCode>=31&&K.keyCode<=56||K.keyCode>=21&&K.keyCode<=30||K.keyCode>=93&&K.keyCode<=102||K.keyCode>=80&&K.keyCode<=90}};class I{constructor(x,U,H,V){this.list=x,this.view=U,this.keyboardNavigationLabelProvider=H,this.delegate=V,this.enabled=!1,this.state=E.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new c.DisposableStore,this.disposables=new c.DisposableStore,this.updateOptions(x.options)}updateOptions(x){(typeof x.enableKeyboardNavigation=="undefined"?!0:!!x.enableKeyboardNavigation)?this.enable():this.disable(),typeof x.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=x.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const x=o.Event.chain(this.enabledDisposables.add(new N.DomEmitter(this.view.domNode,"keydown")).event).filter(V=>!C(V.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(V=>new T.StandardKeyboardEvent(V)).filter(V=>this.delegate.mightProducePrintableCharacter(V)).forEach(V=>{V.stopPropagation(),V.preventDefault()}).map(V=>V.browserEvent.key).event,U=o.Event.debounce(x,()=>null,800);o.Event.reduce(o.Event.any(x,U),(V,ne)=>ne===null?null:(V||"")+ne)(this.onInput,this,this.enabledDisposables),U(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var x;const U=this.list.getFocus();if(U.length>0&&U[0]===this.previouslyFocused){const H=(x=this.list.options.accessibilityProvider)===null||x===void 0?void 0:x.getAriaLabel(this.list.element(U[0]));H&&(0,S.alert)(H)}this.previouslyFocused=-1}onInput(x){if(!x){this.state=E.Idle,this.triggered=!1;return}const U=this.list.getFocus(),H=U.length>0?U[0]:0,V=this.state===E.Idle?1:0;this.state=E.Typing;for(let ne=0;ne<this.list.length;ne++){const ue=(H+ne+V)%this.list.length,pe=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(ue)),ge=pe&&pe.toString();if(typeof ge=="undefined"||(0,d.matchesPrefix)(x,ge)){this.previouslyFocused=H,this.list.setFocus([ue]),this.list.reveal(ue);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class k{constructor(x,U){this.list=x,this.view=U,this.disposables=new c.DisposableStore,o.Event.chain(this.disposables.add(new N.DomEmitter(U.domNode,"keydown")).event).filter(V=>!C(V.target)).map(V=>new T.StandardKeyboardEvent(V)).filter(V=>V.keyCode===2&&!V.ctrlKey&&!V.metaKey&&!V.shiftKey&&!V.altKey).on(this.onTab,this,this.disposables)}onTab(x){if(x.target!==this.view.domNode)return;const U=this.list.getFocus();if(U.length===0)return;const H=this.view.domElement(U[0]);if(!H)return;const V=H.querySelector("[tabIndex]");if(!V||!(V instanceof HTMLElement)||V.tabIndex===-1)return;const ne=window.getComputedStyle(V);ne.visibility==="hidden"||ne.display==="none"||(x.preventDefault(),x.stopPropagation(),V.focus())}dispose(){this.disposables.dispose()}}function A(K){return n.isMacintosh?K.browserEvent.metaKey:K.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=A;function P(K){return K.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=P;function F(K){return K instanceof MouseEvent&&K.button===2}const M={isSelectionSingleChangeEvent:A,isSelectionRangeChangeEvent:P};class R{constructor(x){this.list=x,this.disposables=new c.DisposableStore,this._onPointer=new o.Emitter,this.onPointer=this._onPointer.event,x.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||M),this.mouseSupport=typeof x.options.mouseSupport=="undefined"||!!x.options.mouseSupport,this.mouseSupport&&(x.onMouseDown(this.onMouseDown,this,this.disposables),x.onContextMenu(this.onContextMenu,this,this.disposables),x.onMouseDblClick(this.onDoubleClick,this,this.disposables),x.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(D.Gesture.addTarget(x.getHTMLElement()))),o.Event.any(x.onMouseClick,x.onMouseMiddleClick,x.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(x){x.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,x.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||M))}isSelectionSingleChangeEvent(x){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(x):!1}isSelectionRangeChangeEvent(x){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(x):!1}isSelectionChangeEvent(x){return this.isSelectionSingleChangeEvent(x)||this.isSelectionRangeChangeEvent(x)}onMouseDown(x){v(x.browserEvent.target)||document.activeElement!==x.browserEvent.target&&this.list.domFocus()}onContextMenu(x){if(v(x.browserEvent.target))return;const U=typeof x.index=="undefined"?[]:[x.index];this.list.setFocus(U,x.browserEvent)}onViewPointer(x){if(!this.mouseSupport||C(x.browserEvent.target)||v(x.browserEvent.target))return;const U=x.index;if(typeof U=="undefined"){this.list.setFocus([],x.browserEvent),this.list.setSelection([],x.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(x))return this.changeSelection(x);if(this.isSelectionChangeEvent(x))return this.changeSelection(x);this.list.setFocus([U],x.browserEvent),this.list.setAnchor(U),F(x.browserEvent)||this.list.setSelection([U],x.browserEvent),this._onPointer.fire(x)}onDoubleClick(x){if(C(x.browserEvent.target)||v(x.browserEvent.target)||this.isSelectionChangeEvent(x))return;const U=this.list.getFocus();this.list.setSelection(U,x.browserEvent)}changeSelection(x){const U=x.index;let H=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(x)){if(typeof H=="undefined"){const G=this.list.getFocus()[0];H=G??U,this.list.setAnchor(H)}const V=Math.min(H,U),ne=Math.max(H,U),ue=(0,b.range)(V,ne+1),pe=this.list.getSelection(),ge=z($(pe,[H]),H);if(ge.length===0)return;const W=$(ue,j(pe,ge));this.list.setSelection(W,x.browserEvent),this.list.setFocus([U],x.browserEvent)}else if(this.isSelectionSingleChangeEvent(x)){const V=this.list.getSelection(),ne=V.filter(ue=>ue!==U);this.list.setFocus([U]),this.list.setAnchor(U),V.length===ne.length?this.list.setSelection([...ne,U],x.browserEvent):this.list.setSelection(ne,x.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=R;class O{constructor(x,U){this.styleElement=x,this.selectorSuffix=U}style(x){const U=this.selectorSuffix&&`.${this.selectorSuffix}`,H=[];x.listBackground&&(x.listBackground.isOpaque()?H.push(`.monaco-list${U} .monaco-list-rows { background: ${x.listBackground}; }`):n.isMacintosh||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),x.listFocusBackground&&(H.push(`.monaco-list${U}:focus .monaco-list-row.focused { background-color: ${x.listFocusBackground}; }`),H.push(`.monaco-list${U}:focus .monaco-list-row.focused:hover { background-color: ${x.listFocusBackground}; }`)),x.listFocusForeground&&H.push(`.monaco-list${U}:focus .monaco-list-row.focused { color: ${x.listFocusForeground}; }`),x.listActiveSelectionBackground&&(H.push(`.monaco-list${U}:focus .monaco-list-row.selected { background-color: ${x.listActiveSelectionBackground}; }`),H.push(`.monaco-list${U}:focus .monaco-list-row.selected:hover { background-color: ${x.listActiveSelectionBackground}; }`)),x.listActiveSelectionForeground&&H.push(`.monaco-list${U}:focus .monaco-list-row.selected { color: ${x.listActiveSelectionForeground}; }`),x.listActiveSelectionIconForeground&&H.push(`.monaco-list${U}:focus .monaco-list-row.selected .codicon { color: ${x.listActiveSelectionIconForeground}; }`),x.listFocusAndSelectionBackground&&H.push(`
				.monaco-drag-image,
				.monaco-list${U}:focus .monaco-list-row.selected.focused { background-color: ${x.listFocusAndSelectionBackground}; }
			`),x.listFocusAndSelectionForeground&&H.push(`
				.monaco-drag-image,
				.monaco-list${U}:focus .monaco-list-row.selected.focused { color: ${x.listFocusAndSelectionForeground}; }
			`),x.listInactiveFocusForeground&&(H.push(`.monaco-list${U} .monaco-list-row.focused { color:  ${x.listInactiveFocusForeground}; }`),H.push(`.monaco-list${U} .monaco-list-row.focused:hover { color:  ${x.listInactiveFocusForeground}; }`)),x.listInactiveSelectionIconForeground&&H.push(`.monaco-list${U} .monaco-list-row.focused .codicon { color:  ${x.listInactiveSelectionIconForeground}; }`),x.listInactiveFocusBackground&&(H.push(`.monaco-list${U} .monaco-list-row.focused { background-color:  ${x.listInactiveFocusBackground}; }`),H.push(`.monaco-list${U} .monaco-list-row.focused:hover { background-color:  ${x.listInactiveFocusBackground}; }`)),x.listInactiveSelectionBackground&&(H.push(`.monaco-list${U} .monaco-list-row.selected { background-color:  ${x.listInactiveSelectionBackground}; }`),H.push(`.monaco-list${U} .monaco-list-row.selected:hover { background-color:  ${x.listInactiveSelectionBackground}; }`)),x.listInactiveSelectionForeground&&H.push(`.monaco-list${U} .monaco-list-row.selected { color: ${x.listInactiveSelectionForeground}; }`),x.listHoverBackground&&H.push(`.monaco-list${U}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${x.listHoverBackground}; }`),x.listHoverForeground&&H.push(`.monaco-list${U} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${x.listHoverForeground}; }`),x.listSelectionOutline&&H.push(`.monaco-list${U} .monaco-list-row.selected { outline: 1px dotted ${x.listSelectionOutline}; outline-offset: -1px; }`),x.listFocusOutline&&H.push(`
				.monaco-drag-image,
				.monaco-list${U}:focus .monaco-list-row.focused { outline: 1px solid ${x.listFocusOutline}; outline-offset: -1px; }
			`),x.listInactiveFocusOutline&&H.push(`.monaco-list${U} .monaco-list-row.focused { outline: 1px dotted ${x.listInactiveFocusOutline}; outline-offset: -1px; }`),x.listHoverOutline&&H.push(`.monaco-list${U} .monaco-list-row:hover { outline: 1px dashed ${x.listHoverOutline}; outline-offset: -1px; }`),x.listDropBackground&&H.push(`
				.monaco-list${U}.drop-target,
				.monaco-list${U} .monaco-list-rows.drop-target,
				.monaco-list${U} .monaco-list-row.drop-target { background-color: ${x.listDropBackground} !important; color: inherit !important; }
			`),x.listFilterWidgetBackground&&H.push(`.monaco-list-type-filter { background-color: ${x.listFilterWidgetBackground} }`),x.listFilterWidgetOutline&&H.push(`.monaco-list-type-filter { border: 1px solid ${x.listFilterWidgetOutline}; }`),x.listFilterWidgetNoMatchesOutline&&H.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${x.listFilterWidgetNoMatchesOutline}; }`),x.listMatchesShadow&&H.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${x.listMatchesShadow}; }`),x.tableColumnsBorder&&H.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${x.tableColumnsBorder};
			}`),this.styleElement.textContent=H.join(`
`)}}e.DefaultStyleController=O;const L={listFocusBackground:f.Color.fromHex("#7FB0D0"),listActiveSelectionBackground:f.Color.fromHex("#0E639C"),listActiveSelectionForeground:f.Color.fromHex("#FFFFFF"),listActiveSelectionIconForeground:f.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:f.Color.fromHex("#094771"),listFocusAndSelectionForeground:f.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:f.Color.fromHex("#3F3F46"),listInactiveSelectionIconForeground:f.Color.fromHex("#FFFFFF"),listHoverBackground:f.Color.fromHex("#2A2D2E"),listDropBackground:f.Color.fromHex("#383B3D"),treeIndentGuidesStroke:f.Color.fromHex("#a9a9a9"),tableColumnsBorder:f.Color.fromHex("#cccccc").transparent(.2)},B={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function z(K,x){const U=K.indexOf(x);if(U===-1)return[];const H=[];let V=U-1;for(;V>=0&&K[V]===x-(U-V);)H.push(K[V--]);for(H.reverse(),V=U;V<K.length&&K[V]===x+(V-U);)H.push(K[V++]);return H}function $(K,x){const U=[];let H=0,V=0;for(;H<K.length||V<x.length;)if(H>=K.length)U.push(x[V++]);else if(V>=x.length)U.push(K[H++]);else if(K[H]===x[V]){U.push(K[H]),H++,V++;continue}else K[H]<x[V]?U.push(K[H++]):U.push(x[V++]);return U}function j(K,x){const U=[];let H=0,V=0;for(;H<K.length||V<x.length;)if(H>=K.length)U.push(x[V++]);else if(V>=x.length)U.push(K[H++]);else if(K[H]===x[V]){H++,V++;continue}else K[H]<x[V]?U.push(K[H++]):V++;return U}const X=(K,x)=>K-x;class Q{constructor(x,U){this._templateId=x,this.renderers=U}get templateId(){return this._templateId}renderTemplate(x){return this.renderers.map(U=>U.renderTemplate(x))}renderElement(x,U,H,V){let ne=0;for(const ue of this.renderers)ue.renderElement(x,U,H[ne++],V)}disposeElement(x,U,H,V){let ne=0;for(const ue of this.renderers)ue.disposeElement&&ue.disposeElement(x,U,H[ne],V),ne+=1}disposeTemplate(x){let U=0;for(const H of this.renderers)H.disposeTemplate(x[U++])}}class Y{constructor(x){this.accessibilityProvider=x,this.templateId="a18n"}renderTemplate(x){return x}renderElement(x,U,H){const V=this.accessibilityProvider.getAriaLabel(x);V?H.setAttribute("aria-label",V):H.removeAttribute("aria-label");const ne=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(x);typeof ne=="number"?H.setAttribute("aria-level",`${ne}`):H.removeAttribute("aria-level")}disposeTemplate(x){}}class oe{constructor(x,U){this.list=x,this.dnd=U}getDragElements(x){const U=this.list.getSelectedElements();return U.indexOf(x)>-1?U:[x]}getDragURI(x){return this.dnd.getDragURI(x)}getDragLabel(x,U){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(x,U)}onDragStart(x,U){this.dnd.onDragStart&&this.dnd.onDragStart(x,U)}onDragOver(x,U,H,V){return this.dnd.onDragOver(x,U,H,V)}onDragLeave(x,U,H,V){var ne,ue;(ue=(ne=this.dnd).onDragLeave)===null||ue===void 0||ue.call(ne,x,U,H,V)}onDragEnd(x){this.dnd.onDragEnd&&this.dnd.onDragEnd(x)}drop(x,U,H,V){this.dnd.drop(x,U,H,V)}}class se{constructor(x,U,H,V,ne=B){var ue;this.user=x,this._options=ne,this.focus=new g("focused"),this.anchor=new g("anchor"),this.eventBufferer=new o.EventBufferer,this._ariaLabel="",this.disposables=new c.DisposableStore,this._onDidDispose=new o.Emitter,this.onDidDispose=this._onDidDispose.event;const pe=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(ue=this._options.accessibilityProvider)===null||ue===void 0?void 0:ue.getWidgetRole():"list";this.selection=new w(pe!=="listbox"),(0,s.mixin)(ne,L,!1);const ge=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=ne.accessibilityProvider,this.accessibilityProvider&&(ge.push(new Y(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),V=V.map(G=>new Q(G.templateId,[...ge,G]));const W=Object.assign(Object.assign({},ne),{dnd:ne.dnd&&new oe(this,ne.dnd)});if(this.view=new l.ListView(U,H,V,W),this.view.domNode.setAttribute("role",pe),ne.styleController)this.styleController=ne.styleController(this.view.domId);else{const G=(0,y.createStyleSheet)(this.view.domNode);this.styleController=new O(G,this.view.domId)}if(this.spliceable=new p.CombinedSpliceable([new _(this.focus,this.view,ne.identityProvider),new _(this.selection,this.view,ne.identityProvider),new _(this.anchor,this.view,ne.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new k(this,this.view)),(typeof ne.keyboardSupport!="boolean"||ne.keyboardSupport)&&(this.keyboardController=new m(this,this.view,ne),this.disposables.add(this.keyboardController)),ne.keyboardNavigationLabelProvider){const G=ne.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeLabelController=new I(this,this.view,ne.keyboardNavigationLabelProvider,G),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(ne),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return o.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),x=>this.toListEvent(x))}get onDidChangeSelection(){return o.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),x=>this.toListEvent(x))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let x=!1;const U=o.Event.chain(this.disposables.add(new N.DomEmitter(this.view.domNode,"keydown")).event).map(ne=>new T.StandardKeyboardEvent(ne)).filter(ne=>x=ne.keyCode===58||ne.shiftKey&&ne.keyCode===68).map(N.stopEvent).filter(()=>!1).event,H=o.Event.chain(this.disposables.add(new N.DomEmitter(this.view.domNode,"keyup")).event).forEach(()=>x=!1).map(ne=>new T.StandardKeyboardEvent(ne)).filter(ne=>ne.keyCode===58||ne.shiftKey&&ne.keyCode===68).map(N.stopEvent).map(({browserEvent:ne})=>{const ue=this.getFocus(),pe=ue.length?ue[0]:void 0,ge=typeof pe!="undefined"?this.view.element(pe):void 0,W=typeof pe!="undefined"?this.view.domElement(pe):this.view.domNode;return{index:pe,element:ge,anchor:W,browserEvent:ne}}).event,V=o.Event.chain(this.view.onContextMenu).filter(ne=>!x).map(({element:ne,index:ue,browserEvent:pe})=>({element:ne,index:ue,anchor:{x:pe.pageX+1,y:pe.pageY},browserEvent:pe})).event;return o.Event.any(U,H,V)}get onKeyDown(){return this.disposables.add(new N.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return o.Event.signal(this.disposables.add(new N.DomEmitter(this.view.domNode,"focus",!0)).event)}createMouseController(x){return new R(this)}updateOptions(x={}){var U;this._options=Object.assign(Object.assign({},this._options),x),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(x),(U=this.keyboardController)===null||U===void 0||U.updateOptions(x),this.view.updateOptions(x)}get options(){return this._options}splice(x,U,H=[]){if(x<0||x>this.view.length)throw new t.ListError(this.user,`Invalid start index: ${x}`);if(U<0)throw new t.ListError(this.user,`Invalid delete count: ${U}`);U===0&&H.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(x,U,H))}rerender(){this.view.rerender()}element(x){return this.view.element(x)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(x){this.view.setScrollTop(x)}get ariaLabel(){return this._ariaLabel}set ariaLabel(x){this._ariaLabel=x,this.view.domNode.setAttribute("aria-label",x)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(x,U){this.view.layout(x,U)}setSelection(x,U){for(const H of x)if(H<0||H>=this.length)throw new t.ListError(this.user,`Invalid index ${H}`);this.selection.set(x,U)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(x=>this.view.element(x))}setAnchor(x){if(typeof x=="undefined"){this.anchor.set([]);return}if(x<0||x>=this.length)throw new t.ListError(this.user,`Invalid index ${x}`);this.anchor.set([x])}getAnchor(){return(0,b.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const x=this.getAnchor();return typeof x=="undefined"?void 0:this.element(x)}setFocus(x,U){for(const H of x)if(H<0||H>=this.length)throw new t.ListError(this.user,`Invalid index ${H}`);this.focus.set(x,U)}focusNext(x=1,U=!1,H,V){if(this.length===0)return;const ne=this.focus.get(),ue=this.findNextIndex(ne.length>0?ne[0]+x:0,U,V);ue>-1&&this.setFocus([ue],H)}focusPrevious(x=1,U=!1,H,V){if(this.length===0)return;const ne=this.focus.get(),ue=this.findPreviousIndex(ne.length>0?ne[0]-x:0,U,V);ue>-1&&this.setFocus([ue],H)}focusNextPage(x,U){return Me(this,void 0,void 0,function*(){let H=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);H=H===0?0:H-1;const V=this.view.element(H),ne=this.getFocusedElements()[0];if(ne!==V){const ue=this.findPreviousIndex(H,!1,U);ue>-1&&ne!==this.view.element(ue)?this.setFocus([ue],x):this.setFocus([H],x)}else{const ue=this.view.getScrollTop();this.view.setScrollTop(ue+this.view.renderHeight-this.view.elementHeight(H)),this.view.getScrollTop()!==ue&&(this.setFocus([]),yield(0,i.timeout)(0),yield this.focusNextPage(x,U))}})}focusPreviousPage(x,U){return Me(this,void 0,void 0,function*(){let H;const V=this.view.getScrollTop();V===0?H=this.view.indexAt(V):H=this.view.indexAfter(V-1);const ne=this.view.element(H),ue=this.getFocusedElements()[0];if(ue!==ne){const pe=this.findNextIndex(H,!1,U);pe>-1&&ue!==this.view.element(pe)?this.setFocus([pe],x):this.setFocus([H],x)}else{const pe=V;this.view.setScrollTop(V-this.view.renderHeight),this.view.getScrollTop()!==pe&&(this.setFocus([]),yield(0,i.timeout)(0),yield this.focusPreviousPage(x,U))}})}focusLast(x,U){if(this.length===0)return;const H=this.findPreviousIndex(this.length-1,!1,U);H>-1&&this.setFocus([H],x)}focusFirst(x,U){this.focusNth(0,x,U)}focusNth(x,U,H){if(this.length===0)return;const V=this.findNextIndex(x,!1,H);V>-1&&this.setFocus([V],U)}findNextIndex(x,U=!1,H){for(let V=0;V<this.length;V++){if(x>=this.length&&!U)return-1;if(x=x%this.length,!H||H(this.element(x)))return x;x++}return-1}findPreviousIndex(x,U=!1,H){for(let V=0;V<this.length;V++){if(x<0&&!U)return-1;if(x=(this.length+x%this.length)%this.length,!H||H(this.element(x)))return x;x--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(x=>this.view.element(x))}reveal(x,U){if(x<0||x>=this.length)throw new t.ListError(this.user,`Invalid index ${x}`);const H=this.view.getScrollTop(),V=this.view.elementTop(x),ne=this.view.elementHeight(x);if((0,a.isNumber)(U)){const ue=ne-this.view.renderHeight;this.view.setScrollTop(ue*(0,u.clamp)(U,0,1)+V)}else{const ue=V+ne,pe=H+this.view.renderHeight;V<H&&ue>=pe||(V<H||ue>=pe&&ne>=this.view.renderHeight?this.view.setScrollTop(V):ue>=pe&&this.view.setScrollTop(ue-this.view.renderHeight))}}getRelativeTop(x){if(x<0||x>=this.length)throw new t.ListError(this.user,`Invalid index ${x}`);const U=this.view.getScrollTop(),H=this.view.elementTop(x),V=this.view.elementHeight(x);if(H<U||H+V>U+this.view.renderHeight)return null;const ne=V-this.view.renderHeight;return Math.abs((U-H)/ne)}getHTMLElement(){return this.view.domNode}style(x){this.styleController.style(x)}toListEvent({indexes:x,browserEvent:U}){return{indexes:x,elements:x.map(H=>this.view.element(H)),browserEvent:U}}_onFocusChange(){const x=this.focus.get();this.view.domNode.classList.toggle("element-focused",x.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var x;const U=this.focus.get();if(U.length>0){let H;((x=this.accessibilityProvider)===null||x===void 0?void 0:x.getActiveDescendantId)&&(H=this.accessibilityProvider.getActiveDescendantId(this.view.element(U[0]))),this.view.domNode.setAttribute("aria-activedescendant",H||this.view.getElementDomId(U[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const x=this.selection.get();this.view.domNode.classList.toggle("selection-none",x.length===0),this.view.domNode.classList.toggle("selection-single",x.length===1),this.view.domNode.classList.toggle("selection-multiple",x.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Fe([r.memoize],se.prototype,"onDidChangeFocus",null),Fe([r.memoize],se.prototype,"onDidChangeSelection",null),Fe([r.memoize],se.prototype,"onContextMenu",null),Fe([r.memoize],se.prototype,"onKeyDown",null),Fe([r.memoize],se.prototype,"onDidFocus",null),e.List=se}),define(te[329],ie([0,1,19,23,6,2,110,217]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class p{constructor(o,d){this.renderer=o,this.modelProvider=d}get templateId(){return this.renderer.templateId}renderTemplate(o){return{data:this.renderer.renderTemplate(o),disposable:D.Disposable.None}}renderElement(o,d,c,u){if(c.disposable&&c.disposable.dispose(),!c.data)return;const s=this.modelProvider();if(s.isResolved(o))return this.renderer.renderElement(s.get(o),o,c.data,u);const n=new N.CancellationTokenSource,a=s.resolve(o,n.token);c.disposable={dispose:()=>n.cancel()},this.renderer.renderPlaceholder(o,c.data),a.then(t=>this.renderer.renderElement(t,o,c.data,u))}disposeTemplate(o){o.disposable&&(o.disposable.dispose(),o.disposable=void 0),o.data&&(this.renderer.disposeTemplate(o.data),o.data=void 0)}}class b{constructor(o,d){this.modelProvider=o,this.accessibilityProvider=d}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(o){const d=this.modelProvider();return d.isResolved(o)?this.accessibilityProvider.getAriaLabel(d.get(o)):null}}function i(r,o){return Object.assign(Object.assign({},o),{accessibilityProvider:o.accessibilityProvider&&new b(r,o.accessibilityProvider)})}class f{constructor(o,d,c,u,s={}){const n=()=>this.model,a=u.map(t=>new p(t,n));this.list=new S.List(o,d,c,a,i(n,s))}updateOptions(o){this.list.updateOptions(o)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return T.Event.map(this.list.onMouseDblClick,({element:o,index:d,browserEvent:c})=>({element:o===void 0?void 0:this._model.get(o),index:d,browserEvent:c}))}get onPointer(){return T.Event.map(this.list.onPointer,({element:o,index:d,browserEvent:c})=>({element:o===void 0?void 0:this._model.get(o),index:d,browserEvent:c}))}get onDidChangeSelection(){return T.Event.map(this.list.onDidChangeSelection,({elements:o,indexes:d,browserEvent:c})=>({elements:o.map(u=>this._model.get(u)),indexes:d,browserEvent:c}))}get model(){return this._model}set model(o){this._model=o,this.list.splice(0,this.list.length,(0,y.range)(o.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(o=>this.model.get(o))}style(o){this.list.style(o)}dispose(){this.list.dispose()}}e.PagedList=f}),define(te[330],ie([11]),{}),define(te[219],ie([0,1,7,109,62,19,29,6,2,105,130,20,330]),function(q,e,y,N,T,D,S,p,b,i,f,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const o={separatorBorder:S.Color.transparent};class d{constructor(l,h,g,w){this.container=l,this.view=h,this.disposable=w,this._cachedVisibleSize=void 0,typeof g=="number"?(this._size=g,this._cachedVisibleSize=void 0,l.classList.add("visible")):(this._size=0,this._cachedVisibleSize=g.cachedVisibleSize)}set size(l){this._size=l}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(l,h){l!==this.visible&&(l?(this.size=(0,i.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof h=="number"?h:this.size,this.size=0),this.container.classList.toggle("visible",l),this.view.setVisible&&this.view.setVisible(l))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(l){this.container.style.pointerEvents=l?"":"none"}layout(l,h){this.layoutContainer(l),this.view.layout(this.size,l,h)}dispose(){return this.disposable.dispose(),this.view}}class c extends d{layoutContainer(l){this.container.style.top=`${l}px`,this.container.style.height=`${this.size}px`}}class u extends d{layoutContainer(l){this.container.style.left=`${l}px`,this.container.style.width=`${this.size}px`}}var s;(function(t){t[t.Idle=0]="Idle",t[t.Busy=1]="Busy"})(s||(s={}));var n;(function(t){t.Distribute={type:"distribute"};function l(g){return{type:"split",index:g}}t.Split=l;function h(g){return{type:"invisible",cachedVisibleSize:g}}t.Invisible=h})(n=e.Sizing||(e.Sizing={}));class a extends b.Disposable{constructor(l,h={}){var g,w;super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=s.Idle,this._onDidSashChange=this._register(new p.Emitter),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new p.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=r.isUndefined(h.orientation)?0:h.orientation,this.inverseAltBehavior=!!h.inverseAltBehavior,this.proportionalLayout=r.isUndefined(h.proportionalLayout)?!0:!!h.proportionalLayout,this.getSashOrthogonalSize=h.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),l.appendChild(this.el),this.sashContainer=(0,y.append)(this.el,(0,y.$)(".sash-container")),this.viewContainer=(0,y.$)(".split-view-container"),this.scrollable=new f.Scrollable(125,y.scheduleAtNextAnimationFrame),this.scrollableElement=this._register(new T.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(g=h.scrollbarVisibility)!==null&&g!==void 0?g:1:2,horizontal:this.orientation===1?(w=h.scrollbarVisibility)!==null&&w!==void 0?w:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(_=>{this.viewContainer.scrollTop=_.scrollTop,this.viewContainer.scrollLeft=_.scrollLeft})),(0,y.append)(this.el,this.scrollableElement.getDomNode()),this.style(h.styles||o),h.descriptor&&(this.size=h.descriptor.size,h.descriptor.views.forEach((_,C)=>{const v=r.isUndefined(_.visible)||_.visible?_.size:{type:"invisible",cachedVisibleSize:_.size},m=_.view;this.doAddView(m,v,C,!0)}),this.contentSize=this.viewItems.reduce((_,C)=>_+C.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(l){for(const h of this.sashItems)h.sash.orthogonalStartSash=l;this._orthogonalStartSash=l}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(l){for(const h of this.sashItems)h.sash.orthogonalEndSash=l;this._orthogonalEndSash=l}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(l){this._startSnappingEnabled!==l&&(this._startSnappingEnabled=l,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(l){this._endSnappingEnabled!==l&&(this._endSnappingEnabled=l,this.updateSashEnablement())}style(l){l.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",l.separatorBorder.toString()))}addView(l,h,g=this.viewItems.length,w){this.doAddView(l,h,g,w)}layout(l,h){const g=Math.max(this.size,this.contentSize);if(this.size=l,this.layoutContext=h,this.proportions)for(let w=0;w<this.viewItems.length;w++){const _=this.viewItems[w];_.size=(0,i.clamp)(Math.round(this.proportions[w]*l),_.minimumSize,_.maximumSize)}else{const w=(0,D.range)(this.viewItems.length),_=w.filter(v=>this.viewItems[v].priority===1),C=w.filter(v=>this.viewItems[v].priority===2);this.resize(this.viewItems.length-1,l-g,void 0,_,C)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(l=>l.size/this.contentSize))}onSashStart({sash:l,start:h,alt:g}){for(const v of this.viewItems)v.enabled=!1;const w=this.sashItems.findIndex(v=>v.sash===l),_=(0,b.combinedDisposable)((0,y.addDisposableListener)(document.body,"keydown",v=>C(this.sashDragState.current,v.altKey)),(0,y.addDisposableListener)(document.body,"keyup",()=>C(this.sashDragState.current,!1))),C=(v,m)=>{const E=this.viewItems.map(F=>F.size);let I=Number.NEGATIVE_INFINITY,k=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(m=!m),m)if(w===this.sashItems.length-1){const M=this.viewItems[w];I=(M.minimumSize-M.size)/2,k=(M.maximumSize-M.size)/2}else{const M=this.viewItems[w+1];I=(M.size-M.maximumSize)/2,k=(M.size-M.minimumSize)/2}let A,P;if(!m){const F=(0,D.range)(w,-1),M=(0,D.range)(w+1,this.viewItems.length),R=F.reduce((Q,Y)=>Q+(this.viewItems[Y].minimumSize-E[Y]),0),O=F.reduce((Q,Y)=>Q+(this.viewItems[Y].viewMaximumSize-E[Y]),0),L=M.length===0?Number.POSITIVE_INFINITY:M.reduce((Q,Y)=>Q+(E[Y]-this.viewItems[Y].minimumSize),0),B=M.length===0?Number.NEGATIVE_INFINITY:M.reduce((Q,Y)=>Q+(E[Y]-this.viewItems[Y].viewMaximumSize),0),z=Math.max(R,B),$=Math.min(L,O),j=this.findFirstSnapIndex(F),X=this.findFirstSnapIndex(M);if(typeof j=="number"){const Q=this.viewItems[j],Y=Math.floor(Q.viewMinimumSize/2);A={index:j,limitDelta:Q.visible?z-Y:z+Y,size:Q.size}}if(typeof X=="number"){const Q=this.viewItems[X],Y=Math.floor(Q.viewMinimumSize/2);P={index:X,limitDelta:Q.visible?$+Y:$-Y,size:Q.size}}}this.sashDragState={start:v,current:v,index:w,sizes:E,minDelta:I,maxDelta:k,alt:m,snapBefore:A,snapAfter:P,disposable:_}};C(h,g)}onSashChange({current:l}){const{index:h,start:g,sizes:w,alt:_,minDelta:C,maxDelta:v,snapBefore:m,snapAfter:E}=this.sashDragState;this.sashDragState.current=l;const I=l-g,k=this.resize(h,I,w,void 0,void 0,C,v,m,E);if(_){const A=h===this.sashItems.length-1,P=this.viewItems.map(B=>B.size),F=A?h:h+1,M=this.viewItems[F],R=M.size-M.maximumSize,O=M.size-M.minimumSize,L=A?h-1:h+1;this.resize(L,-k,P,void 0,void 0,R,O)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(l){this._onDidSashChange.fire(l),this.sashDragState.disposable.dispose(),this.saveProportions();for(const h of this.viewItems)h.enabled=!0}onViewChange(l,h){const g=this.viewItems.indexOf(l);g<0||g>=this.viewItems.length||(h=typeof h=="number"?h:l.size,h=(0,i.clamp)(h,l.minimumSize,l.maximumSize),this.inverseAltBehavior&&g>0?(this.resize(g-1,Math.floor((l.size-h)/2)),this.distributeEmptySpace(),this.layoutViews()):(l.size=h,this.relayout([g],void 0)))}resizeView(l,h){if(this.state!==s.Idle)throw new Error("Cant modify splitview");if(this.state=s.Busy,l<0||l>=this.viewItems.length)return;const g=(0,D.range)(this.viewItems.length).filter(v=>v!==l),w=[...g.filter(v=>this.viewItems[v].priority===1),l],_=g.filter(v=>this.viewItems[v].priority===2),C=this.viewItems[l];h=Math.round(h),h=(0,i.clamp)(h,C.minimumSize,Math.min(C.maximumSize,this.size)),C.size=h,this.relayout(w,_),this.state=s.Idle}distributeViewSizes(){const l=[];let h=0;for(const v of this.viewItems)v.maximumSize-v.minimumSize>0&&(l.push(v),h+=v.size);const g=Math.floor(h/l.length);for(const v of l)v.size=(0,i.clamp)(g,v.minimumSize,v.maximumSize);const w=(0,D.range)(this.viewItems.length),_=w.filter(v=>this.viewItems[v].priority===1),C=w.filter(v=>this.viewItems[v].priority===2);this.relayout(_,C)}getViewSize(l){return l<0||l>=this.viewItems.length?-1:this.viewItems[l].size}doAddView(l,h,g=this.viewItems.length,w){if(this.state!==s.Idle)throw new Error("Cant modify splitview");this.state=s.Busy;const _=(0,y.$)(".split-view-view");g===this.viewItems.length?this.viewContainer.appendChild(_):this.viewContainer.insertBefore(_,this.viewContainer.children.item(g));const C=l.onDidChange(A=>this.onViewChange(I,A)),v=(0,b.toDisposable)(()=>this.viewContainer.removeChild(_)),m=(0,b.combinedDisposable)(C,v);let E;typeof h=="number"?E=h:h.type==="split"?E=this.getViewSize(h.index)/2:h.type==="invisible"?E={cachedVisibleSize:h.cachedVisibleSize}:E=l.minimumSize;const I=this.orientation===0?new c(_,l,E,m):new u(_,l,E,m);if(this.viewItems.splice(g,0,I),this.viewItems.length>1){let A={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const P=this.orientation===0?new N.Sash(this.sashContainer,{getHorizontalSashTop:Q=>this.getSashPosition(Q),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},A),{orientation:1})):new N.Sash(this.sashContainer,{getVerticalSashLeft:Q=>this.getSashPosition(Q),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},A),{orientation:0})),F=this.orientation===0?Q=>({sash:P,start:Q.startY,current:Q.currentY,alt:Q.altKey}):Q=>({sash:P,start:Q.startX,current:Q.currentX,alt:Q.altKey}),R=p.Event.map(P.onDidStart,F)(this.onSashStart,this),L=p.Event.map(P.onDidChange,F)(this.onSashChange,this),z=p.Event.map(P.onDidEnd,()=>this.sashItems.findIndex(Q=>Q.sash===P))(this.onSashEnd,this),$=P.onDidReset(()=>{const Q=this.sashItems.findIndex(x=>x.sash===P),Y=(0,D.range)(Q,-1),oe=(0,D.range)(Q+1,this.viewItems.length),se=this.findFirstSnapIndex(Y),K=this.findFirstSnapIndex(oe);typeof se=="number"&&!this.viewItems[se].visible||typeof K=="number"&&!this.viewItems[K].visible||this._onDidSashReset.fire(Q)}),j=(0,b.combinedDisposable)(R,L,z,$,P),X={sash:P,disposable:j};this.sashItems.splice(g-1,0,X)}_.appendChild(l.element);let k;typeof h!="number"&&h.type==="split"&&(k=[h.index]),w||this.relayout([g],k),this.state=s.Idle,!w&&typeof h!="number"&&h.type==="distribute"&&this.distributeViewSizes()}relayout(l,h){const g=this.viewItems.reduce((w,_)=>w+_.size,0);this.resize(this.viewItems.length-1,this.size-g,void 0,l,h),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(l,h,g=this.viewItems.map(I=>I.size),w,_,C=Number.NEGATIVE_INFINITY,v=Number.POSITIVE_INFINITY,m,E){if(l<0||l>=this.viewItems.length)return 0;const I=(0,D.range)(l,-1),k=(0,D.range)(l+1,this.viewItems.length);if(_)for(const X of _)(0,D.pushToStart)(I,X),(0,D.pushToStart)(k,X);if(w)for(const X of w)(0,D.pushToEnd)(I,X),(0,D.pushToEnd)(k,X);const A=I.map(X=>this.viewItems[X]),P=I.map(X=>g[X]),F=k.map(X=>this.viewItems[X]),M=k.map(X=>g[X]),R=I.reduce((X,Q)=>X+(this.viewItems[Q].minimumSize-g[Q]),0),O=I.reduce((X,Q)=>X+(this.viewItems[Q].maximumSize-g[Q]),0),L=k.length===0?Number.POSITIVE_INFINITY:k.reduce((X,Q)=>X+(g[Q]-this.viewItems[Q].minimumSize),0),B=k.length===0?Number.NEGATIVE_INFINITY:k.reduce((X,Q)=>X+(g[Q]-this.viewItems[Q].maximumSize),0),z=Math.max(R,B,C),$=Math.min(L,O,v);let j=!1;if(m){const X=this.viewItems[m.index],Q=h>=m.limitDelta;j=Q!==X.visible,X.setVisible(Q,m.size)}if(!j&&E){const X=this.viewItems[E.index],Q=h<E.limitDelta;j=Q!==X.visible,X.setVisible(Q,E.size)}if(j)return this.resize(l,h,g,w,_,C,v);h=(0,i.clamp)(h,z,$);for(let X=0,Q=h;X<A.length;X++){const Y=A[X],oe=(0,i.clamp)(P[X]+Q,Y.minimumSize,Y.maximumSize);Q-=oe-P[X],Y.size=oe}for(let X=0,Q=h;X<F.length;X++){const Y=F[X],oe=(0,i.clamp)(M[X]-Q,Y.minimumSize,Y.maximumSize);Q+=oe-M[X],Y.size=oe}return h}distributeEmptySpace(l){const h=this.viewItems.reduce((v,m)=>v+m.size,0);let g=this.size-h;const w=(0,D.range)(this.viewItems.length-1,-1),_=w.filter(v=>this.viewItems[v].priority===1),C=w.filter(v=>this.viewItems[v].priority===2);for(const v of C)(0,D.pushToStart)(w,v);for(const v of _)(0,D.pushToEnd)(w,v);typeof l=="number"&&(0,D.pushToEnd)(w,l);for(let v=0;g!==0&&v<w.length;v++){const m=this.viewItems[w[v]],E=(0,i.clamp)(m.size+g,m.minimumSize,m.maximumSize);g-=E-m.size,m.size=E}}layoutViews(){this.contentSize=this.viewItems.reduce((h,g)=>h+g.size,0);let l=0;for(const h of this.viewItems)h.layout(l,this.layoutContext),l+=h.size;this.sashItems.forEach(h=>h.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let l=!1;const h=this.viewItems.map(m=>l=m.size-m.minimumSize>0||l);l=!1;const g=this.viewItems.map(m=>l=m.maximumSize-m.size>0||l),w=[...this.viewItems].reverse();l=!1;const _=w.map(m=>l=m.size-m.minimumSize>0||l).reverse();l=!1;const C=w.map(m=>l=m.maximumSize-m.size>0||l).reverse();let v=0;for(let m=0;m<this.sashItems.length;m++){const{sash:E}=this.sashItems[m];v+=this.viewItems[m].size;const k=!(h[m]&&C[m+1]),A=!(g[m]&&_[m+1]);if(k&&A){const P=(0,D.range)(m,-1),F=(0,D.range)(m+1,this.viewItems.length),M=this.findFirstSnapIndex(P),R=this.findFirstSnapIndex(F),O=typeof M=="number"&&!this.viewItems[M].visible,L=typeof R=="number"&&!this.viewItems[R].visible;O&&_[m]&&(v>0||this.startSnappingEnabled)?E.state=1:L&&h[m]&&(v<this.contentSize||this.endSnappingEnabled)?E.state=2:E.state=0}else k&&!A?E.state=1:!k&&A?E.state=2:E.state=3}}getSashPosition(l){let h=0;for(let g=0;g<this.sashItems.length;g++)if(h+=this.viewItems[g].size,this.sashItems[g].sash===l)return h;return 0}findFirstSnapIndex(l){for(const h of l){const g=this.viewItems[h];if(!!g.visible&&g.snap)return h}for(const h of l){const g=this.viewItems[h];if(g.visible&&g.maximumSize-g.minimumSize>0)return;if(!g.visible&&g.snap)return h}}dispose(){super.dispose(),this.viewItems.forEach(l=>l.dispose()),this.viewItems=[],this.sashItems.forEach(l=>l.disposable.dispose()),this.sashItems=[]}}e.SplitView=a}),define(te[331],ie([11]),{}),define(te[332],ie([0,1,7,110,219,6,331]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class S{constructor(r,o,d){this.columns=r,this.getColumnSize=d,this.templateId=S.TemplateId,this.renderedTemplates=new Set;const c=new Map(o.map(u=>[u.templateId,u]));this.renderers=[];for(const u of r){const s=c.get(u.templateId);if(!s)throw new Error(`Table cell renderer for template id ${u.templateId} not found.`);this.renderers.push(s)}}renderTemplate(r){const o=(0,y.append)(r,(0,y.$)(".monaco-table-tr")),d=[],c=[];for(let s=0;s<this.columns.length;s++){const n=this.renderers[s],a=(0,y.append)(o,(0,y.$)(".monaco-table-td",{"data-col-index":s}));a.style.width=`${this.getColumnSize(s)}px`,d.push(a),c.push(n.renderTemplate(a))}const u={container:r,cellContainers:d,cellTemplateData:c};return this.renderedTemplates.add(u),u}renderElement(r,o,d,c){for(let u=0;u<this.columns.length;u++){const n=this.columns[u].project(r);this.renderers[u].renderElement(n,o,d.cellTemplateData[u],c)}}disposeElement(r,o,d,c){for(let u=0;u<this.columns.length;u++){const s=this.renderers[u];if(s.disposeElement){const a=this.columns[u].project(r);s.disposeElement(a,o,d.cellTemplateData[u],c)}}}disposeTemplate(r){for(let o=0;o<this.columns.length;o++)this.renderers[o].disposeTemplate(r.cellTemplateData[o]);(0,y.clearNode)(r.container),this.renderedTemplates.delete(r)}layoutColumn(r,o){for(const{cellContainers:d}of this.renderedTemplates)d[r].style.width=`${o}px`}}S.TemplateId="row";function p(f){return{getHeight(r){return f.getHeight(r)},getTemplateId(){return S.TemplateId}}}class b{constructor(r,o){this.column=r,this.index=o,this._onDidLayout=new D.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,y.$)(".monaco-table-th",{"data-col-index":o,title:r.tooltip},r.label)}get minimumSize(){var r;return(r=this.column.minimumWidth)!==null&&r!==void 0?r:120}get maximumSize(){var r;return(r=this.column.maximumWidth)!==null&&r!==void 0?r:Number.POSITIVE_INFINITY}get onDidChange(){var r;return(r=this.column.onDidChangeWidthConstraints)!==null&&r!==void 0?r:D.Event.None}layout(r){this._onDidLayout.fire([this.index,r])}}class i{constructor(r,o,d,c,u,s){this.virtualDelegate=d,this.domId=`table_id_${++i.InstanceCount}`,this.cachedHeight=0,this.domNode=(0,y.append)(o,(0,y.$)(`.monaco-table.${this.domId}`));const n=c.map((l,h)=>new b(l,h)),a={size:n.reduce((l,h)=>l+h.column.weight,0),views:n.map(l=>({size:l.column.weight,view:l}))};this.splitview=new T.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:a}),this.splitview.el.style.height=`${d.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${d.headerRowHeight}px`;const t=new S(c,u,l=>this.splitview.getViewSize(l));this.list=new N.List(r,this.domNode,p(d),[t],s),this.columnLayoutDisposable=D.Event.any(...n.map(l=>l.onDidLayout))(([l,h])=>t.layoutColumn(l,h)),this.styleElement=(0,y.createStyleSheet)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(r){this.list.updateOptions(r)}splice(r,o,d=[]){this.list.splice(r,o,d)}getHTMLElement(){return this.domNode}style(r){const o=[];o.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=o.join(`
`),this.list.style(r)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.splitview.dispose(),this.list.dispose(),this.columnLayoutDisposable.dispose()}}e.Table=i,i.InstanceCount=0}),define(te[333],ie([11]),{}),define(te[135],ie([11]),{}),define(te[220],ie([0,1,7,128,135]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClass=void 0;const T={},D=new N.IdGenerator("quick-input-button-icon-");function S(p){if(!p)return;let b;const i=p.dark.toString();return T[i]?b=T[i]:(b=D.nextId(),y.createCSSRule(`.${b}`,`background-image: ${y.asCSSUrl(p.light||p.dark)}`),y.createCSSRule(`.vs-dark .${b}, .hc-black .${b}`,`background-image: ${y.asCSSUrl(p.dark)}`),T[i]=b),b}e.getIconClass=S}),define(te[334],ie([11]),{}),define(te[335],ie([11]),{}),define(te[336],ie([11]),{}),define(te[337],ie([11]),{}),define(te[338],ie([11]),{}),define(te[339],ie([11]),{}),define(te[340],ie([11]),{}),define(te[341],ie([11]),{}),define(te[342],ie([11]),{}),define(te[343],ie([11]),{}),define(te[344],ie([11]),{}),define(te[345],ie([11]),{}),define(te[346],ie([11]),{}),define(te[347],ie([11]),{}),define(te[348],ie([11]),{}),define(te[349],ie([11]),{}),define(te[350],ie([11]),{}),define(te[351],ie([11]),{}),define(te[352],ie([11]),{}),define(te[353],ie([11]),{}),define(te[354],ie([11]),{}),define(te[355],ie([11]),{}),define(te[356],ie([11]),{}),define(te[357],ie([11]),{}),define(te[358],ie([11]),{}),define(te[359],ie([11]),{}),define(te[360],ie([11]),{}),define(te[361],ie([11]),{}),define(te[362],ie([11]),{}),define(te[363],ie([11]),{}),define(te[364],ie([11]),{}),define(te[365],ie([11]),{}),define(te[366],ie([11]),{}),define(te[367],ie([11]),{}),define(te[368],ie([11]),{}),define(te[369],ie([11]),{}),define(te[370],ie([11]),{}),define(te[371],ie([11]),{}),define(te[372],ie([11]),{}),define(te[373],ie([11]),{}),define(te[374],ie([11]),{}),define(te[375],ie([11]),{}),define(te[376],ie([11]),{}),define(te[377],ie([11]),{}),define(te[378],ie([11]),{}),define(te[221],ie([0,1,2]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class N extends y.Disposable{constructor(D,S,p){super();this.referenceDomElement=D,this.changeCallback=p,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,S)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){typeof ResizeObserver!="undefined"?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(D=>{D&&D[0]&&D[0].contentRect?this.observe({width:D[0].contentRect.width,height:D[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(D){this.measureReferenceDomElement(!0,D)}measureReferenceDomElement(D,S){let p=0,b=0;S?(p=S.width,b=S.height):this.referenceDomElement&&(p=this.referenceDomElement.clientWidth,b=this.referenceDomElement.clientHeight),p=Math.max(5,p),b=Math.max(5,b),(this.width!==p||this.height!==b)&&(this.width=p,this.height=b,D&&this.changeCallback())}}e.ElementSizeObserver=N}),define(te[170],ie([0,1,7,94,55,2]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalEditorMouseMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createEditorPagePosition=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class S{constructor(u,s){this.x=u,this.y=s,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new p(this.x-y.StandardWindow.scrollX,this.y-y.StandardWindow.scrollY)}}e.PageCoordinates=S;class p{constructor(u,s){this.clientX=u,this.clientY=s,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new S(this.clientX+y.StandardWindow.scrollX,this.clientY+y.StandardWindow.scrollY)}}e.ClientCoordinates=p;class b{constructor(u,s,n,a){this.x=u,this.y=s,this.width=n,this.height=a,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=b;function i(c){const u=y.getDomNodePagePosition(c);return new b(u.left,u.top,u.width,u.height)}e.createEditorPagePosition=i;class f extends T.StandardMouseEvent{constructor(u,s){super(u);this._editorMouseEventBrand=void 0,this.pos=new S(this.posx,this.posy),this.editorPos=i(s)}}e.EditorMouseEvent=f;class r{constructor(u){this._editorViewDomNode=u}_create(u){return new f(u,this._editorViewDomNode)}onContextMenu(u,s){return y.addDisposableListener(u,"contextmenu",n=>{s(this._create(n))})}onMouseUp(u,s){return y.addDisposableListener(u,"mouseup",n=>{s(this._create(n))})}onMouseDown(u,s){return y.addDisposableListener(u,"mousedown",n=>{s(this._create(n))})}onMouseLeave(u,s){return y.addDisposableNonBubblingMouseOutListener(u,n=>{s(this._create(n))})}onMouseMoveThrottled(u,s,n,a){const t=(l,h)=>n(l,this._create(h));return y.addDisposableThrottledListener(u,"mousemove",s,t,a)}}e.EditorMouseEventFactory=r;class o{constructor(u){this._editorViewDomNode=u}_create(u){return new f(u,this._editorViewDomNode)}onPointerUp(u,s){return y.addDisposableListener(u,"pointerup",n=>{s(this._create(n))})}onPointerDown(u,s){return y.addDisposableListener(u,"pointerdown",n=>{s(this._create(n))})}onPointerLeave(u,s){return y.addDisposableNonBubblingPointerOutListener(u,n=>{s(this._create(n))})}onPointerMoveThrottled(u,s,n,a){const t=(l,h)=>n(l,this._create(h));return y.addDisposableThrottledListener(u,"pointermove",s,t,a)}}e.EditorPointerEventFactory=o;class d extends D.Disposable{constructor(u){super();this._editorViewDomNode=u,this._globalMouseMoveMonitor=this._register(new N.GlobalMouseMoveMonitor),this._keydownListener=null}startMonitoring(u,s,n,a,t){this._keydownListener=y.addStandardDisposableListener(document,"keydown",h=>{h.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,h.browserEvent)},!0);const l=(h,g)=>n(h,new f(g,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(u,s,l,a,h=>{this._keydownListener.dispose(),t(h)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorMouseMoveMonitor=d}),define(te[379],ie([0,1,6,2]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCodeEditorService=void 0;class T extends N.Disposable{constructor(){super();this._onCodeEditorAdd=this._register(new y.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new y.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new y.Emitter),this._onDiffEditorRemove=this._register(new y.Emitter),this._onDecorationTypeRegistered=this._register(new y.Emitter),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(S){this._codeEditors[S.getId()]=S,this._onCodeEditorAdd.fire(S)}removeCodeEditor(S){delete this._codeEditors[S.getId()]&&this._onCodeEditorRemove.fire(S)}listCodeEditors(){return Object.keys(this._codeEditors).map(S=>this._codeEditors[S])}addDiffEditor(S){this._diffEditors[S.getId()]=S,this._onDiffEditorAdd.fire(S)}removeDiffEditor(S){delete this._diffEditors[S.getId()]&&this._onDiffEditorRemove.fire(S)}listDiffEditors(){return Object.keys(this._diffEditors).map(S=>this._diffEditors[S])}getFocusedCodeEditor(){let S=null;const p=this.listCodeEditors();for(const b of p){if(b.hasTextFocus())return b;b.hasWidgetFocus()&&(S=b)}return S}setModelProperty(S,p,b){const i=S.toString();let f;this._modelProperties.has(i)?f=this._modelProperties.get(i):(f=new Map,this._modelProperties.set(i,f)),f.set(p,b)}getModelProperty(S,p){const b=S.toString();if(this._modelProperties.has(b))return this._modelProperties.get(b).get(p)}}e.AbstractCodeEditorService=T}),define(te[222],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const N=[];for(let T=32;T<=126;T++)N.push(T);return N.push(65533),N})();const y=(N,T)=>(N-=32,N<0||N>96?T<=2?(N+96)%96:96-1:N);e.getCharIndex=y}),define(te[380],ie([0,1,222,132]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class T{constructor(S,p){this.scale=p,this._minimapCharRendererBrand=void 0,this.charDataNormal=T.soften(S,12/15),this.charDataLight=T.soften(S,50/60)}static soften(S,p){let b=new Uint8ClampedArray(S.length);for(let i=0,f=S.length;i<f;i++)b[i]=(0,N.toUint8)(S[i]*p);return b}renderChar(S,p,b,i,f,r,o,d,c,u,s){const n=1*this.scale,a=2*this.scale,t=s?1:a;if(p+n>S.width||b+t>S.height){console.warn("bad render request outside image data");return}const l=u?this.charDataLight:this.charDataNormal,h=(0,y.getCharIndex)(i,c),g=S.width*4,w=o.r,_=o.g,C=o.b,v=f.r-w,m=f.g-_,E=f.b-C,I=Math.max(r,d),k=S.data;let A=h*n*a,P=b*g+p*4;for(let F=0;F<t;F++){let M=P;for(let R=0;R<n;R++){const O=l[A++]/255*(r/255);k[M++]=w+v*O,k[M++]=_+m*O,k[M++]=C+E*O,k[M++]=I}P+=g}}blockRenderChar(S,p,b,i,f,r,o,d){const c=1*this.scale,u=2*this.scale,s=d?1:u;if(p+c>S.width||b+s>S.height){console.warn("bad render request outside image data");return}const n=S.width*4,a=.5*(f/255),t=r.r,l=r.g,h=r.b,g=i.r-t,w=i.g-l,_=i.b-h,C=t+g*a,v=l+w*a,m=h+_*a,E=Math.max(f,o),I=S.data;let k=b*n+p*4;for(let A=0;A<s;A++){let P=k;for(let F=0;F<c;F++)I[P++]=C,I[P++]=v,I[P++]=m,I[P++]=E;k+=n}}}e.MinimapCharRenderer=T}),define(te[381],ie([0,1,82]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const N={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},T=D=>{const S=new Uint8ClampedArray(D.length/2);for(let p=0;p<D.length;p+=2)S[p>>1]=N[D[p]]<<4|N[D[p+1]]&15;return S};e.prebakedMiniMaps={1:(0,y.once)(()=>T("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,y.once)(()=>T("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(te[382],ie([0,1,380,222,381,132]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class S{static create(b,i){if(this.lastCreated&&b===this.lastCreated.scale&&i===this.lastFontFamily)return this.lastCreated;let f;return T.prebakedMiniMaps[b]?f=new y.MinimapCharRenderer(T.prebakedMiniMaps[b](),b):f=S.createFromSampleData(S.createSampleData(i).data,b),this.lastFontFamily=i,this.lastCreated=f,f}static createSampleData(b){const i=document.createElement("canvas"),f=i.getContext("2d");i.style.height=`${16}px`,i.height=16,i.width=96*10,i.style.width=96*10+"px",f.fillStyle="#ffffff",f.font=`bold ${16}px ${b}`,f.textBaseline="middle";let r=0;for(const o of N.allCharCodes)f.fillText(String.fromCharCode(o),r,16/2),r+=10;return f.getImageData(0,0,96*10,16)}static createFromSampleData(b,i){const f=16*10*4*96;if(b.length!==f)throw new Error("Unexpected source in MinimapCharRenderer");let r=S._downsample(b,i);return new y.MinimapCharRenderer(r,i)}static _downsampleChar(b,i,f,r,o){const d=1*o,c=2*o;let u=r,s=0;for(let n=0;n<c;n++){const a=n/c*16,t=(n+1)/c*16;for(let l=0;l<d;l++){const h=l/d*10,g=(l+1)/d*10;let w=0,_=0;for(let v=a;v<t;v++){const m=i+Math.floor(v)*3840,E=1-(v-Math.floor(v));for(let I=h;I<g;I++){const k=1-(I-Math.floor(I)),A=m+Math.floor(I)*4,P=k*E;_+=P,w+=b[A]*b[A+3]/255*P}}const C=w/_;s=Math.max(s,C),f[u++]=(0,D.toUint8)(C)}}return s}static _downsample(b,i){const f=2*i*1*i,r=f*96,o=new Uint8ClampedArray(r);let d=0,c=0,u=0;for(let s=0;s<96;s++)u=Math.max(u,this._downsampleChar(b,c,o,d,i)),d+=f,c+=10*4;if(u>0){const s=255/u;for(let n=0;n<r;n++)o[n]*=s}return o}}e.MinimapCharRendererFactory=S}),define(te[136],ie([0,1,6]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new y.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(N){N=Math.min(Math.max(-5,N),20),this._zoomLevel!==N&&(this._zoomLevel=N,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(te[171],ie([0,1,17,136]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const T=y.isMacintosh?1.5:1.35,D=8;class S{constructor(i){this._bareFontInfoBrand=void 0,this.zoomLevel=i.zoomLevel,this.pixelRatio=i.pixelRatio,this.fontFamily=String(i.fontFamily),this.fontWeight=String(i.fontWeight),this.fontSize=i.fontSize,this.fontFeatureSettings=i.fontFeatureSettings,this.lineHeight=i.lineHeight|0,this.letterSpacing=i.letterSpacing}static createFromValidatedSettings(i,f,r,o){const d=i.get(42),c=i.get(46),u=i.get(45),s=i.get(44),n=i.get(58),a=i.get(55);return S._create(d,c,u,s,n,a,f,r,o)}static _create(i,f,r,o,d,c,u,s,n){d===0?d=T*r:d<D&&(d=d*r),d=Math.round(d),d<D&&(d=D);const a=1+(n?0:N.EditorZoom.getZoomLevel()*.1);return r*=a,d*=a,new S({zoomLevel:u,pixelRatio:s,fontFamily:i,fontWeight:f,fontSize:r,fontFeatureSettings:o,lineHeight:d,letterSpacing:c})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(i){const f=S._wrapInQuotes(this.fontFamily);return i&&this.fontFamily!==i?`${f}, ${i}`:f}static _wrapInQuotes(i){return/[,"']/.test(i)?i:/[+ ]/.test(i)?`"${i}"`:i}}e.BareFontInfo=S,e.SERIALIZED_FONT_INFO_VERSION=1;class p extends S{constructor(i,f){super(i);this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=f,this.isMonospace=i.isMonospace,this.typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=i.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.maxDigitWidth=i.maxDigitWidth}equals(i){return this.fontFamily===i.fontFamily&&this.fontWeight===i.fontWeight&&this.fontSize===i.fontSize&&this.fontFeatureSettings===i.fontFeatureSettings&&this.lineHeight===i.lineHeight&&this.letterSpacing===i.letterSpacing&&this.typicalHalfwidthCharacterWidth===i.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===i.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===i.canUseHalfwidthRightwardsArrow&&this.spaceWidth===i.spaceWidth&&this.middotWidth===i.middotWidth&&this.wsmiddotWidth===i.wsmiddotWidth&&this.maxDigitWidth===i.maxDigitWidth}}e.FontInfo=p}),define(te[223],ie([0,1,8]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class N{static visibleColumnFromColumn(D,S,p){const b=D.length,i=S-1<b?S-1:b;let f=0,r=0;for(;r<i;){const o=y.getNextCodePoint(D,i,r);if(r+=o>=65536?2:1,o===9)f=N.nextRenderTabStop(f,p);else{let d=y.getGraphemeBreakType(o);for(;r<i;){const c=y.getNextCodePoint(D,i,r),u=y.getGraphemeBreakType(c);if(y.breakBetweenGraphemeBreakType(d,u))break;r+=c>=65536?2:1,d=u}y.isFullWidthCharacter(o)||y.isEmojiImprecise(o)?f=f+2:f=f+1}}return f}static visibleColumnsByColumns(D,S){const p=D.length;let b=new Array;b.push(-1);let i=0,f=0;for(;f<p;){const r=y.getNextCodePoint(D,p,f);if(f+=r>=65536?2:1,b.push(i),r>=65536&&b.push(i),r===9)i=N.nextRenderTabStop(i,S);else{let o=y.getGraphemeBreakType(r);for(;f<p;){const d=y.getNextCodePoint(D,p,f),c=y.getGraphemeBreakType(d);if(y.breakBetweenGraphemeBreakType(o,c))break;f+=d>=65536?2:1,b.push(i),r>=65536&&b.push(i),o=c}y.isFullWidthCharacter(r)||y.isEmojiImprecise(r)?i=i+2:i=i+1}}return b.push(i),b}static visibleColumnFromColumn2(D,S,p){return this.visibleColumnFromColumn(S.getLineContent(p.lineNumber),p.column,D.tabSize)}static columnFromVisibleColumn(D,S,p){if(S<=0)return 1;const b=D.length;let i=0,f=1,r=0;for(;r<b;){const o=y.getNextCodePoint(D,b,r);r+=o>=65536?2:1;let d;if(o===9)d=N.nextRenderTabStop(i,p);else{let u=y.getGraphemeBreakType(o);for(;r<b;){const s=y.getNextCodePoint(D,b,r),n=y.getGraphemeBreakType(s);if(y.breakBetweenGraphemeBreakType(u,n))break;r+=s>=65536?2:1,u=n}y.isFullWidthCharacter(o)||y.isEmojiImprecise(o)?d=i+2:d=i+1}const c=r+1;if(d>=S){const u=S-i;return d-S<u?c:f}i=d,f=c}return b+1}static columnFromVisibleColumn2(D,S,p,b){let i=this.columnFromVisibleColumn(S.getLineContent(p),b,D.tabSize),f=S.getLineMinColumn(p);if(i<f)return f;let r=S.getLineMaxColumn(p);return i>r?r:i}static nextRenderTabStop(D,S){return D+S-D%S}static nextIndentTabStop(D,S){return D+S-D%S}static prevRenderTabStop(D,S){return Math.max(0,D-1-(D-1)%S)}static prevIndentTabStop(D,S){return Math.max(0,D-1-(D-1)%S)}}e.CursorColumns=N}),define(te[95],ie([0,1,132]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class N{constructor(S){let p=(0,y.toUint8)(S);this._defaultValue=p,this._asciiMap=N._createAsciiMap(p),this._map=new Map}static _createAsciiMap(S){let p=new Uint8Array(256);for(let b=0;b<256;b++)p[b]=S;return p}set(S,p){let b=(0,y.toUint8)(p);S>=0&&S<256?this._asciiMap[S]=b:this._map.set(S,b)}get(S){return S>=0&&S<256?this._asciiMap[S]:this._map.get(S)||this._defaultValue}}e.CharacterClassifier=N;class T{constructor(){this._actual=new N(0)}add(S){this._actual.set(S,1)}has(S){return this._actual.get(S)===1}}e.CharacterSet=T}),define(te[111],ie([0,1,95]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class N extends y.CharacterClassifier{constructor(S){super(0);for(let p=0,b=S.length;p<b;p++)this.set(S.charCodeAt(p),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=N;function T(D){let S={};return p=>(S.hasOwnProperty(p)||(S[p]=D(p)),S[p])}e.getMapForWordSeparators=T(D=>new N(D))}),define(te[13],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class y{constructor(T,D){this.lineNumber=T,this.column=D}with(T=this.lineNumber,D=this.column){return T===this.lineNumber&&D===this.column?this:new y(T,D)}delta(T=0,D=0){return this.with(this.lineNumber+T,this.column+D)}equals(T){return y.equals(this,T)}static equals(T,D){return!T&&!D?!0:!!T&&!!D&&T.lineNumber===D.lineNumber&&T.column===D.column}isBefore(T){return y.isBefore(this,T)}static isBefore(T,D){return T.lineNumber<D.lineNumber?!0:D.lineNumber<T.lineNumber?!1:T.column<D.column}isBeforeOrEqual(T){return y.isBeforeOrEqual(this,T)}static isBeforeOrEqual(T,D){return T.lineNumber<D.lineNumber?!0:D.lineNumber<T.lineNumber?!1:T.column<=D.column}static compare(T,D){let S=T.lineNumber|0,p=D.lineNumber|0;if(S===p){let b=T.column|0,i=D.column|0;return b-i}return S-p}clone(){return new y(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(T){return new y(T.lineNumber,T.column)}static isIPosition(T){return T&&typeof T.lineNumber=="number"&&typeof T.column=="number"}}e.Position=y}),define(te[3],ie([0,1,13]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class N{constructor(D,S,p,b){D>p||D===p&&S>b?(this.startLineNumber=p,this.startColumn=b,this.endLineNumber=D,this.endColumn=S):(this.startLineNumber=D,this.startColumn=S,this.endLineNumber=p,this.endColumn=b)}isEmpty(){return N.isEmpty(this)}static isEmpty(D){return D.startLineNumber===D.endLineNumber&&D.startColumn===D.endColumn}containsPosition(D){return N.containsPosition(this,D)}static containsPosition(D,S){return!(S.lineNumber<D.startLineNumber||S.lineNumber>D.endLineNumber||S.lineNumber===D.startLineNumber&&S.column<D.startColumn||S.lineNumber===D.endLineNumber&&S.column>D.endColumn)}containsRange(D){return N.containsRange(this,D)}static containsRange(D,S){return!(S.startLineNumber<D.startLineNumber||S.endLineNumber<D.startLineNumber||S.startLineNumber>D.endLineNumber||S.endLineNumber>D.endLineNumber||S.startLineNumber===D.startLineNumber&&S.startColumn<D.startColumn||S.endLineNumber===D.endLineNumber&&S.endColumn>D.endColumn)}strictContainsRange(D){return N.strictContainsRange(this,D)}static strictContainsRange(D,S){return!(S.startLineNumber<D.startLineNumber||S.endLineNumber<D.startLineNumber||S.startLineNumber>D.endLineNumber||S.endLineNumber>D.endLineNumber||S.startLineNumber===D.startLineNumber&&S.startColumn<=D.startColumn||S.endLineNumber===D.endLineNumber&&S.endColumn>=D.endColumn)}plusRange(D){return N.plusRange(this,D)}static plusRange(D,S){let p,b,i,f;return S.startLineNumber<D.startLineNumber?(p=S.startLineNumber,b=S.startColumn):S.startLineNumber===D.startLineNumber?(p=S.startLineNumber,b=Math.min(S.startColumn,D.startColumn)):(p=D.startLineNumber,b=D.startColumn),S.endLineNumber>D.endLineNumber?(i=S.endLineNumber,f=S.endColumn):S.endLineNumber===D.endLineNumber?(i=S.endLineNumber,f=Math.max(S.endColumn,D.endColumn)):(i=D.endLineNumber,f=D.endColumn),new N(p,b,i,f)}intersectRanges(D){return N.intersectRanges(this,D)}static intersectRanges(D,S){let p=D.startLineNumber,b=D.startColumn,i=D.endLineNumber,f=D.endColumn,r=S.startLineNumber,o=S.startColumn,d=S.endLineNumber,c=S.endColumn;return p<r?(p=r,b=o):p===r&&(b=Math.max(b,o)),i>d?(i=d,f=c):i===d&&(f=Math.min(f,c)),p>i||p===i&&b>f?null:new N(p,b,i,f)}equalsRange(D){return N.equalsRange(this,D)}static equalsRange(D,S){return!!D&&!!S&&D.startLineNumber===S.startLineNumber&&D.startColumn===S.startColumn&&D.endLineNumber===S.endLineNumber&&D.endColumn===S.endColumn}getEndPosition(){return N.getEndPosition(this)}static getEndPosition(D){return new y.Position(D.endLineNumber,D.endColumn)}getStartPosition(){return N.getStartPosition(this)}static getStartPosition(D){return new y.Position(D.startLineNumber,D.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(D,S){return new N(this.startLineNumber,this.startColumn,D,S)}setStartPosition(D,S){return new N(D,S,this.endLineNumber,this.endColumn)}collapseToStart(){return N.collapseToStart(this)}static collapseToStart(D){return new N(D.startLineNumber,D.startColumn,D.startLineNumber,D.startColumn)}static fromPositions(D,S=D){return new N(D.lineNumber,D.column,S.lineNumber,S.column)}static lift(D){return D?new N(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn):null}static isIRange(D){return D&&typeof D.startLineNumber=="number"&&typeof D.startColumn=="number"&&typeof D.endLineNumber=="number"&&typeof D.endColumn=="number"}static areIntersectingOrTouching(D,S){return!(D.endLineNumber<S.startLineNumber||D.endLineNumber===S.startLineNumber&&D.endColumn<S.startColumn||S.endLineNumber<D.startLineNumber||S.endLineNumber===D.startLineNumber&&S.endColumn<D.startColumn)}static areIntersecting(D,S){return!(D.endLineNumber<S.startLineNumber||D.endLineNumber===S.startLineNumber&&D.endColumn<=S.startColumn||S.endLineNumber<D.startLineNumber||S.endLineNumber===D.startLineNumber&&S.endColumn<=D.startColumn)}static compareRangesUsingStarts(D,S){if(D&&S){const i=D.startLineNumber|0,f=S.startLineNumber|0;if(i===f){const r=D.startColumn|0,o=S.startColumn|0;if(r===o){const d=D.endLineNumber|0,c=S.endLineNumber|0;if(d===c){const u=D.endColumn|0,s=S.endColumn|0;return u-s}return d-c}return r-o}return i-f}return(D?1:0)-(S?1:0)}static compareRangesUsingEnds(D,S){return D.endLineNumber===S.endLineNumber?D.endColumn===S.endColumn?D.startLineNumber===S.startLineNumber?D.startColumn-S.startColumn:D.startLineNumber-S.startLineNumber:D.endColumn-S.endColumn:D.endLineNumber-S.endLineNumber}static spansMultipleLines(D){return D.endLineNumber>D.startLineNumber}}e.Range=N}),define(te[224],ie([0,1,8,13,3]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class D{constructor(b,i,f,r,o){this.value=b,this.selectionStart=i,this.selectionEnd=f,this.selectionStartPosition=r,this.selectionEndPosition=o}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(b){return new D(b.getValue(),b.getSelectionStart(),b.getSelectionEnd(),null,null)}collapseSelection(){return new D(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(b,i,f){e._debugComposition&&console.log("writeToTextArea "+b+": "+this.toString()),i.setValue(b,this.value),f&&i.setSelectionRange(b,this.selectionStart,this.selectionEnd)}deduceEditorPosition(b){if(b<=this.selectionStart){const r=this.value.substring(b,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,r,-1)}if(b>=this.selectionEnd){const r=this.value.substring(this.selectionEnd,b);return this._finishDeduceEditorPosition(this.selectionEndPosition,r,1)}const i=this.value.substring(this.selectionStart,b);if(i.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,i,1);const f=this.value.substring(b,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,f,-1)}_finishDeduceEditorPosition(b,i,f){let r=0,o=-1;for(;(o=i.indexOf(`
`,o+1))!==-1;)r++;return[b,f*i.length,r]}static selectedText(b){return new D(b,0,b.length,null,null)}static deduceInput(b,i,f){if(!b)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: "+b.toString()),console.log("CURRENT STATE: "+i.toString()));let r=b.value,o=b.selectionStart,d=b.selectionEnd,c=i.value,u=i.selectionStart,s=i.selectionEnd;const n=r.substring(d),a=c.substring(s),t=y.commonSuffixLength(n,a);c=c.substring(0,c.length-t),r=r.substring(0,r.length-t);const l=r.substring(0,o),h=c.substring(0,u),g=y.commonPrefixLength(l,h);if(c=c.substring(g),r=r.substring(g),u-=g,o-=g,s-=g,d-=g,e._debugComposition&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+r+">, selectionStart: "+o+", selectionEnd: "+d),console.log("AFTER DIFFING CURRENT STATE: <"+c+">, selectionStart: "+u+", selectionEnd: "+s)),f&&u===s&&r.length>0){let _=null;if(u===c.length?c.startsWith(r)&&(_=c.substring(r.length)):c.endsWith(r)&&(_=c.substring(0,c.length-r.length)),_!==null&&_.length>0&&(/\uFE0F/.test(_)||y.containsEmoji(_)))return{text:_,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(u===s){if(r===c&&o===0&&d===r.length&&u===c.length&&c.indexOf(`
`)===-1&&y.containsFullWidthCharacter(c))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const _=l.length-g;return e._debugComposition&&console.log("REMOVE PREVIOUS: "+(l.length-g)+" chars"),{text:c,replacePrevCharCnt:_,replaceNextCharCnt:0,positionDelta:0}}const w=d-o;return{text:c,replacePrevCharCnt:w,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(b,i){if(!b)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: "+b.toString()),console.log("CURRENT STATE: "+i.toString())),b.value===i.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:i.selectionEnd-b.selectionEnd};const f=Math.min(y.commonPrefixLength(b.value,i.value),b.selectionEnd),r=Math.min(y.commonSuffixLength(b.value,i.value),b.value.length-b.selectionEnd),o=b.value.substring(f,b.value.length-r),d=i.value.substring(f,i.value.length-r),c=b.selectionStart-f,u=b.selectionEnd-f,s=i.selectionStart-f,n=i.selectionEnd-f;return e._debugComposition&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+o+">, selectionStart: "+c+", selectionEnd: "+u),console.log("AFTER DIFFING CURRENT STATE: <"+d+">, selectionStart: "+s+", selectionEnd: "+n)),{text:d,replacePrevCharCnt:u,replaceNextCharCnt:o.length-u,positionDelta:n-d.length}}}e.TextAreaState=D,D.EMPTY=new D("",0,0,null,null);class S{static _getPageOfLine(b,i){return Math.floor((b-1)/i)}static _getRangeForPage(b,i){const f=b*i,r=f+1,o=f+i;return new T.Range(r,1,o+1,1)}static fromEditorSelection(b,i,f,r,o){const d=S._getPageOfLine(f.startLineNumber,r),c=S._getRangeForPage(d,r),u=S._getPageOfLine(f.endLineNumber,r),s=S._getRangeForPage(u,r),n=c.intersectRanges(new T.Range(1,1,f.startLineNumber,f.startColumn));let a=i.getValueInRange(n,1);const t=i.getLineCount(),l=i.getLineMaxColumn(t),h=s.intersectRanges(new T.Range(f.endLineNumber,f.endColumn,t,l));let g=i.getValueInRange(h,1),w;if(d===u||d+1===u)w=i.getValueInRange(f,1);else{const _=c.intersectRanges(f),C=s.intersectRanges(f);w=i.getValueInRange(_,1)+String.fromCharCode(8230)+i.getValueInRange(C,1)}if(o){const _=500;a.length>_&&(a=a.substring(a.length-_,a.length)),g.length>_&&(g=g.substring(0,_)),w.length>2*_&&(w=w.substring(0,_)+String.fromCharCode(8230)+w.substring(w.length-_,w.length))}return new D(a+w+g,a.length,a.length+w.length,new N.Position(f.startLineNumber,f.startColumn),new N.Position(f.endLineNumber,f.endColumn))}}e.PagedScreenReaderStrategy=S}),define(te[225],ie([0,1,204,6,2,37,3]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const p={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class b extends T.Disposable{constructor(f,r={}){super();this._onDidUpdate=this._register(new N.Emitter),this._editor=f,this._options=D.mixin(r,p,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(o=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(o=>{this.revealFirst=!0})),this._init()}_init(){!!this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(f){this.ranges=[],f&&f.forEach(r=>{!this._options.ignoreCharChanges&&r.charChanges?r.charChanges.forEach(o=>{this.ranges.push({rhs:!0,range:new S.Range(o.modifiedStartLineNumber,o.modifiedStartColumn,o.modifiedEndLineNumber,o.modifiedEndColumn)})}):this.ranges.push({rhs:!0,range:new S.Range(r.modifiedStartLineNumber,1,r.modifiedStartLineNumber,1)})}),this.ranges.sort((r,o)=>r.range.getStartPosition().isBeforeOrEqual(o.range.getStartPosition())?-1:o.range.getStartPosition().isBeforeOrEqual(r.range.getStartPosition())?1:0),this._onDidUpdate.fire(this)}_initIdx(f){let r=!1,o=this._editor.getPosition();if(!o){this.nextIdx=0;return}for(let d=0,c=this.ranges.length;d<c&&!r;d++){let u=this.ranges[d].range;o.isBeforeOrEqual(u.getStartPosition())&&(this.nextIdx=d+(f?0:-1),r=!0)}r||(this.nextIdx=f?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(f,r){if(y.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(f):f?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let o=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let d=o.range.getStartPosition();this._editor.setPosition(d),this._editor.revealPositionInCenter(d,r)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(f=0){this._move(!0,f)}previous(f=0){this._move(!1,f)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}e.DiffNavigator=b}),define(te[59],ie([0,1,3]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class N{static insert(D,S){return{range:new y.Range(D.lineNumber,D.column,D.lineNumber,D.column),text:S,forceMoveMarkers:!0}}static delete(D){return{range:D,text:null}}static replace(D,S){return{range:D,text:S}}static replaceMove(D,S){return{range:D,text:S,forceMoveMarkers:!0}}}e.EditOperation=N}),define(te[383],ie([0,1,8,59,3]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class D{constructor(b,i){this._selection=b,this._cursors=i,this._selectionId=null}getEditOperations(b,i){let f=S(b,this._cursors);for(let r=0,o=f.length;r<o;r++){let d=f[r];i.addEditOperation(d.range,d.text)}this._selectionId=i.trackSelection(this._selection)}computeCursorState(b,i){return i.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=D;function S(p,b){b.sort((d,c)=>d.lineNumber===c.lineNumber?d.column-c.column:d.lineNumber-c.lineNumber);for(let d=b.length-2;d>=0;d--)b[d].lineNumber===b[d+1].lineNumber&&b.splice(d,1);let i=[],f=0,r=0,o=b.length;for(let d=1,c=p.getLineCount();d<=c;d++){let u=p.getLineContent(d),s=u.length+1,n=0;if(r<o&&b[r].lineNumber===d&&(n=b[r].column,r++,n===s)||u.length===0)continue;let a=y.lastNonWhitespaceIndex(u),t=0;if(a===-1)t=1;else if(a!==u.length-1)t=a+2;else continue;t=Math.max(n,t),i[f++]=N.EditOperation.delete(new T.Range(d,t,d,s))}return i}e.trimTrailingWhitespace=S}),define(te[226],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class y{constructor(T,D,S,p){this._rgba8Brand=void 0,this.r=y._clamp(T),this.g=y._clamp(D),this.b=y._clamp(S),this.a=y._clamp(p)}equals(T){return this.r===T.r&&this.g===T.g&&this.b===T.b&&this.a===T.a}static _clamp(T){return T<0?0:T>255?255:T|0}}e.RGBA8=y,y.Empty=new y(0,0,0,0)}),define(te[21],ie([0,1,13,3]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class T extends N.Range{constructor(S,p,b,i){super(S,p,b,i);this.selectionStartLineNumber=S,this.selectionStartColumn=p,this.positionLineNumber=b,this.positionColumn=i}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(S){return T.selectionsEqual(this,S)}static selectionsEqual(S,p){return S.selectionStartLineNumber===p.selectionStartLineNumber&&S.selectionStartColumn===p.selectionStartColumn&&S.positionLineNumber===p.positionLineNumber&&S.positionColumn===p.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(S,p){return this.getDirection()===0?new T(this.startLineNumber,this.startColumn,S,p):new T(S,p,this.startLineNumber,this.startColumn)}getPosition(){return new y.Position(this.positionLineNumber,this.positionColumn)}setStartPosition(S,p){return this.getDirection()===0?new T(S,p,this.endLineNumber,this.endColumn):new T(this.endLineNumber,this.endColumn,S,p)}static fromPositions(S,p=S){return new T(S.lineNumber,S.column,p.lineNumber,p.column)}static liftSelection(S){return new T(S.selectionStartLineNumber,S.selectionStartColumn,S.positionLineNumber,S.positionColumn)}static selectionsArrEqual(S,p){if(S&&!p||!S&&p)return!1;if(!S&&!p)return!0;if(S.length!==p.length)return!1;for(let b=0,i=S.length;b<i;b++)if(!this.selectionsEqual(S[b],p[b]))return!1;return!0}static isISelection(S){return S&&typeof S.selectionStartLineNumber=="number"&&typeof S.selectionStartColumn=="number"&&typeof S.positionLineNumber=="number"&&typeof S.positionColumn=="number"}static createWithDirection(S,p,b,i,f){return f===0?new T(S,p,b,i):new T(b,i,S,p)}}e.Selection=T}),define(te[172],ie([0,1,36,7,14,6,2,108,17,8,224,13,21]),function(q,e,y,N,T,D,S,p,b,i,f,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var d;(function(a){a.Tap="-monaco-textarea-synthetic-tap"})(d=e.TextAreaSyntethicEvents||(e.TextAreaSyntethicEvents={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class c{constructor(){this._lastState=null}set(t,l){this._lastState={lastCopiedValue:t,data:l}}get(t){return this._lastState&&this._lastState.lastCopiedValue===t?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=c,c.INSTANCE=new c;class u extends S.Disposable{constructor(t,l){super();this.textArea=l,this._onFocus=this._register(new D.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new D.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new D.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new D.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new D.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new D.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new D.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new D.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new D.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new D.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new D.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=t,this._textArea=this._register(new n(l)),this._asyncTriggerCut=this._register(new T.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new T.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=f.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let h=null;this._register(N.addStandardDisposableListener(l.domNode,"keydown",C=>{(C.keyCode===109||this._isDoingComposition&&C.keyCode===1)&&C.stopPropagation(),C.equals(9)&&C.preventDefault(),h=C,this._onKeyDown.fire(C)})),this._register(N.addStandardDisposableListener(l.domNode,"keyup",C=>{this._onKeyUp.fire(C)})),this._register(N.addDisposableListener(l.domNode,"compositionstart",C=>{if(f._debugComposition&&console.log("[compositionstart]",C),!this._isDoingComposition){if(this._isDoingComposition=!0,b.isMacintosh&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===C.data&&(h&&h.equals(109)&&(h.code==="ArrowRight"||h.code==="ArrowLeft")||y.isFirefox)){f._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key or Firefox",C),this._textAreaState=new f.TextAreaState(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new r.Position(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition),this._onCompositionStart.fire({revealDeltaColumns:-1});return}if(y.isAndroid){this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart});return}this._setAndWriteTextAreaState("compositionstart",f.TextAreaState.EMPTY),this._onCompositionStart.fire({revealDeltaColumns:0})}}));const g=C=>{const v=this._textAreaState,m=f.TextAreaState.readFromTextArea(this._textArea);return[m,f.TextAreaState.deduceInput(v,m,C)]},w=()=>{const C=this._textAreaState,v=f.TextAreaState.readFromTextArea(this._textArea);return[v,f.TextAreaState.deduceAndroidCompositionInput(C,v)]},_=C=>{const v=this._textAreaState,m=f.TextAreaState.selectedText(C),E={text:m.value,replacePrevCharCnt:v.selectionEnd-v.selectionStart,replaceNextCharCnt:0,positionDelta:0};return[m,E]};this._register(N.addDisposableListener(l.domNode,"compositionupdate",C=>{if(f._debugComposition&&console.log("[compositionupdate]",C),y.isAndroid){const[E,I]=w();this._textAreaState=E,this._onType.fire(I),this._onCompositionUpdate.fire(C);return}const[v,m]=_(C.data||"");this._textAreaState=v,this._onType.fire(m),this._onCompositionUpdate.fire(C)})),this._register(N.addDisposableListener(l.domNode,"compositionend",C=>{if(f._debugComposition&&console.log("[compositionend]",C),!this._isDoingComposition)return;if(this._isDoingComposition=!1,y.isAndroid){const[E,I]=w();this._textAreaState=E,this._onType.fire(I),this._onCompositionEnd.fire();return}const[v,m]=_(C.data||"");this._textAreaState=v,this._onType.fire(m),(y.isChrome||y.isFirefox)&&(this._textAreaState=f.TextAreaState.readFromTextArea(this._textArea)),this._onCompositionEnd.fire()})),this._register(N.addDisposableListener(l.domNode,"input",()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._isDoingComposition)return;const[C,v]=g(b.isMacintosh);v.replacePrevCharCnt===0&&v.text.length===1&&i.isHighSurrogate(v.text.charCodeAt(0))||(this._textAreaState=C,this._nextCommand===0?(v.text!==""||v.replacePrevCharCnt!==0)&&this._onType.fire(v):((v.text!==""||v.replacePrevCharCnt!==0)&&this._firePaste(v.text,null),this._nextCommand=0))})),this._register(N.addDisposableListener(l.domNode,"cut",C=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(C),this._asyncTriggerCut.schedule()})),this._register(N.addDisposableListener(l.domNode,"copy",C=>{this._ensureClipboardGetsEditorSelection(C)})),this._register(N.addDisposableListener(l.domNode,"paste",C=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),s.canUseTextData(C)){const[v,m]=s.getTextData(C);v!==""&&this._firePaste(v,m)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",f.TextAreaState.EMPTY),this._nextCommand=1})),this._register(N.addDisposableListener(l.domNode,"focus",()=>{const C=this._hasFocus;this._setHasFocus(!0),y.isSafari&&!C&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(N.addDisposableListener(l.domNode,"blur",()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(N.addDisposableListener(l.domNode,d.Tap,()=>{y.isAndroid&&this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let t=0;return N.addDisposableListener(document,"selectionchange",l=>{if(!this._hasFocus||this._isDoingComposition||!y.isChrome)return;const h=Date.now(),g=h-t;if(t=h,g<5)return;const w=h-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),w<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const _=this._textArea.getValue();if(this._textAreaState.value!==_)return;const C=this._textArea.getSelectionStart(),v=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===C&&this._textAreaState.selectionEnd===v)return;const m=this._textAreaState.deduceEditorPosition(C),E=this._host.deduceModelPosition(m[0],m[1],m[2]),I=this._textAreaState.deduceEditorPosition(v),k=this._host.deduceModelPosition(I[0],I[1],I[2]),A=new o.Selection(E.lineNumber,E.column,k.lineNumber,k.column);this._onSelectionChangeRequest.fire(A)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const t=N.getShadowRoot(this.textArea.domNode);t?this._setHasFocus(t.activeElement===this.textArea.domNode):N.isInDOM(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(t){this._hasFocus!==t&&(this._hasFocus=t,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(t,l){this._hasFocus||(l=l.collapseSelection()),l.writeToTextArea(t,this._textArea,this._hasFocus),this._textAreaState=l}writeScreenReaderContent(t){this._isDoingComposition||this._setAndWriteTextAreaState(t,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(t){const l=this._host.getDataToCopy(s.canUseTextData(t)),h={version:1,isFromEmptySelection:l.isFromEmptySelection,multicursorText:l.multicursorText,mode:l.mode};if(c.INSTANCE.set(y.isFirefox?l.text.replace(/\r\n/g,`
`):l.text,h),!s.canUseTextData(t)){this._setAndWriteTextAreaState("copy or cut",f.TextAreaState.selectedText(l.text));return}s.setTextData(t,l.text,l.html,h)}_firePaste(t,l){l||(l=c.INSTANCE.get(t)),this._onPaste.fire({text:t,metadata:l})}}e.TextAreaInput=u;class s{static canUseTextData(t){return!!t.clipboardData}static getTextData(t){if(t.clipboardData){t.preventDefault();const l=t.clipboardData.getData(p.Mimes.text);let h=null;const g=t.clipboardData.getData("vscode-editor-data");if(typeof g=="string")try{h=JSON.parse(g),h.version!==1&&(h=null)}catch(w){}return[l,h]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(t,l,h,g){if(t.clipboardData){t.clipboardData.setData(p.Mimes.text,l),typeof h=="string"&&t.clipboardData.setData("text/html",h),t.clipboardData.setData("vscode-editor-data",JSON.stringify(g)),t.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class n extends S.Disposable{constructor(t){super();this._actual=t,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(t){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(t,l){const h=this._actual.domNode;h.value!==l&&(this.setIgnoreSelectionChangeTime("setValue"),h.value=l)}getSelectionStart(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionEnd:this._actual.domNode.selectionStart}getSelectionEnd(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionStart:this._actual.domNode.selectionEnd}setSelectionRange(t,l,h){const g=this._actual.domNode;let w=null;const _=N.getShadowRoot(g);_?w=_.activeElement:w=document.activeElement;const C=w===g,v=g.selectionStart,m=g.selectionEnd;if(C&&v===l&&m===h){y.isFirefox&&window.parent!==window&&g.focus();return}if(C){this.setIgnoreSelectionChangeTime("setSelectionRange"),g.setSelectionRange(l,h),y.isFirefox&&window.parent!==window&&g.focus();return}try{const E=N.saveParentsScrollTop(g);this.setIgnoreSelectionChangeTime("setSelectionRange"),g.focus(),g.setSelectionRange(l,h),N.restoreParentsScrollTop(g,E)}catch(E){}}}}),define(te[96],ie([0,1,21]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class N{constructor(i,f,r=!1){this._range=i,this._text=f,this.insertsAutoWhitespace=r}getEditOperations(i,f){f.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,f){let o=f.getInverseEditOperations()[0].range;return new y.Selection(o.endLineNumber,o.endColumn,o.endLineNumber,o.endColumn)}}e.ReplaceCommand=N;class T{constructor(i,f){this._range=i,this._text=f}getEditOperations(i,f){f.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,f){const o=f.getInverseEditOperations()[0].range;return new y.Selection(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn)}}e.ReplaceCommandThatSelectsText=T;class D{constructor(i,f,r=!1){this._range=i,this._text=f,this.insertsAutoWhitespace=r}getEditOperations(i,f){f.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,f){let o=f.getInverseEditOperations()[0].range;return new y.Selection(o.startLineNumber,o.startColumn,o.startLineNumber,o.startColumn)}}e.ReplaceCommandWithoutChangingPosition=D;class S{constructor(i,f,r,o,d=!1){this._range=i,this._text=f,this._columnDeltaOffset=o,this._lineNumberDeltaOffset=r,this.insertsAutoWhitespace=d}getEditOperations(i,f){f.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,f){let o=f.getInverseEditOperations()[0].range;return new y.Selection(o.endLineNumber+this._lineNumberDeltaOffset,o.endColumn+this._columnDeltaOffset,o.endLineNumber+this._lineNumberDeltaOffset,o.endColumn+this._columnDeltaOffset)}}e.ReplaceCommandWithOffsetCursorState=S;class p{constructor(i,f,r,o=!1){this._range=i,this._text=f,this._initialSelection=r,this._forceMoveMarkers=o,this._selectionId=null}getEditOperations(i,f){f.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=f.trackSelection(this._initialSelection)}computeCursorState(i,f){return f.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=p}),define(te[384],ie([0,1,3,21]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SurroundSelectionCommand=void 0;class T{constructor(S,p,b){this._range=S,this._charBeforeSelection=p,this._charAfterSelection=b}getEditOperations(S,p){p.addTrackedEditOperation(new y.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),p.addTrackedEditOperation(new y.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(S,p){let b=p.getInverseEditOperations(),i=b[0].range,f=b[1].range;return new N.Selection(i.endLineNumber,i.endColumn,f.endLineNumber,f.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=T}),define(te[84],ie([0,1,8,17,104]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUTF16LE=e.createStringBuilder=e.hasTextDecoder=e.getPlatformTextDecoder=void 0;let D;function S(){return D||(D=new TextDecoder("UTF-16LE")),D}let p;function b(){return p||(p=new TextDecoder("UTF-16BE")),p}let i;function f(){return i||(i=N.isLittleEndian()?S():b()),i}e.getPlatformTextDecoder=f,e.hasTextDecoder=typeof TextDecoder!="undefined",e.hasTextDecoder?(e.createStringBuilder=u=>new d(u),e.decodeUTF16LE=r):(e.createStringBuilder=u=>new c,e.decodeUTF16LE=o);function r(u,s,n){const a=new Uint16Array(u.buffer,s,n);return n>0&&(a[0]===65279||a[0]===65534)?o(u,s,n):S().decode(a)}function o(u,s,n){let a=[],t=0;for(let l=0;l<n;l++){const h=T.readUInt16LE(u,s);s+=2,a[t++]=String.fromCharCode(h)}return a.join("")}class d{constructor(s){this._capacity=s|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const s=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return f().decode(s)}_flushBuffer(){const s=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[s]:this._completedStrings[this._completedStrings.length]=s}write1(s){const n=this._capacity-this._bufferLength;n<=1&&(n===0||y.isHighSurrogate(s))&&this._flushBuffer(),this._buffer[this._bufferLength++]=s}appendASCII(s){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=s}appendASCIIString(s){const n=s.length;if(this._bufferLength+n>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=s;return}for(let a=0;a<n;a++)this._buffer[this._bufferLength++]=s.charCodeAt(a)}}class c{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(s){this._pieces[this._piecesLen++]=String.fromCharCode(s)}appendASCII(s){this._pieces[this._piecesLen++]=String.fromCharCode(s)}appendASCIIString(s){this._pieces[this._piecesLen++]=s}}}),define(te[173],ie([0,1,30,84]),function(q,e,y,N){"use strict";var T;Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class D{constructor(i){this._createLine=i,this._set(1,[])}flush(){this._set(1,[])}_set(i,f){this._lines=f,this._rendLineNumberStart=i}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(i){const f=i-this._rendLineNumberStart;if(f<0||f>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[f]}onLinesDeleted(i,f){if(this.getCount()===0)return null;const r=this.getStartLineNumber(),o=this.getEndLineNumber();if(f<r){const s=f-i+1;return this._rendLineNumberStart-=s,null}if(i>o)return null;let d=0,c=0;for(let s=r;s<=o;s++){const n=s-this._rendLineNumberStart;i<=s&&s<=f&&(c===0?(d=n,c=1):c++)}if(i<r){let s=0;f<r?s=f-i+1:s=r-i,this._rendLineNumberStart-=s}return this._lines.splice(d,c)}onLinesChanged(i,f){if(this.getCount()===0)return!1;const r=this.getStartLineNumber(),o=this.getEndLineNumber();let d=!1;for(let c=i;c<=f;c++)c>=r&&c<=o&&(this._lines[c-this._rendLineNumberStart].onContentChanged(),d=!0);return d}onLinesInserted(i,f){if(this.getCount()===0)return null;const r=f-i+1,o=this.getStartLineNumber(),d=this.getEndLineNumber();if(i<=o)return this._rendLineNumberStart+=r,null;if(i>d)return null;if(r+i>d)return this._lines.splice(i-this._rendLineNumberStart,d-i+1);const c=[];for(let t=0;t<r;t++)c[t]=this._createLine();const u=i-this._rendLineNumberStart,s=this._lines.slice(0,u),n=this._lines.slice(u,this._lines.length-r),a=this._lines.slice(this._lines.length-r,this._lines.length);return this._lines=s.concat(c).concat(n),a}onTokensChanged(i){if(this.getCount()===0)return!1;const f=this.getStartLineNumber(),r=this.getEndLineNumber();let o=!1;for(let d=0,c=i.length;d<c;d++){const u=i[d];if(u.toLineNumber<f||u.fromLineNumber>r)continue;const s=Math.max(f,u.fromLineNumber),n=Math.min(r,u.toLineNumber);for(let a=s;a<=n;a++){const t=a-this._rendLineNumberStart;this._lines[t].onTokensChanged(),o=!0}}return o}}e.RenderedLinesCollection=D;class S{constructor(i){this._host=i,this.domNode=this._createDomNode(),this._linesCollection=new D(()=>this._host.createVisibleLine())}_createDomNode(){const i=(0,y.createFastDomNode)(document.createElement("div"));return i.setClassName("view-layer"),i.setPosition("absolute"),i.domNode.setAttribute("role","presentation"),i.domNode.setAttribute("aria-hidden","true"),i}onConfigurationChanged(i){return!!i.hasChanged(129)}onFlushed(i){return this._linesCollection.flush(),!0}onLinesChanged(i){return this._linesCollection.onLinesChanged(i.fromLineNumber,i.toLineNumber)}onLinesDeleted(i){const f=this._linesCollection.onLinesDeleted(i.fromLineNumber,i.toLineNumber);if(f)for(let r=0,o=f.length;r<o;r++){const d=f[r].getDomNode();d&&this.domNode.domNode.removeChild(d)}return!0}onLinesInserted(i){const f=this._linesCollection.onLinesInserted(i.fromLineNumber,i.toLineNumber);if(f)for(let r=0,o=f.length;r<o;r++){const d=f[r].getDomNode();d&&this.domNode.domNode.removeChild(d)}return!0}onScrollChanged(i){return i.scrollTopChanged}onTokensChanged(i){return this._linesCollection.onTokensChanged(i.ranges)}onZonesChanged(i){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(i){return this._linesCollection.getLine(i)}renderLines(i){const f=this._linesCollection._get(),r=new p(this.domNode.domNode,this._host,i),o={rendLineNumberStart:f.rendLineNumberStart,lines:f.lines,linesLength:f.lines.length},d=r.render(o,i.startLineNumber,i.endLineNumber,i.relativeVerticalOffset);this._linesCollection._set(d.rendLineNumberStart,d.lines)}}e.VisibleLinesCollection=S;class p{constructor(i,f,r){this.domNode=i,this.host=f,this.viewportData=r}render(i,f,r,o){const d={rendLineNumberStart:i.rendLineNumberStart,lines:i.lines.slice(0),linesLength:i.linesLength};if(d.rendLineNumberStart+d.linesLength-1<f||r<d.rendLineNumberStart){d.rendLineNumberStart=f,d.linesLength=r-f+1,d.lines=[];for(let c=f;c<=r;c++)d.lines[c-f]=this.host.createVisibleLine();return this._finishRendering(d,!0,o),d}if(this._renderUntouchedLines(d,Math.max(f-d.rendLineNumberStart,0),Math.min(r-d.rendLineNumberStart,d.linesLength-1),o,f),d.rendLineNumberStart>f){const c=f,u=Math.min(r,d.rendLineNumberStart-1);c<=u&&(this._insertLinesBefore(d,c,u,o,f),d.linesLength+=u-c+1)}else if(d.rendLineNumberStart<f){const c=Math.min(d.linesLength,f-d.rendLineNumberStart);c>0&&(this._removeLinesBefore(d,c),d.linesLength-=c)}if(d.rendLineNumberStart=f,d.rendLineNumberStart+d.linesLength-1<r){const c=d.rendLineNumberStart+d.linesLength,u=r;c<=u&&(this._insertLinesAfter(d,c,u,o,f),d.linesLength+=u-c+1)}else if(d.rendLineNumberStart+d.linesLength-1>r){const c=Math.max(0,r-d.rendLineNumberStart+1),s=d.linesLength-1-c+1;s>0&&(this._removeLinesAfter(d,s),d.linesLength-=s)}return this._finishRendering(d,!1,o),d}_renderUntouchedLines(i,f,r,o,d){const c=i.rendLineNumberStart,u=i.lines;for(let s=f;s<=r;s++){const n=c+s;u[s].layoutLine(n,o[n-d])}}_insertLinesBefore(i,f,r,o,d){const c=[];let u=0;for(let s=f;s<=r;s++)c[u++]=this.host.createVisibleLine();i.lines=c.concat(i.lines)}_removeLinesBefore(i,f){for(let r=0;r<f;r++){const o=i.lines[r].getDomNode();o&&this.domNode.removeChild(o)}i.lines.splice(0,f)}_insertLinesAfter(i,f,r,o,d){const c=[];let u=0;for(let s=f;s<=r;s++)c[u++]=this.host.createVisibleLine();i.lines=i.lines.concat(c)}_removeLinesAfter(i,f){const r=i.linesLength-f;for(let o=0;o<f;o++){const d=i.lines[r+o].getDomNode();d&&this.domNode.removeChild(d)}i.lines.splice(r,f)}_finishRenderingNewLines(i,f,r,o){p._ttPolicy&&(r=p._ttPolicy.createHTML(r));const d=this.domNode.lastChild;f||!d?this.domNode.innerHTML=r:d.insertAdjacentHTML("afterend",r);let c=this.domNode.lastChild;for(let u=i.linesLength-1;u>=0;u--){const s=i.lines[u];o[u]&&(s.setDomNode(c),c=c.previousSibling)}}_finishRenderingInvalidLines(i,f,r){const o=document.createElement("div");p._ttPolicy&&(f=p._ttPolicy.createHTML(f)),o.innerHTML=f;for(let d=0;d<i.linesLength;d++){const c=i.lines[d];if(r[d]){const u=o.firstChild,s=c.getDomNode();s.parentNode.replaceChild(u,s),c.setDomNode(u)}}}_finishRendering(i,f,r){const o=p._sb,d=i.linesLength,c=i.lines,u=i.rendLineNumberStart,s=[];{o.reset();let n=!1;for(let a=0;a<d;a++){const t=c[a];s[a]=!1,!(t.getDomNode()||!t.renderLine(a+u,r[a],this.viewportData,o))&&(s[a]=!0,n=!0)}n&&this._finishRenderingNewLines(i,f,o.build(),s)}{o.reset();let n=!1;const a=[];for(let t=0;t<d;t++){const l=c[t];a[t]=!1,!(s[t]||!l.renderLine(t+u,r[t],this.viewportData,o))&&(a[t]=!0,n=!0)}n&&this._finishRenderingInvalidLines(i,o.build(),a)}}}p._ttPolicy=(T=window.trustedTypes)===null||T===void 0?void 0:T.createPolicy("editorViewLayer",{createHTML:b=>b}),p._sb=(0,N.createStringBuilder)(1e5)}),define(te[137],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationResult2=e.TokenizationResult=e.Token=void 0;class y{constructor(S,p,b){this._tokenBrand=void 0,this.offset=S|0,this.type=p,this.language=b}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=y;class N{constructor(S,p){this._tokenizationResultBrand=void 0,this.tokens=S,this.endState=p}}e.TokenizationResult=N;class T{constructor(S,p){this._tokenizationResult2Brand=void 0,this.tokens=S,this.endState=p}}e.TokenizationResult2=T}),define(te[385],ie([0,1,131,8]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=void 0;const T=3;function D(u,s,n,a){return new y.LcsDiff(u,s,n).ComputeDiff(a)}class S{constructor(s){const n=[],a=[];for(let t=0,l=s.length;t<l;t++)n[t]=o(s[t],1),a[t]=d(s[t],1);this.lines=s,this._startColumns=n,this._endColumns=a}getElements(){const s=[];for(let n=0,a=this.lines.length;n<a;n++)s[n]=this.lines[n].substring(this._startColumns[n]-1,this._endColumns[n]-1);return s}getStrictElement(s){return this.lines[s]}getStartLineNumber(s){return s+1}getEndLineNumber(s){return s+1}createCharSequence(s,n,a){const t=[],l=[],h=[];let g=0;for(let w=n;w<=a;w++){const _=this.lines[w],C=s?this._startColumns[w]:1,v=s?this._endColumns[w]:_.length+1;for(let m=C;m<v;m++)t[g]=_.charCodeAt(m-1),l[g]=w+1,h[g]=m,g++}return new p(t,l,h)}}class p{constructor(s,n,a){this._charCodes=s,this._lineNumbers=n,this._columns=a}getElements(){return this._charCodes}getStartLineNumber(s){return this._lineNumbers[s]}getStartColumn(s){return this._columns[s]}getEndLineNumber(s){return this._lineNumbers[s]}getEndColumn(s){return this._columns[s]+1}}class b{constructor(s,n,a,t,l,h,g,w){this.originalStartLineNumber=s,this.originalStartColumn=n,this.originalEndLineNumber=a,this.originalEndColumn=t,this.modifiedStartLineNumber=l,this.modifiedStartColumn=h,this.modifiedEndLineNumber=g,this.modifiedEndColumn=w}static createFromDiffChange(s,n,a){let t,l,h,g,w,_,C,v;return s.originalLength===0?(t=0,l=0,h=0,g=0):(t=n.getStartLineNumber(s.originalStart),l=n.getStartColumn(s.originalStart),h=n.getEndLineNumber(s.originalStart+s.originalLength-1),g=n.getEndColumn(s.originalStart+s.originalLength-1)),s.modifiedLength===0?(w=0,_=0,C=0,v=0):(w=a.getStartLineNumber(s.modifiedStart),_=a.getStartColumn(s.modifiedStart),C=a.getEndLineNumber(s.modifiedStart+s.modifiedLength-1),v=a.getEndColumn(s.modifiedStart+s.modifiedLength-1)),new b(t,l,h,g,w,_,C,v)}}function i(u){if(u.length<=1)return u;const s=[u[0]];let n=s[0];for(let a=1,t=u.length;a<t;a++){const l=u[a],h=l.originalStart-(n.originalStart+n.originalLength),g=l.modifiedStart-(n.modifiedStart+n.modifiedLength);Math.min(h,g)<T?(n.originalLength=l.originalStart+l.originalLength-n.originalStart,n.modifiedLength=l.modifiedStart+l.modifiedLength-n.modifiedStart):(s.push(l),n=l)}return s}class f{constructor(s,n,a,t,l){this.originalStartLineNumber=s,this.originalEndLineNumber=n,this.modifiedStartLineNumber=a,this.modifiedEndLineNumber=t,this.charChanges=l}static createFromDiffResult(s,n,a,t,l,h,g){let w,_,C,v,m;if(n.originalLength===0?(w=a.getStartLineNumber(n.originalStart)-1,_=0):(w=a.getStartLineNumber(n.originalStart),_=a.getEndLineNumber(n.originalStart+n.originalLength-1)),n.modifiedLength===0?(C=t.getStartLineNumber(n.modifiedStart)-1,v=0):(C=t.getStartLineNumber(n.modifiedStart),v=t.getEndLineNumber(n.modifiedStart+n.modifiedLength-1)),h&&n.originalLength>0&&n.originalLength<20&&n.modifiedLength>0&&n.modifiedLength<20&&l()){const E=a.createCharSequence(s,n.originalStart,n.originalStart+n.originalLength-1),I=t.createCharSequence(s,n.modifiedStart,n.modifiedStart+n.modifiedLength-1);let k=D(E,I,l,!0).changes;g&&(k=i(k)),m=[];for(let A=0,P=k.length;A<P;A++)m.push(b.createFromDiffChange(k[A],E,I))}return new f(w,_,C,v,m)}}class r{constructor(s,n,a){this.shouldComputeCharChanges=a.shouldComputeCharChanges,this.shouldPostProcessCharChanges=a.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=a.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=a.shouldMakePrettyDiff,this.originalLines=s,this.modifiedLines=n,this.original=new S(s),this.modified=new S(n),this.continueLineDiff=c(a.maxComputationTime),this.continueCharDiff=c(a.maxComputationTime===0?0:Math.min(a.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const s=D(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),n=s.changes,a=s.quitEarly;if(this.shouldIgnoreTrimWhitespace){const g=[];for(let w=0,_=n.length;w<_;w++)g.push(f.createFromDiffResult(this.shouldIgnoreTrimWhitespace,n[w],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:a,changes:g}}const t=[];let l=0,h=0;for(let g=-1,w=n.length;g<w;g++){const _=g+1<w?n[g+1]:null,C=_?_.originalStart:this.originalLines.length,v=_?_.modifiedStart:this.modifiedLines.length;for(;l<C&&h<v;){const m=this.originalLines[l],E=this.modifiedLines[h];if(m!==E){{let I=o(m,1),k=o(E,1);for(;I>1&&k>1;){const A=m.charCodeAt(I-2),P=E.charCodeAt(k-2);if(A!==P)break;I--,k--}(I>1||k>1)&&this._pushTrimWhitespaceCharChange(t,l+1,1,I,h+1,1,k)}{let I=d(m,1),k=d(E,1);const A=m.length+1,P=E.length+1;for(;I<A&&k<P;){const F=m.charCodeAt(I-1),M=m.charCodeAt(k-1);if(F!==M)break;I++,k++}(I<A||k<P)&&this._pushTrimWhitespaceCharChange(t,l+1,I,A,h+1,k,P)}}l++,h++}_&&(t.push(f.createFromDiffResult(this.shouldIgnoreTrimWhitespace,_,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),l+=_.originalLength,h+=_.modifiedLength)}return{quitEarly:a,changes:t}}_pushTrimWhitespaceCharChange(s,n,a,t,l,h,g){if(this._mergeTrimWhitespaceCharChange(s,n,a,t,l,h,g))return;let w;this.shouldComputeCharChanges&&(w=[new b(n,a,n,t,l,h,l,g)]),s.push(new f(n,n,l,l,w))}_mergeTrimWhitespaceCharChange(s,n,a,t,l,h,g){const w=s.length;if(w===0)return!1;const _=s[w-1];return _.originalEndLineNumber===0||_.modifiedEndLineNumber===0?!1:_.originalEndLineNumber+1===n&&_.modifiedEndLineNumber+1===l?(_.originalEndLineNumber=n,_.modifiedEndLineNumber=l,this.shouldComputeCharChanges&&_.charChanges&&_.charChanges.push(new b(n,a,n,t,l,h,l,g)),!0):!1}}e.DiffComputer=r;function o(u,s){const n=N.firstNonWhitespaceIndex(u);return n===-1?s:n+1}function d(u,s){const n=N.lastNonWhitespaceIndex(u);return n===-1?s:n+2}function c(u){if(u===0)return()=>!0;const s=Date.now();return()=>Date.now()-s<u}}),define(te[227],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class y{constructor(T,D,S,p,b,i){this.id=T,this.label=D,this.alias=S,this._precondition=p,this._run=b,this._contextKeyService=i}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}e.InternalEditorAction=y}),define(te[112],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=e.isThemeColor=void 0;function y(N){return N&&typeof N.id=="string"}e.isThemeColor=y,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(te[113],ie([0,1,112]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function N(S){return S&&typeof S.getEditorType=="function"?S.getEditorType()===y.EditorType.ICodeEditor:!1}e.isCodeEditor=N;function T(S){return S&&typeof S.getEditorType=="function"?S.getEditorType()===y.EditorType.IDiffEditor:!1}e.isDiffEditor=T;function D(S){return N(S)?S:T(S)?S.getModifiedEditor():null}e.getCodeEditor=D}),define(te[49],ie([0,1,37]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyEditsResult=e.ValidAnnotatedEditOperation=e.BracketPair=e.IndentGuide=e.FindMatch=e.TextModelResolvedOptions=e.MinimapPosition=e.OverviewRulerLane=void 0;var N;(function(r){r[r.Left=1]="Left",r[r.Center=2]="Center",r[r.Right=4]="Right",r[r.Full=7]="Full"})(N=e.OverviewRulerLane||(e.OverviewRulerLane={}));var T;(function(r){r[r.Inline=1]="Inline",r[r.Gutter=2]="Gutter"})(T=e.MinimapPosition||(e.MinimapPosition={}));class D{constructor(o){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,o.tabSize|0),this.indentSize=o.tabSize|0,this.insertSpaces=Boolean(o.insertSpaces),this.defaultEOL=o.defaultEOL|0,this.trimAutoWhitespace=Boolean(o.trimAutoWhitespace),this.bracketPairColorizationOptions=o.bracketPairColorizationOptions}equals(o){return this.tabSize===o.tabSize&&this.indentSize===o.indentSize&&this.insertSpaces===o.insertSpaces&&this.defaultEOL===o.defaultEOL&&this.trimAutoWhitespace===o.trimAutoWhitespace&&(0,y.equals)(this.bracketPairColorizationOptions,o.bracketPairColorizationOptions)}createChangeEvent(o){return{tabSize:this.tabSize!==o.tabSize,indentSize:this.indentSize!==o.indentSize,insertSpaces:this.insertSpaces!==o.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==o.trimAutoWhitespace}}}e.TextModelResolvedOptions=D;class S{constructor(o,d){this._findMatchBrand=void 0,this.range=o,this.matches=d}}e.FindMatch=S;class p{constructor(o,d){this.visibleColumn=o,this.className=d}}e.IndentGuide=p;class b{constructor(o,d,c,u){this.range=o,this.openingBracketRange=d,this.closingBracketRange=c,this.nestingLevel=u}}e.BracketPair=b;class i{constructor(o,d,c,u,s,n){this.identifier=o,this.range=d,this.text=c,this.forceMoveMarkers=u,this.isAutoWhitespaceEdit=s,this._isTracked=n}}e.ValidAnnotatedEditOperation=i;class f{constructor(o,d,c){this.reverseEdits=o,this.changes=d,this.trimAutoWhitespaceLineNumbers=c}}e.ApplyEditsResult=f}),define(te[85],ie([0,1,8,3]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthHash=e.lengthOfString=e.lengthsToRange=e.positionToLength=e.lengthGreaterThanEqual=e.lengthLessThanEqual=e.lengthLessThan=e.lengthDiffNonNegative=e.lengthAdd=e.lengthGetColumnCountIfZeroLineCount=e.lengthGetLineCount=e.lengthToObj=e.toLength=e.lengthIsZero=e.lengthZero=e.lengthDiff=e.LengthObj=void 0;class T{constructor(g,w){this.lineCount=g,this.columnCount=w}toString(){return`${this.lineCount},${this.columnCount}`}}e.LengthObj=T;function D(h,g,w,_){return h!==w?b(w-h,_):b(0,_-g)}e.lengthDiff=D,e.lengthZero=0;function S(h){return h===0}e.lengthIsZero=S;const p=Math.pow(2,26);function b(h,g){return h*p+g}e.toLength=b;function i(h){const g=h,w=Math.floor(g/p),_=g-w*p;return new T(w,_)}e.lengthToObj=i;function f(h){return Math.floor(h/p)}e.lengthGetLineCount=f;function r(h){return h}e.lengthGetColumnCountIfZeroLineCount=r;function o(h,g){return g<p?h+g:h-h%p+g}e.lengthAdd=o;function d(h,g){const w=h,_=g;if(_-w<=0)return e.lengthZero;const v=Math.floor(w/p),m=Math.floor(_/p),E=_-m*p;if(v===m){const I=w-v*p;return b(0,E-I)}else return b(m-v,E)}e.lengthDiffNonNegative=d;function c(h,g){return h<g}e.lengthLessThan=c;function u(h,g){return h<=g}e.lengthLessThanEqual=u;function s(h,g){return h>=g}e.lengthGreaterThanEqual=s;function n(h){return b(h.lineNumber-1,h.column-1)}e.positionToLength=n;function a(h,g){const w=h,_=Math.floor(w/p),C=w-_*p,v=g,m=Math.floor(v/p),E=v-m*p;return new N.Range(_+1,C+1,m+1,E+1)}e.lengthsToRange=a;function t(h){const g=(0,y.splitLines)(h);return b(g.length-1,g[g.length-1].length)}e.lengthOfString=t;function l(h){return h}e.lengthHash=l}),define(te[228],ie([0,1,85]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class N{constructor(p,b,i){this.startOffset=p,this.endOffset=b,this.newLength=i}}e.TextEditInfo=N;class T{constructor(p,b){this.documentLength=b,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=p.map(i=>D.from(i))}getOffsetBeforeChange(p){return this.adjustNextEdit(p),this.translateCurToOld(p)}getDistanceToNextChange(p){this.adjustNextEdit(p);const b=this.edits[this.nextEditIdx],i=b?this.translateOldToCur(b.offsetObj):this.documentLength;return(0,y.lengthDiffNonNegative)(p,i)}translateOldToCur(p){return p.lineCount===this.deltaLineIdxInOld?(0,y.toLength)(p.lineCount+this.deltaOldToNewLineCount,p.columnCount+this.deltaOldToNewColumnCount):(0,y.toLength)(p.lineCount+this.deltaOldToNewLineCount,p.columnCount)}translateCurToOld(p){const b=(0,y.lengthToObj)(p);return b.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,y.toLength)(b.lineCount-this.deltaOldToNewLineCount,b.columnCount-this.deltaOldToNewColumnCount):(0,y.toLength)(b.lineCount-this.deltaOldToNewLineCount,b.columnCount)}adjustNextEdit(p){for(;this.nextEditIdx<this.edits.length;){const b=this.edits[this.nextEditIdx],i=this.translateOldToCur(b.endOffsetAfterObj);if((0,y.lengthLessThanEqual)(i,p)){this.nextEditIdx++;const f=(0,y.lengthToObj)(i),r=(0,y.lengthToObj)(this.translateOldToCur(b.endOffsetBeforeObj)),o=f.lineCount-r.lineCount;this.deltaOldToNewLineCount+=o;const d=this.deltaLineIdxInOld===b.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,c=f.columnCount-r.columnCount;this.deltaOldToNewColumnCount=d+c,this.deltaLineIdxInOld=b.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=T;class D{constructor(p,b,i){this.endOffsetBeforeObj=(0,y.lengthToObj)(b),this.endOffsetAfterObj=(0,y.lengthToObj)((0,y.lengthAdd)(p,i)),this.offsetObj=(0,y.lengthToObj)(p)}static from(p){return new D(p.startOffset,p.endOffset,p.newLength)}}}),define(te[386],ie([0,1,85]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class N{constructor(p){this.lastOffset=y.lengthZero,this.nextNodes=[p],this.offsets=[y.lengthZero],this.idxs=[]}readLongestNodeAt(p,b){if((0,y.lengthLessThan)(p,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=p;;){const i=D(this.nextNodes);if(!i)return;const f=D(this.offsets);if((0,y.lengthLessThan)(p,f))return;if((0,y.lengthLessThan)(f,p))if((0,y.lengthAdd)(f,i.length)<=p)this.nextNodeAfterCurrent();else{const r=T(i);r!==-1?(this.nextNodes.push(i.getChild(r)),this.offsets.push(f),this.idxs.push(r)):this.nextNodeAfterCurrent()}else{if(b(i))return this.nextNodeAfterCurrent(),i;{const r=T(i);if(r===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(i.getChild(r)),this.offsets.push(f),this.idxs.push(r)}}}}nextNodeAfterCurrent(){for(;;){const p=D(this.offsets),b=D(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const i=D(this.nextNodes),f=T(i,this.idxs[this.idxs.length-1]);if(f!==-1){this.nextNodes.push(i.getChild(f)),this.offsets.push((0,y.lengthAdd)(p,b.length)),this.idxs[this.idxs.length-1]=f;break}else this.idxs.pop()}}}e.NodeReader=N;function T(S,p=-1){for(;;){if(p++,p>=S.childrenLength)return-1;if(S.getChild(p))return p}}function D(S){return S.length>0?S[S.length-1]:void 0}}),define(te[114],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const y=new Array;class N{constructor(S,p){this.items=S,this.additionalItems=p}static create(S,p){if(S<=128&&p.length===0){let b=N.cache[S];return b||(b=new N(S,p),N.cache[S]=b),b}return new N(S,p)}static getEmpty(){return this.empty}add(S,p){const b=p.getKey(S);let i=b>>5;if(i===0){const r=1<<b|this.items;return r===this.items?this:N.create(r,this.additionalItems)}i--;const f=this.additionalItems.slice(0);for(;f.length<i;)f.push(0);return f[i]|=1<<(b&31),N.create(this.items,f)}merge(S){const p=this.items|S.items;if(this.additionalItems===y&&S.additionalItems===y)return p===this.items?this:p===S.items?S:N.create(p,y);const b=new Array;for(let i=0;i<Math.max(this.additionalItems.length,S.additionalItems.length);i++){const f=this.additionalItems[i]||0,r=S.additionalItems[i]||0;b.push(f|r)}return N.create(p,b)}intersects(S){if((this.items&S.items)!=0)return!0;for(let p=0;p<Math.min(this.additionalItems.length,S.additionalItems.length);p++)if((this.additionalItems[p]&S.additionalItems[p])!=0)return!0;return!1}}e.SmallImmutableSet=N,N.cache=new Array(129),N.empty=N.create(0,y),e.identityKeyProvider={getKey(D){return D}};class T{constructor(){this.items=new Map}getKey(S){let p=this.items.get(S);return p===void 0&&(p=this.items.size,this.items.set(S,p)),p}}e.DenseKeyProvider=T}),define(te[138],ie([0,1,114,85]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class T{constructor(n){this._length=n}get length(){return this._length}}class D extends T{constructor(n,a,t,l,h){super(n);this.openingBracket=a,this.child=t,this.closingBracket=l,this.missingOpeningBracketIds=h}static create(n,a,t){let l=n.length;return a&&(l=(0,N.lengthAdd)(l,a.length)),t&&(l=(0,N.lengthAdd)(l,t.length)),new D(l,n,a,t,a?a.missingOpeningBracketIds:y.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(n){switch(n){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const n=new Array;return n.push(this.openingBracket),this.child&&n.push(this.child),this.closingBracket&&n.push(this.closingBracket),n}canBeReused(n,a){return!(this.closingBracket===null||n.intersects(this.missingOpeningBracketIds))}deepClone(){return new D(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}}e.PairAstNode=D;class S extends T{constructor(n,a,t){super(n);this.listHeight=a,this._missingOpeningBracketIds=t}static create23(n,a,t,l=!1){let h=n.length,g=n.missingOpeningBracketIds;if(n.listHeight!==a.listHeight)throw new Error("Invalid list heights");if(h=(0,N.lengthAdd)(h,a.length),g=g.merge(a.missingOpeningBracketIds),t){if(n.listHeight!==t.listHeight)throw new Error("Invalid list heights");h=(0,N.lengthAdd)(h,t.length),g=g.merge(t.missingOpeningBracketIds)}return l?new b(h,n.listHeight+1,n,a,t,g):new p(h,n.listHeight+1,n,a,t,g)}static getEmpty(){return new f(N.lengthZero,0,[],y.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const n=this.childrenLength;if(n===0)return;const a=this.getChild(n-1),t=a.kind===4?a.toMutable():a;return a!==t&&this.setChild(n-1,t),t}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const a=this.getChild(0),t=a.kind===4?a.toMutable():a;return a!==t&&this.setChild(0,t),t}canBeReused(n,a){if(n.intersects(this.missingOpeningBracketIds))return!1;let t=this,l;for(;t.kind===4&&(l=t.childrenLength)>0;)t=t.getChild(l-1);return t.canBeReused(n,a)}handleChildrenChanged(){this.throwIfImmutable();const n=this.childrenLength;let a=this.getChild(0).length,t=this.getChild(0).missingOpeningBracketIds;for(let l=1;l<n;l++){const h=this.getChild(l);a=(0,N.lengthAdd)(a,h.length),t=t.merge(h.missingOpeningBracketIds)}this._length=a,this._missingOpeningBracketIds=t}}e.ListAstNode=S;class p extends S{constructor(n,a,t,l,h,g){super(n,a,g);this._item1=t,this._item2=l,this._item3=h}get childrenLength(){return this._item3!==null?3:2}getChild(n){switch(n){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(n,a){switch(n){case 0:this._item1=a;return;case 1:this._item2=a;return;case 2:this._item3=a;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new p(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(n){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=n,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const n=this._item3;return this._item3=null,this.handleChildrenChanged(),n}prependChildOfSameHeight(n){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=n,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const n=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),n}toMutable(){return this}}class b extends p{toMutable(){return new p(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class i extends S{constructor(n,a,t,l){super(n,a,l);this._children=t}get childrenLength(){return this._children.length}getChild(n){return this._children[n]}setChild(n,a){this._children[n]=a}get children(){return this._children}deepClone(){const n=new Array(this._children.length);for(let a=0;a<this._children.length;a++)n[a]=this._children[a].deepClone();return new i(this.length,this.listHeight,n,this.missingOpeningBracketIds)}appendChildOfSameHeight(n){this.throwIfImmutable(),this._children.push(n),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const n=this._children.pop();return this.handleChildrenChanged(),n}prependChildOfSameHeight(n){this.throwIfImmutable(),this._children.unshift(n),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const n=this._children.shift();return this.handleChildrenChanged(),n}toMutable(){return this}}class f extends i{toMutable(){return new i(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const r=[];class o extends T{get listHeight(){return 0}get childrenLength(){return 0}getChild(n){return null}get children(){return r}deepClone(){return this}}class d extends o{get kind(){return 0}get missingOpeningBracketIds(){return y.SmallImmutableSet.getEmpty()}canBeReused(n,a){return!a}}e.TextAstNode=d;class c extends o{constructor(n){super(n)}static create(n){const a=(0,N.lengthHash)(n),t=c.cacheByLength.get(a);if(t)return t;const l=new c(n);return c.cacheByLength.set(a,l),l}get kind(){return 1}get missingOpeningBracketIds(){return y.SmallImmutableSet.getEmpty()}canBeReused(n,a){return!1}}e.BracketAstNode=c,c.cacheByLength=new Map;class u extends o{constructor(n,a){super(a);this.missingOpeningBracketIds=n}get kind(){return 3}canBeReused(n,a){return!n.intersects(this.missingOpeningBracketIds)}}e.InvalidBracketAstNode=u}),define(te[387],ie([0,1,138]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23TreesOfSameHeight=e.concat23Trees=void 0;function N(i){if(i.length===0)return null;if(i.length===1)return i[0];let f=0;function r(){if(f>=i.length)return null;const u=f,s=i[u].listHeight;for(f++;f<i.length&&i[f].listHeight===s;)f++;return f-u>=2?T(u===0&&f===i.length?i:i.slice(u,f),!1):i[u]}let o=r(),d=r();if(!d)return o;for(let u=r();u;u=r())D(o,d)<=D(d,u)?(o=S(o,d),d=u):d=S(d,u);return S(o,d)}e.concat23Trees=N;function T(i,f=!1){if(i.length===0)return null;if(i.length===1)return i[0];let r=i.length;for(;r>3;){const o=r>>1;for(let d=0;d<o;d++){const c=d<<1;i[d]=y.ListAstNode.create23(i[c],i[c+1],c+3===r?i[c+2]:null,f)}r=o}return y.ListAstNode.create23(i[0],i[1],r>=3?i[2]:null,f)}e.concat23TreesOfSameHeight=T;function D(i,f){return Math.abs(i.listHeight-f.listHeight)}function S(i,f){return i.listHeight===f.listHeight?y.ListAstNode.create23(i,f,null,!1):i.listHeight>f.listHeight?p(i,f):b(f,i)}function p(i,f){i=i.toMutable();let r=i;const o=new Array;let d;for(;;){if(f.listHeight===r.listHeight){d=f;break}if(r.kind!==4)throw new Error("unexpected");o.push(r),r=r.makeLastElementMutable()}for(let c=o.length-1;c>=0;c--){const u=o[c];d?u.childrenLength>=3?d=y.ListAstNode.create23(u.unappendChild(),d,null,!1):(u.appendChildOfSameHeight(d),d=void 0):u.handleChildrenChanged()}return d?y.ListAstNode.create23(i,d,null,!1):i}function b(i,f){i=i.toMutable();let r=i;const o=new Array;for(;f.listHeight!==r.listHeight;){if(r.kind!==4)throw new Error("unexpected");o.push(r),r=r.makeFirstElementMutable()}let d=f;for(let c=o.length-1;c>=0;c--){const u=o[c];d?u.childrenLength>=3?d=y.ListAstNode.create23(d,u.unprependChild(),null,!1):(u.prependChildOfSameHeight(d),d=void 0):u.handleChildrenChanged()}return d?y.ListAstNode.create23(d,i,null,!1):i}}),define(te[388],ie([0,1,138,228,114,85,387,386]),function(q,e,y,N,T,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=void 0;function b(f,r,o,d){return new i(f,r,o,d).parseDocument()}e.parseDocument=b;class i{constructor(r,o,d,c){if(this.tokenizer=r,this.createImmutableLists=c,this._itemsConstructed=0,this._itemsFromCache=0,d&&c)throw new Error("Not supported");this.oldNodeReader=d?new p.NodeReader(d):void 0,this.positionMapper=new N.BeforeEditPositionMapper(o,r.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let r=this.parseList(T.SmallImmutableSet.getEmpty());return r||(r=y.ListAstNode.getEmpty()),r}parseList(r){const o=new Array;for(;;){const c=this.tokenizer.peek();if(!c||c.kind===2&&c.bracketIds.intersects(r))break;const u=this.parseChild(r);u.kind===4&&u.childrenLength===0||o.push(u)}return this.oldNodeReader?(0,S.concat23Trees)(o):(0,S.concat23TreesOfSameHeight)(o,this.createImmutableLists)}parseChild(r){if(this.oldNodeReader){const d=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,D.lengthIsZero)(d)){const c=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),u=>{if(!(0,D.lengthLessThanEqual)(u.length,d))return!1;const s=(0,D.lengthGetLineCount)(u.length)===(0,D.lengthGetLineCount)(d);return u.canBeReused(r,s)});if(c)return this._itemsFromCache++,this.tokenizer.skip(c.length),c}}this._itemsConstructed++;const o=this.tokenizer.read();switch(o.kind){case 2:return new y.InvalidBracketAstNode(o.bracketIds,o.length);case 0:return o.astNode;case 1:const d=r.merge(o.bracketIds),c=this.parseList(d),u=this.tokenizer.peek();return u&&u.kind===2&&(u.bracketId===o.bracketId||u.bracketIds.intersects(o.bracketIds))?(this.tokenizer.read(),y.PairAstNode.create(o.astNode,c,u.astNode)):y.PairAstNode.create(o.astNode,c,null);default:throw new Error("unexpected")}}}}),define(te[389],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class y{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function N(D,S,p,b,i){i.spacesDiff=0,i.looksLikeAlignment=!1;let f;for(f=0;f<S&&f<b;f++){let n=D.charCodeAt(f),a=p.charCodeAt(f);if(n!==a)break}let r=0,o=0;for(let n=f;n<S;n++)D.charCodeAt(n)===32?r++:o++;let d=0,c=0;for(let n=f;n<b;n++)p.charCodeAt(n)===32?d++:c++;if(r>0&&o>0||d>0&&c>0)return;let u=Math.abs(o-c),s=Math.abs(r-d);if(u===0){i.spacesDiff=s,s>0&&0<=d-1&&d-1<D.length&&d<p.length&&p.charCodeAt(d)!==32&&D.charCodeAt(d-1)===32&&D.charCodeAt(D.length-1)===44&&(i.looksLikeAlignment=!0);return}if(s%u==0){i.spacesDiff=s/u;return}}function T(D,S,p){const b=Math.min(D.getLineCount(),1e4);let i=0,f=0,r="",o=0;const d=[2,4,6,8,3,5,7],c=8;let u=[0,0,0,0,0,0,0,0,0],s=new y;for(let t=1;t<=b;t++){let l=D.getLineLength(t),h=D.getLineContent(t);const g=l<=65536;let w=!1,_=0,C=0,v=0;for(let E=0,I=l;E<I;E++){let k=g?h.charCodeAt(E):D.getLineCharCode(t,E);if(k===9)v++;else if(k===32)C++;else{w=!0,_=E;break}}if(!w||(v>0?i++:C>1&&f++,N(r,o,h,_,s),s.looksLikeAlignment&&!(p&&S===s.spacesDiff)))continue;let m=s.spacesDiff;m<=c&&u[m]++,r=h,o=_}let n=p;i!==f&&(n=i<f);let a=S;if(n){let t=n?0:.1*b;d.forEach(l=>{let h=u[l];h>t&&(t=h,a=l)}),a===4&&u[4]>0&&u[2]>0&&u[2]>=u[4]/2&&(a=2)}return{insertSpaces:n,tabSize:a}}e.guessIndentation=T}),define(te[390],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeColor=void 0;function y(M){return(M.metadata&1)>>>0}e.getNodeColor=y;function N(M,R){M.metadata=M.metadata&254|R<<0}function T(M){return(M.metadata&2)>>>1==1}function D(M,R){M.metadata=M.metadata&253|(R?1:0)<<1}function S(M){return(M.metadata&4)>>>2==1}function p(M,R){M.metadata=M.metadata&251|(R?1:0)<<2}function b(M){return(M.metadata&24)>>>3}function i(M,R){M.metadata=M.metadata&231|R<<3}function f(M){return(M.metadata&32)>>>5==1}function r(M,R){M.metadata=M.metadata&223|(R?1:0)<<5}class o{constructor(R,O,L){this.metadata=0,this.parent=this,this.left=this,this.right=this,N(this,1),this.start=O,this.end=L,this.delta=0,this.maxEnd=L,this.id=R,this.ownerId=0,this.options=null,p(this,!1),i(this,1),r(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=O,this.cachedAbsoluteEnd=L,this.range=null,D(this,!1)}reset(R,O,L,B){this.start=O,this.end=L,this.maxEnd=L,this.cachedVersionId=R,this.cachedAbsoluteStart=O,this.cachedAbsoluteEnd=L,this.range=B}setOptions(R){this.options=R;let O=this.options.className;p(this,O==="squiggly-error"||O==="squiggly-warning"||O==="squiggly-info"),i(this,this.options.stickiness),r(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(R,O,L){this.cachedVersionId!==L&&(this.range=null),this.cachedVersionId=L,this.cachedAbsoluteStart=R,this.cachedAbsoluteEnd=O}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=o,e.SENTINEL=new o(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,N(e.SENTINEL,0);class d{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(R,O,L,B,z){return this.root===e.SENTINEL?[]:g(this,R,O,L,B,z)}search(R,O,L){return this.root===e.SENTINEL?[]:h(this,R,O,L)}collectNodesFromOwner(R){return t(this,R)}collectNodesPostOrder(){return l(this)}insert(R){w(this,R),this._normalizeDeltaIfNecessary()}delete(R){C(this,R),this._normalizeDeltaIfNecessary()}resolveNode(R,O){const L=R;let B=0;for(;R!==this.root;)R===R.parent.right&&(B+=R.parent.delta),R=R.parent;const z=L.start+B,$=L.end+B;L.setCachedOffsets(z,$,O)}acceptReplace(R,O,L,B){const z=n(this,R,R+O);for(let $=0,j=z.length;$<j;$++){const X=z[$];C(this,X)}this._normalizeDeltaIfNecessary(),a(this,R,R+O,L),this._normalizeDeltaIfNecessary();for(let $=0,j=z.length;$<j;$++){const X=z[$];X.start=X.cachedAbsoluteStart,X.end=X.cachedAbsoluteEnd,s(X,R,R+O,L,B),X.maxEnd=X.end,w(this,X)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,c(this))}}e.IntervalTree=d;function c(M){let R=M.root,O=0;for(;R!==e.SENTINEL;){if(R.left!==e.SENTINEL&&!T(R.left)){R=R.left;continue}if(R.right!==e.SENTINEL&&!T(R.right)){O+=R.delta,R=R.right;continue}R.start=O+R.start,R.end=O+R.end,R.delta=0,A(R),D(R,!0),D(R.left,!1),D(R.right,!1),R===R.parent.right&&(O-=R.parent.delta),R=R.parent}D(M.root,!1)}function u(M,R,O,L){return M<O?!0:M>O||L===1?!1:L===2?!0:R}function s(M,R,O,L,B){const z=b(M),$=z===0||z===2,j=z===1||z===2,X=O-R,Q=L,Y=Math.min(X,Q),oe=M.start;let se=!1;const K=M.end;let x=!1;R<=oe&&K<=O&&f(M)&&(M.start=R,se=!0,M.end=R,x=!0);{const H=B?1:X>0?2:0;!se&&u(oe,$,R,H)&&(se=!0),!x&&u(K,j,R,H)&&(x=!0)}if(Y>0&&!B){const H=X>Q?2:0;!se&&u(oe,$,R+Y,H)&&(se=!0),!x&&u(K,j,R+Y,H)&&(x=!0)}{const H=B?1:0;!se&&u(oe,$,O,H)&&(M.start=R+Q,se=!0),!x&&u(K,j,O,H)&&(M.end=R+Q,x=!0)}const U=Q-X;se||(M.start=Math.max(0,oe+U)),x||(M.end=Math.max(0,K+U)),M.start>M.end&&(M.end=M.start)}e.nodeAcceptEdit=s;function n(M,R,O){let L=M.root,B=0,z=0,$=0,j=0,X=[],Q=0;for(;L!==e.SENTINEL;){if(T(L)){D(L.left,!1),D(L.right,!1),L===L.parent.right&&(B-=L.parent.delta),L=L.parent;continue}if(!T(L.left)){if(z=B+L.maxEnd,z<R){D(L,!0);continue}if(L.left!==e.SENTINEL){L=L.left;continue}}if($=B+L.start,$>O){D(L,!0);continue}if(j=B+L.end,j>=R&&(L.setCachedOffsets($,j,0),X[Q++]=L),D(L,!0),L.right!==e.SENTINEL&&!T(L.right)){B+=L.delta,L=L.right;continue}}return D(M.root,!1),X}function a(M,R,O,L){let B=M.root,z=0,$=0,j=0;const X=L-(O-R);for(;B!==e.SENTINEL;){if(T(B)){D(B.left,!1),D(B.right,!1),B===B.parent.right&&(z-=B.parent.delta),A(B),B=B.parent;continue}if(!T(B.left)){if($=z+B.maxEnd,$<R){D(B,!0);continue}if(B.left!==e.SENTINEL){B=B.left;continue}}if(j=z+B.start,j>O){B.start+=X,B.end+=X,B.delta+=X,(B.delta<-1073741824||B.delta>1073741824)&&(M.requestNormalizeDelta=!0),D(B,!0);continue}if(D(B,!0),B.right!==e.SENTINEL&&!T(B.right)){z+=B.delta,B=B.right;continue}}D(M.root,!1)}function t(M,R){let O=M.root,L=[],B=0;for(;O!==e.SENTINEL;){if(T(O)){D(O.left,!1),D(O.right,!1),O=O.parent;continue}if(O.left!==e.SENTINEL&&!T(O.left)){O=O.left;continue}if(O.ownerId===R&&(L[B++]=O),D(O,!0),O.right!==e.SENTINEL&&!T(O.right)){O=O.right;continue}}return D(M.root,!1),L}function l(M){let R=M.root,O=[],L=0;for(;R!==e.SENTINEL;){if(T(R)){D(R.left,!1),D(R.right,!1),R=R.parent;continue}if(R.left!==e.SENTINEL&&!T(R.left)){R=R.left;continue}if(R.right!==e.SENTINEL&&!T(R.right)){R=R.right;continue}O[L++]=R,D(R,!0)}return D(M.root,!1),O}function h(M,R,O,L){let B=M.root,z=0,$=0,j=0,X=[],Q=0;for(;B!==e.SENTINEL;){if(T(B)){D(B.left,!1),D(B.right,!1),B===B.parent.right&&(z-=B.parent.delta),B=B.parent;continue}if(B.left!==e.SENTINEL&&!T(B.left)){B=B.left;continue}$=z+B.start,j=z+B.end,B.setCachedOffsets($,j,L);let Y=!0;if(R&&B.ownerId&&B.ownerId!==R&&(Y=!1),O&&S(B)&&(Y=!1),Y&&(X[Q++]=B),D(B,!0),B.right!==e.SENTINEL&&!T(B.right)){z+=B.delta,B=B.right;continue}}return D(M.root,!1),X}function g(M,R,O,L,B,z){let $=M.root,j=0,X=0,Q=0,Y=0,oe=[],se=0;for(;$!==e.SENTINEL;){if(T($)){D($.left,!1),D($.right,!1),$===$.parent.right&&(j-=$.parent.delta),$=$.parent;continue}if(!T($.left)){if(X=j+$.maxEnd,X<R){D($,!0);continue}if($.left!==e.SENTINEL){$=$.left;continue}}if(Q=j+$.start,Q>O){D($,!0);continue}if(Y=j+$.end,Y>=R){$.setCachedOffsets(Q,Y,z);let K=!0;L&&$.ownerId&&$.ownerId!==L&&(K=!1),B&&S($)&&(K=!1),K&&(oe[se++]=$)}if(D($,!0),$.right!==e.SENTINEL&&!T($.right)){j+=$.delta,$=$.right;continue}}return D(M.root,!1),oe}function w(M,R){if(M.root===e.SENTINEL)return R.parent=e.SENTINEL,R.left=e.SENTINEL,R.right=e.SENTINEL,N(R,0),M.root=R,M.root;_(M,R),P(R.parent);let O=R;for(;O!==M.root&&y(O.parent)===1;)if(O.parent===O.parent.parent.left){const L=O.parent.parent.right;y(L)===1?(N(O.parent,0),N(L,0),N(O.parent.parent,1),O=O.parent.parent):(O===O.parent.right&&(O=O.parent,E(M,O)),N(O.parent,0),N(O.parent.parent,1),I(M,O.parent.parent))}else{const L=O.parent.parent.left;y(L)===1?(N(O.parent,0),N(L,0),N(O.parent.parent,1),O=O.parent.parent):(O===O.parent.left&&(O=O.parent,I(M,O)),N(O.parent,0),N(O.parent.parent,1),E(M,O.parent.parent))}return N(M.root,0),R}function _(M,R){let O=0,L=M.root;const B=R.start,z=R.end;for(;;)if(F(B,z,L.start+O,L.end+O)<0)if(L.left===e.SENTINEL){R.start-=O,R.end-=O,R.maxEnd-=O,L.left=R;break}else L=L.left;else if(L.right===e.SENTINEL){R.start-=O+L.delta,R.end-=O+L.delta,R.maxEnd-=O+L.delta,L.right=R;break}else O+=L.delta,L=L.right;R.parent=L,R.left=e.SENTINEL,R.right=e.SENTINEL,N(R,1)}function C(M,R){let O,L;if(R.left===e.SENTINEL?(O=R.right,L=R,O.delta+=R.delta,(O.delta<-1073741824||O.delta>1073741824)&&(M.requestNormalizeDelta=!0),O.start+=R.delta,O.end+=R.delta):R.right===e.SENTINEL?(O=R.left,L=R):(L=v(R.right),O=L.right,O.start+=L.delta,O.end+=L.delta,O.delta+=L.delta,(O.delta<-1073741824||O.delta>1073741824)&&(M.requestNormalizeDelta=!0),L.start+=R.delta,L.end+=R.delta,L.delta=R.delta,(L.delta<-1073741824||L.delta>1073741824)&&(M.requestNormalizeDelta=!0)),L===M.root){M.root=O,N(O,0),R.detach(),m(),A(O),M.root.parent=e.SENTINEL;return}let B=y(L)===1;if(L===L.parent.left?L.parent.left=O:L.parent.right=O,L===R?O.parent=L.parent:(L.parent===R?O.parent=L:O.parent=L.parent,L.left=R.left,L.right=R.right,L.parent=R.parent,N(L,y(R)),R===M.root?M.root=L:R===R.parent.left?R.parent.left=L:R.parent.right=L,L.left!==e.SENTINEL&&(L.left.parent=L),L.right!==e.SENTINEL&&(L.right.parent=L)),R.detach(),B){P(O.parent),L!==R&&(P(L),P(L.parent)),m();return}P(O),P(O.parent),L!==R&&(P(L),P(L.parent));let z;for(;O!==M.root&&y(O)===0;)O===O.parent.left?(z=O.parent.right,y(z)===1&&(N(z,0),N(O.parent,1),E(M,O.parent),z=O.parent.right),y(z.left)===0&&y(z.right)===0?(N(z,1),O=O.parent):(y(z.right)===0&&(N(z.left,0),N(z,1),I(M,z),z=O.parent.right),N(z,y(O.parent)),N(O.parent,0),N(z.right,0),E(M,O.parent),O=M.root)):(z=O.parent.left,y(z)===1&&(N(z,0),N(O.parent,1),I(M,O.parent),z=O.parent.left),y(z.left)===0&&y(z.right)===0?(N(z,1),O=O.parent):(y(z.left)===0&&(N(z.right,0),N(z,1),E(M,z),z=O.parent.left),N(z,y(O.parent)),N(O.parent,0),N(z.left,0),I(M,O.parent),O=M.root));N(O,0),m()}function v(M){for(;M.left!==e.SENTINEL;)M=M.left;return M}function m(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function E(M,R){const O=R.right;O.delta+=R.delta,(O.delta<-1073741824||O.delta>1073741824)&&(M.requestNormalizeDelta=!0),O.start+=R.delta,O.end+=R.delta,R.right=O.left,O.left!==e.SENTINEL&&(O.left.parent=R),O.parent=R.parent,R.parent===e.SENTINEL?M.root=O:R===R.parent.left?R.parent.left=O:R.parent.right=O,O.left=R,R.parent=O,A(R),A(O)}function I(M,R){const O=R.left;R.delta-=O.delta,(R.delta<-1073741824||R.delta>1073741824)&&(M.requestNormalizeDelta=!0),R.start-=O.delta,R.end-=O.delta,R.left=O.right,O.right!==e.SENTINEL&&(O.right.parent=R),O.parent=R.parent,R.parent===e.SENTINEL?M.root=O:R===R.parent.right?R.parent.right=O:R.parent.left=O,O.right=R,R.parent=O,A(R),A(O)}function k(M){let R=M.end;if(M.left!==e.SENTINEL){const O=M.left.maxEnd;O>R&&(R=O)}if(M.right!==e.SENTINEL){const O=M.right.maxEnd+M.delta;O>R&&(R=O)}return R}function A(M){M.maxEnd=k(M)}e.recomputeMaxEnd=A;function P(M){for(;M!==e.SENTINEL;){const R=k(M);if(M.maxEnd===R)return;M.maxEnd=R,M=M.parent}}function F(M,R,O,L){return M===O?R-L:M-O}e.intervalCompare=F}),define(te[391],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.resetSentinel=e.calculateLF=e.calculateSize=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class y{constructor(u,s){this.piece=u,this.color=s,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return N(this.right);let u=this;for(;u.parent!==e.SENTINEL&&u.parent.left!==u;)u=u.parent;return u.parent===e.SENTINEL?e.SENTINEL:u.parent}prev(){if(this.left!==e.SENTINEL)return T(this.left);let u=this;for(;u.parent!==e.SENTINEL&&u.parent.right!==u;)u=u.parent;return u.parent===e.SENTINEL?e.SENTINEL:u.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=y,e.SENTINEL=new y(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function N(c){for(;c.left!==e.SENTINEL;)c=c.left;return c}e.leftest=N;function T(c){for(;c.right!==e.SENTINEL;)c=c.right;return c}e.righttest=T;function D(c){return c===e.SENTINEL?0:c.size_left+c.piece.length+D(c.right)}e.calculateSize=D;function S(c){return c===e.SENTINEL?0:c.lf_left+c.piece.lineFeedCnt+S(c.right)}e.calculateLF=S;function p(){e.SENTINEL.parent=e.SENTINEL}e.resetSentinel=p;function b(c,u){let s=u.right;s.size_left+=u.size_left+(u.piece?u.piece.length:0),s.lf_left+=u.lf_left+(u.piece?u.piece.lineFeedCnt:0),u.right=s.left,s.left!==e.SENTINEL&&(s.left.parent=u),s.parent=u.parent,u.parent===e.SENTINEL?c.root=s:u.parent.left===u?u.parent.left=s:u.parent.right=s,s.left=u,u.parent=s}e.leftRotate=b;function i(c,u){let s=u.left;u.left=s.right,s.right!==e.SENTINEL&&(s.right.parent=u),s.parent=u.parent,u.size_left-=s.size_left+(s.piece?s.piece.length:0),u.lf_left-=s.lf_left+(s.piece?s.piece.lineFeedCnt:0),u.parent===e.SENTINEL?c.root=s:u===u.parent.right?u.parent.right=s:u.parent.left=s,s.right=u,u.parent=s}e.rightRotate=i;function f(c,u){let s,n;if(u.left===e.SENTINEL?(n=u,s=n.right):u.right===e.SENTINEL?(n=u,s=n.left):(n=N(u.right),s=n.right),n===c.root){c.root=s,s.color=0,u.detach(),p(),c.root.parent=e.SENTINEL;return}let a=n.color===1;if(n===n.parent.left?n.parent.left=s:n.parent.right=s,n===u?(s.parent=n.parent,d(c,s)):(n.parent===u?s.parent=n:s.parent=n.parent,d(c,s),n.left=u.left,n.right=u.right,n.parent=u.parent,n.color=u.color,u===c.root?c.root=n:u===u.parent.left?u.parent.left=n:u.parent.right=n,n.left!==e.SENTINEL&&(n.left.parent=n),n.right!==e.SENTINEL&&(n.right.parent=n),n.size_left=u.size_left,n.lf_left=u.lf_left,d(c,n)),u.detach(),s.parent.left===s){let l=D(s),h=S(s);if(l!==s.parent.size_left||h!==s.parent.lf_left){let g=l-s.parent.size_left,w=h-s.parent.lf_left;s.parent.size_left=l,s.parent.lf_left=h,o(c,s.parent,g,w)}}if(d(c,s.parent),a){p();return}let t;for(;s!==c.root&&s.color===0;)s===s.parent.left?(t=s.parent.right,t.color===1&&(t.color=0,s.parent.color=1,b(c,s.parent),t=s.parent.right),t.left.color===0&&t.right.color===0?(t.color=1,s=s.parent):(t.right.color===0&&(t.left.color=0,t.color=1,i(c,t),t=s.parent.right),t.color=s.parent.color,s.parent.color=0,t.right.color=0,b(c,s.parent),s=c.root)):(t=s.parent.left,t.color===1&&(t.color=0,s.parent.color=1,i(c,s.parent),t=s.parent.left),t.left.color===0&&t.right.color===0?(t.color=1,s=s.parent):(t.left.color===0&&(t.right.color=0,t.color=1,b(c,t),t=s.parent.left),t.color=s.parent.color,s.parent.color=0,t.left.color=0,i(c,s.parent),s=c.root));s.color=0,p()}e.rbDelete=f;function r(c,u){for(d(c,u);u!==c.root&&u.parent.color===1;)if(u.parent===u.parent.parent.left){const s=u.parent.parent.right;s.color===1?(u.parent.color=0,s.color=0,u.parent.parent.color=1,u=u.parent.parent):(u===u.parent.right&&(u=u.parent,b(c,u)),u.parent.color=0,u.parent.parent.color=1,i(c,u.parent.parent))}else{const s=u.parent.parent.left;s.color===1?(u.parent.color=0,s.color=0,u.parent.parent.color=1,u=u.parent.parent):(u===u.parent.left&&(u=u.parent,i(c,u)),u.parent.color=0,u.parent.parent.color=1,b(c,u.parent.parent))}c.root.color=0}e.fixInsert=r;function o(c,u,s,n){for(;u!==c.root&&u!==e.SENTINEL;)u.parent.left===u&&(u.parent.size_left+=s,u.parent.lf_left+=n),u=u.parent}e.updateTreeMetadata=o;function d(c,u){let s=0,n=0;if(u!==c.root){if(s===0){for(;u!==c.root&&u===u.parent.right;)u=u.parent;if(u===c.root)return;u=u.parent,s=D(u.left)-u.size_left,n=S(u.left)-u.lf_left,u.size_left+=s,u.lf_left+=n}for(;u!==c.root&&(s!==0||n!==0);)u.parent.left===u&&(u.parent.size_left+=s,u.parent.lf_left+=n),u=u.parent}}e.recomputeTreeMetadata=d}),define(te[229],ie([0,1,104,84]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function T(b){return b.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class D{constructor(i,f,r,o){this.oldPosition=i,this.oldText=f,this.newPosition=r,this.newText=o}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${T(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${T(this.oldText)}")`:`(replace@${this.oldPosition} "${T(this.oldText)}" with "${T(this.newText)}")`}static _writeStringSize(i){return 4+2*i.length}static _writeString(i,f,r){const o=f.length;y.writeUInt32BE(i,o,r),r+=4;for(let d=0;d<o;d++)y.writeUInt16LE(i,f.charCodeAt(d),r),r+=2;return r}static _readString(i,f){const r=y.readUInt32BE(i,f);return f+=4,(0,N.decodeUTF16LE)(i,f,r)}writeSize(){return 4+4+D._writeStringSize(this.oldText)+D._writeStringSize(this.newText)}write(i,f){return y.writeUInt32BE(i,this.oldPosition,f),f+=4,y.writeUInt32BE(i,this.newPosition,f),f+=4,f=D._writeString(i,this.oldText,f),f=D._writeString(i,this.newText,f),f}static read(i,f,r){const o=y.readUInt32BE(i,f);f+=4;const d=y.readUInt32BE(i,f);f+=4;const c=D._readString(i,f);f+=D._writeStringSize(c);const u=D._readString(i,f);return f+=D._writeStringSize(u),r.push(new D(o,c,d,u)),f}}e.TextChange=D;function S(b,i){return b===null||b.length===0?i:new p(b,i).compress()}e.compressConsecutiveTextChanges=S;class p{constructor(i,f){this._prevEdits=i,this._currEdits=f,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let i=0,f=0,r=this._getPrev(i),o=this._getCurr(f);for(;i<this._prevLen||f<this._currLen;){if(r===null){this._acceptCurr(o),o=this._getCurr(++f);continue}if(o===null){this._acceptPrev(r),r=this._getPrev(++i);continue}if(o.oldEnd<=r.newPosition){this._acceptCurr(o),o=this._getCurr(++f);continue}if(r.newEnd<=o.oldPosition){this._acceptPrev(r),r=this._getPrev(++i);continue}if(o.oldPosition<r.newPosition){const[n,a]=p._splitCurr(o,r.newPosition-o.oldPosition);this._acceptCurr(n),o=a;continue}if(r.newPosition<o.oldPosition){const[n,a]=p._splitPrev(r,o.oldPosition-r.newPosition);this._acceptPrev(n),r=a;continue}let u,s;if(o.oldEnd===r.newEnd)u=r,s=o,r=this._getPrev(++i),o=this._getCurr(++f);else if(o.oldEnd<r.newEnd){const[n,a]=p._splitPrev(r,o.oldLength);u=n,s=o,r=a,o=this._getCurr(++f)}else{const[n,a]=p._splitCurr(o,r.newLength);u=r,s=n,r=this._getPrev(++i),o=a}this._result[this._resultLen++]=new D(u.oldPosition,u.oldText,s.newPosition,s.newText),this._prevDeltaOffset+=u.newLength-u.oldLength,this._currDeltaOffset+=s.newLength-s.oldLength}const d=p._merge(this._result);return p._removeNoOps(d)}_acceptCurr(i){this._result[this._resultLen++]=p._rebaseCurr(this._prevDeltaOffset,i),this._currDeltaOffset+=i.newLength-i.oldLength}_getCurr(i){return i<this._currLen?this._currEdits[i]:null}_acceptPrev(i){this._result[this._resultLen++]=p._rebasePrev(this._currDeltaOffset,i),this._prevDeltaOffset+=i.newLength-i.oldLength}_getPrev(i){return i<this._prevLen?this._prevEdits[i]:null}static _rebaseCurr(i,f){return new D(f.oldPosition-i,f.oldText,f.newPosition,f.newText)}static _rebasePrev(i,f){return new D(f.oldPosition,f.oldText,f.newPosition+i,f.newText)}static _splitPrev(i,f){const r=i.newText.substr(0,f),o=i.newText.substr(f);return[new D(i.oldPosition,i.oldText,i.newPosition,r),new D(i.oldEnd,"",i.newPosition+f,o)]}static _splitCurr(i,f){const r=i.oldText.substr(0,f),o=i.oldText.substr(f);return[new D(i.oldPosition,r,i.newPosition,i.newText),new D(i.oldPosition+f,o,i.newEnd,"")]}static _merge(i){if(i.length===0)return i;let f=[],r=0,o=i[0];for(let d=1;d<i.length;d++){const c=i[d];o.oldEnd===c.oldPosition?o=new D(o.oldPosition,o.oldText+c.oldText,o.newPosition,o.newText+c.newText):(f[r++]=o,o=c)}return f[r++]=o,f}static _removeNoOps(i){if(i.length===0)return i;let f=[],r=0;for(let o=0;o<i.length;o++){const d=i[o];d.oldText!==d.newText&&(f[r++]=d)}return f}}}),define(te[97],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class y{constructor(){this.changeType=1}}e.ModelRawFlush=y;class N{constructor(o,d,c,u,s){this.ownerId=o,this.lineNumber=d,this.column=c,this.options=u,this.order=s}static applyInjectedText(o,d){if(!d||d.length===0)return o;let c="",u=0;for(const s of d)c+=o.substring(u,s.column-1),u=s.column-1,c+=s.options.content;return c+=o.substring(u),c}static fromDecorations(o){const d=[];for(const c of o)c.options.before&&c.options.before.content.length>0&&d.push(new N(c.ownerId,c.range.startLineNumber,c.range.startColumn,c.options.before,0)),c.options.after&&c.options.after.content.length>0&&d.push(new N(c.ownerId,c.range.endLineNumber,c.range.endColumn,c.options.after,1));return d.sort((c,u)=>c.lineNumber===u.lineNumber?c.column===u.column?c.order-u.order:c.column-u.column:c.lineNumber-u.lineNumber),d}}e.LineInjectedText=N;class T{constructor(o,d,c){this.changeType=2,this.lineNumber=o,this.detail=d,this.injectedText=c}}e.ModelRawLineChanged=T;class D{constructor(o,d){this.changeType=3,this.fromLineNumber=o,this.toLineNumber=d}}e.ModelRawLinesDeleted=D;class S{constructor(o,d,c,u){this.changeType=4,this.injectedTexts=u,this.fromLineNumber=o,this.toLineNumber=d,this.detail=c}}e.ModelRawLinesInserted=S;class p{constructor(){this.changeType=5}}e.ModelRawEOLChanged=p;class b{constructor(o,d,c,u){this.changes=o,this.versionId=d,this.isUndoing=c,this.isRedoing=u,this.resultingSelection=null}containsEvent(o){for(let d=0,c=this.changes.length;d<c;d++)if(this.changes[d].changeType===o)return!0;return!1}static merge(o,d){const c=[].concat(o.changes).concat(d.changes),u=d.versionId,s=o.isUndoing||d.isUndoing,n=o.isRedoing||d.isRedoing;return new b(c,u,s,n)}}e.ModelRawContentChangedEvent=b;class i{constructor(o){this.changes=o}}e.ModelInjectedTextChangedEvent=i;class f{constructor(o,d){this.rawContentChangedEvent=o,this.contentChangedEvent=d}merge(o){const d=b.merge(this.rawContentChangedEvent,o.rawContentChangedEvent),c=f._mergeChangeEvents(this.contentChangedEvent,o.contentChangedEvent);return new f(d,c)}static _mergeChangeEvents(o,d){const c=[].concat(o.changes).concat(d.changes),u=d.eol,s=d.versionId,n=o.isUndoing||d.isUndoing,a=o.isRedoing||d.isRedoing,t=o.isFlush||d.isFlush;return{changes:c,eol:u,versionId:s,isUndoing:n,isRedoing:a,isFlush:t}}}e.InternalModelContentChangeEvent=f}),define(te[174],ie([0,1,8,111,13,3,49]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.SearchData=e.isMultilineRegexSource=e.SearchParams=void 0;const p=999;class b{constructor(t,l,h,g){this.searchString=t,this.isRegex=l,this.matchCase=h,this.wordSeparators=g}parseSearchRequest(){if(this.searchString==="")return null;let t;this.isRegex?t=i(this.searchString):t=this.searchString.indexOf(`
`)>=0;let l=null;try{l=y.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:t,global:!0,unicode:!0})}catch(g){return null}if(!l)return null;let h=!this.isRegex&&!t;return h&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(h=this.matchCase),new f(l,this.wordSeparators?(0,N.getMapForWordSeparators)(this.wordSeparators):null,h?this.searchString:null)}}e.SearchParams=b;function i(a){if(!a||a.length===0)return!1;for(let t=0,l=a.length;t<l;t++)if(a.charCodeAt(t)===92){if(t++,t>=l)break;const g=a.charCodeAt(t);if(g===110||g===114||g===87)return!0}return!1}e.isMultilineRegexSource=i;class f{constructor(t,l,h){this.regex=t,this.wordSeparators=l,this.simpleSearch=h}}e.SearchData=f;function r(a,t,l){if(!l)return new S.FindMatch(a,null);let h=[];for(let g=0,w=t.length;g<w;g++)h[g]=t[g];return new S.FindMatch(a,h)}e.createFindMatch=r;class o{constructor(t){let l=[],h=0;for(let g=0,w=t.length;g<w;g++)t.charCodeAt(g)===10&&(l[h++]=g);this._lineFeedsOffsets=l}findLineFeedCountBeforeOffset(t){const l=this._lineFeedsOffsets;let h=0,g=l.length-1;if(g===-1||t<=l[0])return 0;for(;h<g;){const w=h+((g-h)/2>>0);l[w]>=t?g=w-1:l[w+1]>=t?(h=w,g=w):h=w+1}return h+1}}class d{static findMatches(t,l,h,g,w){const _=l.parseSearchRequest();return _?_.regex.multiline?this._doFindMatchesMultiline(t,h,new n(_.wordSeparators,_.regex),g,w):this._doFindMatchesLineByLine(t,h,_,g,w):[]}static _getMultilineMatchRange(t,l,h,g,w,_){let C,v=0;g?(v=g.findLineFeedCountBeforeOffset(w),C=l+w+v):C=l+w;let m;if(g){let A=g.findLineFeedCountBeforeOffset(w+_.length)-v;m=C+_.length+A}else m=C+_.length;const E=t.getPositionAt(C),I=t.getPositionAt(m);return new D.Range(E.lineNumber,E.column,I.lineNumber,I.column)}static _doFindMatchesMultiline(t,l,h,g,w){const _=t.getOffsetAt(l.getStartPosition()),C=t.getValueInRange(l,1),v=t.getEOL()===`\r
`?new o(C):null,m=[];let E=0,I;for(h.reset(0);I=h.next(C);)if(m[E++]=r(this._getMultilineMatchRange(t,_,C,v,I.index,I[0]),I,g),E>=w)return m;return m}static _doFindMatchesLineByLine(t,l,h,g,w){const _=[];let C=0;if(l.startLineNumber===l.endLineNumber){const m=t.getLineContent(l.startLineNumber).substring(l.startColumn-1,l.endColumn-1);return C=this._findMatchesInLine(h,m,l.startLineNumber,l.startColumn-1,C,_,g,w),_}const v=t.getLineContent(l.startLineNumber).substring(l.startColumn-1);C=this._findMatchesInLine(h,v,l.startLineNumber,l.startColumn-1,C,_,g,w);for(let m=l.startLineNumber+1;m<l.endLineNumber&&C<w;m++)C=this._findMatchesInLine(h,t.getLineContent(m),m,0,C,_,g,w);if(C<w){const m=t.getLineContent(l.endLineNumber).substring(0,l.endColumn-1);C=this._findMatchesInLine(h,m,l.endLineNumber,0,C,_,g,w)}return _}static _findMatchesInLine(t,l,h,g,w,_,C,v){const m=t.wordSeparators;if(!C&&t.simpleSearch){const k=t.simpleSearch,A=k.length,P=l.length;let F=-A;for(;(F=l.indexOf(k,F+A))!==-1;)if((!m||s(m,l,P,F,A))&&(_[w++]=new S.FindMatch(new D.Range(h,F+1+g,h,F+1+A+g),null),w>=v))return w;return w}const E=new n(t.wordSeparators,t.regex);let I;E.reset(0);do if(I=E.next(l),I&&(_[w++]=r(new D.Range(h,I.index+1+g,h,I.index+1+I[0].length+g),I,C),w>=v))return w;while(I);return w}static findNextMatch(t,l,h,g){const w=l.parseSearchRequest();if(!w)return null;const _=new n(w.wordSeparators,w.regex);return w.regex.multiline?this._doFindNextMatchMultiline(t,h,_,g):this._doFindNextMatchLineByLine(t,h,_,g)}static _doFindNextMatchMultiline(t,l,h,g){const w=new T.Position(l.lineNumber,1),_=t.getOffsetAt(w),C=t.getLineCount(),v=t.getValueInRange(new D.Range(w.lineNumber,w.column,C,t.getLineMaxColumn(C)),1),m=t.getEOL()===`\r
`?new o(v):null;h.reset(l.column-1);let E=h.next(v);return E?r(this._getMultilineMatchRange(t,_,v,m,E.index,E[0]),E,g):l.lineNumber!==1||l.column!==1?this._doFindNextMatchMultiline(t,new T.Position(1,1),h,g):null}static _doFindNextMatchLineByLine(t,l,h,g){const w=t.getLineCount(),_=l.lineNumber,C=t.getLineContent(_),v=this._findFirstMatchInLine(h,C,_,l.column,g);if(v)return v;for(let m=1;m<=w;m++){const E=(_+m-1)%w,I=t.getLineContent(E+1),k=this._findFirstMatchInLine(h,I,E+1,1,g);if(k)return k}return null}static _findFirstMatchInLine(t,l,h,g,w){t.reset(g-1);const _=t.next(l);return _?r(new D.Range(h,_.index+1,h,_.index+1+_[0].length),_,w):null}static findPreviousMatch(t,l,h,g){const w=l.parseSearchRequest();if(!w)return null;const _=new n(w.wordSeparators,w.regex);return w.regex.multiline?this._doFindPreviousMatchMultiline(t,h,_,g):this._doFindPreviousMatchLineByLine(t,h,_,g)}static _doFindPreviousMatchMultiline(t,l,h,g){const w=this._doFindMatchesMultiline(t,new D.Range(1,1,l.lineNumber,l.column),h,g,10*p);if(w.length>0)return w[w.length-1];const _=t.getLineCount();return l.lineNumber!==_||l.column!==t.getLineMaxColumn(_)?this._doFindPreviousMatchMultiline(t,new T.Position(_,t.getLineMaxColumn(_)),h,g):null}static _doFindPreviousMatchLineByLine(t,l,h,g){const w=t.getLineCount(),_=l.lineNumber,C=t.getLineContent(_).substring(0,l.column-1),v=this._findLastMatchInLine(h,C,_,g);if(v)return v;for(let m=1;m<=w;m++){const E=(w+_-m-1)%w,I=t.getLineContent(E+1),k=this._findLastMatchInLine(h,I,E+1,g);if(k)return k}return null}static _findLastMatchInLine(t,l,h,g){let w=null,_;for(t.reset(0);_=t.next(l);)w=r(new D.Range(h,_.index+1,h,_.index+1+_[0].length),_,g);return w}}e.TextModelSearch=d;function c(a,t,l,h,g){if(h===0)return!0;const w=t.charCodeAt(h-1);if(a.get(w)!==0||w===13||w===10)return!0;if(g>0){const _=t.charCodeAt(h);if(a.get(_)!==0)return!0}return!1}function u(a,t,l,h,g){if(h+g===l)return!0;const w=t.charCodeAt(h+g);if(a.get(w)!==0||w===13||w===10)return!0;if(g>0){const _=t.charCodeAt(h+g-1);if(a.get(_)!==0)return!0}return!1}function s(a,t,l,h,g){return c(a,t,l,h,g)&&u(a,t,l,h,g)}e.isValidMatch=s;class n{constructor(t,l){this._wordSeparators=t,this._searchRegex=l,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(t){this._searchRegex.lastIndex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(t){const l=t.length;let h;do{if(this._prevMatchStartIndex+this._prevMatchLength===l||(h=this._searchRegex.exec(t),!h))return null;const g=h.index,w=h[0].length;if(g===this._prevMatchStartIndex&&w===this._prevMatchLength){if(w===0){y.getNextCodePoint(t,l,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=g,this._prevMatchLength=w,!this._wordSeparators||s(this._wordSeparators,t,l,g,w))return h}while(h);return null}}e.Searcher=n}),define(te[230],ie([0,1,13,3,49,391,174]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=e.LineStarts=e.createUintArray=e.AverageBufferSize=void 0,e.AverageBufferSize=65535;function p(s){let n;return s[s.length-1]<65536?n=new Uint16Array(s.length):n=new Uint32Array(s.length),n.set(s,0),n}e.createUintArray=p;class b{constructor(n,a,t,l,h){this.lineStarts=n,this.cr=a,this.lf=t,this.crlf=l,this.isBasicASCII=h}}e.LineStarts=b;function i(s,n=!0){let a=[0],t=1;for(let l=0,h=s.length;l<h;l++){const g=s.charCodeAt(l);g===13?l+1<h&&s.charCodeAt(l+1)===10?(a[t++]=l+2,l++):a[t++]=l+1:g===10&&(a[t++]=l+1)}return n?p(a):a}e.createLineStartsFast=i;function f(s,n){s.length=0,s[0]=0;let a=1,t=0,l=0,h=0,g=!0;for(let _=0,C=n.length;_<C;_++){const v=n.charCodeAt(_);v===13?_+1<C&&n.charCodeAt(_+1)===10?(h++,s[a++]=_+2,_++):(t++,s[a++]=_+1):v===10?(l++,s[a++]=_+1):g&&v!==9&&(v<32||v>126)&&(g=!1)}const w=new b(p(s),t,l,h,g);return s.length=0,w}e.createLineStarts=f;class r{constructor(n,a,t,l,h){this.bufferIndex=n,this.start=a,this.end=t,this.lineFeedCnt=l,this.length=h}}e.Piece=r;class o{constructor(n,a){this.buffer=n,this.lineStarts=a}}e.StringBuffer=o;class d{constructor(n,a){this._pieces=[],this._tree=n,this._BOM=a,this._index=0,n.root!==D.SENTINEL&&n.iterate(n.root,t=>(t!==D.SENTINEL&&this._pieces.push(t.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class c{constructor(n){this._limit=n,this._cache=[]}get(n){for(let a=this._cache.length-1;a>=0;a--){let t=this._cache[a];if(t.nodeStartOffset<=n&&t.nodeStartOffset+t.node.piece.length>=n)return t}return null}get2(n){for(let a=this._cache.length-1;a>=0;a--){let t=this._cache[a];if(t.nodeStartLineNumber&&t.nodeStartLineNumber<n&&t.nodeStartLineNumber+t.node.piece.lineFeedCnt>=n)return t}return null}set(n){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(n)}validate(n){let a=!1,t=this._cache;for(let l=0;l<t.length;l++){let h=t[l];if(h.node.parent===null||h.nodeStartOffset>=n){t[l]=null,a=!0;continue}}if(a){let l=[];for(const h of t)h!==null&&l.push(h);this._cache=l}}}class u{constructor(n,a,t){this.create(n,a,t)}create(n,a,t){this._buffers=[new o("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=D.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=a,this._EOLLength=a.length,this._EOLNormalized=t;let l=null;for(let h=0,g=n.length;h<g;h++)if(n[h].buffer.length>0){n[h].lineStarts||(n[h].lineStarts=i(n[h].buffer));let w=new r(h+1,{line:0,column:0},{line:n[h].lineStarts.length-1,column:n[h].buffer.length-n[h].lineStarts[n[h].lineStarts.length-1]},n[h].lineStarts.length-1,n[h].buffer.length);this._buffers.push(n[h]),l=this.rbInsertRight(l,w)}this._searchCache=new c(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(n){let a=e.AverageBufferSize,t=a-Math.floor(a/3),l=t*2,h="",g=0,w=[];if(this.iterate(this.root,_=>{let C=this.getNodeContent(_),v=C.length;if(g<=t||g+v<l)return h+=C,g+=v,!0;let m=h.replace(/\r\n|\r|\n/g,n);return w.push(new o(m,i(m))),h=C,g=v,!0}),g>0){let _=h.replace(/\r\n|\r|\n/g,n);w.push(new o(_,i(_)))}this.create(w,n,!0)}getEOL(){return this._EOL}setEOL(n){this._EOL=n,this._EOLLength=this._EOL.length,this.normalizeEOL(n)}createSnapshot(n){return new d(this,n)}getOffsetAt(n,a){let t=0,l=this.root;for(;l!==D.SENTINEL;)if(l.left!==D.SENTINEL&&l.lf_left+1>=n)l=l.left;else{if(l.lf_left+l.piece.lineFeedCnt+1>=n)return t+=l.size_left,t+=this.getAccumulatedValue(l,n-l.lf_left-2)+a-1;n-=l.lf_left+l.piece.lineFeedCnt,t+=l.size_left+l.piece.length,l=l.right}return t}getPositionAt(n){n=Math.floor(n),n=Math.max(0,n);let a=this.root,t=0,l=n;for(;a!==D.SENTINEL;)if(a.size_left!==0&&a.size_left>=n)a=a.left;else if(a.size_left+a.piece.length>=n){let h=this.getIndexOf(a,n-a.size_left);if(t+=a.lf_left+h.index,h.index===0){let g=this.getOffsetAt(t+1,1),w=l-g;return new y.Position(t+1,w+1)}return new y.Position(t+1,h.remainder+1)}else if(n-=a.size_left+a.piece.length,t+=a.lf_left+a.piece.lineFeedCnt,a.right===D.SENTINEL){let h=this.getOffsetAt(t+1,1),g=l-n-h;return new y.Position(t+1,g+1)}else a=a.right;return new y.Position(1,1)}getValueInRange(n,a){if(n.startLineNumber===n.endLineNumber&&n.startColumn===n.endColumn)return"";let t=this.nodeAt2(n.startLineNumber,n.startColumn),l=this.nodeAt2(n.endLineNumber,n.endColumn),h=this.getValueInRange2(t,l);return a?a!==this._EOL||!this._EOLNormalized?h.replace(/\r\n|\r|\n/g,a):a===this.getEOL()&&this._EOLNormalized?h:h.replace(/\r\n|\r|\n/g,a):h}getValueInRange2(n,a){if(n.node===a.node){let w=n.node,_=this._buffers[w.piece.bufferIndex].buffer,C=this.offsetInBuffer(w.piece.bufferIndex,w.piece.start);return _.substring(C+n.remainder,C+a.remainder)}let t=n.node,l=this._buffers[t.piece.bufferIndex].buffer,h=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start),g=l.substring(h+n.remainder,h+t.piece.length);for(t=t.next();t!==D.SENTINEL;){let w=this._buffers[t.piece.bufferIndex].buffer,_=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);if(t===a.node){g+=w.substring(_,_+a.remainder);break}else g+=w.substr(_,t.piece.length);t=t.next()}return g}getLinesContent(){let n=[],a=0,t="",l=!1;return this.iterate(this.root,h=>{if(h===D.SENTINEL)return!0;const g=h.piece;let w=g.length;if(w===0)return!0;const _=this._buffers[g.bufferIndex].buffer,C=this._buffers[g.bufferIndex].lineStarts,v=g.start.line,m=g.end.line;let E=C[v]+g.start.column;if(l&&(_.charCodeAt(E)===10&&(E++,w--),n[a++]=t,t="",l=!1,w===0))return!0;if(v===m)return!this._EOLNormalized&&_.charCodeAt(E+w-1)===13?(l=!0,t+=_.substr(E,w-1)):t+=_.substr(E,w),!0;t+=this._EOLNormalized?_.substring(E,Math.max(E,C[v+1]-this._EOLLength)):_.substring(E,C[v+1]).replace(/(\r\n|\r|\n)$/,""),n[a++]=t;for(let I=v+1;I<m;I++)t=this._EOLNormalized?_.substring(C[I],C[I+1]-this._EOLLength):_.substring(C[I],C[I+1]).replace(/(\r\n|\r|\n)$/,""),n[a++]=t;return!this._EOLNormalized&&_.charCodeAt(C[m]+g.end.column-1)===13?(l=!0,g.end.column===0?a--:t=_.substr(C[m],g.end.column-1)):t=_.substr(C[m],g.end.column),!0}),l&&(n[a++]=t,t=""),n[a++]=t,n}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(n){return this._lastVisitedLine.lineNumber===n?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=n,n===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(n):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(n,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(n).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(n){if(n.remainder===n.node.piece.length){let a=n.node.next();if(!a)return 0;let t=this._buffers[a.piece.bufferIndex],l=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return t.buffer.charCodeAt(l)}else{let a=this._buffers[n.node.piece.bufferIndex],l=this.offsetInBuffer(n.node.piece.bufferIndex,n.node.piece.start)+n.remainder;return a.buffer.charCodeAt(l)}}getLineCharCode(n,a){let t=this.nodeAt2(n,a+1);return this._getCharCode(t)}getLineLength(n){if(n===this.getLineCount()){let a=this.getOffsetAt(n,1);return this.getLength()-a}return this.getOffsetAt(n+1,1)-this.getOffsetAt(n,1)-this._EOLLength}findMatchesInNode(n,a,t,l,h,g,w,_,C,v,m){let E=this._buffers[n.piece.bufferIndex],I=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start),k=this.offsetInBuffer(n.piece.bufferIndex,h),A=this.offsetInBuffer(n.piece.bufferIndex,g),P,F={line:0,column:0},M,R;a._wordSeparators?(M=E.buffer.substring(k,A),R=O=>O+k,a.reset(0)):(M=E.buffer,R=O=>O,a.reset(k));do if(P=a.next(M),P){if(R(P.index)>=A)return v;this.positionInBuffer(n,R(P.index)-I,F);let O=this.getLineFeedCnt(n.piece.bufferIndex,h,F),L=F.line===h.line?F.column-h.column+l:F.column+1,B=L+P[0].length;if(m[v++]=(0,S.createFindMatch)(new N.Range(t+O,L,t+O,B),P,_),R(P.index)+P[0].length>=A||v>=C)return v}while(P);return v}findMatchesLineByLine(n,a,t,l){const h=[];let g=0;const w=new S.Searcher(a.wordSeparators,a.regex);let _=this.nodeAt2(n.startLineNumber,n.startColumn);if(_===null)return[];let C=this.nodeAt2(n.endLineNumber,n.endColumn);if(C===null)return[];let v=this.positionInBuffer(_.node,_.remainder),m=this.positionInBuffer(C.node,C.remainder);if(_.node===C.node)return this.findMatchesInNode(_.node,w,n.startLineNumber,n.startColumn,v,m,a,t,l,g,h),h;let E=n.startLineNumber,I=_.node;for(;I!==C.node;){let A=this.getLineFeedCnt(I.piece.bufferIndex,v,I.piece.end);if(A>=1){let F=this._buffers[I.piece.bufferIndex].lineStarts,M=this.offsetInBuffer(I.piece.bufferIndex,I.piece.start),R=F[v.line+A],O=E===n.startLineNumber?n.startColumn:1;if(g=this.findMatchesInNode(I,w,E,O,v,this.positionInBuffer(I,R-M),a,t,l,g,h),g>=l)return h;E+=A}let P=E===n.startLineNumber?n.startColumn-1:0;if(E===n.endLineNumber){const F=this.getLineContent(E).substring(P,n.endColumn-1);return g=this._findMatchesInLine(a,w,F,n.endLineNumber,P,g,h,t,l),h}if(g=this._findMatchesInLine(a,w,this.getLineContent(E).substr(P),E,P,g,h,t,l),g>=l)return h;E++,_=this.nodeAt2(E,1),I=_.node,v=this.positionInBuffer(_.node,_.remainder)}if(E===n.endLineNumber){let A=E===n.startLineNumber?n.startColumn-1:0;const P=this.getLineContent(E).substring(A,n.endColumn-1);return g=this._findMatchesInLine(a,w,P,n.endLineNumber,A,g,h,t,l),h}let k=E===n.startLineNumber?n.startColumn:1;return g=this.findMatchesInNode(C.node,w,E,k,v,m,a,t,l,g,h),h}_findMatchesInLine(n,a,t,l,h,g,w,_,C){const v=n.wordSeparators;if(!_&&n.simpleSearch){const E=n.simpleSearch,I=E.length,k=t.length;let A=-I;for(;(A=t.indexOf(E,A+I))!==-1;)if((!v||(0,S.isValidMatch)(v,t,k,A,I))&&(w[g++]=new T.FindMatch(new N.Range(l,A+1+h,l,A+1+I+h),null),g>=C))return g;return g}let m;a.reset(0);do if(m=a.next(t),m&&(w[g++]=(0,S.createFindMatch)(new N.Range(l,m.index+1+h,l,m.index+1+m[0].length+h),m,_),g>=C))return g;while(m);return g}insert(n,a,t=!1){if(this._EOLNormalized=this._EOLNormalized&&t,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==D.SENTINEL){let{node:l,remainder:h,nodeStartOffset:g}=this.nodeAt(n),w=l.piece,_=w.bufferIndex,C=this.positionInBuffer(l,h);if(l.piece.bufferIndex===0&&w.end.line===this._lastChangeBufferPos.line&&w.end.column===this._lastChangeBufferPos.column&&g+w.length===n&&a.length<e.AverageBufferSize){this.appendToNode(l,a),this.computeBufferMetadata();return}if(g===n)this.insertContentToNodeLeft(a,l),this._searchCache.validate(n);else if(g+l.piece.length>n){let v=[],m=new r(w.bufferIndex,C,w.end,this.getLineFeedCnt(w.bufferIndex,C,w.end),this.offsetInBuffer(_,w.end)-this.offsetInBuffer(_,C));if(this.shouldCheckCRLF()&&this.endWithCR(a)&&this.nodeCharCodeAt(l,h)===10){let A={line:m.start.line+1,column:0};m=new r(m.bufferIndex,A,m.end,this.getLineFeedCnt(m.bufferIndex,A,m.end),m.length-1),a+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(a))if(this.nodeCharCodeAt(l,h-1)===13){let A=this.positionInBuffer(l,h-1);this.deleteNodeTail(l,A),a="\r"+a,l.piece.length===0&&v.push(l)}else this.deleteNodeTail(l,C);else this.deleteNodeTail(l,C);let E=this.createNewPieces(a);m.length>0&&this.rbInsertRight(l,m);let I=l;for(let k=0;k<E.length;k++)I=this.rbInsertRight(I,E[k]);this.deleteNodes(v)}else this.insertContentToNodeRight(a,l)}else{let l=this.createNewPieces(a),h=this.rbInsertLeft(null,l[0]);for(let g=1;g<l.length;g++)h=this.rbInsertRight(h,l[g])}this.computeBufferMetadata()}delete(n,a){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",a<=0||this.root===D.SENTINEL)return;let t=this.nodeAt(n),l=this.nodeAt(n+a),h=t.node,g=l.node;if(h===g){let E=this.positionInBuffer(h,t.remainder),I=this.positionInBuffer(h,l.remainder);if(t.nodeStartOffset===n){if(a===h.piece.length){let k=h.next();(0,D.rbDelete)(this,h),this.validateCRLFWithPrevNode(k),this.computeBufferMetadata();return}this.deleteNodeHead(h,I),this._searchCache.validate(n),this.validateCRLFWithPrevNode(h),this.computeBufferMetadata();return}if(t.nodeStartOffset+h.piece.length===n+a){this.deleteNodeTail(h,E),this.validateCRLFWithNextNode(h),this.computeBufferMetadata();return}this.shrinkNode(h,E,I),this.computeBufferMetadata();return}let w=[],_=this.positionInBuffer(h,t.remainder);this.deleteNodeTail(h,_),this._searchCache.validate(n),h.piece.length===0&&w.push(h);let C=this.positionInBuffer(g,l.remainder);this.deleteNodeHead(g,C),g.piece.length===0&&w.push(g);let v=h.next();for(let E=v;E!==D.SENTINEL&&E!==g;E=E.next())w.push(E);let m=h.piece.length===0?h.prev():h;this.deleteNodes(w),this.validateCRLFWithNextNode(m),this.computeBufferMetadata()}insertContentToNodeLeft(n,a){let t=[];if(this.shouldCheckCRLF()&&this.endWithCR(n)&&this.startWithLF(a)){let g=a.piece,w={line:g.start.line+1,column:0},_=new r(g.bufferIndex,w,g.end,this.getLineFeedCnt(g.bufferIndex,w,g.end),g.length-1);a.piece=_,n+=`
`,(0,D.updateTreeMetadata)(this,a,-1,-1),a.piece.length===0&&t.push(a)}let l=this.createNewPieces(n),h=this.rbInsertLeft(a,l[l.length-1]);for(let g=l.length-2;g>=0;g--)h=this.rbInsertLeft(h,l[g]);this.validateCRLFWithPrevNode(h),this.deleteNodes(t)}insertContentToNodeRight(n,a){this.adjustCarriageReturnFromNext(n,a)&&(n+=`
`);let t=this.createNewPieces(n),l=this.rbInsertRight(a,t[0]),h=l;for(let g=1;g<t.length;g++)h=this.rbInsertRight(h,t[g]);this.validateCRLFWithPrevNode(l)}positionInBuffer(n,a,t){let l=n.piece,h=n.piece.bufferIndex,g=this._buffers[h].lineStarts,_=g[l.start.line]+l.start.column+a,C=l.start.line,v=l.end.line,m=0,E=0,I=0;for(;C<=v&&(m=C+(v-C)/2|0,I=g[m],m!==v);)if(E=g[m+1],_<I)v=m-1;else if(_>=E)C=m+1;else break;return t?(t.line=m,t.column=_-I,null):{line:m,column:_-I}}getLineFeedCnt(n,a,t){if(t.column===0)return t.line-a.line;let l=this._buffers[n].lineStarts;if(t.line===l.length-1)return t.line-a.line;let h=l[t.line+1],g=l[t.line]+t.column;if(h>g+1)return t.line-a.line;let w=g-1;return this._buffers[n].buffer.charCodeAt(w)===13?t.line-a.line+1:t.line-a.line}offsetInBuffer(n,a){return this._buffers[n].lineStarts[a.line]+a.column}deleteNodes(n){for(let a=0;a<n.length;a++)(0,D.rbDelete)(this,n[a])}createNewPieces(n){if(n.length>e.AverageBufferSize){let v=[];for(;n.length>e.AverageBufferSize;){const E=n.charCodeAt(e.AverageBufferSize-1);let I;E===13||E>=55296&&E<=56319?(I=n.substring(0,e.AverageBufferSize-1),n=n.substring(e.AverageBufferSize-1)):(I=n.substring(0,e.AverageBufferSize),n=n.substring(e.AverageBufferSize));let k=i(I);v.push(new r(this._buffers.length,{line:0,column:0},{line:k.length-1,column:I.length-k[k.length-1]},k.length-1,I.length)),this._buffers.push(new o(I,k))}let m=i(n);return v.push(new r(this._buffers.length,{line:0,column:0},{line:m.length-1,column:n.length-m[m.length-1]},m.length-1,n.length)),this._buffers.push(new o(n,m)),v}let a=this._buffers[0].buffer.length;const t=i(n,!1);let l=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===a&&a!==0&&this.startWithLF(n)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},l=this._lastChangeBufferPos;for(let v=0;v<t.length;v++)t[v]+=a+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(t.slice(1)),this._buffers[0].buffer+="_"+n,a+=1}else{if(a!==0)for(let v=0;v<t.length;v++)t[v]+=a;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(t.slice(1)),this._buffers[0].buffer+=n}const h=this._buffers[0].buffer.length;let g=this._buffers[0].lineStarts.length-1,w=h-this._buffers[0].lineStarts[g],_={line:g,column:w},C=new r(0,l,_,this.getLineFeedCnt(0,l,_),h-a);return this._lastChangeBufferPos=_,[C]}getLineRawContent(n,a=0){let t=this.root,l="",h=this._searchCache.get2(n);if(h){t=h.node;let g=this.getAccumulatedValue(t,n-h.nodeStartLineNumber-1),w=this._buffers[t.piece.bufferIndex].buffer,_=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);if(h.nodeStartLineNumber+t.piece.lineFeedCnt===n)l=w.substring(_+g,_+t.piece.length);else{let C=this.getAccumulatedValue(t,n-h.nodeStartLineNumber);return w.substring(_+g,_+C-a)}}else{let g=0;const w=n;for(;t!==D.SENTINEL;)if(t.left!==D.SENTINEL&&t.lf_left>=n-1)t=t.left;else if(t.lf_left+t.piece.lineFeedCnt>n-1){let _=this.getAccumulatedValue(t,n-t.lf_left-2),C=this.getAccumulatedValue(t,n-t.lf_left-1),v=this._buffers[t.piece.bufferIndex].buffer,m=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return g+=t.size_left,this._searchCache.set({node:t,nodeStartOffset:g,nodeStartLineNumber:w-(n-1-t.lf_left)}),v.substring(m+_,m+C-a)}else if(t.lf_left+t.piece.lineFeedCnt===n-1){let _=this.getAccumulatedValue(t,n-t.lf_left-2),C=this._buffers[t.piece.bufferIndex].buffer,v=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);l=C.substring(v+_,v+t.piece.length);break}else n-=t.lf_left+t.piece.lineFeedCnt,g+=t.size_left+t.piece.length,t=t.right}for(t=t.next();t!==D.SENTINEL;){let g=this._buffers[t.piece.bufferIndex].buffer;if(t.piece.lineFeedCnt>0){let w=this.getAccumulatedValue(t,0),_=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return l+=g.substring(_,_+w-a),l}else{let w=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);l+=g.substr(w,t.piece.length)}t=t.next()}return l}computeBufferMetadata(){let n=this.root,a=1,t=0;for(;n!==D.SENTINEL;)a+=n.lf_left+n.piece.lineFeedCnt,t+=n.size_left+n.piece.length,n=n.right;this._lineCnt=a,this._length=t,this._searchCache.validate(this._length)}getIndexOf(n,a){let t=n.piece,l=this.positionInBuffer(n,a),h=l.line-t.start.line;if(this.offsetInBuffer(t.bufferIndex,t.end)-this.offsetInBuffer(t.bufferIndex,t.start)===a){let g=this.getLineFeedCnt(n.piece.bufferIndex,t.start,l);if(g!==h)return{index:g,remainder:0}}return{index:h,remainder:l.column}}getAccumulatedValue(n,a){if(a<0)return 0;let t=n.piece,l=this._buffers[t.bufferIndex].lineStarts,h=t.start.line+a+1;return h>t.end.line?l[t.end.line]+t.end.column-l[t.start.line]-t.start.column:l[h]-l[t.start.line]-t.start.column}deleteNodeTail(n,a){const t=n.piece,l=t.lineFeedCnt,h=this.offsetInBuffer(t.bufferIndex,t.end),g=a,w=this.offsetInBuffer(t.bufferIndex,g),_=this.getLineFeedCnt(t.bufferIndex,t.start,g),C=_-l,v=w-h,m=t.length+v;n.piece=new r(t.bufferIndex,t.start,g,_,m),(0,D.updateTreeMetadata)(this,n,v,C)}deleteNodeHead(n,a){const t=n.piece,l=t.lineFeedCnt,h=this.offsetInBuffer(t.bufferIndex,t.start),g=a,w=this.getLineFeedCnt(t.bufferIndex,g,t.end),_=this.offsetInBuffer(t.bufferIndex,g),C=w-l,v=h-_,m=t.length+v;n.piece=new r(t.bufferIndex,g,t.end,w,m),(0,D.updateTreeMetadata)(this,n,v,C)}shrinkNode(n,a,t){const l=n.piece,h=l.start,g=l.end,w=l.length,_=l.lineFeedCnt,C=a,v=this.getLineFeedCnt(l.bufferIndex,l.start,C),m=this.offsetInBuffer(l.bufferIndex,a)-this.offsetInBuffer(l.bufferIndex,h);n.piece=new r(l.bufferIndex,l.start,C,v,m),(0,D.updateTreeMetadata)(this,n,m-w,v-_);let E=new r(l.bufferIndex,t,g,this.getLineFeedCnt(l.bufferIndex,t,g),this.offsetInBuffer(l.bufferIndex,g)-this.offsetInBuffer(l.bufferIndex,t)),I=this.rbInsertRight(n,E);this.validateCRLFWithPrevNode(I)}appendToNode(n,a){this.adjustCarriageReturnFromNext(a,n)&&(a+=`
`);const t=this.shouldCheckCRLF()&&this.startWithLF(a)&&this.endWithCR(n),l=this._buffers[0].buffer.length;this._buffers[0].buffer+=a;const h=i(a,!1);for(let I=0;I<h.length;I++)h[I]+=l;if(t){let I=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:l-I}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(h.slice(1));const g=this._buffers[0].lineStarts.length-1,w=this._buffers[0].buffer.length-this._buffers[0].lineStarts[g],_={line:g,column:w},C=n.piece.length+a.length,v=n.piece.lineFeedCnt,m=this.getLineFeedCnt(0,n.piece.start,_),E=m-v;n.piece=new r(n.piece.bufferIndex,n.piece.start,_,m,C),this._lastChangeBufferPos=_,(0,D.updateTreeMetadata)(this,n,a.length,E)}nodeAt(n){let a=this.root,t=this._searchCache.get(n);if(t)return{node:t.node,nodeStartOffset:t.nodeStartOffset,remainder:n-t.nodeStartOffset};let l=0;for(;a!==D.SENTINEL;)if(a.size_left>n)a=a.left;else if(a.size_left+a.piece.length>=n){l+=a.size_left;let h={node:a,remainder:n-a.size_left,nodeStartOffset:l};return this._searchCache.set(h),h}else n-=a.size_left+a.piece.length,l+=a.size_left+a.piece.length,a=a.right;return null}nodeAt2(n,a){let t=this.root,l=0;for(;t!==D.SENTINEL;)if(t.left!==D.SENTINEL&&t.lf_left>=n-1)t=t.left;else if(t.lf_left+t.piece.lineFeedCnt>n-1){let h=this.getAccumulatedValue(t,n-t.lf_left-2),g=this.getAccumulatedValue(t,n-t.lf_left-1);return l+=t.size_left,{node:t,remainder:Math.min(h+a-1,g),nodeStartOffset:l}}else if(t.lf_left+t.piece.lineFeedCnt===n-1){let h=this.getAccumulatedValue(t,n-t.lf_left-2);if(h+a-1<=t.piece.length)return{node:t,remainder:h+a-1,nodeStartOffset:l};a-=t.piece.length-h;break}else n-=t.lf_left+t.piece.lineFeedCnt,l+=t.size_left+t.piece.length,t=t.right;for(t=t.next();t!==D.SENTINEL;){if(t.piece.lineFeedCnt>0){let h=this.getAccumulatedValue(t,0),g=this.offsetOfNode(t);return{node:t,remainder:Math.min(a-1,h),nodeStartOffset:g}}else if(t.piece.length>=a-1){let h=this.offsetOfNode(t);return{node:t,remainder:a-1,nodeStartOffset:h}}else a-=t.piece.length;t=t.next()}return null}nodeCharCodeAt(n,a){if(n.piece.lineFeedCnt<1)return-1;let t=this._buffers[n.piece.bufferIndex],l=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start)+a;return t.buffer.charCodeAt(l)}offsetOfNode(n){if(!n)return 0;let a=n.size_left;for(;n!==this.root;)n.parent.right===n&&(a+=n.parent.size_left+n.parent.piece.length),n=n.parent;return a}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(n){if(typeof n=="string")return n.charCodeAt(0)===10;if(n===D.SENTINEL||n.piece.lineFeedCnt===0)return!1;let a=n.piece,t=this._buffers[a.bufferIndex].lineStarts,l=a.start.line,h=t[l]+a.start.column;return l===t.length-1||t[l+1]>h+1?!1:this._buffers[a.bufferIndex].buffer.charCodeAt(h)===10}endWithCR(n){return typeof n=="string"?n.charCodeAt(n.length-1)===13:n===D.SENTINEL||n.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(n,n.piece.length-1)===13}validateCRLFWithPrevNode(n){if(this.shouldCheckCRLF()&&this.startWithLF(n)){let a=n.prev();this.endWithCR(a)&&this.fixCRLF(a,n)}}validateCRLFWithNextNode(n){if(this.shouldCheckCRLF()&&this.endWithCR(n)){let a=n.next();this.startWithLF(a)&&this.fixCRLF(n,a)}}fixCRLF(n,a){let t=[],l=this._buffers[n.piece.bufferIndex].lineStarts,h;n.piece.end.column===0?h={line:n.piece.end.line-1,column:l[n.piece.end.line]-l[n.piece.end.line-1]-1}:h={line:n.piece.end.line,column:n.piece.end.column-1};const g=n.piece.length-1,w=n.piece.lineFeedCnt-1;n.piece=new r(n.piece.bufferIndex,n.piece.start,h,w,g),(0,D.updateTreeMetadata)(this,n,-1,-1),n.piece.length===0&&t.push(n);let _={line:a.piece.start.line+1,column:0};const C=a.piece.length-1,v=this.getLineFeedCnt(a.piece.bufferIndex,_,a.piece.end);a.piece=new r(a.piece.bufferIndex,_,a.piece.end,v,C),(0,D.updateTreeMetadata)(this,a,-1,-1),a.piece.length===0&&t.push(a);let m=this.createNewPieces(`\r
`);this.rbInsertRight(n,m[0]);for(let E=0;E<t.length;E++)(0,D.rbDelete)(this,t[E])}adjustCarriageReturnFromNext(n,a){if(this.shouldCheckCRLF()&&this.endWithCR(n)){let t=a.next();if(this.startWithLF(t)){if(n+=`
`,t.piece.length===1)(0,D.rbDelete)(this,t);else{const l=t.piece,h={line:l.start.line+1,column:0},g=l.length-1,w=this.getLineFeedCnt(l.bufferIndex,h,l.end);t.piece=new r(l.bufferIndex,h,l.end,w,g),(0,D.updateTreeMetadata)(this,t,-1,-1)}return!0}}return!1}iterate(n,a){if(n===D.SENTINEL)return a(D.SENTINEL);let t=this.iterate(n.left,a);return t&&a(n)&&this.iterate(n.right,a)}getNodeContent(n){if(n===D.SENTINEL)return"";let a=this._buffers[n.piece.bufferIndex],t,l=n.piece,h=this.offsetInBuffer(l.bufferIndex,l.start),g=this.offsetInBuffer(l.bufferIndex,l.end);return t=a.buffer.substring(h,g),t}getPieceContent(n){let a=this._buffers[n.bufferIndex],t=this.offsetInBuffer(n.bufferIndex,n.start),l=this.offsetInBuffer(n.bufferIndex,n.end);return a.buffer.substring(t,l)}rbInsertRight(n,a){let t=new D.TreeNode(a,1);if(t.left=D.SENTINEL,t.right=D.SENTINEL,t.parent=D.SENTINEL,t.size_left=0,t.lf_left=0,this.root===D.SENTINEL)this.root=t,t.color=0;else if(n.right===D.SENTINEL)n.right=t,t.parent=n;else{let h=(0,D.leftest)(n.right);h.left=t,t.parent=h}return(0,D.fixInsert)(this,t),t}rbInsertLeft(n,a){let t=new D.TreeNode(a,1);if(t.left=D.SENTINEL,t.right=D.SENTINEL,t.parent=D.SENTINEL,t.size_left=0,t.lf_left=0,this.root===D.SENTINEL)this.root=t,t.color=0;else if(n.left===D.SENTINEL)n.left=t,t.parent=n;else{let l=(0,D.righttest)(n.left);l.right=t,t.parent=l}return(0,D.fixInsert)(this,t),t}}e.PieceTreeBase=u}),define(te[139],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function y(p=""){let b="(-?\\d*\\.\\d\\w*)|([^";for(const i of e.USUAL_WORD_SEPARATORS)p.indexOf(i)>=0||(b+="\\"+i);return b+="\\s]+)",new RegExp(b,"g")}e.DEFAULT_WORD_REGEXP=y();function N(p){let b=e.DEFAULT_WORD_REGEXP;if(p&&p instanceof RegExp)if(p.global)b=p;else{let i="g";p.ignoreCase&&(i+="i"),p.multiline&&(i+="m"),p.unicode&&(i+="u"),b=new RegExp(p.source,i)}return b.lastIndex=0,b}e.ensureValidWordDefinition=N;const T={maxLen:1e3,windowSize:15,timeBudget:150};function D(p,b,i,f,r=T){if(i.length>r.maxLen){let s=p-r.maxLen/2;return s<0?s=0:f+=s,i=i.substring(s,p+r.maxLen/2),D(p,b,i,f,r)}const o=Date.now(),d=p-1-f;let c=-1,u=null;for(let s=1;!(Date.now()-o>=r.timeBudget);s++){const n=d-r.windowSize*s;b.lastIndex=Math.max(0,n);const a=S(b,i,d,c);if(!a&&u||(u=a,n<=0))break;c=n}if(u){let s={word:u[0],startColumn:f+1+u.index,endColumn:f+1+u.index+u[0].length};return b.lastIndex=0,s}return null}e.getWordAtText=D;function S(p,b,i,f){let r;for(;r=p.exec(b);){const o=r.index||0;if(o<=i&&p.lastIndex>=i)return r;if(f>0&&o>f)return null}return null}}),define(te[115],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var y;(function(S){S[S.None=0]="None",S[S.Indent=1]="Indent",S[S.IndentOutdent=2]="IndentOutdent",S[S.Outdent=3]="Outdent"})(y=e.IndentAction||(e.IndentAction={}));class N{constructor(p){if(this._standardAutoClosingPairConditionalBrand=void 0,this.open=p.open,this.close=p.close,this._standardTokenMask=0,Array.isArray(p.notIn))for(let b=0,i=p.notIn.length;b<i;b++)switch(p.notIn[b]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}isOK(p){return(this._standardTokenMask&p)==0}}e.StandardAutoClosingPairConditional=N;class T{constructor(p){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const b of p)D(this.autoClosingPairsOpenByStart,b.open.charAt(0),b),D(this.autoClosingPairsOpenByEnd,b.open.charAt(b.open.length-1),b),D(this.autoClosingPairsCloseByStart,b.close.charAt(0),b),D(this.autoClosingPairsCloseByEnd,b.close.charAt(b.close.length-1),b),b.close.length===1&&b.open.length===1&&D(this.autoClosingPairsCloseSingleChar,b.close,b)}}e.AutoClosingPairs=T;function D(S,p,b){S.has(p)?S.get(p).push(b):S.set(p,[b])}}),define(te[392],ie([0,1,207,74]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function T(D,S,p,b){if(Array.isArray(D)){let i=0;for(const f of D){const r=T(f,S,p,b);if(r===10)return r;r>i&&(i=r)}return i}else{if(typeof D=="string")return b?D==="*"?5:D===p?10:0:0;if(D){const{language:i,pattern:f,scheme:r,hasAccessToAllModels:o}=D;if(!b&&!o)return 0;let d=0;if(r)if(r===S.scheme)d=10;else if(r==="*")d=5;else return 0;if(i)if(i===p)d=10;else if(i==="*")d=Math.max(d,5);else return 0;if(f){let c;if(typeof f=="string"?c=f:c=Object.assign(Object.assign({},f),{base:(0,N.normalize)(f.base)}),c===S.fsPath||(0,y.match)(c,S.fsPath))d=10;else return 0}return d}else return 0}}e.score=T}),define(te[393],ie([0,1,95]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=e.Uint8Matrix=void 0;class N{constructor(o,d,c){const u=new Uint8Array(o*d);for(let s=0,n=o*d;s<n;s++)u[s]=c;this._data=u,this.rows=o,this.cols=d}get(o,d){return this._data[o*this.cols+d]}set(o,d,c){this._data[o*this.cols+d]=c}}e.Uint8Matrix=N;class T{constructor(o){let d=0,c=0;for(let s=0,n=o.length;s<n;s++){let[a,t,l]=o[s];t>d&&(d=t),a>c&&(c=a),l>c&&(c=l)}d++,c++;let u=new N(c,d,0);for(let s=0,n=o.length;s<n;s++){let[a,t,l]=o[s];u.set(a,t,l)}this._states=u,this._maxCharCode=d}nextState(o,d){return d<0||d>=this._maxCharCode?0:this._states.get(o,d)}}e.StateMachine=T;let D=null;function S(){return D===null&&(D=new T([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),D}let p=null;function b(){if(p===null){p=new y.CharacterClassifier(0);const r=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let d=0;d<r.length;d++)p.set(r.charCodeAt(d),1);const o=".,;";for(let d=0;d<o.length;d++)p.set(o.charCodeAt(d),2)}return p}class i{static _createLink(o,d,c,u,s){let n=s-1;do{const a=d.charCodeAt(n);if(o.get(a)!==2)break;n--}while(n>u);if(u>0){const a=d.charCodeAt(u-1),t=d.charCodeAt(n);(a===40&&t===41||a===91&&t===93||a===123&&t===125)&&n--}return{range:{startLineNumber:c,startColumn:u+1,endLineNumber:c,endColumn:n+2},url:d.substring(u,n+1)}}static computeLinks(o,d=S()){const c=b();let u=[];for(let s=1,n=o.getLineCount();s<=n;s++){const a=o.getLineContent(s),t=a.length;let l=0,h=0,g=0,w=1,_=!1,C=!1,v=!1,m=!1;for(;l<t;){let E=!1;const I=a.charCodeAt(l);if(w===13){let k;switch(I){case 40:_=!0,k=0;break;case 41:k=_?0:1;break;case 91:v=!0,C=!0,k=0;break;case 93:v=!1,k=C?0:1;break;case 123:m=!0,k=0;break;case 125:k=m?0:1;break;case 39:k=g===34||g===96?0:1;break;case 34:k=g===39||g===96?0:1;break;case 96:k=g===39||g===34?0:1;break;case 42:k=g===42?1:0;break;case 124:k=g===124?1:0;break;case 32:k=v?0:1;break;default:k=c.get(I)}k===1&&(u.push(i._createLink(c,a,s,h,l)),E=!0)}else if(w===12){let k;I===91?(C=!0,k=0):k=c.get(I),k===1?E=!0:w=13}else w=d.nextState(w,I),w===0&&(E=!0);E&&(w=1,_=!1,C=!1,m=!1,h=l+1,g=I),l++}w===13&&u.push(i._createLink(c,a,s,h,t))}return u}}e.LinkComputer=i;function f(r){return!r||typeof r.getLineCount!="function"||typeof r.getLineContent!="function"?[]:i.computeLinks(r)}e.computeLinks=f}),define(te[175],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function y(D,S){let p=D.getCount(),b=D.findTokenIndexAtOffset(S),i=D.getLanguageId(b),f=b;for(;f+1<p&&D.getLanguageId(f+1)===i;)f++;let r=b;for(;r>0&&D.getLanguageId(r-1)===i;)r--;return new N(D,i,r,f+1,D.getStartOffset(r),D.getEndOffset(f))}e.createScopedLineTokens=y;class N{constructor(S,p,b,i,f,r){this._scopedLineTokensBrand=void 0,this._actual=S,this.languageId=p,this._firstTokenIndex=b,this._lastTokenIndex=i,this.firstCharOffset=f,this._lastCharOffset=r}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(S){return this._actual.getLineContent().substring(0,this.firstCharOffset+S)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(S){return this._actual.findTokenIndexAtOffset(S+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(S){return this._actual.getStandardTokenType(S+this._firstTokenIndex)}}e.ScopedLineTokens=N;function T(D){return(D&7)!=0}e.ignoreBracketsInToken=T}),define(te[394],ie([0,1,115]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class N{constructor(D){if(D.autoClosingPairs?this._autoClosingPairs=D.autoClosingPairs.map(S=>new y.StandardAutoClosingPairConditional(S)):D.brackets?this._autoClosingPairs=D.brackets.map(S=>new y.StandardAutoClosingPairConditional({open:S[0],close:S[1]})):this._autoClosingPairs=[],D.colorizedBracketPairs?this._colorizedBracketPairs=D.colorizedBracketPairs.map(S=>[S[0],S[1]]):D.brackets?this._colorizedBracketPairs=D.brackets.map(S=>[S[0],S[1]]).filter(S=>!(S[0]==="<"&&S[1]===">")):this._colorizedBracketPairs=[],D.__electricCharacterSupport&&D.__electricCharacterSupport.docComment){const S=D.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new y.StandardAutoClosingPairConditional({open:S.open,close:S.close||""}))}this._autoCloseBefore=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:N.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=D.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(D,S,p){if(S.getTokenCount()===0)return!0;const b=S.findTokenIndexAtOffset(p-2),i=S.getStandardTokenType(b);return D.isOK(i)}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}e.CharacterPairSupport=N,N.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`}),define(te[395],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function y(T){return T.global&&(T.lastIndex=0),!0}class N{constructor(D){this._indentationRules=D}shouldIncrease(D){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&y(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(D))}shouldDecrease(D){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&y(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(D))}shouldIndentNextLine(D){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&y(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(D))}shouldIgnore(D){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&y(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(D))}getIndentMetadata(D){let S=0;return this.shouldIncrease(D)&&(S+=1),this.shouldDecrease(D)&&(S+=2),this.shouldIndentNextLine(D)&&(S+=4),this.shouldIgnore(D)&&(S+=8),S}}e.IndentRulesSupport=N}),define(te[396],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class y{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(T,D,S,p,b){if(T&&D){let i=this.doNavigateValueSet(D,b);if(i)return{range:T,value:i}}if(S&&p){let i=this.doNavigateValueSet(p,b);if(i)return{range:S,value:i}}return null}doNavigateValueSet(T,D){let S=this.numberReplace(T,D);return S!==null?S:this.textReplace(T,D)}numberReplace(T,D){let S=Math.pow(10,T.length-(T.lastIndexOf(".")+1)),p=Number(T),b=parseFloat(T);return!isNaN(p)&&!isNaN(b)&&p===b?p===0&&!D?null:(p=Math.floor(p*S),p+=D?S:-S,String(p/S)):null}textReplace(T,D){return this.valueSetsReplace(this._defaultValueSet,T,D)}valueSetsReplace(T,D,S){let p=null;for(let b=0,i=T.length;p===null&&b<i;b++)p=this.valueSetReplace(T[b],D,S);return p}valueSetReplace(T,D,S){let p=T.indexOf(D);return p>=0?(p+=S?1:-1,p<0?p=T.length-1:p%=T.length,T[p]):null}}e.BasicInplaceReplace=y,y.INSTANCE=new y}),define(te[397],ie([0,1,10,8,115]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class D{constructor(p){p=p||{},p.brackets=p.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],p.brackets.forEach(b=>{const i=D._createOpenBracketRegExp(b[0]),f=D._createCloseBracketRegExp(b[1]);i&&f&&this._brackets.push({open:b[0],openRegExp:i,close:b[1],closeRegExp:f})}),this._regExpRules=p.onEnterRules||[]}onEnter(p,b,i,f){if(p>=3)for(let r=0,o=this._regExpRules.length;r<o;r++){let d=this._regExpRules[r];if([{reg:d.beforeText,text:i},{reg:d.afterText,text:f},{reg:d.previousLineText,text:b}].every(u=>u.reg?(u.reg.lastIndex=0,u.reg.test(u.text)):!0))return d.action}if(p>=2&&i.length>0&&f.length>0)for(let r=0,o=this._brackets.length;r<o;r++){let d=this._brackets[r];if(d.openRegExp.test(i)&&d.closeRegExp.test(f))return{indentAction:T.IndentAction.IndentOutdent}}if(p>=2&&i.length>0){for(let r=0,o=this._brackets.length;r<o;r++)if(this._brackets[r].openRegExp.test(i))return{indentAction:T.IndentAction.Indent}}return null}static _createOpenBracketRegExp(p){let b=N.escapeRegExpCharacters(p);return/\B/.test(b.charAt(0))||(b="\\b"+b),b+="\\s*$",D._safeRegExp(b)}static _createCloseBracketRegExp(p){let b=N.escapeRegExpCharacters(p);return/\B/.test(b.charAt(b.length-1))||(b=b+"\\b"),b="^\\s*"+b,D._safeRegExp(b)}static _safeRegExp(p){try{return new RegExp(p)}catch(b){return(0,y.onUnexpectedError)(b),null}}}e.OnEnterSupport=D}),define(te[176],ie([0,1,8,84,3]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class D{constructor(l,h,g,w,_,C){this._richEditBracketBrand=void 0,this.languageIdentifier=l,this.index=h,this.open=g,this.close=w,this.forwardRegex=_,this.reversedRegex=C,this._openSet=D._toSet(this.open),this._closeSet=D._toSet(this.close)}isOpen(l){return this._openSet.has(l)}isClose(l){return this._closeSet.has(l)}static _toSet(l){const h=new Set;for(const g of l)h.add(g);return h}}e.RichEditBracket=D;function S(t){const l=t.length;t=t.map(C=>[C[0].toLowerCase(),C[1].toLowerCase()]);const h=[];for(let C=0;C<l;C++)h[C]=C;const g=(C,v)=>{const[m,E]=C,[I,k]=v;return m===I||m===k||E===I||E===k},w=(C,v)=>{const m=Math.min(C,v),E=Math.max(C,v);for(let I=0;I<l;I++)h[I]===E&&(h[I]=m)};for(let C=0;C<l;C++){const v=t[C];for(let m=C+1;m<l;m++){const E=t[m];g(v,E)&&w(h[C],h[m])}}const _=[];for(let C=0;C<l;C++){let v=[],m=[];for(let E=0;E<l;E++)if(h[E]===C){const[I,k]=t[E];v.push(I),m.push(k)}v.length>0&&_.push({open:v,close:m})}return _}class p{constructor(l,h){this._richEditBracketsBrand=void 0;const g=S(h);this.brackets=g.map((w,_)=>new D(l,_,w.open,w.close,r(w.open,w.close,g,_),o(w.open,w.close,g,_))),this.forwardRegex=d(this.brackets),this.reversedRegex=c(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const w of this.brackets){for(const _ of w.open)this.textIsBracket[_]=w,this.textIsOpenBracket[_]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,_.length);for(const _ of w.close)this.textIsBracket[_]=w,this.textIsOpenBracket[_]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,_.length)}}}e.RichEditBrackets=p;function b(t,l,h,g){for(let w=0,_=l.length;w<_;w++){if(w===h)continue;const C=l[w];for(const v of C.open)v.indexOf(t)>=0&&g.push(v);for(const v of C.close)v.indexOf(t)>=0&&g.push(v)}}function i(t,l){return t.length-l.length}function f(t){if(t.length<=1)return t;const l=[],h=new Set;for(const g of t)h.has(g)||(l.push(g),h.add(g));return l}function r(t,l,h,g){let w=[];w=w.concat(t),w=w.concat(l);for(let _=0,C=w.length;_<C;_++)b(w[_],h,g,w);return w=f(w),w.sort(i),w.reverse(),s(w)}function o(t,l,h,g){let w=[];w=w.concat(t),w=w.concat(l);for(let _=0,C=w.length;_<C;_++)b(w[_],h,g,w);return w=f(w),w.sort(i),w.reverse(),s(w.map(n))}function d(t){let l=[];for(const h of t){for(const g of h.open)l.push(g);for(const g of h.close)l.push(g)}return l=f(l),s(l)}function c(t){let l=[];for(const h of t){for(const g of h.open)l.push(g);for(const g of h.close)l.push(g)}return l=f(l),s(l.map(n))}function u(t){const l=/^[\w ]+$/.test(t);return t=y.escapeRegExpCharacters(t),l?`\\b${t}\\b`:t}function s(t){let l=`(${t.map(u).join(")|(")})`;return y.createRegExp(l,!0)}const n=function(){function t(g){if(N.hasTextDecoder){const w=new Uint16Array(g.length);let _=0;for(let C=g.length-1;C>=0;C--)w[_++]=g.charCodeAt(C);return N.getPlatformTextDecoder().decode(w)}else{let w=[],_=0;for(let C=g.length-1;C>=0;C--)w[_++]=g.charAt(C);return w.join("")}}let l=null,h=null;return function(w){return l!==w&&(l=w,h=t(l)),h}}();class a{static _findPrevBracketInText(l,h,g,w){let _=g.match(l);if(!_)return null;let C=g.length-(_.index||0),v=_[0].length,m=w+C;return new T.Range(h,m-v+1,h,m+1)}static findPrevBracketInRange(l,h,g,w,_){const v=n(g).substring(g.length-_,g.length-w);return this._findPrevBracketInText(l,h,v,w)}static findNextBracketInText(l,h,g,w){let _=g.match(l);if(!_)return null;let C=_.index||0,v=_[0].length;if(v===0)return null;let m=w+C;return new T.Range(h,m+1,h,m+1+v)}static findNextBracketInRange(l,h,g,w,_){const C=g.substring(w,_);return this.findNextBracketInText(l,h,C,w)}}e.BracketsUtils=a}),define(te[398],ie([0,1,175,176]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class T{constructor(S){this._richEditBrackets=S}getElectricCharacters(){let S=[];if(this._richEditBrackets)for(const p of this._richEditBrackets.brackets)for(const b of p.close){const i=b.charAt(b.length-1);S.push(i)}return S=S.filter((p,b,i)=>i.indexOf(p)===b),S}onElectricCharacter(S,p,b){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const i=p.findTokenIndexAtOffset(b-1);if((0,y.ignoreBracketsInToken)(p.getStandardTokenType(i)))return null;const f=this._richEditBrackets.reversedRegex,r=p.getLineContent().substring(0,b-1)+S,o=N.BracketsUtils.findPrevBracketInRange(f,1,r,0,r.length);if(!o)return null;const d=r.substring(o.startColumn-1,o.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[d])return null;const u=p.getActualLineContentBefore(o.startColumn-1);return/^\s*$/.test(u)?{matchOpenBracket:d}:null}}e.BracketElectricCharacterSupport=T}),define(te[38],ie([0,1,6,2,8,139,115,175,394,398,395,397,176]),function(q,e,y,N,T,D,S,p,b,i,f,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageConfigurationRegistry=e.LanguageConfigurationRegistryImpl=e.LanguageConfigurationChangeEvent=e.RichEditSupport=void 0;class d{constructor(t,l){this._languageIdentifier=t,this._brackets=null,this._electricCharacter=null,this._conf=l,this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new r.OnEnterSupport(this._conf):null,this.comments=d._handleComments(this._conf),this.characterPair=new b.CharacterPairSupport(this._conf),this.wordDefinition=this._conf.wordPattern||D.DEFAULT_WORD_REGEXP,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new f.IndentRulesSupport(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}get brackets(){return!this._brackets&&this._conf.brackets&&(this._brackets=new o.RichEditBrackets(this._languageIdentifier,this._conf.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new i.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(t,l,h,g){return this._onEnterSupport?this._onEnterSupport.onEnter(t,l,h,g):null}static _handleComments(t){let l=t.comments;if(!l)return null;let h={};if(l.lineComment&&(h.lineCommentToken=l.lineComment),l.blockComment){let[g,w]=l.blockComment;h.blockCommentStartToken=g,h.blockCommentEndToken=w}return h}}e.RichEditSupport=d;class c{constructor(t){this.languageIdentifier=t}}e.LanguageConfigurationChangeEvent=c;class u{constructor(t,l,h){this.configuration=t,this.priority=l,this.order=h}static cmp(t,l){return t.priority===l.priority?t.order-l.order:t.priority-l.priority}}class s{constructor(t){this.languageIdentifier=t,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(t,l){const h=new u(t,l,++this._order);return this._entries.push(h),this._resolved=null,(0,N.toDisposable)(()=>{for(let g=0;g<this._entries.length;g++)if(this._entries[g]===h){this._entries.splice(g,1),this._resolved=null;break}})}getRichEditSupport(){if(!this._resolved){const t=this._resolve();t&&(this._resolved=new d(this.languageIdentifier,t))}return this._resolved}_resolve(){if(this._entries.length===0)return null;this._entries.sort(u.cmp);const t={};for(const l of this._entries){const h=l.configuration;t.comments=h.comments||t.comments,t.brackets=h.brackets||t.brackets,t.wordPattern=h.wordPattern||t.wordPattern,t.indentationRules=h.indentationRules||t.indentationRules,t.onEnterRules=h.onEnterRules||t.onEnterRules,t.autoClosingPairs=h.autoClosingPairs||t.autoClosingPairs,t.surroundingPairs=h.surroundingPairs||t.surroundingPairs,t.autoCloseBefore=h.autoCloseBefore||t.autoCloseBefore,t.folding=h.folding||t.folding,t.colorizedBracketPairs=h.colorizedBracketPairs||t.colorizedBracketPairs,t.__electricCharacterSupport=h.__electricCharacterSupport||t.__electricCharacterSupport}return t}}class n{constructor(){this._entries=new Map,this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event}register(t,l,h=0){let g=this._entries.get(t.id);g||(g=new s(t),this._entries.set(t.id,g));const w=g.register(l,h);return this._onDidChange.fire(new c(t)),(0,N.toDisposable)(()=>{w.dispose(),this._onDidChange.fire(new c(t))})}_getRichEditSupport(t){const l=this._entries.get(t);return l?l.getRichEditSupport():null}getIndentationRules(t){const l=this._getRichEditSupport(t);return l&&l.indentationRules||null}_getElectricCharacterSupport(t){let l=this._getRichEditSupport(t);return l&&l.electricCharacter||null}getElectricCharacters(t){let l=this._getElectricCharacterSupport(t);return l?l.getElectricCharacters():[]}onElectricCharacter(t,l,h){let g=(0,p.createScopedLineTokens)(l,h-1),w=this._getElectricCharacterSupport(g.languageId);return w?w.onElectricCharacter(t,g,h-g.firstCharOffset):null}getComments(t){let l=this._getRichEditSupport(t);return l&&l.comments||null}_getCharacterPairSupport(t){let l=this._getRichEditSupport(t);return l&&l.characterPair||null}getAutoClosingPairs(t){const l=this._getCharacterPairSupport(t);return new S.AutoClosingPairs(l?l.getAutoClosingPairs():[])}getAutoCloseBeforeSet(t){let l=this._getCharacterPairSupport(t);return l?l.getAutoCloseBeforeSet():b.CharacterPairSupport.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(t){let l=this._getCharacterPairSupport(t);return l?l.getSurroundingPairs():[]}shouldAutoClosePair(t,l,h){const g=(0,p.createScopedLineTokens)(l,h-1);return b.CharacterPairSupport.shouldAutoClosePair(t,g,h-g.firstCharOffset)}getWordDefinition(t){let l=this._getRichEditSupport(t);return l?(0,D.ensureValidWordDefinition)(l.wordDefinition||null):(0,D.ensureValidWordDefinition)(null)}getFoldingRules(t){let l=this._getRichEditSupport(t);return l?l.foldingRules:{}}getIndentRulesSupport(t){let l=this._getRichEditSupport(t);return l&&l.indentRulesSupport||null}getPrecedingValidLine(t,l,h){let g=t.getLanguageIdAtPosition(l,0);if(l>1){let w,_=-1;for(w=l-1;w>=1;w--){if(t.getLanguageIdAtPosition(w,0)!==g)return _;let C=t.getLineContent(w);if(h.shouldIgnore(C)||/^\s+$/.test(C)||C===""){_=w;continue}return w}}return-1}getInheritIndentForLine(t,l,h,g=!0){if(t<4)return null;const w=this.getIndentRulesSupport(l.getLanguageIdentifier().id);if(!w)return null;if(h<=1)return{indentation:"",action:null};const _=this.getPrecedingValidLine(l,h,w);if(_<0)return null;if(_<1)return{indentation:"",action:null};const C=l.getLineContent(_);if(w.shouldIncrease(C)||w.shouldIndentNextLine(C))return{indentation:T.getLeadingWhitespace(C),action:S.IndentAction.Indent,line:_};if(w.shouldDecrease(C))return{indentation:T.getLeadingWhitespace(C),action:null,line:_};{if(_===1)return{indentation:T.getLeadingWhitespace(l.getLineContent(_)),action:null,line:_};const v=_-1,m=w.getIndentMetadata(l.getLineContent(v));if(!(m&(1|2))&&m&4){let E=0;for(let I=v-1;I>0;I--)if(!w.shouldIndentNextLine(l.getLineContent(I))){E=I;break}return{indentation:T.getLeadingWhitespace(l.getLineContent(E+1)),action:null,line:E+1}}if(g)return{indentation:T.getLeadingWhitespace(l.getLineContent(_)),action:null,line:_};for(let E=_;E>0;E--){const I=l.getLineContent(E);if(w.shouldIncrease(I))return{indentation:T.getLeadingWhitespace(I),action:S.IndentAction.Indent,line:E};if(w.shouldIndentNextLine(I)){let k=0;for(let A=E-1;A>0;A--)if(!w.shouldIndentNextLine(l.getLineContent(E))){k=A;break}return{indentation:T.getLeadingWhitespace(l.getLineContent(k+1)),action:null,line:k+1}}else if(w.shouldDecrease(I))return{indentation:T.getLeadingWhitespace(I),action:null,line:E}}return{indentation:T.getLeadingWhitespace(l.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(t,l,h,g,w){if(t<4)return null;const _=this._getRichEditSupport(h);if(!_)return null;const C=this.getIndentRulesSupport(h);if(!C)return null;const v=this.getInheritIndentForLine(t,l,g),m=l.getLineContent(g);if(v){const E=v.line;if(E!==void 0){const I=_.onEnter(t,"",l.getLineContent(E),"");if(I){let k=T.getLeadingWhitespace(l.getLineContent(E));return I.removeText&&(k=k.substring(0,k.length-I.removeText)),I.indentAction===S.IndentAction.Indent||I.indentAction===S.IndentAction.IndentOutdent?k=w.shiftIndent(k):I.indentAction===S.IndentAction.Outdent&&(k=w.unshiftIndent(k)),C.shouldDecrease(m)&&(k=w.unshiftIndent(k)),I.appendText&&(k+=I.appendText),T.getLeadingWhitespace(k)}}return C.shouldDecrease(m)?v.action===S.IndentAction.Indent?v.indentation:w.unshiftIndent(v.indentation):v.action===S.IndentAction.Indent?w.shiftIndent(v.indentation):v.indentation}return null}getIndentForEnter(t,l,h,g){if(t<4)return null;l.forceTokenization(h.startLineNumber);const w=l.getLineTokens(h.startLineNumber),_=(0,p.createScopedLineTokens)(w,h.startColumn-1),C=_.getLineContent();let v=!1,m;_.firstCharOffset>0&&w.getLanguageId(0)!==_.languageId?(v=!0,m=C.substr(0,h.startColumn-1-_.firstCharOffset)):m=w.getLineContent().substring(0,h.startColumn-1);let E;h.isEmpty()?E=C.substr(h.startColumn-1-_.firstCharOffset):E=this.getScopedLineTokens(l,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-_.firstCharOffset);const I=this.getIndentRulesSupport(_.languageId);if(!I)return null;const k=m,A=T.getLeadingWhitespace(m),P={getLineTokens:O=>l.getLineTokens(O),getLanguageIdentifier:()=>l.getLanguageIdentifier(),getLanguageIdAtPosition:(O,L)=>l.getLanguageIdAtPosition(O,L),getLineContent:O=>O===h.startLineNumber?k:l.getLineContent(O)},F=T.getLeadingWhitespace(w.getLineContent()),M=this.getInheritIndentForLine(t,P,h.startLineNumber+1);if(!M){const O=v?F:A;return{beforeEnter:O,afterEnter:O}}let R=v?F:M.indentation;return M.action===S.IndentAction.Indent&&(R=g.shiftIndent(R)),I.shouldDecrease(E)&&(R=g.unshiftIndent(R)),{beforeEnter:v?F:A,afterEnter:R}}getIndentActionForType(t,l,h,g,w){if(t<4)return null;const _=this.getScopedLineTokens(l,h.startLineNumber,h.startColumn);if(_.firstCharOffset)return null;const C=this.getIndentRulesSupport(_.languageId);if(!C)return null;const v=_.getLineContent(),m=v.substr(0,h.startColumn-1-_.firstCharOffset);let E;if(h.isEmpty()?E=v.substr(h.startColumn-1-_.firstCharOffset):E=this.getScopedLineTokens(l,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-_.firstCharOffset),!C.shouldDecrease(m+E)&&C.shouldDecrease(m+g+E)){const I=this.getInheritIndentForLine(t,l,h.startLineNumber,!1);if(!I)return null;let k=I.indentation;return I.action!==S.IndentAction.Indent&&(k=w.unshiftIndent(k)),k}return null}getIndentMetadata(t,l){const h=this.getIndentRulesSupport(t.getLanguageIdentifier().id);return!h||l<1||l>t.getLineCount()?null:h.getIndentMetadata(t.getLineContent(l))}getEnterAction(t,l,h){const g=this.getScopedLineTokens(l,h.startLineNumber,h.startColumn),w=this._getRichEditSupport(g.languageId);if(!w)return null;const _=g.getLineContent(),C=_.substr(0,h.startColumn-1-g.firstCharOffset);let v;h.isEmpty()?v=_.substr(h.startColumn-1-g.firstCharOffset):v=this.getScopedLineTokens(l,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-g.firstCharOffset);let m="";if(h.startLineNumber>1&&g.firstCharOffset===0){const F=this.getScopedLineTokens(l,h.startLineNumber-1);F.languageId===g.languageId&&(m=F.getLineContent())}const E=w.onEnter(t,m,C,v);if(!E)return null;const I=E.indentAction;let k=E.appendText;const A=E.removeText||0;k?I===S.IndentAction.Indent&&(k="	"+k):I===S.IndentAction.Indent||I===S.IndentAction.IndentOutdent?k="	":k="";let P=this.getIndentationAtPosition(l,h.startLineNumber,h.startColumn);return A&&(P=P.substring(0,P.length-A)),{indentAction:I,appendText:k,removeText:A,indentation:P}}getIndentationAtPosition(t,l,h){const g=t.getLineContent(l);let w=T.getLeadingWhitespace(g);return w.length>h-1&&(w=w.substring(0,h-1)),w}getScopedLineTokens(t,l,h){t.forceTokenization(l);const g=t.getLineTokens(l),w=typeof h=="undefined"?t.getLineMaxColumn(l)-1:h-1;return(0,p.createScopedLineTokens)(g,w)}getBracketsSupport(t){const l=this._getRichEditSupport(t);return l&&l.brackets||null}getColorizedBracketPairs(t){var l;return((l=this._getRichEditSupport(t))===null||l===void 0?void 0:l.characterPair.getColorizedBrackets())||[]}}e.LanguageConfigurationRegistryImpl=n,e.LanguageConfigurationRegistry=new n}),define(te[399],ie([0,1,29]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class N{constructor(s,n,a,t,l){this._parsedThemeRuleBrand=void 0,this.token=s,this.index=n,this.fontStyle=a,this.foreground=t,this.background=l}}e.ParsedTokenThemeRule=N;function T(u){if(!u||!Array.isArray(u))return[];let s=[],n=0;for(let a=0,t=u.length;a<t;a++){let l=u[a],h=-1;if(typeof l.fontStyle=="string"){h=0;let _=l.fontStyle.split(" ");for(let C=0,v=_.length;C<v;C++)switch(_[C]){case"italic":h=h|1;break;case"bold":h=h|2;break;case"underline":h=h|4;break}}let g=null;typeof l.foreground=="string"&&(g=l.foreground);let w=null;typeof l.background=="string"&&(w=l.background),s[n++]=new N(l.token||"",a,h,g,w)}return s}e.parseTokenTheme=T;function D(u,s){u.sort((C,v)=>{let m=r(C.token,v.token);return m!==0?m:C.index-v.index});let n=0,a="000000",t="ffffff";for(;u.length>=1&&u[0].token==="";){let C=u.shift();C.fontStyle!==-1&&(n=C.fontStyle),C.foreground!==null&&(a=C.foreground),C.background!==null&&(t=C.background)}let l=new p;for(let C of s)l.getId(C);let h=l.getId(a),g=l.getId(t),w=new o(n,h,g),_=new d(w);for(let C=0,v=u.length;C<v;C++){let m=u[C];_.insert(m.token,m.fontStyle,l.getId(m.foreground),l.getId(m.background))}return new b(l,_)}const S=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class p{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(s){if(s===null)return 0;const n=s.match(S);if(!n)throw new Error("Illegal value for token color: "+s);s=n[1].toUpperCase();let a=this._color2id.get(s);return a||(a=++this._lastColorId,this._color2id.set(s,a),this._id2color[a]=y.Color.fromHex("#"+s),a)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=p;class b{constructor(s,n){this._colorMap=s,this._root=n,this._cache=new Map}static createFromRawTokenTheme(s,n){return this.createFromParsedTokenTheme(T(s),n)}static createFromParsedTokenTheme(s,n){return D(s,n)}getColorMap(){return this._colorMap.getColorMap()}_match(s){return this._root.match(s)}match(s,n){let a=this._cache.get(n);if(typeof a=="undefined"){let t=this._match(n),l=f(n);a=(t.metadata|l<<8)>>>0,this._cache.set(n,a)}return(a|s<<0)>>>0}}e.TokenTheme=b;const i=/\b(comment|string|regex|regexp)\b/;function f(u){let s=u.match(i);if(!s)return 0;switch(s[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=f;function r(u,s){return u<s?-1:u>s?1:0}e.strcmp=r;class o{constructor(s,n,a){this._themeTrieElementRuleBrand=void 0,this._fontStyle=s,this._foreground=n,this._background=a,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new o(this._fontStyle,this._foreground,this._background)}acceptOverwrite(s,n,a){s!==-1&&(this._fontStyle=s),n!==0&&(this._foreground=n),a!==0&&(this._background=a),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}e.ThemeTrieElementRule=o;class d{constructor(s){this._themeTrieElementBrand=void 0,this._mainRule=s,this._children=new Map}match(s){if(s==="")return this._mainRule;let n=s.indexOf("."),a,t;n===-1?(a=s,t=""):(a=s.substring(0,n),t=s.substring(n+1));let l=this._children.get(a);return typeof l!="undefined"?l.match(t):this._mainRule}insert(s,n,a,t){if(s===""){this._mainRule.acceptOverwrite(n,a,t);return}let l=s.indexOf("."),h,g;l===-1?(h=s,g=""):(h=s.substring(0,l),g=s.substring(l+1));let w=this._children.get(h);typeof w=="undefined"&&(w=new d(this._mainRule.clone()),this._children.set(h,w)),w.insert(g,n,a,t)}}e.ThemeTrieElement=d;function c(u){let s=[];for(let n=1,a=u.length;n<a;n++){let t=u[n];s[n]=`.mtk${n} { color: ${t}; }`}return s.push(".mtki { font-style: italic; }"),s.push(".mtkb { font-weight: bold; }"),s.push(".mtku { text-decoration: underline; text-underline-position: under; }"),s.join(`
`)}e.generateTokensCSSForColorMap=c}),define(te[400],ie([0,1,6,2]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistryImpl=void 0;class T{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(S){this._onDidChange.fire({changedLanguages:S,changedColorMap:!1})}register(S,p){return this._map.set(S,p),this.fire([S]),(0,N.toDisposable)(()=>{this._map.get(S)===p&&(this._map.delete(S),this.fire([S]))})}registerPromise(S,p){let b=null,i=!1;return this._promises.set(S,p.then(f=>{this._promises.delete(S),!(i||!f)&&(b=this.register(S,f))})),(0,N.toDisposable)(()=>{i=!0,b&&b.dispose()})}getPromise(S){const p=this.get(S);if(p)return Promise.resolve(p);const b=this._promises.get(S);return b?b.then(i=>this.get(S)):null}get(S){return this._map.get(S)||null}setColorMap(S){this._colorMap=S,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistryImpl=T}),define(te[401],ie([0,1,104,17]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function T(b){for(let i=0,f=b.length;i<f;i+=4){const r=b[i+0],o=b[i+1],d=b[i+2],c=b[i+3];b[i+0]=c,b[i+1]=d,b[i+2]=o,b[i+3]=r}}function D(b){const i=new Uint8Array(b.buffer,b.byteOffset,b.length*4);return N.isLittleEndian()||T(i),y.VSBuffer.wrap(i)}function S(b){const i=new Uint32Array(p(b));let f=0;if(i[f++]=b.id,b.type==="full")i[f++]=1,i[f++]=b.data.length,i.set(b.data,f),f+=b.data.length;else{i[f++]=2,i[f++]=b.deltas.length;for(const r of b.deltas)i[f++]=r.start,i[f++]=r.deleteCount,r.data?(i[f++]=r.data.length,i.set(r.data,f),f+=r.data.length):i[f++]=0}return D(i)}e.encodeSemanticTokensDto=S;function p(b){let i=0;if(i+=1+1,b.type==="full")i+=1+b.data.length;else{i+=1,i+=(1+1+1)*b.deltas.length;for(const f of b.deltas)f.data&&(i+=f.data.length)}return i}}),define(te[177],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.IndentAction=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.AccessibilitySupport=void 0;var y;(function(L){L[L.Unknown=0]="Unknown",L[L.Disabled=1]="Disabled",L[L.Enabled=2]="Enabled"})(y=e.AccessibilitySupport||(e.AccessibilitySupport={}));var N;(function(L){L[L.KeepWhitespace=1]="KeepWhitespace",L[L.InsertAsSnippet=4]="InsertAsSnippet"})(N=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var T;(function(L){L[L.Method=0]="Method",L[L.Function=1]="Function",L[L.Constructor=2]="Constructor",L[L.Field=3]="Field",L[L.Variable=4]="Variable",L[L.Class=5]="Class",L[L.Struct=6]="Struct",L[L.Interface=7]="Interface",L[L.Module=8]="Module",L[L.Property=9]="Property",L[L.Event=10]="Event",L[L.Operator=11]="Operator",L[L.Unit=12]="Unit",L[L.Value=13]="Value",L[L.Constant=14]="Constant",L[L.Enum=15]="Enum",L[L.EnumMember=16]="EnumMember",L[L.Keyword=17]="Keyword",L[L.Text=18]="Text",L[L.Color=19]="Color",L[L.File=20]="File",L[L.Reference=21]="Reference",L[L.Customcolor=22]="Customcolor",L[L.Folder=23]="Folder",L[L.TypeParameter=24]="TypeParameter",L[L.User=25]="User",L[L.Issue=26]="Issue",L[L.Snippet=27]="Snippet"})(T=e.CompletionItemKind||(e.CompletionItemKind={}));var D;(function(L){L[L.Deprecated=1]="Deprecated"})(D=e.CompletionItemTag||(e.CompletionItemTag={}));var S;(function(L){L[L.Invoke=0]="Invoke",L[L.TriggerCharacter=1]="TriggerCharacter",L[L.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(S=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var p;(function(L){L[L.EXACT=0]="EXACT",L[L.ABOVE=1]="ABOVE",L[L.BELOW=2]="BELOW"})(p=e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={}));var b;(function(L){L[L.NotSet=0]="NotSet",L[L.ContentFlush=1]="ContentFlush",L[L.RecoverFromMarkers=2]="RecoverFromMarkers",L[L.Explicit=3]="Explicit",L[L.Paste=4]="Paste",L[L.Undo=5]="Undo",L[L.Redo=6]="Redo"})(b=e.CursorChangeReason||(e.CursorChangeReason={}));var i;(function(L){L[L.LF=1]="LF",L[L.CRLF=2]="CRLF"})(i=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var f;(function(L){L[L.Text=0]="Text",L[L.Read=1]="Read",L[L.Write=2]="Write"})(f=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var r;(function(L){L[L.None=0]="None",L[L.Keep=1]="Keep",L[L.Brackets=2]="Brackets",L[L.Advanced=3]="Advanced",L[L.Full=4]="Full"})(r=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={}));var o;(function(L){L[L.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",L[L.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",L[L.accessibilitySupport=2]="accessibilitySupport",L[L.accessibilityPageSize=3]="accessibilityPageSize",L[L.ariaLabel=4]="ariaLabel",L[L.autoClosingBrackets=5]="autoClosingBrackets",L[L.autoClosingDelete=6]="autoClosingDelete",L[L.autoClosingOvertype=7]="autoClosingOvertype",L[L.autoClosingQuotes=8]="autoClosingQuotes",L[L.autoIndent=9]="autoIndent",L[L.automaticLayout=10]="automaticLayout",L[L.autoSurround=11]="autoSurround",L[L.bracketPairColorization=12]="bracketPairColorization",L[L.guides=13]="guides",L[L.codeLens=14]="codeLens",L[L.codeLensFontFamily=15]="codeLensFontFamily",L[L.codeLensFontSize=16]="codeLensFontSize",L[L.colorDecorators=17]="colorDecorators",L[L.columnSelection=18]="columnSelection",L[L.comments=19]="comments",L[L.contextmenu=20]="contextmenu",L[L.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",L[L.cursorBlinking=22]="cursorBlinking",L[L.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",L[L.cursorStyle=24]="cursorStyle",L[L.cursorSurroundingLines=25]="cursorSurroundingLines",L[L.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",L[L.cursorWidth=27]="cursorWidth",L[L.disableLayerHinting=28]="disableLayerHinting",L[L.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",L[L.domReadOnly=30]="domReadOnly",L[L.dragAndDrop=31]="dragAndDrop",L[L.emptySelectionClipboard=32]="emptySelectionClipboard",L[L.extraEditorClassName=33]="extraEditorClassName",L[L.fastScrollSensitivity=34]="fastScrollSensitivity",L[L.find=35]="find",L[L.fixedOverflowWidgets=36]="fixedOverflowWidgets",L[L.folding=37]="folding",L[L.foldingStrategy=38]="foldingStrategy",L[L.foldingHighlight=39]="foldingHighlight",L[L.foldingImportsByDefault=40]="foldingImportsByDefault",L[L.unfoldOnClickAfterEndOfLine=41]="unfoldOnClickAfterEndOfLine",L[L.fontFamily=42]="fontFamily",L[L.fontInfo=43]="fontInfo",L[L.fontLigatures=44]="fontLigatures",L[L.fontSize=45]="fontSize",L[L.fontWeight=46]="fontWeight",L[L.formatOnPaste=47]="formatOnPaste",L[L.formatOnType=48]="formatOnType",L[L.glyphMargin=49]="glyphMargin",L[L.gotoLocation=50]="gotoLocation",L[L.hideCursorInOverviewRuler=51]="hideCursorInOverviewRuler",L[L.hover=52]="hover",L[L.inDiffEditor=53]="inDiffEditor",L[L.inlineSuggest=54]="inlineSuggest",L[L.letterSpacing=55]="letterSpacing",L[L.lightbulb=56]="lightbulb",L[L.lineDecorationsWidth=57]="lineDecorationsWidth",L[L.lineHeight=58]="lineHeight",L[L.lineNumbers=59]="lineNumbers",L[L.lineNumbersMinChars=60]="lineNumbersMinChars",L[L.linkedEditing=61]="linkedEditing",L[L.links=62]="links",L[L.matchBrackets=63]="matchBrackets",L[L.minimap=64]="minimap",L[L.mouseStyle=65]="mouseStyle",L[L.mouseWheelScrollSensitivity=66]="mouseWheelScrollSensitivity",L[L.mouseWheelZoom=67]="mouseWheelZoom",L[L.multiCursorMergeOverlapping=68]="multiCursorMergeOverlapping",L[L.multiCursorModifier=69]="multiCursorModifier",L[L.multiCursorPaste=70]="multiCursorPaste",L[L.occurrencesHighlight=71]="occurrencesHighlight",L[L.overviewRulerBorder=72]="overviewRulerBorder",L[L.overviewRulerLanes=73]="overviewRulerLanes",L[L.padding=74]="padding",L[L.parameterHints=75]="parameterHints",L[L.peekWidgetDefaultFocus=76]="peekWidgetDefaultFocus",L[L.definitionLinkOpensInPeek=77]="definitionLinkOpensInPeek",L[L.quickSuggestions=78]="quickSuggestions",L[L.quickSuggestionsDelay=79]="quickSuggestionsDelay",L[L.readOnly=80]="readOnly",L[L.renameOnType=81]="renameOnType",L[L.renderControlCharacters=82]="renderControlCharacters",L[L.renderFinalNewline=83]="renderFinalNewline",L[L.renderLineHighlight=84]="renderLineHighlight",L[L.renderLineHighlightOnlyWhenFocus=85]="renderLineHighlightOnlyWhenFocus",L[L.renderValidationDecorations=86]="renderValidationDecorations",L[L.renderWhitespace=87]="renderWhitespace",L[L.revealHorizontalRightPadding=88]="revealHorizontalRightPadding",L[L.roundedSelection=89]="roundedSelection",L[L.rulers=90]="rulers",L[L.scrollbar=91]="scrollbar",L[L.scrollBeyondLastColumn=92]="scrollBeyondLastColumn",L[L.scrollBeyondLastLine=93]="scrollBeyondLastLine",L[L.scrollPredominantAxis=94]="scrollPredominantAxis",L[L.selectionClipboard=95]="selectionClipboard",L[L.selectionHighlight=96]="selectionHighlight",L[L.selectOnLineNumbers=97]="selectOnLineNumbers",L[L.showFoldingControls=98]="showFoldingControls",L[L.showUnused=99]="showUnused",L[L.snippetSuggestions=100]="snippetSuggestions",L[L.smartSelect=101]="smartSelect",L[L.smoothScrolling=102]="smoothScrolling",L[L.stickyTabStops=103]="stickyTabStops",L[L.stopRenderingLineAfter=104]="stopRenderingLineAfter",L[L.suggest=105]="suggest",L[L.suggestFontSize=106]="suggestFontSize",L[L.suggestLineHeight=107]="suggestLineHeight",L[L.suggestOnTriggerCharacters=108]="suggestOnTriggerCharacters",L[L.suggestSelection=109]="suggestSelection",L[L.tabCompletion=110]="tabCompletion",L[L.tabIndex=111]="tabIndex",L[L.unusualLineTerminators=112]="unusualLineTerminators",L[L.useShadowDOM=113]="useShadowDOM",L[L.useTabStops=114]="useTabStops",L[L.wordSeparators=115]="wordSeparators",L[L.wordWrap=116]="wordWrap",L[L.wordWrapBreakAfterCharacters=117]="wordWrapBreakAfterCharacters",L[L.wordWrapBreakBeforeCharacters=118]="wordWrapBreakBeforeCharacters",L[L.wordWrapColumn=119]="wordWrapColumn",L[L.wordWrapOverride1=120]="wordWrapOverride1",L[L.wordWrapOverride2=121]="wordWrapOverride2",L[L.wrappingIndent=122]="wrappingIndent",L[L.wrappingStrategy=123]="wrappingStrategy",L[L.showDeprecated=124]="showDeprecated",L[L.inlayHints=125]="inlayHints",L[L.editorClassName=126]="editorClassName",L[L.pixelRatio=127]="pixelRatio",L[L.tabFocusMode=128]="tabFocusMode",L[L.layoutInfo=129]="layoutInfo",L[L.wrappingInfo=130]="wrappingInfo"})(o=e.EditorOption||(e.EditorOption={}));var d;(function(L){L[L.TextDefined=0]="TextDefined",L[L.LF=1]="LF",L[L.CRLF=2]="CRLF"})(d=e.EndOfLinePreference||(e.EndOfLinePreference={}));var c;(function(L){L[L.LF=0]="LF",L[L.CRLF=1]="CRLF"})(c=e.EndOfLineSequence||(e.EndOfLineSequence={}));var u;(function(L){L[L.None=0]="None",L[L.Indent=1]="Indent",L[L.IndentOutdent=2]="IndentOutdent",L[L.Outdent=3]="Outdent"})(u=e.IndentAction||(e.IndentAction={}));var s;(function(L){L[L.Other=0]="Other",L[L.Type=1]="Type",L[L.Parameter=2]="Parameter"})(s=e.InlayHintKind||(e.InlayHintKind={}));var n;(function(L){L[L.Automatic=0]="Automatic",L[L.Explicit=1]="Explicit"})(n=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var a;(function(L){L[L.DependsOnKbLayout=-1]="DependsOnKbLayout",L[L.Unknown=0]="Unknown",L[L.Backspace=1]="Backspace",L[L.Tab=2]="Tab",L[L.Enter=3]="Enter",L[L.Shift=4]="Shift",L[L.Ctrl=5]="Ctrl",L[L.Alt=6]="Alt",L[L.PauseBreak=7]="PauseBreak",L[L.CapsLock=8]="CapsLock",L[L.Escape=9]="Escape",L[L.Space=10]="Space",L[L.PageUp=11]="PageUp",L[L.PageDown=12]="PageDown",L[L.End=13]="End",L[L.Home=14]="Home",L[L.LeftArrow=15]="LeftArrow",L[L.UpArrow=16]="UpArrow",L[L.RightArrow=17]="RightArrow",L[L.DownArrow=18]="DownArrow",L[L.Insert=19]="Insert",L[L.Delete=20]="Delete",L[L.KEY_0=21]="KEY_0",L[L.KEY_1=22]="KEY_1",L[L.KEY_2=23]="KEY_2",L[L.KEY_3=24]="KEY_3",L[L.KEY_4=25]="KEY_4",L[L.KEY_5=26]="KEY_5",L[L.KEY_6=27]="KEY_6",L[L.KEY_7=28]="KEY_7",L[L.KEY_8=29]="KEY_8",L[L.KEY_9=30]="KEY_9",L[L.KEY_A=31]="KEY_A",L[L.KEY_B=32]="KEY_B",L[L.KEY_C=33]="KEY_C",L[L.KEY_D=34]="KEY_D",L[L.KEY_E=35]="KEY_E",L[L.KEY_F=36]="KEY_F",L[L.KEY_G=37]="KEY_G",L[L.KEY_H=38]="KEY_H",L[L.KEY_I=39]="KEY_I",L[L.KEY_J=40]="KEY_J",L[L.KEY_K=41]="KEY_K",L[L.KEY_L=42]="KEY_L",L[L.KEY_M=43]="KEY_M",L[L.KEY_N=44]="KEY_N",L[L.KEY_O=45]="KEY_O",L[L.KEY_P=46]="KEY_P",L[L.KEY_Q=47]="KEY_Q",L[L.KEY_R=48]="KEY_R",L[L.KEY_S=49]="KEY_S",L[L.KEY_T=50]="KEY_T",L[L.KEY_U=51]="KEY_U",L[L.KEY_V=52]="KEY_V",L[L.KEY_W=53]="KEY_W",L[L.KEY_X=54]="KEY_X",L[L.KEY_Y=55]="KEY_Y",L[L.KEY_Z=56]="KEY_Z",L[L.Meta=57]="Meta",L[L.ContextMenu=58]="ContextMenu",L[L.F1=59]="F1",L[L.F2=60]="F2",L[L.F3=61]="F3",L[L.F4=62]="F4",L[L.F5=63]="F5",L[L.F6=64]="F6",L[L.F7=65]="F7",L[L.F8=66]="F8",L[L.F9=67]="F9",L[L.F10=68]="F10",L[L.F11=69]="F11",L[L.F12=70]="F12",L[L.F13=71]="F13",L[L.F14=72]="F14",L[L.F15=73]="F15",L[L.F16=74]="F16",L[L.F17=75]="F17",L[L.F18=76]="F18",L[L.F19=77]="F19",L[L.NumLock=78]="NumLock",L[L.ScrollLock=79]="ScrollLock",L[L.US_SEMICOLON=80]="US_SEMICOLON",L[L.US_EQUAL=81]="US_EQUAL",L[L.US_COMMA=82]="US_COMMA",L[L.US_MINUS=83]="US_MINUS",L[L.US_DOT=84]="US_DOT",L[L.US_SLASH=85]="US_SLASH",L[L.US_BACKTICK=86]="US_BACKTICK",L[L.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",L[L.US_BACKSLASH=88]="US_BACKSLASH",L[L.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",L[L.US_QUOTE=90]="US_QUOTE",L[L.OEM_8=91]="OEM_8",L[L.OEM_102=92]="OEM_102",L[L.NUMPAD_0=93]="NUMPAD_0",L[L.NUMPAD_1=94]="NUMPAD_1",L[L.NUMPAD_2=95]="NUMPAD_2",L[L.NUMPAD_3=96]="NUMPAD_3",L[L.NUMPAD_4=97]="NUMPAD_4",L[L.NUMPAD_5=98]="NUMPAD_5",L[L.NUMPAD_6=99]="NUMPAD_6",L[L.NUMPAD_7=100]="NUMPAD_7",L[L.NUMPAD_8=101]="NUMPAD_8",L[L.NUMPAD_9=102]="NUMPAD_9",L[L.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",L[L.NUMPAD_ADD=104]="NUMPAD_ADD",L[L.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",L[L.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",L[L.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",L[L.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",L[L.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",L[L.ABNT_C1=110]="ABNT_C1",L[L.ABNT_C2=111]="ABNT_C2",L[L.MAX_VALUE=112]="MAX_VALUE"})(a=e.KeyCode||(e.KeyCode={}));var t;(function(L){L[L.Hint=1]="Hint",L[L.Info=2]="Info",L[L.Warning=4]="Warning",L[L.Error=8]="Error"})(t=e.MarkerSeverity||(e.MarkerSeverity={}));var l;(function(L){L[L.Unnecessary=1]="Unnecessary",L[L.Deprecated=2]="Deprecated"})(l=e.MarkerTag||(e.MarkerTag={}));var h;(function(L){L[L.Inline=1]="Inline",L[L.Gutter=2]="Gutter"})(h=e.MinimapPosition||(e.MinimapPosition={}));var g;(function(L){L[L.UNKNOWN=0]="UNKNOWN",L[L.TEXTAREA=1]="TEXTAREA",L[L.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",L[L.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",L[L.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",L[L.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",L[L.CONTENT_TEXT=6]="CONTENT_TEXT",L[L.CONTENT_EMPTY=7]="CONTENT_EMPTY",L[L.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",L[L.CONTENT_WIDGET=9]="CONTENT_WIDGET",L[L.OVERVIEW_RULER=10]="OVERVIEW_RULER",L[L.SCROLLBAR=11]="SCROLLBAR",L[L.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",L[L.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(g=e.MouseTargetType||(e.MouseTargetType={}));var w;(function(L){L[L.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",L[L.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",L[L.TOP_CENTER=2]="TOP_CENTER"})(w=e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={}));var _;(function(L){L[L.Left=1]="Left",L[L.Center=2]="Center",L[L.Right=4]="Right",L[L.Full=7]="Full"})(_=e.OverviewRulerLane||(e.OverviewRulerLane={}));var C;(function(L){L[L.Off=0]="Off",L[L.On=1]="On",L[L.Relative=2]="Relative",L[L.Interval=3]="Interval",L[L.Custom=4]="Custom"})(C=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));var v;(function(L){L[L.None=0]="None",L[L.Text=1]="Text",L[L.Blocks=2]="Blocks"})(v=e.RenderMinimap||(e.RenderMinimap={}));var m;(function(L){L[L.Smooth=0]="Smooth",L[L.Immediate=1]="Immediate"})(m=e.ScrollType||(e.ScrollType={}));var E;(function(L){L[L.Auto=1]="Auto",L[L.Hidden=2]="Hidden",L[L.Visible=3]="Visible"})(E=e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var I;(function(L){L[L.LTR=0]="LTR",L[L.RTL=1]="RTL"})(I=e.SelectionDirection||(e.SelectionDirection={}));var k;(function(L){L[L.Invoke=1]="Invoke",L[L.TriggerCharacter=2]="TriggerCharacter",L[L.ContentChange=3]="ContentChange"})(k=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var A;(function(L){L[L.File=0]="File",L[L.Module=1]="Module",L[L.Namespace=2]="Namespace",L[L.Package=3]="Package",L[L.Class=4]="Class",L[L.Method=5]="Method",L[L.Property=6]="Property",L[L.Field=7]="Field",L[L.Constructor=8]="Constructor",L[L.Enum=9]="Enum",L[L.Interface=10]="Interface",L[L.Function=11]="Function",L[L.Variable=12]="Variable",L[L.Constant=13]="Constant",L[L.String=14]="String",L[L.Number=15]="Number",L[L.Boolean=16]="Boolean",L[L.Array=17]="Array",L[L.Object=18]="Object",L[L.Key=19]="Key",L[L.Null=20]="Null",L[L.EnumMember=21]="EnumMember",L[L.Struct=22]="Struct",L[L.Event=23]="Event",L[L.Operator=24]="Operator",L[L.TypeParameter=25]="TypeParameter"})(A=e.SymbolKind||(e.SymbolKind={}));var P;(function(L){L[L.Deprecated=1]="Deprecated"})(P=e.SymbolTag||(e.SymbolTag={}));var F;(function(L){L[L.Hidden=0]="Hidden",L[L.Blink=1]="Blink",L[L.Smooth=2]="Smooth",L[L.Phase=3]="Phase",L[L.Expand=4]="Expand",L[L.Solid=5]="Solid"})(F=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));var M;(function(L){L[L.Line=1]="Line",L[L.Block=2]="Block",L[L.Underline=3]="Underline",L[L.LineThin=4]="LineThin",L[L.BlockOutline=5]="BlockOutline",L[L.UnderlineThin=6]="UnderlineThin"})(M=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));var R;(function(L){L[L.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",L[L.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",L[L.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",L[L.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(R=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var O;(function(L){L[L.None=0]="None",L[L.Same=1]="Same",L[L.Indent=2]="Indent",L[L.DeepIndent=3]="DeepIndent"})(O=e.WrappingIndent||(e.WrappingIndent={}))}),define(te[231],ie([0,1,23,6,43,24,13,3,21,137,177]),function(q,e,y,N,T,D,S,p,b,i,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class r{static chord(c,u){return(0,T.KeyChord)(c,u)}}e.KeyMod=r,r.CtrlCmd=2048,r.Shift=1024,r.Alt=512,r.WinCtrl=256;function o(){return{editor:void 0,languages:void 0,CancellationTokenSource:y.CancellationTokenSource,Emitter:N.Emitter,KeyCode:f.KeyCode,KeyMod:r,Position:S.Position,Range:p.Range,Selection:b.Selection,SelectionDirection:f.SelectionDirection,MarkerSeverity:f.MarkerSeverity,MarkerTag:f.MarkerTag,Uri:D.URI,Token:i.Token}}e.createMonacoBaseAPI=o}),define(te[232],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class y{constructor(S,p,b){this._colorZoneBrand=void 0,this.from=S|0,this.to=p|0,this.colorId=b|0}static compare(S,p){return S.colorId===p.colorId?S.from===p.from?S.to-p.to:S.from-p.from:S.colorId-p.colorId}}e.ColorZone=y;class N{constructor(S,p,b){this._overviewRulerZoneBrand=void 0,this.startLineNumber=S,this.endLineNumber=p,this.color=b,this._colorZone=null}static compare(S,p){return S.color===p.color?S.startLineNumber===p.startLineNumber?S.endLineNumber-p.endLineNumber:S.startLineNumber-p.startLineNumber:S.color<p.color?-1:1}setColorZone(S){this._colorZone=S}getColorZones(){return this._colorZone}}e.OverviewRulerZone=N;class T{constructor(S){this._getVerticalOffsetForLine=S,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(S){this._zones=S,this._zones.sort(N.compare)}setLineHeight(S){return this._lineHeight===S?!1:(this._lineHeight=S,this._colorZonesInvalid=!0,!0)}setPixelRatio(S){this._pixelRatio=S,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(S){return this._domWidth===S?!1:(this._domWidth=S,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(S){return this._domHeight===S?!1:(this._domHeight=S,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(S){return this._outerHeight===S?!1:(this._outerHeight=S,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const S=this._colorZonesInvalid,p=Math.floor(this._lineHeight),b=Math.floor(this.getCanvasHeight()),i=Math.floor(this._outerHeight),f=b/i,r=Math.floor(4*this._pixelRatio/2);let o=[];for(let d=0,c=this._zones.length;d<c;d++){const u=this._zones[d];if(!S){const w=u.getColorZones();if(w){o.push(w);continue}}const s=Math.floor(f*this._getVerticalOffsetForLine(u.startLineNumber)),n=Math.floor(f*(this._getVerticalOffsetForLine(u.endLineNumber)+p));let a=Math.floor((s+n)/2),t=n-a;t<r&&(t=r),a-t<0&&(a=t),a+t>b&&(a=b-t);const l=u.color;let h=this._color2Id[l];h||(h=++this._lastAssignedId,this._color2Id[l]=h,this._id2Color[h]=l);const g=new y(a-t,a+t,h);u.setColorZone(g),o.push(g)}return this._colorZonesInvalid=!1,o.sort(y.compare),o}}e.OverviewZoneManager=T}),define(te[116],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class y{constructor(f,r){this._restrictedRenderingContextBrand=void 0,this._viewLayout=f,this.viewportData=r,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const o=this._viewLayout.getCurrentViewport();this.scrollTop=o.top,this.scrollLeft=o.left,this.viewportWidth=o.width,this.viewportHeight=o.height}getScrolledTopFromAbsoluteTop(f){return f-this.scrollTop}getVerticalOffsetForLineNumber(f){return this._viewLayout.getVerticalOffsetForLineNumber(f)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=y;class N extends y{constructor(f,r,o){super(f,r);this._renderingContextBrand=void 0,this._viewLines=o}linesVisibleRangesForRange(f,r){return this._viewLines.linesVisibleRangesForRange(f,r)}visibleRangeForPosition(f){return this._viewLines.visibleRangeForPosition(f)}}e.RenderingContext=N;class T{constructor(f,r,o){this.outsideRenderedLine=f,this.lineNumber=r,this.ranges=o}}e.LineVisibleRanges=T;class D{constructor(f,r){this._horizontalRangeBrand=void 0,this.left=Math.round(f),this.width=Math.round(r)}static from(f){const r=new Array(f.length);for(let o=0,d=f.length;o<d;o++){const c=f[o];r[o]=new D(c.left,c.width)}return r}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=D;class S{constructor(f,r){this._floatHorizontalRangeBrand=void 0,this.left=f,this.width=r}toString(){return`[${this.left},${this.width}]`}static compare(f,r){return f.left-r.left}}e.FloatHorizontalRange=S;class p{constructor(f,r){this.outsideRenderedLine=f,this.originalLeft=r,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=p;class b{constructor(f,r){this.outsideRenderedLine=f,this.ranges=r}}e.VisibleRanges=b}),define(te[402],ie([0,1,116]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class N{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(D,S){D.selectNodeContents(S)}static _readClientRects(D,S,p,b,i){const f=this._createRange();try{return f.setStart(D,S),f.setEnd(p,b),f.getClientRects()}catch(r){return null}finally{this._detachRange(f,i)}}static _mergeAdjacentRanges(D){if(D.length===1)return D;D.sort(y.FloatHorizontalRange.compare);let S=[],p=0,b=D[0];for(let i=1,f=D.length;i<f;i++){const r=D[i];b.left+b.width+.9>=r.left?b.width=Math.max(b.width,r.left+r.width-b.left):(S[p++]=b,b=r)}return S[p++]=b,S}static _createHorizontalRangesFromClientRects(D,S){if(!D||D.length===0)return null;const p=[];for(let b=0,i=D.length;b<i;b++){const f=D[b];p[b]=new y.FloatHorizontalRange(Math.max(0,f.left-S),f.width)}return this._mergeAdjacentRanges(p)}static readHorizontalRanges(D,S,p,b,i,f,r){const o=0,d=D.children.length-1;if(o>d)return null;if(S=Math.min(d,Math.max(o,S)),b=Math.min(d,Math.max(o,b)),S===b&&p===i&&p===0&&!D.children[S].firstChild){const n=D.children[S].getClientRects();return this._createHorizontalRangesFromClientRects(n,f)}S!==b&&b>0&&i===0&&(b--,i=1073741824);let c=D.children[S].firstChild,u=D.children[b].firstChild;if((!c||!u)&&(!c&&p===0&&S>0&&(c=D.children[S-1].firstChild,p=1073741824),!u&&i===0&&b>0&&(u=D.children[b-1].firstChild,i=1073741824)),!c||!u)return null;p=Math.min(c.textContent.length,Math.max(0,p)),i=Math.min(u.textContent.length,Math.max(0,i));const s=this._readClientRects(c,p,u,i,r);return this._createHorizontalRangesFromClientRects(s,f)}}e.RangeUtil=N}),define(te[403],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=e.EditorTheme=void 0;class y{constructor(D){this._theme=D}get type(){return this._theme.type}update(D){this._theme=D}getColor(D){return this._theme.getColor(D)}}e.EditorTheme=y;class N{constructor(D,S,p){this.configuration=D,this.theme=new y(S),this.model=p,this.viewLayout=p.viewLayout}addEventHandler(D){this.model.addViewEventHandler(D)}removeEventHandler(D){this.model.removeViewEventHandler(D)}}e.ViewContext=N}),define(te[178],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class y{constructor(){this.type=0}}e.ViewCompositionStartEvent=y;class N{constructor(){this.type=1}}e.ViewCompositionEndEvent=N;class T{constructor(h){this.type=2,this._source=h}hasChanged(h){return this._source.hasChanged(h)}}e.ViewConfigurationChangedEvent=T;class D{constructor(h,g){this.type=3,this.selections=h,this.modelSelections=g}}e.ViewCursorStateChangedEvent=D;class S{constructor(h){this.type=4,h?(this.affectsMinimap=h.affectsMinimap,this.affectsOverviewRuler=h.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}e.ViewDecorationsChangedEvent=S;class p{constructor(){this.type=5}}e.ViewFlushedEvent=p;class b{constructor(h){this.type=6,this.isFocused=h}}e.ViewFocusChangedEvent=b;class i{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=i;class f{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=f;class r{constructor(h,g){this.type=9,this.fromLineNumber=h,this.toLineNumber=g}}e.ViewLinesChangedEvent=r;class o{constructor(h,g){this.type=10,this.fromLineNumber=h,this.toLineNumber=g}}e.ViewLinesDeletedEvent=o;class d{constructor(h,g){this.type=11,this.fromLineNumber=h,this.toLineNumber=g}}e.ViewLinesInsertedEvent=d;class c{constructor(h,g,w,_,C,v){this.type=12,this.source=h,this.range=g,this.selections=w,this.verticalType=_,this.revealHorizontal=C,this.scrollType=v}}e.ViewRevealRangeRequestEvent=c;class u{constructor(h){this.type=13,this.scrollWidth=h.scrollWidth,this.scrollLeft=h.scrollLeft,this.scrollHeight=h.scrollHeight,this.scrollTop=h.scrollTop,this.scrollWidthChanged=h.scrollWidthChanged,this.scrollLeftChanged=h.scrollLeftChanged,this.scrollHeightChanged=h.scrollHeightChanged,this.scrollTopChanged=h.scrollTopChanged}}e.ViewScrollChangedEvent=u;class s{constructor(){this.type=14}}e.ViewThemeChangedEvent=s;class n{constructor(h){this.type=15,this.ranges=h}}e.ViewTokensChangedEvent=n;class a{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=a;class t{constructor(){this.type=17}}e.ViewZonesChangedEvent=t}),define(te[140],ie([0,1,8]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class N{constructor(b,i,f,r){this.startColumn=b,this.endColumn=i,this.className=f,this.type=r,this._lineDecorationBrand=void 0}static _equals(b,i){return b.startColumn===i.startColumn&&b.endColumn===i.endColumn&&b.className===i.className&&b.type===i.type}static equalsArr(b,i){const f=b.length,r=i.length;if(f!==r)return!1;for(let o=0;o<f;o++)if(!N._equals(b[o],i[o]))return!1;return!0}static extractWrapped(b,i,f){if(b.length===0)return b;const r=i+1,o=f+1,d=f-i,c=[];let u=0;for(const s of b)s.endColumn<=r||s.startColumn>=o||(c[u++]=new N(Math.max(1,s.startColumn-r+1),Math.min(d+1,s.endColumn-r+1),s.className,s.type));return c}static filter(b,i,f,r){if(b.length===0)return[];let o=[],d=0;for(let c=0,u=b.length;c<u;c++){const s=b[c],n=s.range;if(n.endLineNumber<i||n.startLineNumber>i||n.isEmpty()&&(s.type===0||s.type===3))continue;const a=n.startLineNumber===i?n.startColumn:f,t=n.endLineNumber===i?n.endColumn:r;o[d++]=new N(a,t,s.inlineClassName,s.type)}return o}static _typeCompare(b,i){const f=[2,0,1,3];return f[b]-f[i]}static compare(b,i){if(b.startColumn!==i.startColumn)return b.startColumn-i.startColumn;if(b.endColumn!==i.endColumn)return b.endColumn-i.endColumn;const f=N._typeCompare(b.type,i.type);return f!==0?f:b.className!==i.className?b.className<i.className?-1:1:0}}e.LineDecoration=N;class T{constructor(b,i,f,r){this.startOffset=b,this.endOffset=i,this.className=f,this.metadata=r}}e.DecorationSegment=T;class D{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(b){let i=0;for(let f=0,r=b.length;f<r;f++)i|=b[f];return i}consumeLowerThan(b,i,f){for(;this.count>0&&this.stopOffsets[0]<b;){let r=0;for(;r+1<this.count&&this.stopOffsets[r]===this.stopOffsets[r+1];)r++;f.push(new T(i,this.stopOffsets[r],this.classNames.join(" "),D._metadata(this.metadata))),i=this.stopOffsets[r]+1,this.stopOffsets.splice(0,r+1),this.classNames.splice(0,r+1),this.metadata.splice(0,r+1),this.count-=r+1}return this.count>0&&i<b&&(f.push(new T(i,b-1,this.classNames.join(" "),D._metadata(this.metadata))),i=b),i}insert(b,i,f){if(this.count===0||this.stopOffsets[this.count-1]<=b)this.stopOffsets.push(b),this.classNames.push(i),this.metadata.push(f);else for(let r=0;r<this.count;r++)if(this.stopOffsets[r]>=b){this.stopOffsets.splice(r,0,b),this.classNames.splice(r,0,i),this.metadata.splice(r,0,f);break}this.count++}}class S{static normalize(b,i){if(i.length===0)return[];let f=[];const r=new D;let o=0;for(let d=0,c=i.length;d<c;d++){const u=i[d];let s=u.startColumn,n=u.endColumn;const a=u.className,t=u.type===1?2:u.type===2?4:0;if(s>1){const g=b.charCodeAt(s-2);y.isHighSurrogate(g)&&s--}if(n>1){const g=b.charCodeAt(n-2);y.isHighSurrogate(g)&&n--}const l=s-1,h=n-2;o=r.consumeLowerThan(l,o,f),r.count===0&&(o=l),r.insert(h,a,t)}return r.consumeLowerThan(1073741824,o,f),f}}e.LineDecorationsNormalizer=S}),define(te[404],ie([0,1,8]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class N{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(p){this._hasPending=!0,this._inserts.push(p)}change(p){this._hasPending=!0,this._changes.push(p)}remove(p){this._hasPending=!0,this._removes.push(p)}mustCommit(){return this._hasPending}commit(p){if(!this._hasPending)return;const b=this._inserts,i=this._changes,f=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],p._commitPendingChanges(b,i,f)}}class T{constructor(p,b,i,f,r){this.id=p,this.afterLineNumber=b,this.ordinal=i,this.height=f,this.minWidth=r,this.prefixSum=0}}e.EditorWhitespace=T;class D{constructor(p,b,i,f){this._instanceId=y.singleLetterHash(++D.INSTANCE_COUNT),this._pendingChanges=new N,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=p,this._lineHeight=b,this._paddingTop=i,this._paddingBottom=f}static findInsertionIndex(p,b,i){let f=0,r=p.length;for(;f<r;){const o=f+r>>>1;b===p[o].afterLineNumber?i<p[o].ordinal?r=o:f=o+1:b<p[o].afterLineNumber?r=o:f=o+1}return f}setLineHeight(p){this._checkPendingChanges(),this._lineHeight=p}setPadding(p,b){this._paddingTop=p,this._paddingBottom=b}onFlushed(p){this._checkPendingChanges(),this._lineCount=p}changeWhitespace(p){let b=!1;try{p({insertWhitespace:(f,r,o,d)=>{b=!0,f=f|0,r=r|0,o=o|0,d=d|0;const c=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new T(c,f,r,o,d)),c},changeOneWhitespace:(f,r,o)=>{b=!0,r=r|0,o=o|0,this._pendingChanges.change({id:f,newAfterLineNumber:r,newHeight:o})},removeWhitespace:f=>{b=!0,this._pendingChanges.remove({id:f})}})}finally{this._pendingChanges.commit(this)}return b}_commitPendingChanges(p,b,i){if((p.length>0||i.length>0)&&(this._minWidth=-1),p.length+b.length+i.length<=1){for(const c of p)this._insertWhitespace(c);for(const c of b)this._changeOneWhitespace(c.id,c.newAfterLineNumber,c.newHeight);for(const c of i){const u=this._findWhitespaceIndex(c.id);u!==-1&&this._removeWhitespace(u)}return}const f=new Set;for(const c of i)f.add(c.id);const r=new Map;for(const c of b)r.set(c.id,c);const o=c=>{let u=[];for(const s of c)if(!f.has(s.id)){if(r.has(s.id)){const n=r.get(s.id);s.afterLineNumber=n.newAfterLineNumber,s.height=n.newHeight}u.push(s)}return u},d=o(this._arr).concat(o(p));d.sort((c,u)=>c.afterLineNumber===u.afterLineNumber?c.ordinal-u.ordinal:c.afterLineNumber-u.afterLineNumber),this._arr=d,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(p){const b=D.findInsertionIndex(this._arr,p.afterLineNumber,p.ordinal);this._arr.splice(b,0,p),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,b-1)}_findWhitespaceIndex(p){const b=this._arr;for(let i=0,f=b.length;i<f;i++)if(b[i].id===p)return i;return-1}_changeOneWhitespace(p,b,i){const f=this._findWhitespaceIndex(p);if(f!==-1&&(this._arr[f].height!==i&&(this._arr[f].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,f-1)),this._arr[f].afterLineNumber!==b)){const r=this._arr[f];this._removeWhitespace(f),r.afterLineNumber=b,this._insertWhitespace(r)}}_removeWhitespace(p){this._arr.splice(p,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,p-1)}onLinesDeleted(p,b){this._checkPendingChanges(),p=p|0,b=b|0,this._lineCount-=b-p+1;for(let i=0,f=this._arr.length;i<f;i++){const r=this._arr[i].afterLineNumber;p<=r&&r<=b?this._arr[i].afterLineNumber=p-1:r>b&&(this._arr[i].afterLineNumber-=b-p+1)}}onLinesInserted(p,b){this._checkPendingChanges(),p=p|0,b=b|0,this._lineCount+=b-p+1;for(let i=0,f=this._arr.length;i<f;i++){const r=this._arr[i].afterLineNumber;p<=r&&(this._arr[i].afterLineNumber+=b-p+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(p){this._checkPendingChanges(),p=p|0;let b=Math.max(0,this._prefixSumValidIndex+1);b===0&&(this._arr[0].prefixSum=this._arr[0].height,b++);for(let i=b;i<=p;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,p),this._arr[p].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const p=this._lineHeight*this._lineCount,b=this.getWhitespacesTotalHeight();return p+b+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(p){this._checkPendingChanges(),p=p|0;const b=this._findLastWhitespaceBeforeLineNumber(p);return b===-1?0:this.getWhitespacesAccumulatedHeight(b)}_findLastWhitespaceBeforeLineNumber(p){p=p|0;const b=this._arr;let i=0,f=b.length-1;for(;i<=f;){const o=(f-i|0)/2|0,d=i+o|0;if(b[d].afterLineNumber<p){if(d+1>=b.length||b[d+1].afterLineNumber>=p)return d;i=d+1|0}else f=d-1|0}return-1}_findFirstWhitespaceAfterLineNumber(p){p=p|0;const i=this._findLastWhitespaceBeforeLineNumber(p)+1;return i<this._arr.length?i:-1}getFirstWhitespaceIndexAfterLineNumber(p){return this._checkPendingChanges(),p=p|0,this._findFirstWhitespaceAfterLineNumber(p)}getVerticalOffsetForLineNumber(p){this._checkPendingChanges(),p=p|0;let b;p>1?b=this._lineHeight*(p-1):b=0;const i=this.getWhitespaceAccumulatedHeightBeforeLineNumber(p);return b+i+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let p=0;for(let b=0,i=this._arr.length;b<i;b++)p=Math.max(p,this._arr[b].minWidth);this._minWidth=p}return this._minWidth}isAfterLines(p){this._checkPendingChanges();const b=this.getLinesTotalHeight();return p>b}isInTopPadding(p){return this._paddingTop===0?!1:(this._checkPendingChanges(),p<this._paddingTop)}isInBottomPadding(p){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const b=this.getLinesTotalHeight();return p>=b-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(p){if(this._checkPendingChanges(),p=p|0,p<0)return 1;const b=this._lineCount|0,i=this._lineHeight;let f=1,r=b;for(;f<r;){const o=(f+r)/2|0,d=this.getVerticalOffsetForLineNumber(o)|0;if(p>=d+i)f=o+1;else{if(p>=d)return o;r=o}}return f>b?b:f}getLinesViewportData(p,b){this._checkPendingChanges(),p=p|0,b=b|0;const i=this._lineHeight,f=this.getLineNumberAtOrAfterVerticalOffset(p)|0,r=this.getVerticalOffsetForLineNumber(f)|0;let o=this._lineCount|0,d=this.getFirstWhitespaceIndexAfterLineNumber(f)|0;const c=this.getWhitespacesCount()|0;let u,s;d===-1?(d=c,s=o+1,u=0):(s=this.getAfterLineNumberForWhitespaceIndex(d)|0,u=this.getHeightForWhitespaceIndex(d)|0);let n=r,a=n;const t=5e5;let l=0;r>=t&&(l=Math.floor(r/t)*t,l=Math.floor(l/i)*i,a-=l);const h=[],g=p+(b-p)/2;let w=-1;for(let m=f;m<=o;m++){if(w===-1){const E=n,I=n+i;(E<=g&&g<I||E>g)&&(w=m)}for(n+=i,h[m-f]=a,a+=i;s===m;)a+=u,n+=u,d++,d>=c?s=o+1:(s=this.getAfterLineNumberForWhitespaceIndex(d)|0,u=this.getHeightForWhitespaceIndex(d)|0);if(n>=b){o=m;break}}w===-1&&(w=o);const _=this.getVerticalOffsetForLineNumber(o)|0;let C=f,v=o;return C<v&&r<p&&C++,C<v&&_+i>b&&v--,{bigNumbersDelta:l,startLineNumber:f,endLineNumber:o,relativeVerticalOffset:h,centeredLineNumber:w,completelyVisibleStartLineNumber:C,completelyVisibleEndLineNumber:v}}getVerticalOffsetForWhitespaceIndex(p){this._checkPendingChanges(),p=p|0;const b=this.getAfterLineNumberForWhitespaceIndex(p);let i;b>=1?i=this._lineHeight*b:i=0;let f;return p>0?f=this.getWhitespacesAccumulatedHeight(p-1):f=0,i+f+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(p){this._checkPendingChanges(),p=p|0;let b=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;const f=this.getVerticalOffsetForWhitespaceIndex(i),r=this.getHeightForWhitespaceIndex(i);if(p>=f+r)return-1;for(;b<i;){const o=Math.floor((b+i)/2),d=this.getVerticalOffsetForWhitespaceIndex(o),c=this.getHeightForWhitespaceIndex(o);if(p>=d+c)b=o+1;else{if(p>=d)return o;i=o}}return b}getWhitespaceAtVerticalOffset(p){this._checkPendingChanges(),p=p|0;const b=this.getWhitespaceIndexAtOrAfterVerticallOffset(p);if(b<0||b>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(b);if(i>p)return null;const f=this.getHeightForWhitespaceIndex(b),r=this.getIdForWhitespaceIndex(b),o=this.getAfterLineNumberForWhitespaceIndex(b);return{id:r,afterLineNumber:o,verticalOffset:i,height:f}}getWhitespaceViewportData(p,b){this._checkPendingChanges(),p=p|0,b=b|0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(p),f=this.getWhitespacesCount()-1;if(i<0)return[];let r=[];for(let o=i;o<=f;o++){const d=this.getVerticalOffsetForWhitespaceIndex(o),c=this.getHeightForWhitespaceIndex(o);if(d>=b)break;r.push({id:this.getIdForWhitespaceIndex(o),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(o),verticalOffset:d,height:c})}return r}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].id}getAfterLineNumberForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].afterLineNumber}getHeightForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].height}}e.LinesLayout=D,D.INSTANCE_COUNT=0}),define(te[117],ie([0,1,8,84,140]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class D{constructor(g,w,_){this._linePartBrand=void 0,this.endIndex=g,this.type=w,this.metadata=_}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class S{constructor(g,w){this.startOffset=g,this.endOffset=w}equals(g){return this.startOffset===g.startOffset&&this.endOffset===g.endOffset}}e.LineRange=S;class p{constructor(g,w,_,C,v,m,E,I,k,A,P,F,M,R,O,L,B,z,$){this.useMonospaceOptimizations=g,this.canUseHalfwidthRightwardsArrow=w,this.lineContent=_,this.continuesWithWrappedLine=C,this.isBasicASCII=v,this.containsRTL=m,this.fauxIndentLength=E,this.lineTokens=I,this.lineDecorations=k.sort(T.LineDecoration.compare),this.tabSize=A,this.startVisibleColumn=P,this.spaceWidth=F,this.stopRenderingLineAfter=O,this.renderWhitespace=L==="all"?4:L==="boundary"?1:L==="selection"?2:L==="trailing"?3:0,this.renderControlCharacters=B,this.fontLigatures=z,this.selectionsOnLine=$&&$.sort((Q,Y)=>Q.startOffset<Y.startOffset?-1:1);const j=Math.abs(R-F),X=Math.abs(M-F);j<X?(this.renderSpaceWidth=R,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=M,this.renderSpaceCharCode=183)}sameSelection(g){if(this.selectionsOnLine===null)return g===null;if(g===null||g.length!==this.selectionsOnLine.length)return!1;for(let w=0;w<this.selectionsOnLine.length;w++)if(!this.selectionsOnLine[w].equals(g[w]))return!1;return!0}equals(g){return this.useMonospaceOptimizations===g.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===g.canUseHalfwidthRightwardsArrow&&this.lineContent===g.lineContent&&this.continuesWithWrappedLine===g.continuesWithWrappedLine&&this.isBasicASCII===g.isBasicASCII&&this.containsRTL===g.containsRTL&&this.fauxIndentLength===g.fauxIndentLength&&this.tabSize===g.tabSize&&this.startVisibleColumn===g.startVisibleColumn&&this.spaceWidth===g.spaceWidth&&this.renderSpaceWidth===g.renderSpaceWidth&&this.renderSpaceCharCode===g.renderSpaceCharCode&&this.stopRenderingLineAfter===g.stopRenderingLineAfter&&this.renderWhitespace===g.renderWhitespace&&this.renderControlCharacters===g.renderControlCharacters&&this.fontLigatures===g.fontLigatures&&T.LineDecoration.equalsArr(this.lineDecorations,g.lineDecorations)&&this.lineTokens.equals(g.lineTokens)&&this.sameSelection(g.selectionsOnLine)}}e.RenderLineInput=p;class b{constructor(g,w){this.partIndex=g,this.charIndex=w}}e.DomPosition=b;class i{constructor(g,w){this.length=g,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(g){return(g&4294901760)>>>16}static getCharIndex(g){return(g&65535)>>>0}setColumnInfo(g,w,_,C){const v=(w<<16|_<<0)>>>0;this._data[g-1]=v,this._absoluteOffsets[g-1]=C+_}getAbsoluteOffset(g){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[g-1]}charOffsetToPartData(g){return this.length===0?0:g<0?this._data[0]:g>=this.length?this._data[this.length-1]:this._data[g]}getDomPosition(g){const w=this.charOffsetToPartData(g-1),_=i.getPartIndex(w),C=i.getCharIndex(w);return new b(_,C)}getColumn(g,w){return this.partDataToCharOffset(g.partIndex,w,g.charIndex)+1}partDataToCharOffset(g,w,_){if(this.length===0)return 0;let C=(g<<16|_<<0)>>>0,v=0,m=this.length-1;for(;v+1<m;){let O=v+m>>>1,L=this._data[O];if(L===C)return O;L>C?m=O:v=O}if(v===m)return v;let E=this._data[v],I=this._data[m];if(E===C)return v;if(I===C)return m;let k=i.getPartIndex(E),A=i.getCharIndex(E),P=i.getPartIndex(I),F;k!==P?F=w:F=i.getCharIndex(I);let M=_-A,R=F-_;return M<=R?v:m}}e.CharacterMapping=i;class f{constructor(g,w,_){this._renderLineOutputBrand=void 0,this.characterMapping=g,this.containsRTL=w,this.containsForeignElements=_}}e.RenderLineOutput=f;function r(h,g){if(h.lineContent.length===0){if(h.lineDecorations.length>0){g.appendASCIIString("<span>");let w=0,_=0,C=0;for(const m of h.lineDecorations)(m.type===1||m.type===2)&&(g.appendASCIIString('<span class="'),g.appendASCIIString(m.className),g.appendASCIIString('"></span>'),m.type===1&&(C|=1,w++),m.type===2&&(C|=2,_++));g.appendASCIIString("</span>");const v=new i(1,w+_);return v.setColumnInfo(1,w,0,0),new f(v,!1,C)}return g.appendASCIIString("<span><span></span></span>"),new f(new i(0,0),!1,0)}return l(u(h),g)}e.renderViewLine=r;class o{constructor(g,w,_,C){this.characterMapping=g,this.html=w,this.containsRTL=_,this.containsForeignElements=C}}e.RenderLineOutput2=o;function d(h){let g=(0,N.createStringBuilder)(1e4),w=r(h,g);return new o(w.characterMapping,g.build(),w.containsRTL,w.containsForeignElements)}e.renderViewLine2=d;class c{constructor(g,w,_,C,v,m,E,I,k,A,P,F,M,R,O){this.fontIsMonospace=g,this.canUseHalfwidthRightwardsArrow=w,this.lineContent=_,this.len=C,this.isOverflowing=v,this.parts=m,this.containsForeignElements=E,this.fauxIndentLength=I,this.tabSize=k,this.startVisibleColumn=A,this.containsRTL=P,this.spaceWidth=F,this.renderSpaceCharCode=M,this.renderWhitespace=R,this.renderControlCharacters=O}}function u(h){const g=h.lineContent;let w,_;h.stopRenderingLineAfter!==-1&&h.stopRenderingLineAfter<g.length?(w=!0,_=h.stopRenderingLineAfter):(w=!1,_=g.length);let C=s(h.lineTokens,h.fauxIndentLength,_);(h.renderWhitespace===4||h.renderWhitespace===1||h.renderWhitespace===2&&!!h.selectionsOnLine||h.renderWhitespace===3)&&(C=a(h,g,_,C));let v=0;if(h.lineDecorations.length>0){for(let m=0,E=h.lineDecorations.length;m<E;m++){const I=h.lineDecorations[m];I.type===3||I.type===1?v|=1:I.type===2&&(v|=2)}C=t(g,_,C,h.lineDecorations)}return h.containsRTL||(C=n(g,C,!h.isBasicASCII||h.fontLigatures)),new c(h.useMonospaceOptimizations,h.canUseHalfwidthRightwardsArrow,g,_,w,C,v,h.fauxIndentLength,h.tabSize,h.startVisibleColumn,h.containsRTL,h.spaceWidth,h.renderSpaceCharCode,h.renderWhitespace,h.renderControlCharacters)}function s(h,g,w){let _=[],C=0;g>0&&(_[C++]=new D(g,"",0));for(let v=0,m=h.getCount();v<m;v++){const E=h.getEndOffset(v);if(E<=g)continue;const I=h.getClassName(v);if(E>=w){_[C++]=new D(w,I,0);break}_[C++]=new D(E,I,0)}return _}function n(h,g,w){let _=0,C=[],v=0;if(w)for(let m=0,E=g.length;m<E;m++){const I=g[m],k=I.endIndex;if(_+50<k){const A=I.type,P=I.metadata;let F=-1,M=_;for(let R=_;R<k;R++)h.charCodeAt(R)===32&&(F=R),F!==-1&&R-M>=50&&(C[v++]=new D(F+1,A,P),M=F+1,F=-1);M!==k&&(C[v++]=new D(k,A,P))}else C[v++]=I;_=k}else for(let m=0,E=g.length;m<E;m++){const I=g[m],k=I.endIndex;let A=k-_;if(A>50){const P=I.type,F=I.metadata,M=Math.ceil(A/50);for(let R=1;R<M;R++){let O=_+R*50;C[v++]=new D(O,P,F)}C[v++]=new D(k,P,F)}else C[v++]=I;_=k}return C}function a(h,g,w,_){const C=h.continuesWithWrappedLine,v=h.fauxIndentLength,m=h.tabSize,E=h.startVisibleColumn,I=h.useMonospaceOptimizations,k=h.selectionsOnLine,A=h.renderWhitespace===1,P=h.renderWhitespace===3,F=h.renderSpaceWidth!==h.spaceWidth;let M=[],R=0,O=0,L=_[O].type,B=_[O].endIndex;const z=_.length;let $=!1,j=y.firstNonWhitespaceIndex(g),X;j===-1?($=!0,j=w,X=w):X=y.lastNonWhitespaceIndex(g);let Q=!1,Y=0,oe=k&&k[Y],se=E%m;for(let x=v;x<w;x++){const U=g.charCodeAt(x);oe&&x>=oe.endOffset&&(Y++,oe=k&&k[Y]);let H;if(x<j||x>X)H=!0;else if(U===9)H=!0;else if(U===32)if(A)if(Q)H=!0;else{const V=x+1<w?g.charCodeAt(x+1):0;H=V===32||V===9}else H=!0;else H=!1;if(H&&k&&(H=!!oe&&oe.startOffset<=x&&oe.endOffset>x),H&&P&&(H=$||x>X),Q){if(!H||!I&&se>=m){if(F){const V=R>0?M[R-1].endIndex:v;for(let ne=V+1;ne<=x;ne++)M[R++]=new D(ne,"mtkw",1)}else M[R++]=new D(x,"mtkw",1);se=se%m}}else(x===B||H&&x>v)&&(M[R++]=new D(x,L,0),se=se%m);for(U===9?se=m:y.isFullWidthCharacter(U)?se+=2:se++,Q=H;x===B&&(O++,O<z);)L=_[O].type,B=_[O].endIndex}let K=!1;if(Q)if(C&&A){let x=w>0?g.charCodeAt(w-1):0,U=w>1?g.charCodeAt(w-2):0;x===32&&U!==32&&U!==9||(K=!0)}else K=!0;if(K)if(F){const x=R>0?M[R-1].endIndex:v;for(let U=x+1;U<=w;U++)M[R++]=new D(U,"mtkw",1)}else M[R++]=new D(w,"mtkw",1);else M[R++]=new D(w,L,0);return M}function t(h,g,w,_){_.sort(T.LineDecoration.compare);const C=T.LineDecorationsNormalizer.normalize(h,_),v=C.length;let m=0,E=[],I=0,k=0;for(let P=0,F=w.length;P<F;P++){const M=w[P],R=M.endIndex,O=M.type,L=M.metadata;for(;m<v&&C[m].startOffset<R;){const B=C[m];if(B.startOffset>k&&(k=B.startOffset,E[I++]=new D(k,O,L)),B.endOffset+1<=R)k=B.endOffset+1,E[I++]=new D(k,O+" "+B.className,L|B.metadata),m++;else{k=R,E[I++]=new D(k,O+" "+B.className,L|B.metadata);break}}R>k&&(k=R,E[I++]=new D(k,O,L))}const A=w[w.length-1].endIndex;if(m<v&&C[m].startOffset===A)for(;m<v&&C[m].startOffset===A;){const P=C[m];E[I++]=new D(k,P.className,P.metadata),m++}return E}function l(h,g){const w=h.fontIsMonospace,_=h.canUseHalfwidthRightwardsArrow,C=h.containsForeignElements,v=h.lineContent,m=h.len,E=h.isOverflowing,I=h.parts,k=h.fauxIndentLength,A=h.tabSize,P=h.startVisibleColumn,F=h.containsRTL,M=h.spaceWidth,R=h.renderSpaceCharCode,O=h.renderWhitespace,L=h.renderControlCharacters,B=new i(m+1,I.length);let z=!1,$=0,j=P,X=0,Q=0,Y=0,oe=0;F?g.appendASCIIString('<span dir="ltr">'):g.appendASCIIString("<span>");for(let se=0,K=I.length;se<K;se++){oe+=Y;const x=I[se],U=x.endIndex,H=x.type,V=O!==0&&x.isWhitespace(),ne=V&&!w&&(H==="mtkw"||!C),ue=$===U&&x.isPseudoAfter();if(X=0,g.appendASCIIString('<span class="'),g.appendASCIIString(ne?"mtkz":H),g.appendASCII(34),V){let pe=0;{let ge=$,W=j;for(;ge<U;ge++){const re=(v.charCodeAt(ge)===9?A-W%A:1)|0;pe+=re,ge>=k&&(W+=re)}}for(ne&&(g.appendASCIIString(' style="width:'),g.appendASCIIString(String(M*pe)),g.appendASCIIString('px"')),g.appendASCII(62);$<U;$++){B.setColumnInfo($+1,se-Q,X,oe),Q=0;const ge=v.charCodeAt($);let W;if(ge===9){W=A-j%A|0,!_||W>1?g.write1(8594):g.write1(65515);for(let G=2;G<=W;G++)g.write1(160)}else W=1,g.write1(R);X+=W,$>=k&&(j+=W)}Y=pe}else{let pe=0;for(g.appendASCII(62);$<U;$++){B.setColumnInfo($+1,se-Q,X,oe),Q=0;const ge=v.charCodeAt($);let W=1,G=1;switch(ge){case 9:W=A-j%A,G=W;for(let re=1;re<=W;re++)g.write1(160);break;case 32:g.write1(160);break;case 60:g.appendASCIIString("&lt;");break;case 62:g.appendASCIIString("&gt;");break;case 38:g.appendASCIIString("&amp;");break;case 0:L?g.write1(9216):g.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:g.write1(65533);break;default:y.isFullWidthCharacter(ge)&&G++,L&&ge<32?g.write1(9216+ge):L&&ge===127?g.write1(9249):g.write1(ge)}X+=W,pe+=W,$>=k&&(j+=G)}Y=pe}ue?Q++:Q=0,$>=m&&!z&&x.isPseudoAfter()&&(z=!0,B.setColumnInfo($+1,se,X,oe)),g.appendASCIIString("</span>")}return z||B.setColumnInfo(m+1,I.length-1,X,oe),E&&g.appendASCIIString("<span>&hellip;</span>"),g.appendASCIIString("</span>"),new f(B,F,C)}}),define(te[405],ie([0,1,3]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class N{constructor(D,S,p,b){this.selections=D,this.startLineNumber=S.startLineNumber|0,this.endLineNumber=S.endLineNumber|0,this.relativeVerticalOffset=S.relativeVerticalOffset,this.bigNumbersDelta=S.bigNumbersDelta|0,this.whitespaceViewportData=p,this._model=b,this.visibleRange=new y.Range(S.startLineNumber,this._model.getLineMinColumn(S.startLineNumber),S.endLineNumber,this._model.getLineMaxColumn(S.endLineNumber))}getViewLineRenderingData(D){return this._model.getViewLineRenderingData(this.visibleRange,D)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=N}),define(te[233],ie([0,1,132]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumComputer=e.PrefixSumIndexOfResult=void 0;class N{constructor(S,p){this._prefixSumIndexOfResultBrand=void 0,this.index=S,this.remainder=p}}e.PrefixSumIndexOfResult=N;class T{constructor(S){this.values=S,this.prefixSum=new Uint32Array(S.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(S,p){S=(0,y.toUint32)(S);const b=this.values,i=this.prefixSum,f=p.length;return f===0?!1:(this.values=new Uint32Array(b.length+f),this.values.set(b.subarray(0,S),0),this.values.set(b.subarray(S),S+f),this.values.set(p,S),S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(S,p){return S=(0,y.toUint32)(S),p=(0,y.toUint32)(p),this.values[S]===p?!1:(this.values[S]=p,S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),!0)}removeValues(S,p){S=(0,y.toUint32)(S),p=(0,y.toUint32)(p);const b=this.values,i=this.prefixSum;if(S>=b.length)return!1;let f=b.length-S;return p>=f&&(p=f),p===0?!1:(this.values=new Uint32Array(b.length-p),this.values.set(b.subarray(0,S),0),this.values.set(b.subarray(S+p),S),this.prefixSum=new Uint32Array(this.values.length),S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(S){return S<0?0:(S=(0,y.toUint32)(S),this._getPrefixSum(S))}_getPrefixSum(S){if(S<=this.prefixSumValidIndex[0])return this.prefixSum[S];let p=this.prefixSumValidIndex[0]+1;p===0&&(this.prefixSum[0]=this.values[0],p++),S>=this.values.length&&(S=this.values.length-1);for(let b=p;b<=S;b++)this.prefixSum[b]=this.prefixSum[b-1]+this.values[b];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],S),this.prefixSum[S]}getIndexOf(S){S=Math.floor(S),this.getTotalSum();let p=0,b=this.values.length-1,i=0,f=0,r=0;for(;p<=b;)if(i=p+(b-p)/2|0,f=this.prefixSum[i],r=f-this.values[i],S<r)b=i-1;else if(S>=f)p=i+1;else break;return new N(i,S-r)}}e.PrefixSumComputer=T}),define(te[406],ie([0,1,8,13,233]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class D{constructor(p,b,i,f){this._uri=p,this._lines=b,this._eol=i,this._versionId=f,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(p){p.eol&&p.eol!==this._eol&&(this._eol=p.eol,this._lineStarts=null);const b=p.changes;for(const i of b)this._acceptDeleteRange(i.range),this._acceptInsertText(new N.Position(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=p.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const p=this._eol.length,b=this._lines.length,i=new Uint32Array(b);for(let f=0;f<b;f++)i[f]=this._lines[f].length+p;this._lineStarts=new T.PrefixSumComputer(i)}}_setLineText(p,b){this._lines[p]=b,this._lineStarts&&this._lineStarts.changeValue(p,this._lines[p].length+this._eol.length)}_acceptDeleteRange(p){if(p.startLineNumber===p.endLineNumber){if(p.startColumn===p.endColumn)return;this._setLineText(p.startLineNumber-1,this._lines[p.startLineNumber-1].substring(0,p.startColumn-1)+this._lines[p.startLineNumber-1].substring(p.endColumn-1));return}this._setLineText(p.startLineNumber-1,this._lines[p.startLineNumber-1].substring(0,p.startColumn-1)+this._lines[p.endLineNumber-1].substring(p.endColumn-1)),this._lines.splice(p.startLineNumber,p.endLineNumber-p.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(p.startLineNumber,p.endLineNumber-p.startLineNumber)}_acceptInsertText(p,b){if(b.length===0)return;let i=(0,y.splitLines)(b);if(i.length===1){this._setLineText(p.lineNumber-1,this._lines[p.lineNumber-1].substring(0,p.column-1)+i[0]+this._lines[p.lineNumber-1].substring(p.column-1));return}i[i.length-1]+=this._lines[p.lineNumber-1].substring(p.column-1),this._setLineText(p.lineNumber-1,this._lines[p.lineNumber-1].substring(0,p.column-1)+i[0]);let f=new Uint32Array(i.length-1);for(let r=1;r<i.length;r++)this._lines.splice(p.lineNumber+r-1,0,i[r]),f[r-1]=i[r].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(p.lineNumber,f)}}e.MirrorTextModel=D}),define(te[407],ie([0,1,131,17,24,13,3,385,406,139,393,396,231,20,83]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=e.MirrorModel=void 0;class u extends b.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(t){return this._lines[t-1]}getWordAtPosition(t,l){let h=(0,i.getWordAtText)(t.column,(0,i.ensureValidWordDefinition)(l),this._lines[t.lineNumber-1],0);return h?new S.Range(t.lineNumber,h.startColumn,t.lineNumber,h.endColumn):null}words(t){const l=this._lines,h=this._wordenize.bind(this);let g=0,w="",_=0,C=[];return{*[Symbol.iterator](){for(;;)if(_<C.length){const v=w.substring(C[_].start,C[_].end);_+=1,yield v}else if(g<l.length)w=l[g],C=h(w,t),_=0,g+=1;else break}}}getLineWords(t,l){let h=this._lines[t-1],g=this._wordenize(h,l),w=[];for(const _ of g)w.push({word:h.substring(_.start,_.end),startColumn:_.start+1,endColumn:_.end+1});return w}_wordenize(t,l){const h=[];let g;for(l.lastIndex=0;(g=l.exec(t))&&g[0].length!==0;)h.push({start:g.index,end:g.index+g[0].length});return h}getValueInRange(t){if(t=this._validateRange(t),t.startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].substring(t.startColumn-1,t.endColumn-1);let l=this._eol,h=t.startLineNumber-1,g=t.endLineNumber-1,w=[];w.push(this._lines[h].substring(t.startColumn-1));for(let _=h+1;_<g;_++)w.push(this._lines[_]);return w.push(this._lines[g].substring(0,t.endColumn-1)),w.join(l)}offsetAt(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getPrefixSum(t.lineNumber-2)+(t.column-1)}positionAt(t){t=Math.floor(t),t=Math.max(0,t),this._ensureLineStarts();let l=this._lineStarts.getIndexOf(t),h=this._lines[l.index].length;return{lineNumber:1+l.index,column:1+Math.min(l.remainder,h)}}_validateRange(t){const l=this._validatePosition({lineNumber:t.startLineNumber,column:t.startColumn}),h=this._validatePosition({lineNumber:t.endLineNumber,column:t.endColumn});return l.lineNumber!==t.startLineNumber||l.column!==t.startColumn||h.lineNumber!==t.endLineNumber||h.column!==t.endColumn?{startLineNumber:l.lineNumber,startColumn:l.column,endLineNumber:h.lineNumber,endColumn:h.column}:t}_validatePosition(t){if(!D.Position.isIPosition(t))throw new Error("bad position");let{lineNumber:l,column:h}=t,g=!1;if(l<1)l=1,h=1,g=!0;else if(l>this._lines.length)l=this._lines.length,h=this._lines[l-1].length+1,g=!0;else{let w=this._lines[l-1].length+1;h<1?(h=1,g=!0):h>w&&(h=w,g=!0)}return g?{lineNumber:l,column:h}:t}}e.MirrorModel=u;class s{constructor(t,l){this._host=t,this._models=Object.create(null),this._foreignModuleFactory=l,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(t){return this._models[t]}_getModels(){let t=[];return Object.keys(this._models).forEach(l=>t.push(this._models[l])),t}acceptNewModel(t){this._models[t.url]=new u(T.URI.parse(t.url),t.lines,t.EOL,t.versionId)}acceptModelChanged(t,l){if(!this._models[t])return;this._models[t].onEvents(l)}acceptRemovedModel(t){!this._models[t]||delete this._models[t]}computeDiff(t,l,h,g){return Me(this,void 0,void 0,function*(){const w=this._getModel(t),_=this._getModel(l);if(!w||!_)return null;const C=w.getLinesContent(),v=_.getLinesContent(),E=new p.DiffComputer(C,v,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:h,shouldMakePrettyDiff:!0,maxComputationTime:g}).computeDiff(),I=E.changes.length>0?!1:this._modelsAreIdentical(w,_);return{quitEarly:E.quitEarly,identical:I,changes:E.changes}})}_modelsAreIdentical(t,l){const h=t.getLineCount(),g=l.getLineCount();if(h!==g)return!1;for(let w=1;w<=h;w++){const _=t.getLineContent(w),C=l.getLineContent(w);if(_!==C)return!1}return!0}computeMoreMinimalEdits(t,l){return Me(this,void 0,void 0,function*(){const h=this._getModel(t);if(!h)return l;const g=[];let w;l=l.slice(0).sort((_,C)=>{if(_.range&&C.range)return S.Range.compareRangesUsingStarts(_.range,C.range);let v=_.range?0:1,m=C.range?0:1;return v-m});for(let{range:_,text:C,eol:v}of l){if(typeof v=="number"&&(w=v),S.Range.isEmpty(_)&&!C)continue;const m=h.getValueInRange(_);if(C=C.replace(/\r\n|\n|\r/g,h.eol),m===C)continue;if(Math.max(C.length,m.length)>s._diffLimit){g.push({range:_,text:C});continue}const E=(0,y.stringDiff)(m,C,!1),I=h.offsetAt(S.Range.lift(_).getStartPosition());for(const k of E){const A=h.positionAt(I+k.originalStart),P=h.positionAt(I+k.originalStart+k.originalLength),F={text:C.substr(k.modifiedStart,k.modifiedLength),range:{startLineNumber:A.lineNumber,startColumn:A.column,endLineNumber:P.lineNumber,endColumn:P.column}};h.getValueInRange(F.range)!==F.text&&g.push(F)}}return typeof w=="number"&&g.push({eol:w,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),g})}computeLinks(t){return Me(this,void 0,void 0,function*(){let l=this._getModel(t);return l?(0,f.computeLinks)(l):null})}textualSuggest(t,l,h,g){return Me(this,void 0,void 0,function*(){const w=new c.StopWatch(!0),_=new RegExp(h,g),C=new Set;e:for(let v of t){const m=this._getModel(v);if(!!m){for(let E of m.words(_))if(!(E===l||!isNaN(Number(E)))&&(C.add(E),C.size>s._suggestionsLimit))break e}}return{words:Array.from(C),duration:w.elapsed()}})}computeWordRanges(t,l,h,g){return Me(this,void 0,void 0,function*(){let w=this._getModel(t);if(!w)return Object.create(null);const _=new RegExp(h,g),C=Object.create(null);for(let v=l.startLineNumber;v<l.endLineNumber;v++){let m=w.getLineWords(v,_);for(const E of m){if(!isNaN(Number(E.word)))continue;let I=C[E.word];I||(I=[],C[E.word]=I),I.push({startLineNumber:v,startColumn:E.startColumn,endLineNumber:v,endColumn:E.endColumn})}}return C})}navigateValueSet(t,l,h,g,w){return Me(this,void 0,void 0,function*(){let _=this._getModel(t);if(!_)return null;let C=new RegExp(g,w);l.startColumn===l.endColumn&&(l={startLineNumber:l.startLineNumber,startColumn:l.startColumn,endLineNumber:l.endLineNumber,endColumn:l.endColumn+1});let v=_.getValueInRange(l),m=_.getWordAtPosition({lineNumber:l.startLineNumber,column:l.startColumn},C);if(!m)return null;let E=_.getValueInRange(m);return r.BasicInplaceReplace.INSTANCE.navigateValueSet(l,v,m,E,h)})}loadForeignModule(t,l,h){const g=(C,v)=>this._host.fhr(C,v);let _={host:d.createProxyObject(h,g),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(_,l),Promise.resolve(d.getAllMethodNames(this._foreignModule))):new Promise((C,v)=>{q([t],m=>{this._foreignModule=m.create(_,l),C(d.getAllMethodNames(this._foreignModule))},v)})}fmr(t,l){if(!this._foreignModule||typeof this._foreignModule[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._foreignModule[t].apply(this._foreignModule,l))}catch(h){return Promise.reject(h)}}}e.EditorSimpleWorker=s,s._diffLimit=1e5,s._suggestionsLimit=1e4;function n(a){return new s(a,null)}e.create=n,typeof importScripts=="function"&&(N.globals.monaco=(0,o.createMonacoBaseAPI)())}),define(te[118],ie([0,1,2]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class N extends y.Disposable{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(D){return!1}onCompositionEnd(D){return!1}onConfigurationChanged(D){return!1}onCursorStateChanged(D){return!1}onDecorationsChanged(D){return!1}onFlushed(D){return!1}onFocusChanged(D){return!1}onLanguageConfigurationChanged(D){return!1}onLineMappingChanged(D){return!1}onLinesChanged(D){return!1}onLinesDeleted(D){return!1}onLinesInserted(D){return!1}onRevealRangeRequest(D){return!1}onScrollChanged(D){return!1}onThemeChanged(D){return!1}onTokensChanged(D){return!1}onTokensColorsChanged(D){return!1}onZonesChanged(D){return!1}handleEvents(D){let S=!1;for(let p=0,b=D.length;p<b;p++){let i=D[p];switch(i.type){case 0:this.onCompositionStart(i)&&(S=!0);break;case 1:this.onCompositionEnd(i)&&(S=!0);break;case 2:this.onConfigurationChanged(i)&&(S=!0);break;case 3:this.onCursorStateChanged(i)&&(S=!0);break;case 4:this.onDecorationsChanged(i)&&(S=!0);break;case 5:this.onFlushed(i)&&(S=!0);break;case 6:this.onFocusChanged(i)&&(S=!0);break;case 7:this.onLanguageConfigurationChanged(i)&&(S=!0);break;case 8:this.onLineMappingChanged(i)&&(S=!0);break;case 9:this.onLinesChanged(i)&&(S=!0);break;case 10:this.onLinesDeleted(i)&&(S=!0);break;case 11:this.onLinesInserted(i)&&(S=!0);break;case 12:this.onRevealRangeRequest(i)&&(S=!0);break;case 13:this.onScrollChanged(i)&&(S=!0);break;case 15:this.onTokensChanged(i)&&(S=!0);break;case 14:this.onThemeChanged(i)&&(S=!0);break;case 16:this.onTokensColorsChanged(i)&&(S=!0);break;case 17:this.onZonesChanged(i)&&(S=!0);break;default:console.info("View received unknown event: "),console.info(i)}}S&&(this._shouldRender=!0)}}e.ViewEventHandler=N}),define(te[98],ie([0,1,118]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class N extends y.ViewEventHandler{}e.DynamicViewOverlay=N}),define(te[50],ie([0,1,30,118]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class T extends N.ViewEventHandler{constructor(p){super();this._context=p,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=T;class D{static write(p,b){p instanceof y.FastDomNode,p.setAttribute("data-mprt",String(b))}static read(p){const b=p.getAttribute("data-mprt");return b===null?0:parseInt(b,10)}static collect(p,b){let i=[],f=0;for(;p&&p!==document.body&&p!==b;)p.nodeType===p.ELEMENT_NODE&&(i[f++]=this.read(p)),p=p.parentElement;const r=new Uint8Array(f);for(let o=0;o<f;o++)r[o]=i[f-o-1];return r}}e.PartFingerprints=D}),define(te[408],ie([0,1,7,30,50]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class D{constructor(f,r){this._coordinateBrand=void 0,this.top=f,this.left=r}}class S extends T.ViewPart{constructor(f,r){super(f);this._viewDomNode=r,this._widgets={},this.domNode=(0,N.createFastDomNode)(document.createElement("div")),T.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,N.createFastDomNode)(document.createElement("div")),T.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(f){const r=Object.keys(this._widgets);for(const o of r)this._widgets[o].onConfigurationChanged(f);return!0}onDecorationsChanged(f){return!0}onFlushed(f){return!0}onLineMappingChanged(f){const r=Object.keys(this._widgets);for(const o of r)this._widgets[o].onLineMappingChanged(f);return!0}onLinesChanged(f){return!0}onLinesDeleted(f){return!0}onLinesInserted(f){return!0}onScrollChanged(f){return!0}onZonesChanged(f){return!0}addWidget(f){const r=new p(this._context,this._viewDomNode,f);this._widgets[r.id]=r,r.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(r.domNode):this.domNode.appendChild(r.domNode),this.setShouldRender()}setWidgetPosition(f,r,o){this._widgets[f.getId()].setPosition(r,o),this.setShouldRender()}removeWidget(f){const r=f.getId();if(this._widgets.hasOwnProperty(r)){const o=this._widgets[r];delete this._widgets[r];const d=o.domNode.domNode;d.parentNode.removeChild(d),d.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(f){return this._widgets.hasOwnProperty(f)?this._widgets[f].suppressMouseDown:!1}onBeforeRender(f){const r=Object.keys(this._widgets);for(const o of r)this._widgets[o].onBeforeRender(f)}prepareRender(f){const r=Object.keys(this._widgets);for(const o of r)this._widgets[o].prepareRender(f)}render(f){const r=Object.keys(this._widgets);for(const o of r)this._widgets[o].render(f)}}e.ViewContentWidgets=S;class p{constructor(f,r,o){this._context=f,this._viewDomNode=r,this._actual=o,this.domNode=(0,N.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const d=this._context.configuration.options,c=d.get(129);this._fixedOverflowWidgets=d.get(36),this._contentWidth=c.contentWidth,this._contentLeft=c.contentLeft,this._lineHeight=d.get(58),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(f){const r=this._context.configuration.options;if(this._lineHeight=r.get(58),f.hasChanged(129)){const o=r.get(129);this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(f){this._setPosition(this._range)}_setPosition(f){if(this._range=f,this._viewRange=null,this._range){const r=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(r.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(r.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(r))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(f,r){this._setPosition(f),this._preference=r,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(f,r,o,d,c){const u=f.top,s=u,n=r.top+this._lineHeight,a=c.viewportHeight-n,t=u-d,l=s>=d,h=n,g=a>=d;let w=f.left,_=r.left;return w+o>c.scrollLeft+c.viewportWidth&&(w=c.scrollLeft+c.viewportWidth-o),_+o>c.scrollLeft+c.viewportWidth&&(_=c.scrollLeft+c.viewportWidth-o),w<c.scrollLeft&&(w=c.scrollLeft),_<c.scrollLeft&&(_=c.scrollLeft),{fitsAbove:l,aboveTop:t,aboveLeft:w,fitsBelow:g,belowTop:h,belowLeft:_}}_layoutHorizontalSegmentInPage(f,r,o,d){const c=Math.max(0,r.left-d),u=Math.min(r.left+r.width+d,f.width);let s=r.left+o-y.StandardWindow.scrollX;if(s+d>u){const n=s-(u-d);s-=n,o-=n}if(s<c){const n=s-c;s-=n,o-=n}return[o,s]}_layoutBoxInPage(f,r,o,d,c){const u=f.top-d,s=r.top+this._lineHeight,n=y.getDomNodePagePosition(this._viewDomNode.domNode),a=n.top+u-y.StandardWindow.scrollY,t=n.top+s-y.StandardWindow.scrollY,l=y.getClientArea(document.body),[h,g]=this._layoutHorizontalSegmentInPage(l,n,f.left-c.scrollLeft+this._contentLeft,o),[w,_]=this._layoutHorizontalSegmentInPage(l,n,r.left-c.scrollLeft+this._contentLeft,o),C=22,v=22,m=a>=C,E=t+d<=l.height-v;return this._fixedOverflowWidgets?{fitsAbove:m,aboveTop:Math.max(a,C),aboveLeft:g,fitsBelow:E,belowTop:t,belowLeft:_}:{fitsAbove:m,aboveTop:u,aboveLeft:h,fitsBelow:E,belowTop:s,belowLeft:w}}_prepareRenderWidgetAtExactPositionOverflowing(f){return new D(f.top,f.left+this._contentLeft)}_getTopAndBottomLeft(f){if(!this._viewRange)return[null,null];const r=f.linesVisibleRangesForRange(this._viewRange,!1);if(!r||r.length===0)return[null,null];let o=r[0],d=r[0];for(const l of r)l.lineNumber<o.lineNumber&&(o=l),l.lineNumber>d.lineNumber&&(d=l);let c=1073741824;for(const l of o.ranges)l.left<c&&(c=l.left);let u=1073741824;for(const l of d.ranges)l.left<u&&(u=l.left);const s=f.getVerticalOffsetForLineNumber(o.lineNumber)-f.scrollTop,n=new D(s,c),a=f.getVerticalOffsetForLineNumber(d.lineNumber)-f.scrollTop,t=new D(a,u);return[n,t]}_prepareRenderWidget(f){const[r,o]=this._getTopAndBottomLeft(f);if(!r||!o)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){let c=null;if(typeof this._actual.beforeRender=="function"&&(c=b(this._actual.beforeRender,this._actual)),c)this._cachedDomNodeClientWidth=c.width,this._cachedDomNodeClientHeight=c.height;else{const u=this.domNode.domNode;this._cachedDomNodeClientWidth=u.clientWidth,this._cachedDomNodeClientHeight=u.clientHeight}}let d;if(this.allowEditorOverflow?d=this._layoutBoxInPage(r,o,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,f):d=this._layoutBoxInViewport(r,o,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,f),this._preference)for(let c=1;c<=2;c++)for(const u of this._preference)if(u===1){if(!d)return null;if(c===2||d.fitsAbove)return{coordinate:new D(d.aboveTop,d.aboveLeft),position:1}}else if(u===2){if(!d)return null;if(c===2||d.fitsBelow)return{coordinate:new D(d.belowTop,d.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(r),position:0}:{coordinate:r,position:0};return null}onBeforeRender(f){!this._viewRange||!this._preference||this._viewRange.endLineNumber<f.startLineNumber||this._viewRange.startLineNumber>f.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(f){this._renderData=this._prepareRenderWidget(f)}render(f){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&b(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+f.scrollTop-f.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&b(this._actual.afterRender,this._actual,this._renderData.position)}}function b(i,f,...r){try{return i.call(f,...r)}catch(o){return null}}}),define(te[409],ie([0,1,98,3,116,336]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class D extends y.DynamicViewOverlay{constructor(p){super();this._context=p;const b=this._context.configuration.options;this._lineHeight=b.get(58),this._typicalHalfwidthCharacterWidth=b.get(43).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(p){const b=this._context.configuration.options;return this._lineHeight=b.get(58),this._typicalHalfwidthCharacterWidth=b.get(43).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(p){return!0}onFlushed(p){return!0}onLinesChanged(p){return!0}onLinesDeleted(p){return!0}onLinesInserted(p){return!0}onScrollChanged(p){return p.scrollTopChanged||p.scrollWidthChanged}onZonesChanged(p){return!0}prepareRender(p){const b=p.getDecorationsInViewport();let i=[],f=0;for(let c=0,u=b.length;c<u;c++){const s=b[c];s.options.className&&(i[f++]=s)}i=i.sort((c,u)=>{if(c.options.zIndex<u.options.zIndex)return-1;if(c.options.zIndex>u.options.zIndex)return 1;const s=c.options.className,n=u.options.className;return s<n?-1:s>n?1:N.Range.compareRangesUsingStarts(c.range,u.range)});const r=p.visibleRange.startLineNumber,o=p.visibleRange.endLineNumber,d=[];for(let c=r;c<=o;c++){const u=c-r;d[u]=""}this._renderWholeLineDecorations(p,i,d),this._renderNormalDecorations(p,i,d),this._renderResult=d}_renderWholeLineDecorations(p,b,i){const f=String(this._lineHeight),r=p.visibleRange.startLineNumber,o=p.visibleRange.endLineNumber;for(let d=0,c=b.length;d<c;d++){const u=b[d];if(!u.options.isWholeLine)continue;const s='<div class="cdr '+u.options.className+'" style="left:0;width:100%;height:'+f+'px;"></div>',n=Math.max(u.range.startLineNumber,r),a=Math.min(u.range.endLineNumber,o);for(let t=n;t<=a;t++){const l=t-r;i[l]+=s}}}_renderNormalDecorations(p,b,i){const f=String(this._lineHeight),r=p.visibleRange.startLineNumber;let o=null,d=!1,c=null;for(let u=0,s=b.length;u<s;u++){const n=b[u];if(n.options.isWholeLine)continue;const a=n.options.className,t=Boolean(n.options.showIfCollapsed);let l=n.range;if(t&&l.endColumn===1&&l.endLineNumber!==l.startLineNumber&&(l=new N.Range(l.startLineNumber,l.startColumn,l.endLineNumber-1,this._context.model.getLineMaxColumn(l.endLineNumber-1))),o===a&&d===t&&N.Range.areIntersectingOrTouching(c,l)){c=N.Range.plusRange(c,l);continue}o!==null&&this._renderNormalDecoration(p,c,o,d,f,r,i),o=a,d=t,c=l}o!==null&&this._renderNormalDecoration(p,c,o,d,f,r,i)}_renderNormalDecoration(p,b,i,f,r,o,d){const c=p.linesVisibleRangesForRange(b,i==="findMatch");if(!!c)for(let u=0,s=c.length;u<s;u++){const n=c[u];if(n.outsideRenderedLine)continue;const a=n.lineNumber-o;if(f&&n.ranges.length===1){const t=n.ranges[0];t.width===0&&(n.ranges[0]=new T.HorizontalRange(t.left,this._typicalHalfwidthCharacterWidth))}for(let t=0,l=n.ranges.length;t<l;t++){const h=n.ranges[t],g='<div class="cdr '+i+'" style="left:'+String(h.left)+"px;width:"+String(h.width)+"px;height:"+r+'px;"></div>';d[a]+=g}}}render(p,b){if(!this._renderResult)return"";const i=b-p;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.DecorationsOverlay=D}),define(te[179],ie([0,1,98,337]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginOverlay=e.DedupOverlay=e.DecorationToRender=void 0;class N{constructor(p,b,i){this._decorationToRenderBrand=void 0,this.startLineNumber=+p,this.endLineNumber=+b,this.className=String(i)}}e.DecorationToRender=N;class T extends y.DynamicViewOverlay{_render(p,b,i){const f=[];for(let d=p;d<=b;d++){const c=d-p;f[c]=[]}if(i.length===0)return f;i.sort((d,c)=>d.className===c.className?d.startLineNumber===c.startLineNumber?d.endLineNumber-c.endLineNumber:d.startLineNumber-c.startLineNumber:d.className<c.className?-1:1);let r=null,o=0;for(let d=0,c=i.length;d<c;d++){const u=i[d],s=u.className;let n=Math.max(u.startLineNumber,p)-p;const a=Math.min(u.endLineNumber,b)-p;r===s?(n=Math.max(o+1,n),o=Math.max(o,a)):(r=s,o=a);for(let t=n;t<=o;t++)f[t].push(r)}return f}}e.DedupOverlay=T;class D extends T{constructor(p){super();this._context=p;const b=this._context.configuration.options,i=b.get(129);this._lineHeight=b.get(58),this._glyphMargin=b.get(49),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(p){const b=this._context.configuration.options,i=b.get(129);return this._lineHeight=b.get(58),this._glyphMargin=b.get(49),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(p){return!0}onFlushed(p){return!0}onLinesChanged(p){return!0}onLinesDeleted(p){return!0}onLinesInserted(p){return!0}onScrollChanged(p){return p.scrollTopChanged}onZonesChanged(p){return!0}_getDecorations(p){const b=p.getDecorationsInViewport();let i=[],f=0;for(let r=0,o=b.length;r<o;r++){const d=b[r],c=d.options.glyphMarginClassName;c&&(i[f++]=new N(d.range.startLineNumber,d.range.endLineNumber,c))}return i}prepareRender(p){if(!this._glyphMargin){this._renderResult=null;return}const b=p.visibleRange.startLineNumber,i=p.visibleRange.endLineNumber,f=this._render(b,i,this._getDecorations(p)),r=this._lineHeight.toString(),o=this._glyphMarginLeft.toString(),d=this._glyphMarginWidth.toString(),c='" style="left:'+o+"px;width:"+d+"px;height:"+r+'px;"></div>',u=[];for(let s=b;s<=i;s++){const n=s-b,a=f[n];a.length===0?u[n]="":u[n]='<div class="cgmr codicon '+a.join(" ")+c}this._renderResult=u}render(p,b){if(!this._renderResult)return"";const i=b-p;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.GlyphMarginOverlay=D}),define(te[410],ie([0,1,179,341]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class N extends y.DedupOverlay{constructor(D){super();this._context=D;const p=this._context.configuration.options.get(129);this._decorationsLeft=p.decorationsLeft,this._decorationsWidth=p.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){const p=this._context.configuration.options.get(129);return this._decorationsLeft=p.decorationsLeft,this._decorationsWidth=p.decorationsWidth,!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const S=D.getDecorationsInViewport();let p=[],b=0;for(let i=0,f=S.length;i<f;i++){const r=S[i],o=r.options.linesDecorationsClassName;o&&(p[b++]=new y.DecorationToRender(r.range.startLineNumber,r.range.endLineNumber,o));const d=r.options.firstLineDecorationClassName;d&&(p[b++]=new y.DecorationToRender(r.range.startLineNumber,r.range.startLineNumber,d))}return p}prepareRender(D){const S=D.visibleRange.startLineNumber,p=D.visibleRange.endLineNumber,b=this._render(S,p,this._getDecorations(D)),i=this._decorationsLeft.toString(),f=this._decorationsWidth.toString(),r='" style="left:'+i+"px;width:"+f+'px;"></div>',o=[];for(let d=S;d<=p;d++){const c=d-S,u=b[c];let s="";for(let n=0,a=u.length;n<a;n++)s+='<div class="cldr '+u[n]+r;o[c]=s}this._renderResult=o}render(D,S){return this._renderResult?this._renderResult[S-D]:""}}e.LinesDecorationsOverlay=N}),define(te[234],ie([0,1,30,50]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class T extends N.ViewPart{constructor(S){super(S);const p=this._context.configuration.options,b=p.get(129);this._canUseLayerHinting=!p.get(28),this._contentLeft=b.contentLeft,this._glyphMarginLeft=b.glyphMarginLeft,this._glyphMarginWidth=b.glyphMarginWidth,this._domNode=(0,y.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(T.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(T.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(S){const p=this._context.configuration.options,b=p.get(129);return this._canUseLayerHinting=!p.get(28),this._contentLeft=b.contentLeft,this._glyphMarginLeft=b.glyphMarginLeft,this._glyphMarginWidth=b.glyphMarginWidth,!0}onScrollChanged(S){return super.onScrollChanged(S)||S.scrollTopChanged}prepareRender(S){}render(S){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const p=S.scrollTop-S.bigNumbersDelta;this._domNode.setTop(-p);const b=Math.min(S.scrollHeight,1e6);this._domNode.setHeight(b),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(b)}}e.Margin=T,T.CLASS_NAME="glyph-margin",T.OUTER_CLASS_NAME="margin"}),define(te[411],ie([0,1,179,342]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class N extends y.DedupOverlay{constructor(D){super();this._context=D,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){return!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const S=D.getDecorationsInViewport();let p=[],b=0;for(let i=0,f=S.length;i<f;i++){const r=S[i],o=r.options.marginClassName;o&&(p[b++]=new y.DecorationToRender(r.range.startLineNumber,r.range.endLineNumber,o))}return p}prepareRender(D){const S=D.visibleRange.startLineNumber,p=D.visibleRange.endLineNumber,b=this._render(S,p,this._getDecorations(D)),i=[];for(let f=S;f<=p;f++){const r=f-S,o=b[r];let d="";for(let c=0,u=o.length;c<u;c++)d+='<div class="cmdr '+o[c]+'" style=""></div>';i[r]=d}this._renderResult=i}render(D,S){return this._renderResult?this._renderResult[S-D]:""}}e.MarginViewLineDecorationsOverlay=N}),define(te[412],ie([0,1,30,50,344]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class T extends N.ViewPart{constructor(S){super(S);const b=this._context.configuration.options.get(129);this._widgets={},this._verticalScrollbarWidth=b.verticalScrollbarWidth,this._minimapWidth=b.minimap.minimapWidth,this._horizontalScrollbarHeight=b.horizontalScrollbarHeight,this._editorHeight=b.height,this._editorWidth=b.width,this._domNode=(0,y.createFastDomNode)(document.createElement("div")),N.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(S){const b=this._context.configuration.options.get(129);return this._verticalScrollbarWidth=b.verticalScrollbarWidth,this._minimapWidth=b.minimap.minimapWidth,this._horizontalScrollbarHeight=b.horizontalScrollbarHeight,this._editorHeight=b.height,this._editorWidth=b.width,!0}addWidget(S){const p=(0,y.createFastDomNode)(S.getDomNode());this._widgets[S.getId()]={widget:S,preference:null,domNode:p},p.setPosition("absolute"),p.setAttribute("widgetId",S.getId()),this._domNode.appendChild(p),this.setShouldRender()}setWidgetPosition(S,p){const b=this._widgets[S.getId()];return b.preference===p?!1:(b.preference=p,this.setShouldRender(),!0)}removeWidget(S){const p=S.getId();if(this._widgets.hasOwnProperty(p)){const i=this._widgets[p].domNode.domNode;delete this._widgets[p],i.parentNode.removeChild(i),this.setShouldRender()}}_renderWidget(S){const p=S.domNode;if(S.preference===null){p.unsetTop();return}if(S.preference===0)p.setTop(0),p.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(S.preference===1){const b=p.domNode.clientHeight;p.setTop(this._editorHeight-b-2*this._horizontalScrollbarHeight),p.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else S.preference===2&&(p.setTop(0),p.domNode.style.right="50%")}prepareRender(S){}render(S){this._domNode.setWidth(this._editorWidth);const p=Object.keys(this._widgets);for(let b=0,i=p.length;b<i;b++){const f=p[b];this._renderWidget(this._widgets[f])}}}e.ViewOverlayWidgets=T}),define(te[413],ie([0,1,30,232,118]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class D extends T.ViewEventHandler{constructor(p,b){super();this._context=p;const i=this._context.configuration.options;this._domNode=(0,y.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(b),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new N.OverviewZoneManager(f=>this._context.viewLayout.getVerticalOffsetForLineNumber(f)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(58)),this._zoneManager.setPixelRatio(i.get(127)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(p){const b=this._context.configuration.options;return p.hasChanged(58)&&(this._zoneManager.setLineHeight(b.get(58)),this._render()),p.hasChanged(127)&&(this._zoneManager.setPixelRatio(b.get(127)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(p){return this._render(),!0}onScrollChanged(p){return p.scrollHeightChanged&&(this._zoneManager.setOuterHeight(p.scrollHeight),this._render()),!0}onZonesChanged(p){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(p){this._domNode.setTop(p.top),this._domNode.setRight(p.right);let b=!1;b=this._zoneManager.setDOMWidth(p.width)||b,b=this._zoneManager.setDOMHeight(p.height)||b,b&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(p){this._zoneManager.setZones(p),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const p=this._zoneManager.getCanvasWidth(),b=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),f=this._zoneManager.getId2Color(),r=this._domNode.domNode.getContext("2d");return r.clearRect(0,0,p,b),i.length>0&&this._renderOneLane(r,i,f,p),!0}_renderOneLane(p,b,i,f){let r=0,o=0,d=0;for(const c of b){const u=c.colorId,s=c.from,n=c.to;u!==r?(p.fillRect(0,o,f,d-o),r=u,p.fillStyle=i[r],o=s,d=n):d>=s?d=Math.max(d,n):(p.fillRect(0,o,f,d-o),o=s,d=n)}p.fillRect(0,o,f,d-o)}}e.OverviewRuler=D}),define(te[414],ie([0,1,30,10,50,13]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const S=()=>{throw new Error("Invalid change accessor")};class p extends T.ViewPart{constructor(f){super(f);const r=this._context.configuration.options,o=r.get(129);this._lineHeight=r.get(58),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this.domNode=(0,y.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,y.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const f=this._context.viewLayout.getWhitespaces(),r=new Map;for(const d of f)r.set(d.id,d);let o=!1;return this._context.model.changeWhitespace(d=>{const c=Object.keys(this._zones);for(let u=0,s=c.length;u<s;u++){const n=c[u],a=this._zones[n],t=this._computeWhitespaceProps(a.delegate),l=r.get(n);l&&(l.afterLineNumber!==t.afterViewLineNumber||l.height!==t.heightInPx)&&(d.changeOneWhitespace(n,t.afterViewLineNumber,t.heightInPx),this._safeCallOnComputedHeight(a.delegate,t.heightInPx),o=!0)}}),o}onConfigurationChanged(f){const r=this._context.configuration.options,o=r.get(129);return this._lineHeight=r.get(58),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,f.hasChanged(58)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(f){return this._recomputeWhitespacesProps()}onLinesDeleted(f){return!0}onScrollChanged(f){return f.scrollTopChanged||f.scrollWidthChanged}onZonesChanged(f){return!0}onLinesInserted(f){return!0}_getZoneOrdinal(f){return typeof f.afterColumn!="undefined"?f.afterColumn:1e4}_computeWhitespaceProps(f){if(f.afterLineNumber===0)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(f),minWidthInPx:this._minWidthInPixels(f)};let r;if(typeof f.afterColumn!="undefined")r=this._context.model.validateModelPosition({lineNumber:f.afterLineNumber,column:f.afterColumn});else{const u=this._context.model.validateModelPosition({lineNumber:f.afterLineNumber,column:1}).lineNumber;r=new D.Position(u,this._context.model.getModelLineMaxColumn(u))}let o;r.column===this._context.model.getModelLineMaxColumn(r.lineNumber)?o=this._context.model.validateModelPosition({lineNumber:r.lineNumber+1,column:1}):o=this._context.model.validateModelPosition({lineNumber:r.lineNumber,column:r.column+1});const d=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(r),c=this._context.model.coordinatesConverter.modelPositionIsVisible(o);return{afterViewLineNumber:d.lineNumber,heightInPx:c?this._heightInPixels(f):0,minWidthInPx:this._minWidthInPixels(f)}}changeViewZones(f){let r=!1;return this._context.model.changeWhitespace(o=>{const d={addZone:c=>(r=!0,this._addZone(o,c)),removeZone:c=>{!c||(r=this._removeZone(o,c)||r)},layoutZone:c=>{!c||(r=this._layoutZone(o,c)||r)}};b(f,d),d.addZone=S,d.removeZone=S,d.layoutZone=S}),r}_addZone(f,r){const o=this._computeWhitespaceProps(r),c={whitespaceId:f.insertWhitespace(o.afterViewLineNumber,this._getZoneOrdinal(r),o.heightInPx,o.minWidthInPx),delegate:r,isVisible:!1,domNode:(0,y.createFastDomNode)(r.domNode),marginDomNode:r.marginDomNode?(0,y.createFastDomNode)(r.marginDomNode):null};return this._safeCallOnComputedHeight(c.delegate,o.heightInPx),c.domNode.setPosition("absolute"),c.domNode.domNode.style.width="100%",c.domNode.setDisplay("none"),c.domNode.setAttribute("monaco-view-zone",c.whitespaceId),this.domNode.appendChild(c.domNode),c.marginDomNode&&(c.marginDomNode.setPosition("absolute"),c.marginDomNode.domNode.style.width="100%",c.marginDomNode.setDisplay("none"),c.marginDomNode.setAttribute("monaco-view-zone",c.whitespaceId),this.marginDomNode.appendChild(c.marginDomNode)),this._zones[c.whitespaceId]=c,this.setShouldRender(),c.whitespaceId}_removeZone(f,r){if(this._zones.hasOwnProperty(r)){const o=this._zones[r];return delete this._zones[r],f.removeWhitespace(o.whitespaceId),o.domNode.removeAttribute("monaco-visible-view-zone"),o.domNode.removeAttribute("monaco-view-zone"),o.domNode.domNode.parentNode.removeChild(o.domNode.domNode),o.marginDomNode&&(o.marginDomNode.removeAttribute("monaco-visible-view-zone"),o.marginDomNode.removeAttribute("monaco-view-zone"),o.marginDomNode.domNode.parentNode.removeChild(o.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(f,r){if(this._zones.hasOwnProperty(r)){const o=this._zones[r],d=this._computeWhitespaceProps(o.delegate);return f.changeOneWhitespace(o.whitespaceId,d.afterViewLineNumber,d.heightInPx),this._safeCallOnComputedHeight(o.delegate,d.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(f){if(this._zones.hasOwnProperty(f)){const r=this._zones[f];return Boolean(r.delegate.suppressMouseDown)}return!1}_heightInPixels(f){return typeof f.heightInPx=="number"?f.heightInPx:typeof f.heightInLines=="number"?this._lineHeight*f.heightInLines:this._lineHeight}_minWidthInPixels(f){return typeof f.minWidthInPx=="number"?f.minWidthInPx:0}_safeCallOnComputedHeight(f,r){if(typeof f.onComputedHeight=="function")try{f.onComputedHeight(r)}catch(o){(0,N.onUnexpectedError)(o)}}_safeCallOnDomNodeTop(f,r){if(typeof f.onDomNodeTop=="function")try{f.onDomNodeTop(r)}catch(o){(0,N.onUnexpectedError)(o)}}prepareRender(f){}render(f){const r=f.viewportData.whitespaceViewportData,o={};let d=!1;for(let u=0,s=r.length;u<s;u++)o[r[u].id]=r[u],d=!0;const c=Object.keys(this._zones);for(let u=0,s=c.length;u<s;u++){const n=c[u],a=this._zones[n];let t=0,l=0,h="none";o.hasOwnProperty(n)?(t=o[n].verticalOffset-f.bigNumbersDelta,l=o[n].height,h="block",a.isVisible||(a.domNode.setAttribute("monaco-visible-view-zone","true"),a.isVisible=!0),this._safeCallOnDomNodeTop(a.delegate,f.getScrolledTopFromAbsoluteTop(o[n].verticalOffset))):(a.isVisible&&(a.domNode.removeAttribute("monaco-visible-view-zone"),a.isVisible=!1),this._safeCallOnDomNodeTop(a.delegate,f.getScrolledTopFromAbsoluteTop(-1e6))),a.domNode.setTop(t),a.domNode.setHeight(l),a.domNode.setDisplay(h),a.marginDomNode&&(a.marginDomNode.setTop(t),a.marginDomNode.setHeight(l),a.marginDomNode.setDisplay(h))}d&&(this.domNode.setWidth(Math.max(f.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=p;function b(i,f){try{return i(f)}catch(r){(0,N.onUnexpectedError)(r)}}}),define(te[63],ie([0,1,8,13,3]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.InjectedText=e.LineBreakData=e.OutputPosition=e.Viewport=void 0;class D{constructor(s,n,a,t){this._viewportBrand=void 0,this.top=s|0,this.left=n|0,this.width=a|0,this.height=t|0}}e.Viewport=D;class S{constructor(s,n){this.outputLineIndex=s,this.outputOffset=n}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(s,n){const a=this.outputLineIndex>0?n:0;return new N.Position(s+this.outputLineIndex,a+this.outputOffset+1)}}e.OutputPosition=S;class p{constructor(s,n,a,t,l){this.breakOffsets=s,this.breakOffsetsVisibleColumn=n,this.wrappedTextIndentLength=a,this.injectionOffsets=t,this.injectionOptions=l}getInputOffsetOfOutputPosition(s,n){let a=0;if(s===0?a=n:a=this.breakOffsets[s-1]+n,this.injectionOffsets!==null)for(let t=0;t<this.injectionOffsets.length&&a>this.injectionOffsets[t];t++)a<this.injectionOffsets[t]+this.injectionOptions[t].content.length?a=this.injectionOffsets[t]:a-=this.injectionOptions[t].content.length;return a}getOutputPositionOfInputOffset(s,n=2){let a=0;if(this.injectionOffsets!==null)for(let t=0;t<this.injectionOffsets.length&&!(s<this.injectionOffsets[t]||n!==1&&s===this.injectionOffsets[t]);t++)a+=this.injectionOptions[t].content.length;return s+=a,this.getOutputPositionOfOffsetInUnwrappedLine(s,n)}getOutputPositionOfOffsetInUnwrappedLine(s,n=2){let a=0,t=this.breakOffsets.length-1,l=0,h=0;for(;a<=t;){l=a+(t-a)/2|0;const g=this.breakOffsets[l];if(h=l>0?this.breakOffsets[l-1]:0,n===0)if(s<=h)t=l-1;else if(s>g)a=l+1;else break;else if(s<h)t=l-1;else if(s>=g)a=l+1;else break}return new S(l,s-h)}outputPositionToOffsetInUnwrappedLine(s,n){let a=(s>0?this.breakOffsets[s-1]:0)+n;return s>0&&(a-=this.wrappedTextIndentLength),a}normalizeOffsetAroundInjections(s,n){const a=this.getInjectedTextAtOffset(s);if(!a)return s;if(n===2)return s===a.offsetInUnwrappedLine+a.length?a.offsetInUnwrappedLine+a.length:a.offsetInUnwrappedLine;if(n===1){let h=a.offsetInUnwrappedLine+a.length,g=a.injectedTextIndex;for(;g+1<this.injectionOffsets.length&&this.injectionOffsets[g+1]===this.injectionOffsets[g];)h+=this.injectionOptions[g+1].content.length,g++;return h}let t=a.offsetInUnwrappedLine,l=a.injectedTextIndex;for(;l-1>=0&&this.injectionOffsets[l-1]===this.injectionOffsets[l];)t-=this.injectionOptions[l-1].content.length,l++;return t}getInjectedText(s,n){const a=this.outputPositionToOffsetInUnwrappedLine(s,n),t=this.getInjectedTextAtOffset(a);return t?{options:this.injectionOptions[t.injectedTextIndex]}:null}getInjectedTextAtOffset(s){const n=this.injectionOffsets,a=this.injectionOptions;if(n!==null){let t=0;for(let l=0;l<n.length;l++){const h=a[l].content.length,g=n[l]+t,w=n[l]+t+h;if(g>s)break;if(s<=w)return{injectedTextIndex:l,offsetInUnwrappedLine:g,length:h};t+=h}}}}e.LineBreakData=p;class b{constructor(s){this.options=s}}e.InjectedText=b;class i{constructor(s,n){this.tabSize=s,this.data=n}}e.MinimapLinesRenderingData=i;class f{constructor(s,n,a,t,l,h,g){this._viewLineDataBrand=void 0,this.content=s,this.continuesWithWrappedLine=n,this.minColumn=a,this.maxColumn=t,this.startVisibleColumn=l,this.tokens=h,this.inlineDecorations=g}}e.ViewLineData=f;class r{constructor(s,n,a,t,l,h,g,w,_,C){this.minColumn=s,this.maxColumn=n,this.content=a,this.continuesWithWrappedLine=t,this.isBasicASCII=r.isBasicASCII(a,h),this.containsRTL=r.containsRTL(a,this.isBasicASCII,l),this.tokens=g,this.inlineDecorations=w,this.tabSize=_,this.startVisibleColumn=C}static isBasicASCII(s,n){return n?y.isBasicASCII(s):!0}static containsRTL(s,n,a){return!n&&a?y.containsRTL(s):!1}}e.ViewLineRenderingData=r;class o{constructor(s,n,a){this.range=s,this.inlineClassName=n,this.type=a}}e.InlineDecoration=o;class d{constructor(s,n,a,t){this.startOffset=s,this.endOffset=n,this.inlineClassName=a,this.inlineClassNameAffectsLetterSpacing=t}toInlineDecoration(s){return new o(new T.Range(s,this.startOffset+1,s,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=d;class c{constructor(s,n){this._viewModelDecorationBrand=void 0,this.range=s,this.options=n}}e.ViewModelDecoration=c}),define(te[415],ie([0,1,8,95,63,97]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class S extends N.CharacterClassifier{constructor(n,a){super(0);for(let t=0;t<n.length;t++)this.set(n.charCodeAt(t),1);for(let t=0;t<a.length;t++)this.set(a.charCodeAt(t),2)}get(n){return n>=0&&n<256?this._asciiMap[n]:n>=12352&&n<=12543||n>=13312&&n<=19903||n>=19968&&n<=40959?3:this._map.get(n)||this._defaultValue}}let p=[],b=[];class i{constructor(n,a){this.classifier=new S(n,a)}static create(n){return new i(n.get(118),n.get(117))}createLineBreaksComputer(n,a,t,l){a=a|0,t=+t;const h=[],g=[],w=[];return{addRequest:(_,C,v)=>{h.push(_),g.push(C),w.push(v)},finalize:()=>{const _=n.typicalFullwidthCharacterWidth/n.typicalHalfwidthCharacterWidth;let C=[];for(let v=0,m=h.length;v<m;v++){const E=g[v],I=w[v];I&&!I.injectionOptions&&!E?C[v]=f(this.classifier,I,h[v],a,t,_,l):C[v]=r(this.classifier,h[v],E,a,t,_,l)}return p.length=0,b.length=0,C}}}}e.MonospaceLineBreaksComputerFactory=i;function f(s,n,a,t,l,h,g){if(l===-1)return null;const w=a.length;if(w<=1)return null;const _=n.breakOffsets,C=n.breakOffsetsVisibleColumn,v=u(a,t,l,h,g),m=l-v;let E=p,I=b,k=0,A=0,P=0,F=l;const M=_.length;let R=0;if(R>=0){let O=Math.abs(C[R]-F);for(;R+1<M;){const L=Math.abs(C[R+1]-F);if(L>=O)break;O=L,R++}}for(;R<M;){let O=R<0?0:_[R],L=R<0?0:C[R];A>O&&(O=A,L=P);let B=0,z=0,$=0,j=0;if(L<=F){let Q=L,Y=O===0?0:a.charCodeAt(O-1),oe=O===0?0:s.get(Y),se=!0;for(let K=O;K<w;K++){const x=K,U=a.charCodeAt(K);let H,V;if(y.isHighSurrogate(U)?(K++,H=0,V=2):(H=s.get(U),V=o(U,Q,t,h)),x>A&&c(Y,oe,U,H)&&(B=x,z=Q),Q+=V,Q>F){x>A?($=x,j=Q-V):($=K+1,j=Q),Q-z>m&&(B=0),se=!1;break}Y=U,oe=H}if(se){k>0&&(E[k]=_[_.length-1],I[k]=C[_.length-1],k++);break}}if(B===0){let Q=L,Y=a.charCodeAt(O),oe=s.get(Y),se=!1;for(let K=O-1;K>=A;K--){const x=K+1,U=a.charCodeAt(K);if(U===9){se=!0;break}let H,V;if(y.isLowSurrogate(U)?(K--,H=0,V=2):(H=s.get(U),V=y.isFullWidthCharacter(U)?h:1),Q<=F){if($===0&&($=x,j=Q),Q<=F-m)break;if(c(U,H,Y,oe)){B=x,z=Q;break}}Q-=V,Y=U,oe=H}if(B!==0){const K=m-(j-z);if(K<=t){const x=a.charCodeAt($);let U;y.isHighSurrogate(x)?U=2:U=o(x,j,t,h),K-U<0&&(B=0)}}if(se){R--;continue}}if(B===0&&(B=$,z=j),B<=A){const Q=a.charCodeAt(A);y.isHighSurrogate(Q)?(B=A+2,z=P+2):(B=A+1,z=P+o(Q,P,t,h))}for(A=B,E[k]=B,P=z,I[k]=z,k++,F=z+m;R<0||R<M&&C[R]<z;)R++;let X=Math.abs(C[R]-F);for(;R+1<M;){const Q=Math.abs(C[R+1]-F);if(Q>=X)break;X=Q,R++}}return k===0?null:(E.length=k,I.length=k,p=n.breakOffsets,b=n.breakOffsetsVisibleColumn,n.breakOffsets=E,n.breakOffsetsVisibleColumn=I,n.wrappedTextIndentLength=v,n)}function r(s,n,a,t,l,h,g){const w=D.LineInjectedText.applyInjectedText(n,a);let _,C;if(a&&a.length>0?(_=a.map(z=>z.options),C=a.map(z=>z.column-1)):(_=null,C=null),l===-1)return _?new T.LineBreakData([w.length],[],0,C,_):null;const v=w.length;if(v<=1)return _?new T.LineBreakData([w.length],[],0,C,_):null;const m=u(w,t,l,h,g),E=l-m;let I=[],k=[],A=0,P=0,F=0,M=l,R=w.charCodeAt(0),O=s.get(R),L=o(R,0,t,h),B=1;y.isHighSurrogate(R)&&(L+=1,R=w.charCodeAt(1),O=s.get(R),B++);for(let z=B;z<v;z++){const $=z,j=w.charCodeAt(z);let X,Q;y.isHighSurrogate(j)?(z++,X=0,Q=2):(X=s.get(j),Q=o(j,L,t,h)),c(R,O,j,X)&&(P=$,F=L),L+=Q,L>M&&((P===0||L-F>E)&&(P=$,F=L-Q),I[A]=P,k[A]=F,A++,M=F+E,P=0),R=j,O=X}return A===0&&(!a||a.length===0)?null:(I[A]=v,k[A]=L,new T.LineBreakData(I,k,m,C,_))}function o(s,n,a,t){return s===9?a-n%a:y.isFullWidthCharacter(s)||s<32?t:1}function d(s,n){return n-s%n}function c(s,n,a,t){return a!==32&&(n===2||n===3&&t!==2||t===1||t===3&&n!==1)}function u(s,n,a,t,l){let h=0;if(l!==0){const g=y.firstNonWhitespaceIndex(s);if(g!==-1){for(let _=0;_<g;_++)h+=s.charCodeAt(_)===9?d(h,n):1;const w=l===3?2:l===2?1:0;for(let _=0;_<w;_++)h+=d(h,n);h+t>a&&(h=0)}}return h}}),define(te[180],ie([0,1,6,2]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class T extends N.Disposable{constructor(){super();this._onEvent=this._register(new y.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(d){this._addOutgoingEvent(d),this._emitOutgoingEvents()}_addOutgoingEvent(d){for(let c=0,u=this._outgoingEvents.length;c<u;c++)if(this._outgoingEvents[c].kind===d.kind){this._outgoingEvents[c]=this._outgoingEvents[c].merge(d);return}this._outgoingEvents.push(d)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const d=this._outgoingEvents.shift();d.isNoOp()||this._onEvent.fire(d)}}addViewEventHandler(d){for(let c=0,u=this._eventHandlers.length;c<u;c++)this._eventHandlers[c]===d&&console.warn("Detected duplicate listener in ViewEventDispatcher",d);this._eventHandlers.push(d)}removeViewEventHandler(d){for(let c=0;c<this._eventHandlers.length;c++)if(this._eventHandlers[c]===d){this._eventHandlers.splice(c,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new D),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const d=this._collector.outgoingEvents,c=this._collector.viewEvents;this._collector=null;for(const u of d)this._addOutgoingEvent(u);c.length>0&&this._emitMany(c)}this._emitOutgoingEvents()}emitSingleViewEvent(d){try{this.beginEmitViewEvents().emitViewEvent(d)}finally{this.endEmitViewEvents()}}_emitMany(d){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(d):this._viewEventQueue=d,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const d=this._viewEventQueue;this._viewEventQueue=null;const c=this._eventHandlers.slice(0);for(const u of c)u.handleEvents(d)}}}e.ViewModelEventDispatcher=T;class D{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(d){this.viewEvents.push(d)}emitOutgoingEvent(d){this.outgoingEvents.push(d)}}e.ViewModelEventsCollector=D;class S{constructor(d,c,u,s){this.kind=0,this._oldContentWidth=d,this._oldContentHeight=c,this.contentWidth=u,this.contentHeight=s,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(d){return d.kind!==0?this:new S(this._oldContentWidth,this._oldContentHeight,d.contentWidth,d.contentHeight)}}e.ContentSizeChangedEvent=S;class p{constructor(d,c){this.kind=1,this.oldHasFocus=d,this.hasFocus=c}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(d){return d.kind!==1?this:new p(this.oldHasFocus,d.hasFocus)}}e.FocusChangedEvent=p;class b{constructor(d,c,u,s,n,a,t,l){this.kind=2,this._oldScrollWidth=d,this._oldScrollLeft=c,this._oldScrollHeight=u,this._oldScrollTop=s,this.scrollWidth=n,this.scrollLeft=a,this.scrollHeight=t,this.scrollTop=l,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(d){return d.kind!==2?this:new b(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,d.scrollWidth,d.scrollLeft,d.scrollHeight,d.scrollTop)}}e.ScrollChangedEvent=b;class i{constructor(){this.kind=3}isNoOp(){return!1}merge(d){return this}}e.ViewZonesChangedEvent=i;class f{constructor(d,c,u,s,n,a,t){this.kind=5,this.oldSelections=d,this.selections=c,this.oldModelVersionId=u,this.modelVersionId=s,this.source=n,this.reason=a,this.reachedMaxCursorCount=t}static _selectionsAreEqual(d,c){if(!d&&!c)return!0;if(!d||!c)return!1;const u=d.length,s=c.length;if(u!==s)return!1;for(let n=0;n<u;n++)if(!d[n].equalsSelection(c[n]))return!1;return!0}isNoOp(){return f._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(d){return d.kind!==5?this:new f(this.oldSelections,d.selections,this.oldModelVersionId,d.modelVersionId,d.source,d.reason,this.reachedMaxCursorCount||d.reachedMaxCursorCount)}}e.CursorStateChangedEvent=f;class r{constructor(){this.kind=4}isNoOp(){return!1}merge(d){return this}}e.ReadOnlyEditAttemptEvent=r}),define(te[416],ie([0,1,6,2,130,404,63,180]),function(q,e,y,N,T,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const b=125;class i{constructor(d,c,u,s){d=d|0,c=c|0,u=u|0,s=s|0,d<0&&(d=0),c<0&&(c=0),u<0&&(u=0),s<0&&(s=0),this.width=d,this.contentWidth=c,this.scrollWidth=Math.max(d,c),this.height=u,this.contentHeight=s,this.scrollHeight=Math.max(u,s)}equals(d){return this.width===d.width&&this.contentWidth===d.contentWidth&&this.height===d.height&&this.contentHeight===d.contentHeight}}class f extends N.Disposable{constructor(d,c){super();this._onDidContentSizeChange=this._register(new y.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new i(0,0,0,0),this._scrollable=this._register(new T.Scrollable(d,c)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(d){this._scrollable.setSmoothScrollDuration(d)}validateScrollPosition(d){return this._scrollable.validateScrollPosition(d)}getScrollDimensions(){return this._dimensions}setScrollDimensions(d){if(this._dimensions.equals(d))return;const c=this._dimensions;this._dimensions=d,this._scrollable.setScrollDimensions({width:d.width,scrollWidth:d.scrollWidth,height:d.height,scrollHeight:d.scrollHeight},!0);const u=c.contentWidth!==d.contentWidth,s=c.contentHeight!==d.contentHeight;(u||s)&&this._onDidContentSizeChange.fire(new p.ContentSizeChangedEvent(c.contentWidth,c.contentHeight,d.contentWidth,d.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(d){this._scrollable.setScrollPositionNow(d)}setScrollPositionSmooth(d){this._scrollable.setScrollPositionSmooth(d)}}class r extends N.Disposable{constructor(d,c,u){super();this._configuration=d;const s=this._configuration.options,n=s.get(129),a=s.get(74);this._linesLayout=new D.LinesLayout(c,s.get(58),a.top,a.bottom),this._scrollable=this._register(new f(0,u)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new i(n.contentWidth,0,n.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(102)?b:0)}onConfigurationChanged(d){const c=this._configuration.options;if(d.hasChanged(58)&&this._linesLayout.setLineHeight(c.get(58)),d.hasChanged(74)){const u=c.get(74);this._linesLayout.setPadding(u.top,u.bottom)}if(d.hasChanged(129)){const u=c.get(129),s=u.contentWidth,n=u.height,a=this._scrollable.getScrollDimensions(),t=a.contentWidth;this._scrollable.setScrollDimensions(new i(s,a.contentWidth,n,this._getContentHeight(s,n,t)))}else this._updateHeight();d.hasChanged(102)&&this._configureSmoothScrollDuration()}onFlushed(d){this._linesLayout.onFlushed(d)}onLinesDeleted(d,c){this._linesLayout.onLinesDeleted(d,c)}onLinesInserted(d,c){this._linesLayout.onLinesInserted(d,c)}_getHorizontalScrollbarHeight(d,c){const s=this._configuration.options.get(91);return s.horizontal===2||d>=c?0:s.horizontalScrollbarSize}_getContentHeight(d,c,u){const s=this._configuration.options;let n=this._linesLayout.getLinesTotalHeight();return s.get(93)?n+=Math.max(0,c-s.get(58)-s.get(74).bottom):n+=this._getHorizontalScrollbarHeight(d,u),n}_updateHeight(){const d=this._scrollable.getScrollDimensions(),c=d.width,u=d.height,s=d.contentWidth;this._scrollable.setScrollDimensions(new i(c,d.contentWidth,u,this._getContentHeight(c,u,s)))}getCurrentViewport(){const d=this._scrollable.getScrollDimensions(),c=this._scrollable.getCurrentScrollPosition();return new S.Viewport(c.scrollTop,c.scrollLeft,d.width,d.height)}getFutureViewport(){const d=this._scrollable.getScrollDimensions(),c=this._scrollable.getFutureScrollPosition();return new S.Viewport(c.scrollTop,c.scrollLeft,d.width,d.height)}_computeContentWidth(d){const c=this._configuration.options,u=c.get(130),s=c.get(43);if(u.isViewportWrapping){const n=c.get(129),a=c.get(64);return d>n.contentWidth+s.typicalHalfwidthCharacterWidth&&a.enabled&&a.side==="right"?d+n.verticalScrollbarWidth:d}else{const n=c.get(92)*s.typicalHalfwidthCharacterWidth,a=this._linesLayout.getWhitespaceMinWidth();return Math.max(d+n,a)}}setMaxLineWidth(d){const c=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new i(c.width,this._computeContentWidth(d),c.height,c.contentHeight)),this._updateHeight()}saveState(){const d=this._scrollable.getFutureScrollPosition();let c=d.scrollTop,u=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(c),s=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(u);return{scrollTop:c,scrollTopWithoutViewZones:c-s,scrollLeft:d.scrollLeft}}changeWhitespace(d){const c=this._linesLayout.changeWhitespace(d);return c&&this.onHeightMaybeChanged(),c}getVerticalOffsetForLineNumber(d){return this._linesLayout.getVerticalOffsetForLineNumber(d)}isAfterLines(d){return this._linesLayout.isAfterLines(d)}isInTopPadding(d){return this._linesLayout.isInTopPadding(d)}isInBottomPadding(d){return this._linesLayout.isInBottomPadding(d)}getLineNumberAtVerticalOffset(d){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(d)}getWhitespaceAtVerticalOffset(d){return this._linesLayout.getWhitespaceAtVerticalOffset(d)}getLinesViewportData(){const d=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(d.top,d.top+d.height)}getLinesViewportDataAtScrollTop(d){const c=this._scrollable.getScrollDimensions();return d+c.height>c.scrollHeight&&(d=c.scrollHeight-c.height),d<0&&(d=0),this._linesLayout.getLinesViewportData(d,d+c.height)}getWhitespaceViewportData(){const d=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(d.top,d.top+d.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(d){return this._scrollable.validateScrollPosition(d)}setScrollPosition(d,c){c===1?this._scrollable.setScrollPositionNow(d):this._scrollable.setScrollPositionSmooth(d)}deltaScrollNow(d,c){const u=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:u.scrollLeft+d,scrollTop:u.scrollTop+c})}}e.ViewLayout=r}),define(te[417],ie([0,1,3,21]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class T{constructor(S,p){this._selection=S,this._isMovingLeft=p}getEditOperations(S,p){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const b=this._selection.startLineNumber,i=this._selection.startColumn,f=this._selection.endColumn;if(!(this._isMovingLeft&&i===1)&&!(!this._isMovingLeft&&f===S.getLineMaxColumn(b)))if(this._isMovingLeft){const r=new y.Range(b,i-1,b,i),o=S.getValueInRange(r);p.addEditOperation(r,null),p.addEditOperation(new y.Range(b,f,b,f),o)}else{const r=new y.Range(b,f,b,f+1),o=S.getValueInRange(r);p.addEditOperation(r,null),p.addEditOperation(new y.Range(b,i,b,i),o)}}computeCursorState(S,p){return this._isMovingLeft?new N.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new N.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=T}),define(te[141],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionKind=void 0;class y{constructor(b){this.value=b}equals(b){return this.value===b.value}contains(b){return this.equals(b)||this.value===""||b.value.startsWith(this.value+y.sep)}intersects(b){return this.contains(b)||b.contains(this)}append(b){return new y(this.value+y.sep+b)}}e.CodeActionKind=y,y.sep=".",y.None=new y("@@none@@"),y.Empty=new y(""),y.QuickFix=new y("quickfix"),y.Refactor=new y("refactor"),y.Source=new y("source"),y.SourceOrganizeImports=y.Source.append("organizeImports"),y.SourceFixAll=y.Source.append("fixAll");function N(p,b){return!(p.include&&!p.include.intersects(b)||p.excludes&&p.excludes.some(i=>D(b,i,p.include))||!p.includeSourceActions&&y.Source.contains(b))}e.mayIncludeActionsOfKind=N;function T(p,b){const i=b.kind?new y(b.kind):void 0;return!(p.include&&(!i||!p.include.contains(i))||p.excludes&&i&&p.excludes.some(f=>D(i,f,p.include))||!p.includeSourceActions&&i&&y.Source.contains(i)||p.onlyIncludePreferredActions&&!b.isPreferred)}e.filtersAction=T;function D(p,b,i){return!(!b.contains(p)||i&&b.contains(i))}class S{constructor(b,i,f){this.kind=b,this.apply=i,this.preferred=f}static fromUser(b,i){return!b||typeof b!="object"?new S(i.kind,i.apply,!1):new S(S.getKindFromUser(b,i.kind),S.getApplyFromUser(b,i.apply),S.getPreferredUser(b))}static getApplyFromUser(b,i){switch(typeof b.apply=="string"?b.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return i}}static getKindFromUser(b,i){return typeof b.kind=="string"?new y(b.kind):i}static getPreferredUser(b){return typeof b.preferred=="boolean"?b.preferred:!1}}e.CodeActionCommandArgs=S}),define(te[418],ie([0,1,6]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class N{constructor(D,S,p){this.presentationIndex=p,this._onColorFlushed=new y.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new y.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new y.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=D,this._color=D,this._colorPresentations=S}get color(){return this._color}set color(D){this._color.equals(D)||(this._color=D,this._onDidChangeColor.fire(D))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(D){this._colorPresentations=D,this.presentationIndex>D.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(D,S){for(let p=0;p<this.colorPresentations.length;p++)if(S.toLowerCase()===this.colorPresentations[p].label){this.presentationIndex=p,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=N}),define(te[235],ie([0,1,59,13,3,21,38]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class p{constructor(i,f){this._selection=i,this._insertSpace=f,this._usedEndToken=null}static _haystackHasNeedleAtOffset(i,f,r){if(r<0)return!1;const o=f.length,d=i.length;if(r+o>d)return!1;for(let c=0;c<o;c++){const u=i.charCodeAt(r+c),s=f.charCodeAt(c);if(u!==s&&!(u>=65&&u<=90&&u+32===s)&&!(s>=65&&s<=90&&s+32===u))return!1}return!0}_createOperationsForBlockComment(i,f,r,o,d,c){const u=i.startLineNumber,s=i.startColumn,n=i.endLineNumber,a=i.endColumn,t=d.getLineContent(u),l=d.getLineContent(n);let h=t.lastIndexOf(f,s-1+f.length),g=l.indexOf(r,a-1-r.length);if(h!==-1&&g!==-1)if(u===n)t.substring(h+f.length,g).indexOf(r)>=0&&(h=-1,g=-1);else{const _=t.substring(h+f.length),C=l.substring(0,g);(_.indexOf(r)>=0||C.indexOf(r)>=0)&&(h=-1,g=-1)}let w;h!==-1&&g!==-1?(o&&h+f.length<t.length&&t.charCodeAt(h+f.length)===32&&(f=f+" "),o&&g>0&&l.charCodeAt(g-1)===32&&(r=" "+r,g-=1),w=p._createRemoveBlockCommentOperations(new T.Range(u,h+f.length+1,n,g+1),f,r)):(w=p._createAddBlockCommentOperations(i,f,r,this._insertSpace),this._usedEndToken=w.length===1?r:null);for(const _ of w)c.addTrackedEditOperation(_.range,_.text)}static _createRemoveBlockCommentOperations(i,f,r){let o=[];return T.Range.isEmpty(i)?o.push(y.EditOperation.delete(new T.Range(i.startLineNumber,i.startColumn-f.length,i.endLineNumber,i.endColumn+r.length))):(o.push(y.EditOperation.delete(new T.Range(i.startLineNumber,i.startColumn-f.length,i.startLineNumber,i.startColumn))),o.push(y.EditOperation.delete(new T.Range(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn+r.length)))),o}static _createAddBlockCommentOperations(i,f,r,o){let d=[];return T.Range.isEmpty(i)?d.push(y.EditOperation.replace(new T.Range(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn),f+"  "+r)):(d.push(y.EditOperation.insert(new N.Position(i.startLineNumber,i.startColumn),f+(o?" ":""))),d.push(y.EditOperation.insert(new N.Position(i.endLineNumber,i.endColumn),(o?" ":"")+r))),d}getEditOperations(i,f){const r=this._selection.startLineNumber,o=this._selection.startColumn;i.tokenizeIfCheap(r);const d=i.getLanguageIdAtPosition(r,o),c=S.LanguageConfigurationRegistry.getComments(d);!c||!c.blockCommentStartToken||!c.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,c.blockCommentStartToken,c.blockCommentEndToken,this._insertSpace,i,f)}computeCursorState(i,f){const r=f.getInverseEditOperations();if(r.length===2){const o=r[0],d=r[1];return new D.Selection(o.range.endLineNumber,o.range.endColumn,d.range.startLineNumber,d.range.startColumn)}else{const o=r[0].range,d=this._usedEndToken?-this._usedEndToken.length-1:0;return new D.Selection(o.endLineNumber,o.endColumn+d,o.endLineNumber,o.endColumn+d)}}}e.BlockCommentCommand=p}),define(te[419],ie([0,1,8,59,13,3,21,38,235]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class i{constructor(r,o,d,c,u,s){this._selection=r,this._tabSize=o,this._type=d,this._insertSpace=c,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=u,this._ignoreFirstLine=s||!1}static _gatherPreflightCommentStrings(r,o,d){r.tokenizeIfCheap(o);const c=r.getLanguageIdAtPosition(o,1),u=p.LanguageConfigurationRegistry.getComments(c),s=u?u.lineCommentToken:null;if(!s)return null;let n=[];for(let a=0,t=d-o+1;a<t;a++)n[a]={ignore:!1,commentStr:s,commentStrOffset:0,commentStrLength:s.length};return n}static _analyzeLines(r,o,d,c,u,s,n){let a=!0,t;r===0?t=!0:r===1?t=!1:t=!0;for(let l=0,h=c.length;l<h;l++){const g=c[l],w=u+l;if(w===u&&n){g.ignore=!0;continue}const _=d.getLineContent(w),C=y.firstNonWhitespaceIndex(_);if(C===-1){g.ignore=s,g.commentStrOffset=_.length;continue}if(a=!1,g.ignore=!1,g.commentStrOffset=C,t&&!b.BlockCommentCommand._haystackHasNeedleAtOffset(_,g.commentStr,C)&&(r===0?t=!1:r===1||(g.ignore=!0)),t&&o){const v=C+g.commentStrLength;v<_.length&&_.charCodeAt(v)===32&&(g.commentStrLength+=1)}}if(r===0&&a){t=!1;for(let l=0,h=c.length;l<h;l++)c[l].ignore=!1}return{supported:!0,shouldRemoveComments:t,lines:c}}static _gatherPreflightData(r,o,d,c,u,s,n){const a=i._gatherPreflightCommentStrings(d,c,u);return a===null?{supported:!1}:i._analyzeLines(r,o,d,a,c,s,n)}_executeLineComments(r,o,d,c){let u;d.shouldRemoveComments?u=i._createRemoveLineCommentsOperations(d.lines,c.startLineNumber):(i._normalizeInsertionPoint(r,d.lines,c.startLineNumber,this._tabSize),u=this._createAddLineCommentsOperations(d.lines,c.startLineNumber));const s=new T.Position(c.positionLineNumber,c.positionColumn);for(let n=0,a=u.length;n<a;n++)o.addEditOperation(u[n].range,u[n].text),D.Range.isEmpty(u[n].range)&&D.Range.getStartPosition(u[n].range).equals(s)&&r.getLineContent(s.lineNumber).length+1===s.column&&(this._deltaColumn=(u[n].text||"").length);this._selectionId=o.trackSelection(c)}_attemptRemoveBlockComment(r,o,d,c){let u=o.startLineNumber,s=o.endLineNumber,n=c.length+Math.max(r.getLineFirstNonWhitespaceColumn(o.startLineNumber),o.startColumn),a=r.getLineContent(u).lastIndexOf(d,n-1),t=r.getLineContent(s).indexOf(c,o.endColumn-1-d.length);return a!==-1&&t===-1&&(t=r.getLineContent(u).indexOf(c,a+d.length),s=u),a===-1&&t!==-1&&(a=r.getLineContent(s).lastIndexOf(d,t),u=s),o.isEmpty()&&(a===-1||t===-1)&&(a=r.getLineContent(u).indexOf(d),a!==-1&&(t=r.getLineContent(u).indexOf(c,a+d.length))),a!==-1&&r.getLineContent(u).charCodeAt(a+d.length)===32&&(d+=" "),t!==-1&&r.getLineContent(s).charCodeAt(t-1)===32&&(c=" "+c,t-=1),a!==-1&&t!==-1?b.BlockCommentCommand._createRemoveBlockCommentOperations(new D.Range(u,a+d.length+1,s,t+1),d,c):null}_executeBlockComment(r,o,d){r.tokenizeIfCheap(d.startLineNumber);let c=r.getLanguageIdAtPosition(d.startLineNumber,1),u=p.LanguageConfigurationRegistry.getComments(c);if(!u||!u.blockCommentStartToken||!u.blockCommentEndToken)return;const s=u.blockCommentStartToken,n=u.blockCommentEndToken;let a=this._attemptRemoveBlockComment(r,d,s,n);if(!a){if(d.isEmpty()){const t=r.getLineContent(d.startLineNumber);let l=y.firstNonWhitespaceIndex(t);l===-1&&(l=t.length),a=b.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(d.startLineNumber,l+1,d.startLineNumber,t.length+1),s,n,this._insertSpace)}else a=b.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(d.startLineNumber,r.getLineFirstNonWhitespaceColumn(d.startLineNumber),d.endLineNumber,r.getLineMaxColumn(d.endLineNumber)),s,n,this._insertSpace);a.length===1&&(this._deltaColumn=s.length+1)}this._selectionId=o.trackSelection(d);for(const t of a)o.addEditOperation(t.range,t.text)}getEditOperations(r,o){let d=this._selection;if(this._moveEndPositionDown=!1,d.startLineNumber===d.endLineNumber&&this._ignoreFirstLine){o.addEditOperation(new D.Range(d.startLineNumber,r.getLineMaxColumn(d.startLineNumber),d.startLineNumber+1,1),d.startLineNumber===r.getLineCount()?"":`
`),this._selectionId=o.trackSelection(d);return}d.startLineNumber<d.endLineNumber&&d.endColumn===1&&(this._moveEndPositionDown=!0,d=d.setEndPosition(d.endLineNumber-1,r.getLineMaxColumn(d.endLineNumber-1)));const c=i._gatherPreflightData(this._type,this._insertSpace,r,d.startLineNumber,d.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return c.supported?this._executeLineComments(r,o,c,d):this._executeBlockComment(r,o,d)}computeCursorState(r,o){let d=o.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(d=d.setEndPosition(d.endLineNumber+1,1)),new S.Selection(d.selectionStartLineNumber,d.selectionStartColumn+this._deltaColumn,d.positionLineNumber,d.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(r,o){let d=[];for(let c=0,u=r.length;c<u;c++){const s=r[c];s.ignore||d.push(N.EditOperation.delete(new D.Range(o+c,s.commentStrOffset+1,o+c,s.commentStrOffset+s.commentStrLength+1)))}return d}_createAddLineCommentsOperations(r,o){let d=[];const c=this._insertSpace?" ":"";for(let u=0,s=r.length;u<s;u++){const n=r[u];n.ignore||d.push(N.EditOperation.insert(new T.Position(o+u,n.commentStrOffset+1),n.commentStr+c))}return d}static nextVisibleColumn(r,o,d,c){return d?r+(o-r%o):r+c}static _normalizeInsertionPoint(r,o,d,c){let u=1073741824,s,n;for(let a=0,t=o.length;a<t;a++){if(o[a].ignore)continue;const l=r.getLineContent(d+a);let h=0;for(let g=0,w=o[a].commentStrOffset;h<u&&g<w;g++)h=i.nextVisibleColumn(h,c,l.charCodeAt(g)===9,1);h<u&&(u=h)}u=Math.floor(u/c)*c;for(let a=0,t=o.length;a<t;a++){if(o[a].ignore)continue;const l=r.getLineContent(d+a);let h=0;for(s=0,n=o[a].commentStrOffset;h<u&&s<n;s++)h=i.nextVisibleColumn(h,c,l.charCodeAt(s)===9,1);h>u?o[a].commentStrOffset=s-1:o[a].commentStrOffset=s}}}e.LineCommentCommand=i}),define(te[420],ie([0,1,3,21]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class T{constructor(S,p,b){this.selection=S,this.targetPosition=p,this.copy=b,this.targetSelection=null}getEditOperations(S,p){let b=S.getValueInRange(this.selection);if(this.copy||p.addEditOperation(this.selection,null),p.addEditOperation(new y.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),b),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new N.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new N.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new N.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new N.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new N.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(S,p){return this.targetSelection}}e.DragAndDropCommand=T}),define(te[421],ie([0,1,3]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class N{constructor(D,S,p){this._editorSelection=D,this._ranges=S,this._replaceStrings=p,this._trackedEditorSelectionId=null}getEditOperations(D,S){if(this._ranges.length>0){let p=[];for(let f=0;f<this._ranges.length;f++)p.push({range:this._ranges[f],text:this._replaceStrings[f]});p.sort((f,r)=>y.Range.compareRangesUsingStarts(f.range,r.range));let b=[],i=p[0];for(let f=1;f<p.length;f++)i.range.endLineNumber===p[f].range.startLineNumber&&i.range.endColumn===p[f].range.startColumn?(i.range=i.range.plusRange(p[f].range),i.text=i.text+p[f].text):(b.push(i),i=p[f]);b.push(i);for(const f of b)S.addEditOperation(f.range,f.text)}this._trackedEditorSelectionId=S.trackSelection(this._editorSelection)}computeCursorState(D,S){return S.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=N}),define(te[422],ie([0,1,303]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class N{constructor(f){this.staticValue=f,this.kind=0}}class T{constructor(f){this.pieces=f,this.kind=1}}class D{constructor(f){!f||f.length===0?this._state=new N(""):f.length===1&&f[0].staticValue!==null?this._state=new N(f[0].staticValue):this._state=new T(f)}static fromStaticValue(f){return new D([S.staticValue(f)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(f,r){if(this._state.kind===0)return r?(0,y.buildReplaceStringWithCasePreserved)(f,this._state.staticValue):this._state.staticValue;let o="";for(let d=0,c=this._state.pieces.length;d<c;d++){let u=this._state.pieces[d];if(u.staticValue!==null){o+=u.staticValue;continue}let s=D._substitute(u.matchIndex,f);if(u.caseOps!==null&&u.caseOps.length>0){let n=[],a=u.caseOps.length,t=0;for(let l=0,h=s.length;l<h;l++){if(t>=a){n.push(s.slice(l));break}switch(u.caseOps[t]){case"U":n.push(s[l].toUpperCase());break;case"u":n.push(s[l].toUpperCase()),t++;break;case"L":n.push(s[l].toLowerCase());break;case"l":n.push(s[l].toLowerCase()),t++;break;default:n.push(s[l])}}s=n.join("")}o+=s}return o}static _substitute(f,r){if(r===null)return"";if(f===0)return r[0];let o="";for(;f>0;){if(f<r.length)return(r[f]||"")+o;o=String(f%10)+o,f=Math.floor(f/10)}return"$"+o}}e.ReplacePattern=D;class S{constructor(f,r,o){this.staticValue=f,this.matchIndex=r,!o||o.length===0?this.caseOps=null:this.caseOps=o.slice(0)}static staticValue(f){return new S(f,-1,null)}static caseOps(f,r){return new S(null,f,r)}}e.ReplacePiece=S;class p{constructor(f){this._source=f,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(f){this._emitStatic(this._source.substring(this._lastCharIndex,f)),this._lastCharIndex=f}emitStatic(f,r){this._emitStatic(f),this._lastCharIndex=r}_emitStatic(f){f.length!==0&&(this._currentStaticPiece+=f)}emitMatchIndex(f,r,o){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=S.caseOps(f,o),this._lastCharIndex=r}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new D(this._result)}}function b(i){if(!i||i.length===0)return new D(null);let f=[],r=new p(i);for(let o=0,d=i.length;o<d;o++){let c=i.charCodeAt(o);if(c===92){if(o++,o>=d)break;let u=i.charCodeAt(o);switch(u){case 92:r.emitUnchanged(o-1),r.emitStatic("\\",o+1);break;case 110:r.emitUnchanged(o-1),r.emitStatic(`
`,o+1);break;case 116:r.emitUnchanged(o-1),r.emitStatic("	",o+1);break;case 117:case 85:case 108:case 76:r.emitUnchanged(o-1),r.emitStatic("",o+1),f.push(String.fromCharCode(u));break}continue}if(c===36){if(o++,o>=d)break;let u=i.charCodeAt(o);if(u===36){r.emitUnchanged(o-1),r.emitStatic("$",o+1);continue}if(u===48||u===38){r.emitUnchanged(o-1),r.emitMatchIndex(0,o+1,f),f.length=0;continue}if(49<=u&&u<=57){let s=u-48;if(o+1<d){let n=i.charCodeAt(o+1);if(48<=n&&n<=57){o++,s=s*10+(n-48),r.emitUnchanged(o-2),r.emitMatchIndex(s,o+1,f),f.length=0;continue}}r.emitUnchanged(o-1),r.emitMatchIndex(s,o+1,f),f.length=0;continue}}}return r.finalize()}e.parseReplaceString=b}),define(te[181],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=void 0,e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const y=4278190080;class N{constructor(S,p,b){if(S.length!==p.length||S.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=S,this._endIndexes=p,this._collapseStates=new Uint32Array(Math.ceil(S.length/32)),this._types=b,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let S=[],p=(b,i)=>{let f=S[S.length-1];return this.getStartLineNumber(f)<=b&&this.getEndLineNumber(f)>=i};for(let b=0,i=this._startIndexes.length;b<i;b++){let f=this._startIndexes[b],r=this._endIndexes[b];if(f>e.MAX_LINE_NUMBER||r>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;S.length>0&&!p(f,r);)S.pop();let o=S.length>0?S[S.length-1]:-1;S.push(b),this._startIndexes[b]=f+((o&255)<<24),this._endIndexes[b]=r+((o&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(S){return this._startIndexes[S]&e.MAX_LINE_NUMBER}getEndLineNumber(S){return this._endIndexes[S]&e.MAX_LINE_NUMBER}getType(S){return this._types?this._types[S]:void 0}hasTypes(){return!!this._types}isCollapsed(S){let p=S/32|0,b=S%32;return(this._collapseStates[p]&1<<b)!=0}setCollapsed(S,p){let b=S/32|0,i=S%32,f=this._collapseStates[b];p?this._collapseStates[b]=f|1<<i:this._collapseStates[b]=f&~(1<<i)}setCollapsedAllOfType(S,p){let b=!1;if(this._types)for(let i=0;i<this._types.length;i++)this._types[i]===S&&(this.setCollapsed(i,p),b=!0);return b}toRegion(S){return new T(this,S)}getParentIndex(S){this.ensureParentIndices();let p=((this._startIndexes[S]&y)>>>24)+((this._endIndexes[S]&y)>>>16);return p===e.MAX_FOLDING_REGIONS?-1:p}contains(S,p){return this.getStartLineNumber(S)<=p&&this.getEndLineNumber(S)>=p}findIndex(S){let p=0,b=this._startIndexes.length;if(b===0)return-1;for(;p<b;){let i=Math.floor((p+b)/2);S<this.getStartLineNumber(i)?b=i:p=i+1}return p-1}findRange(S){let p=this.findIndex(S);if(p>=0){if(this.getEndLineNumber(p)>=S)return p;for(p=this.getParentIndex(p);p!==-1;){if(this.contains(p,S))return p;p=this.getParentIndex(p)}}return-1}toString(){let S=[];for(let p=0;p<this.length;p++)S[p]=`[${this.isCollapsed(p)?"+":"-"}] ${this.getStartLineNumber(p)}/${this.getEndLineNumber(p)}`;return S.join(", ")}}e.FoldingRegions=N;class T{constructor(S,p){this.ranges=S,this.index=p}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(S){return S.startLineNumber<=this.startLineNumber&&S.endLineNumber>=this.endLineNumber}containsLine(S){return this.startLineNumber<=S&&S<=this.endLineNumber}}e.FoldingRegion=T}),define(te[423],ie([0,1,6,181]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNextFoldLine=e.getPreviousFoldLine=e.getParentFoldLine=e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class T{constructor(n,a){this._updateEventEmitter=new y.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=n,this._decorationProvider=a,this._regions=new N.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(n){if(!n.length)return;n=n.sort((t,l)=>t.regionIndex-l.regionIndex);const a={};this._decorationProvider.changeDecorations(t=>{let l=0,h=-1,g=-1;const w=_=>{for(;l<_;){const C=this._regions.getEndLineNumber(l),v=this._regions.isCollapsed(l);C<=h&&t.changeDecorationOptions(this._editorDecorationIds[l],this._decorationProvider.getDecorationOption(v,C<=g)),v&&C>g&&(g=C),l++}};for(let _ of n){let C=_.regionIndex,v=this._editorDecorationIds[C];if(v&&!a[v]){a[v]=!0,w(C);let m=!this._regions.isCollapsed(C);this._regions.setCollapsed(C,m),h=Math.max(h,this._regions.getEndLineNumber(C))}}w(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:n})}update(n,a=[]){let t=[],l=(m,E)=>{for(let I of a)if(m<I&&I<=E)return!0;return!1},h=-1,g=(m,E)=>{const I=n.getStartLineNumber(m),k=n.getEndLineNumber(m);E||(E=n.isCollapsed(m)),E&&l(I,k)&&(E=!1),n.setCollapsed(m,E);const A=this._textModel.getLineMaxColumn(I),P={startLineNumber:I,startColumn:Math.max(A-1,1),endLineNumber:I,endColumn:A};t.push({range:P,options:this._decorationProvider.getDecorationOption(E,k<=h)}),E&&k>h&&(h=k)},w=0,_=()=>{for(;w<this._regions.length;){let m=this._regions.isCollapsed(w);if(w++,m)return w-1}return-1},C=0,v=_();for(;v!==-1&&C<n.length;){let m=this._textModel.getDecorationRange(this._editorDecorationIds[v]);if(m){let E=m.startLineNumber;if(m.startColumn===Math.max(m.endColumn-1,1)&&this._textModel.getLineMaxColumn(E)===m.endColumn)for(;C<n.length;){let I=n.getStartLineNumber(C);if(E>=I)g(C,E===I),C++;else break}}v=_()}for(;C<n.length;)g(C,!1),C++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,t),this._regions=n,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let n=[];for(let a=0;a<this._regions.length;a++)if(this._regions.isCollapsed(a)){let t=this._textModel.getDecorationRange(this._editorDecorationIds[a]);if(t){let l=t.startLineNumber,h=t.endLineNumber+this._regions.getEndLineNumber(a)-this._regions.getStartLineNumber(a);n.push({startLineNumber:l,endLineNumber:h})}}if(n.length>0)return n}applyMemento(n){if(!Array.isArray(n))return;let a=[];for(let t of n){let l=this.getRegionAtLine(t.startLineNumber);l&&!l.isCollapsed&&a.push(l)}this.toggleCollapseState(a)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(n,a){let t=[];if(this._regions){let l=this._regions.findRange(n),h=1;for(;l>=0;){let g=this._regions.toRegion(l);(!a||a(g,h))&&t.push(g),h++,l=g.parentIndex}}return t}getRegionAtLine(n){if(this._regions){let a=this._regions.findRange(n);if(a>=0)return this._regions.toRegion(a)}return null}getRegionsInside(n,a){let t=[],l=n?n.regionIndex+1:0,h=n?n.endLineNumber:Number.MAX_VALUE;if(a&&a.length===2){const g=[];for(let w=l,_=this._regions.length;w<_;w++){let C=this._regions.toRegion(w);if(this._regions.getStartLineNumber(w)<h){for(;g.length>0&&!C.containedBy(g[g.length-1]);)g.pop();g.push(C),a(C,g.length)&&t.push(C)}else break}}else for(let g=l,w=this._regions.length;g<w;g++){let _=this._regions.toRegion(g);if(this._regions.getStartLineNumber(g)<h)(!a||a(_))&&t.push(_);else break}return t}}e.FoldingModel=T;function D(s,n,a){let t=[];for(let l of a){let h=s.getRegionAtLine(l);if(h){const g=!h.isCollapsed;if(t.push(h),n>1){let w=s.getRegionsInside(h,(_,C)=>_.isCollapsed!==g&&C<n);t.push(...w)}}}s.toggleCollapseState(t)}e.toggleCollapseState=D;function S(s,n,a=Number.MAX_VALUE,t){let l=[];if(t&&t.length>0)for(let h of t){let g=s.getRegionAtLine(h);if(g&&(g.isCollapsed!==n&&l.push(g),a>1)){let w=s.getRegionsInside(g,(_,C)=>_.isCollapsed!==n&&C<a);l.push(...w)}}else{let h=s.getRegionsInside(null,(g,w)=>g.isCollapsed!==n&&w<a);l.push(...h)}s.toggleCollapseState(l)}e.setCollapseStateLevelsDown=S;function p(s,n,a,t){let l=[];for(let h of t){let g=s.getAllRegionsAtLine(h,(w,_)=>w.isCollapsed!==n&&_<=a);l.push(...g)}s.toggleCollapseState(l)}e.setCollapseStateLevelsUp=p;function b(s,n,a){let t=[];for(let l of a){let h=s.getAllRegionsAtLine(l,g=>g.isCollapsed!==n);h.length>0&&t.push(h[0])}s.toggleCollapseState(t)}e.setCollapseStateUp=b;function i(s,n,a,t){let l=(g,w)=>w===n&&g.isCollapsed!==a&&!t.some(_=>g.containsLine(_)),h=s.getRegionsInside(null,l);s.toggleCollapseState(h)}e.setCollapseStateAtLevel=i;function f(s,n,a){let t=[];for(let g of a)t.push(s.getAllRegionsAtLine(g,void 0)[0]);let l=g=>t.every(w=>!w.containedBy(g)&&!g.containedBy(w))&&g.isCollapsed!==n,h=s.getRegionsInside(null,l);s.toggleCollapseState(h)}e.setCollapseStateForRest=f;function r(s,n,a){let t=s.textModel,l=s.regions,h=[];for(let g=l.length-1;g>=0;g--)if(a!==l.isCollapsed(g)){let w=l.getStartLineNumber(g);n.test(t.getLineContent(w))&&h.push(l.toRegion(g))}s.toggleCollapseState(h)}e.setCollapseStateForMatchingLines=r;function o(s,n,a){let t=s.regions,l=[];for(let h=t.length-1;h>=0;h--)a!==t.isCollapsed(h)&&n===t.getType(h)&&l.push(t.toRegion(h));s.toggleCollapseState(l)}e.setCollapseStateForType=o;function d(s,n){let a=null,t=n.getRegionAtLine(s);if(t!==null&&(a=t.startLineNumber,s===a)){let l=t.parentIndex;l!==-1?a=n.regions.getStartLineNumber(l):a=null}return a}e.getParentFoldLine=d;function c(s,n){let a=n.getRegionAtLine(s);if(a!==null&&a.startLineNumber===s){if(s!==a.startLineNumber)return a.startLineNumber;{let t=a.parentIndex,l=0;for(t!==-1&&(l=n.regions.getStartLineNumber(a.parentIndex));a!==null;)if(a.regionIndex>0){if(a=n.regions.toRegion(a.regionIndex-1),a.startLineNumber<=l)return null;if(a.parentIndex===t)return a.startLineNumber}else return null}}else if(n.regions.length>0)for(a=n.regions.toRegion(n.regions.length-1);a!==null;){if(a.startLineNumber<s)return a.startLineNumber;a.regionIndex>0?a=n.regions.toRegion(a.regionIndex-1):a=null}return null}e.getPreviousFoldLine=c;function u(s,n){let a=n.getRegionAtLine(s);if(a!==null&&a.startLineNumber===s){let t=a.parentIndex,l=0;if(t!==-1)l=n.regions.getEndLineNumber(a.parentIndex);else{if(n.regions.length===0)return null;l=n.regions.getEndLineNumber(n.regions.length-1)}for(;a!==null;)if(a.regionIndex<n.regions.length){if(a=n.regions.toRegion(a.regionIndex+1),a.startLineNumber>=l)return null;if(a.parentIndex===t)return a.startLineNumber}else return null}else if(n.regions.length>0)for(a=n.regions.toRegion(0);a!==null;){if(a.startLineNumber>s)return a.startLineNumber;a.regionIndex<n.regions.length?a=n.regions.toRegion(a.regionIndex+1):a=null}return null}e.getNextFoldLine=u}),define(te[424],ie([0,1,19,6,3]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class D{constructor(i){this._updateEventEmitter=new N.Emitter,this._foldingModel=i,this._foldingModelListener=i.onDidChange(f=>this.updateHiddenRanges()),this._hiddenRanges=[],i.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let i=!1,f=[],r=0,o=0,d=Number.MAX_VALUE,c=-1,u=this._foldingModel.regions;for(;r<u.length;r++){if(!u.isCollapsed(r))continue;let s=u.getStartLineNumber(r)+1,n=u.getEndLineNumber(r);d<=s&&n<=c||(!i&&o<this._hiddenRanges.length&&this._hiddenRanges[o].startLineNumber===s&&this._hiddenRanges[o].endLineNumber===n?(f.push(this._hiddenRanges[o]),o++):(i=!0,f.push(new T.Range(s,1,n,1))),d=s,c=n)}(i||o<this._hiddenRanges.length)&&this.applyHiddenRanges(f)}applyMemento(i){if(!Array.isArray(i)||i.length===0)return!1;let f=[];for(let r of i){if(!r.startLineNumber||!r.endLineNumber)return!1;f.push(new T.Range(r.startLineNumber+1,1,r.endLineNumber,1))}return this.applyHiddenRanges(f),!0}getMemento(){return this._hiddenRanges.map(i=>({startLineNumber:i.startLineNumber-1,endLineNumber:i.endLineNumber}))}applyHiddenRanges(i){this._hiddenRanges=i,this._updateEventEmitter.fire(i)}hasRanges(){return this._hiddenRanges.length>0}isHidden(i){return p(this._hiddenRanges,i)!==null}adjustSelections(i){let f=!1,r=this._foldingModel.textModel,o=null,d=c=>((!o||!S(c,o))&&(o=p(this._hiddenRanges,c)),o?o.startLineNumber-1:null);for(let c=0,u=i.length;c<u;c++){let s=i[c],n=d(s.startLineNumber);n&&(s=s.setStartPosition(n,r.getLineMaxColumn(n)),f=!0);let a=d(s.endLineNumber);a&&(s=s.setEndPosition(a,r.getLineMaxColumn(a)),f=!0),i[c]=s}return f}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=D;function S(b,i){return b>=i.startLineNumber&&b<=i.endLineNumber}function p(b,i){let f=(0,y.findFirstInSorted)(b,r=>i<r.startLineNumber)-1;return f>=0&&b[f].endLineNumber>=i?b[f]:null}}),define(te[236],ie([0,1,10,2,181]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.RangesCollector=e.SyntaxRangeProvider=e.ID_SYNTAX_PROVIDER=void 0;const D=5e3,S={};e.ID_SYNTAX_PROVIDER="syntax";class p{constructor(o,d,c,u=D){this.editorModel=o,this.providers=d,this.limit=u,this.id=e.ID_SYNTAX_PROVIDER;for(const s of d)typeof s.onDidChange=="function"&&(this.disposables||(this.disposables=new N.DisposableStore),this.disposables.add(s.onDidChange(c)))}compute(o){return b(this.providers,this.editorModel,o).then(d=>d?f(d,this.limit):null)}dispose(){var o;(o=this.disposables)===null||o===void 0||o.dispose()}}e.SyntaxRangeProvider=p;function b(r,o,d){let c=null,u=r.map((s,n)=>Promise.resolve(s.provideFoldingRanges(o,S,d)).then(a=>{if(!d.isCancellationRequested&&Array.isArray(a)){Array.isArray(c)||(c=[]);let t=o.getLineCount();for(let l of a)l.start>0&&l.end>l.start&&l.end<=t&&c.push({start:l.start,end:l.end,rank:n,kind:l.kind})}},y.onUnexpectedExternalError));return Promise.all(u).then(s=>c)}class i{constructor(o){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=o}add(o,d,c,u){if(o>T.MAX_LINE_NUMBER||d>T.MAX_LINE_NUMBER)return;let s=this._length;this._startIndexes[s]=o,this._endIndexes[s]=d,this._nestingLevels[s]=u,this._types[s]=c,this._length++,u<30&&(this._nestingLevelCounts[u]=(this._nestingLevelCounts[u]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let o=new Uint32Array(this._length),d=new Uint32Array(this._length);for(let c=0;c<this._length;c++)o[c]=this._startIndexes[c],d[c]=this._endIndexes[c];return new T.FoldingRegions(o,d,this._types)}else{let o=0,d=this._nestingLevelCounts.length;for(let n=0;n<this._nestingLevelCounts.length;n++){let a=this._nestingLevelCounts[n];if(a){if(a+o>this._foldingRangesLimit){d=n;break}o+=a}}let c=new Uint32Array(this._foldingRangesLimit),u=new Uint32Array(this._foldingRangesLimit),s=[];for(let n=0,a=0;n<this._length;n++){let t=this._nestingLevels[n];(t<d||t===d&&o++<this._foldingRangesLimit)&&(c[a]=this._startIndexes[n],u[a]=this._endIndexes[n],s[a]=this._types[n],a++)}return new T.FoldingRegions(c,u,s)}}}e.RangesCollector=i;function f(r,o){let d=r.sort((n,a)=>{let t=n.start-a.start;return t===0&&(t=n.rank-a.rank),t}),c=new i(o),u,s=[];for(let n of d)if(!u)u=n,c.add(n.start,n.end,n.kind&&n.kind.value,s.length);else if(n.start>u.start)if(n.end<=u.end)s.push(u),u=n,c.add(n.start,n.end,n.kind&&n.kind.value,s.length);else{if(n.start>u.end){do u=s.pop();while(u&&n.start>u.end);u&&s.push(u),u=n}c.add(n.start,n.end,n.kind&&n.kind.value,s.length)}return c.toIndentRanges()}e.sanitizeRanges=f}),define(te[425],ie([0,1,236]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InitializingRangeProvider=e.ID_INIT_PROVIDER=void 0,e.ID_INIT_PROVIDER="init";class N{constructor(D,S,p,b){if(this.editorModel=D,this.id=e.ID_INIT_PROVIDER,S.length){let i=f=>({range:{startLineNumber:f.startLineNumber,startColumn:0,endLineNumber:f.endLineNumber,endColumn:D.getLineLength(f.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=D.deltaDecorations([],S.map(i)),this.timeout=setTimeout(p,b)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(D){let S=[];if(this.decorationIds)for(let p of this.decorationIds){let b=this.editorModel.getDecorationRange(p);b&&S.push({start:b.startLineNumber,end:b.endLineNumber,rank:1})}return Promise.resolve((0,y.sanitizeRanges)(S,Number.MAX_VALUE))}}e.InitializingRangeProvider=N}),define(te[237],ie([0,1,59,3]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class T{static _handleEolEdits(S,p){let b,i=[];for(let f of p)typeof f.eol=="number"&&(b=f.eol),f.range&&typeof f.text=="string"&&i.push(f);return typeof b=="number"&&S.hasModel()&&S.getModel().pushEOL(b),i}static _isFullModelReplaceEdit(S,p){if(!S.hasModel())return!1;const b=S.getModel(),i=b.validateRange(p.range);return b.getFullModelRange().equalsRange(i)}static execute(S,p,b){b&&S.pushUndoStop();const i=T._handleEolEdits(S,p);i.length===1&&T._isFullModelReplaceEdit(S,i[0])?S.executeEdits("formatEditsCommand",i.map(f=>y.EditOperation.replace(N.Range.lift(f.range),f.text))):S.executeEdits("formatEditsCommand",i.map(f=>y.EditOperation.replaceMove(N.Range.lift(f.range),f.text))),b&&S.pushUndoStop()}}e.FormattingEdit=T}),define(te[238],ie([0,1,6,2,17]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function D(r,o){return!!r[o]}class S{constructor(o,d){this.target=o.target,this.hasTriggerModifier=D(o.event,d.triggerModifier),this.hasSideBySideModifier=D(o.event,d.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=o.event.detail<=1}}e.ClickLinkMouseEvent=S;class p{constructor(o,d){this.keyCodeIsTriggerKey=o.keyCode===d.triggerKey,this.keyCodeIsSideBySideKey=o.keyCode===d.triggerSideBySideKey,this.hasTriggerModifier=D(o,d.triggerModifier)}}e.ClickLinkKeyboardEvent=p;class b{constructor(o,d,c,u){this.triggerKey=o,this.triggerModifier=d,this.triggerSideBySideKey=c,this.triggerSideBySideModifier=u}equals(o){return this.triggerKey===o.triggerKey&&this.triggerModifier===o.triggerModifier&&this.triggerSideBySideKey===o.triggerSideBySideKey&&this.triggerSideBySideModifier===o.triggerSideBySideModifier}}e.ClickLinkOptions=b;function i(r){return r==="altKey"?T.isMacintosh?new b(57,"metaKey",6,"altKey"):new b(5,"ctrlKey",6,"altKey"):T.isMacintosh?new b(6,"altKey",57,"metaKey"):new b(6,"altKey",5,"ctrlKey")}class f extends N.Disposable{constructor(o){super();this._onMouseMoveOrRelevantKeyDown=this._register(new y.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new y.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new y.Emitter),this.onCancel=this._onCancel.event,this._editor=o,this._opts=i(this._editor.getOption(69)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(d=>{if(d.hasChanged(69)){const c=i(this._editor.getOption(69));if(this._opts.equals(c))return;this._opts=c,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(d=>this._onEditorMouseMove(new S(d,this._opts)))),this._register(this._editor.onMouseDown(d=>this._onEditorMouseDown(new S(d,this._opts)))),this._register(this._editor.onMouseUp(d=>this._onEditorMouseUp(new S(d,this._opts)))),this._register(this._editor.onKeyDown(d=>this._onEditorKeyDown(new p(d,this._opts)))),this._register(this._editor.onKeyUp(d=>this._onEditorKeyUp(new p(d,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(d=>this._onDidChangeCursorSelection(d))),this._register(this._editor.onDidChangeModel(d=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(d=>{(d.scrollTopChanged||d.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(o){o.selection&&o.selection.startColumn!==o.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(o){this._lastMouseMoveEvent=o,this._onMouseMoveOrRelevantKeyDown.fire([o,null])}_onEditorMouseDown(o){this._hasTriggerKeyOnMouseDown=o.hasTriggerModifier,this._lineNumberOnMouseDown=o.target.position?o.target.position.lineNumber:0}_onEditorMouseUp(o){const d=o.target.position?o.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===d&&this._onExecute.fire(o)}_onEditorKeyDown(o){this._lastMouseMoveEvent&&(o.keyCodeIsTriggerKey||o.keyCodeIsSideBySideKey&&o.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,o]):o.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(o){o.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=f}),define(te[239],ie([0,1,14,10]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=void 0;class T{constructor(S,p,b,i,f){this._computer=S,this._state=0,this._hoverTime=f,this._firstWaitScheduler=new y.RunOnceScheduler(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new y.RunOnceScheduler(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new y.RunOnceScheduler(()=>this._showLoadingMessage(),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=p,this._errorCallback=b,this._progressCallback=i}setHoverTime(S){this._hoverTime=S}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=(0,y.createCancelablePromise)(S=>this._computer.computeAsync(S)),this._asyncComputationPromise.then(S=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(S)},S=>this._onError(S))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){this._state===3&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(S){S&&this._computer.onResult(S,!1),this._state===3&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(S){this._completeCallback(S)}_onError(S){this._errorCallback?this._errorCallback(S):(0,N.onUnexpectedError)(S)}_onProgress(S){this._progressCallback(S)}start(S){if(S===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._loadingMessageScheduler.cancel(),this._state===1&&this._firstWaitScheduler.cancel(),this._state===2&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state===3&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}e.HoverOperation=T}),define(te[240],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class y{constructor(D,S){this.priority=D,this.range=S,this.type=1}equals(D){return D.type===1&&this.range.equalsRange(D.range)}canAdoptVisibleHover(D,S){return D.type===1&&S.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=y;class N{constructor(D,S,p){this.priority=D,this.owner=S,this.range=p,this.type=2}equals(D){return D.type===2&&this.owner===D.owner}canAdoptVisibleHover(D,S){return D.type===2&&this.owner===D.owner}}e.HoverForeignElementAnchor=N}),define(te[426],ie([0,1,21]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class N{constructor(D,S,p){this._editRange=D,this._originalSelection=S,this._text=p}getEditOperations(D,S){S.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(D,S){const b=S.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new y.Selection(b.endLineNumber,Math.min(this._originalSelection.positionColumn,b.endColumn),b.endLineNumber,Math.min(this._originalSelection.positionColumn,b.endColumn)):new y.Selection(b.endLineNumber,b.endColumn-this._text.length,b.endLineNumber,b.endColumn)}}e.InPlaceReplaceCommand=N}),define(te[241],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function y(T,D){let S=0;for(let p=0;p<T.length;p++)T.charAt(p)==="	"?S+=D:S++;return S}e.getSpaceCnt=y;function N(T,D,S){T=T<0?0:T;let p="";if(!S){let b=Math.floor(T/D);T=T%D;for(let i=0;i<b;i++)p+="	"}for(let b=0;b<T;b++)p+=" ";return p}e.generateIndent=N}),define(te[242],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit"}),define(te[182],ie([0,1,6,2,3]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseGhostTextWidgetModel=e.GhostTextPart=e.GhostText=void 0;class D{constructor(r,o,d=0){this.lineNumber=r,this.parts=o,this.additionalReservedLineCount=d}renderForScreenReader(r){if(this.parts.length===0)return"";const o=this.parts[this.parts.length-1],d=r.substr(0,o.column-1);return p(d,this.parts.map(u=>({range:{startLineNumber:1,endLineNumber:1,startColumn:u.column,endColumn:u.column},text:u.lines.join(`
`)}))).substring(this.parts[0].column-1)}}e.GhostText=D;class S{constructor(r){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let o=0;o<r.length;o++)r.charAt(o)===`
`&&this.lineStartOffsetByLineIdx.push(o+1)}getOffset(r){return this.lineStartOffsetByLineIdx[r.lineNumber-1]+r.column-1}}function p(f,r){const o=new S(f),d=r.map(c=>{const u=T.Range.lift(c.range);return{startOffset:o.getOffset(u.getStartPosition()),endOffset:o.getOffset(u.getEndPosition()),text:c.text}});d.sort((c,u)=>u.startOffset-c.startOffset);for(const c of d)f=f.substring(0,c.startOffset)+c.text+f.substring(c.endOffset);return f}class b{constructor(r,o,d){this.column=r,this.lines=o,this.preview=d}}e.GhostTextPart=b;class i extends N.Disposable{constructor(r){super();this.editor=r,this._expanded=void 0,this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this._register(r.onDidChangeConfiguration(o=>{o.hasChanged(105)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(r){this._expanded=!0,this.onDidChangeEmitter.fire()}}e.BaseGhostTextWidgetModel=i}),define(te[183],ie([0,1,131,8,3,182]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineCompletionToGhostText=e.normalizedInlineCompletionsEquals=void 0;function S(r,o){return r===o?!0:!r||!o?!1:r.range.equalsRange(o.range)&&r.text===o.text&&r.command===o.command}e.normalizedInlineCompletionsEquals=S;function p(r,o,d,c,u=0){if(r.range.startLineNumber!==r.range.endLineNumber)return;const s=o.getLineContent(r.range.startLineNumber),n=N.getLeadingWhitespace(s).length;if(r.range.startColumn-1<=n){const _=N.getLeadingWhitespace(r.text).length,C=s.substring(r.range.startColumn-1,n),v=T.Range.fromPositions(r.range.getStartPosition().delta(0,C.length),r.range.getEndPosition()),m=r.text.startsWith(C)?r.text.substring(C.length):r.text.substring(_);r={range:v,text:m,command:r.command}}const t=o.getValueInRange(r.range),l=i(t,r.text),h=r.range.startLineNumber,g=new Array;if(d==="prefix"){const _=l.filter(C=>C.originalLength===0);if(_.length>1||_.length===1&&_[0].originalStart!==t.length)return}const w=r.text.length-u;for(const _ of l){const C=r.range.startColumn+_.originalStart+_.originalLength;if(d==="subwordSmart"&&c&&c.lineNumber===r.range.startLineNumber&&C<c.column||_.originalLength>0)return;if(_.modifiedLength===0)continue;const v=_.modifiedStart+_.modifiedLength,m=Math.max(_.modifiedStart,Math.min(v,w)),E=r.text.substring(_.modifiedStart,m),I=r.text.substring(m,Math.max(_.modifiedStart,v));if(E.length>0){const k=N.splitLines(E);g.push(new D.GhostTextPart(C,k,!1))}if(I.length>0){const k=N.splitLines(I);g.push(new D.GhostTextPart(C,k,!0))}}return new D.GhostText(h,g,0)}e.inlineCompletionToGhostText=p;let b;function i(r,o){if((b==null?void 0:b.originalValue)===r&&(b==null?void 0:b.newValue)===o)return b==null?void 0:b.changes;{const d=f(r,o);return b={originalValue:r,newValue:o,changes:d},d}}function f(r,o){function d(t){let l=0;for(let h=0,g=t.length;h<g;h++){const w=t.charCodeAt(h);w>l&&(l=w)}return l}const c=Math.max(d(r),d(o));function u(t){if(t<0)throw new Error("unexpected");return c+t+1}function s(t){let l=0,h=0;const g=new Int32Array(t.length);for(let w=0,_=t.length;w<_;w++){const C=h*100+l;t[w]==="("?(g[w]=u(2*C),l++):t[w]===")"?(g[w]=u(2*C+1),l===1&&h++,l=Math.max(l-1,0)):g[w]=t.charCodeAt(w)}return g}const n=s(r),a=s(o);return new y.LcsDiff({getElements:()=>n},{getElements:()=>a}).ComputeDiff(!1).changes}}),define(te[243],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findMaxBy=e.compareByNumber=e.compareBy=e.createDisposableRef=void 0;function y(S,p){return{object:S,dispose:()=>p==null?void 0:p.dispose()}}e.createDisposableRef=y;function N(S,p){return(b,i)=>p(S(b),S(i))}e.compareBy=N;function T(){return(S,p)=>S-p}e.compareByNumber=T;function D(S,p){let b;for(const i of S)(b===void 0||p(i,b)>0)&&(b=i);return b}e.findMaxBy=D}),define(te[427],ie([0,1,3,21]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class T{constructor(S,p,b){this._selection=S,this._isCopyingDown=p,this._noop=b||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(S,p){let b=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,b.startLineNumber<b.endLineNumber&&b.endColumn===1&&(this._endLineNumberDelta=1,b=b.setEndPosition(b.endLineNumber-1,S.getLineMaxColumn(b.endLineNumber-1)));let i=[];for(let r=b.startLineNumber;r<=b.endLineNumber;r++)i.push(S.getLineContent(r));const f=i.join(`
`);f===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?p.addEditOperation(new y.Range(b.endLineNumber,S.getLineMaxColumn(b.endLineNumber),b.endLineNumber+1,1),b.endLineNumber===S.getLineCount()?"":`
`):this._isCopyingDown?p.addEditOperation(new y.Range(b.startLineNumber,1,b.startLineNumber,1),f+`
`):p.addEditOperation(new y.Range(b.endLineNumber,S.getLineMaxColumn(b.endLineNumber),b.endLineNumber,S.getLineMaxColumn(b.endLineNumber)),`
`+f),this._selectionId=p.trackSelection(b),this._selectionDirection=this._selection.getDirection()}computeCursorState(S,p){let b=p.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let i=b.startLineNumber,f=b.startColumn,r=b.endLineNumber,o=b.endColumn;this._startLineNumberDelta!==0&&(i=i+this._startLineNumberDelta,f=1),this._endLineNumberDelta!==0&&(r=r+this._endLineNumberDelta,o=1),b=N.Selection.createWithDirection(i,f,r,o,this._selectionDirection)}return b}}e.CopyLinesCommand=T}),define(te[428],ie([0,1,59,3]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class T{constructor(b,i){this.selection=b,this.descending=i,this.selectionId=null}static getCollator(){return T._COLLATOR||(T._COLLATOR=new Intl.Collator),T._COLLATOR}getEditOperations(b,i){let f=S(b,this.selection,this.descending);f&&i.addEditOperation(f.range,f.text),this.selectionId=i.trackSelection(this.selection)}computeCursorState(b,i){return i.getTrackedSelection(this.selectionId)}static canRun(b,i,f){if(b===null)return!1;let r=D(b,i,f);if(!r)return!1;for(let o=0,d=r.before.length;o<d;o++)if(r.before[o]!==r.after[o])return!0;return!1}}e.SortLinesCommand=T,T._COLLATOR=null;function D(p,b,i){let f=b.startLineNumber,r=b.endLineNumber;if(b.endColumn===1&&r--,f>=r)return null;let o=[];for(let c=f;c<=r;c++)o.push(p.getLineContent(c));let d=o.slice(0);return d.sort(T.getCollator().compare),i===!0&&(d=d.reverse()),{startLineNumber:f,endLineNumber:r,before:o,after:d}}function S(p,b,i){let f=D(p,b,i);return f?y.EditOperation.replace(new N.Range(f.startLineNumber,1,f.endLineNumber,p.getLineMaxColumn(f.endLineNumber)),f.after.join(`
`)):null}}),define(te[244],ie([0,1,73,13,3]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class D{provideSelectionRanges(p,b){return Me(this,void 0,void 0,function*(){const i=[];for(const f of b){const r=[];i.push(r);const o=new Map;yield new Promise(d=>D._bracketsRightYield(d,0,p,f,o)),yield new Promise(d=>D._bracketsLeftYield(d,0,p,f,o,r))}return i})}static _bracketsRightYield(p,b,i,f,r){const o=new Map,d=Date.now();for(;;){if(b>=D._maxRounds){p();break}if(!f){p();break}let c=i.findNextBracket(f);if(!c){p();break}if(Date.now()-d>D._maxDuration){setTimeout(()=>D._bracketsRightYield(p,b+1,i,f,r));break}const s=c.close[0];if(c.isOpen){let n=o.has(s)?o.get(s):0;o.set(s,n+1)}else{let n=o.has(s)?o.get(s):0;if(n-=1,o.set(s,Math.max(0,n)),n<0){let a=r.get(s);a||(a=new y.LinkedList,r.set(s,a)),a.push(c.range)}}f=c.range.getEndPosition()}}static _bracketsLeftYield(p,b,i,f,r,o){const d=new Map,c=Date.now();for(;;){if(b>=D._maxRounds&&r.size===0){p();break}if(!f){p();break}let u=i.findPrevBracket(f);if(!u){p();break}if(Date.now()-c>D._maxDuration){setTimeout(()=>D._bracketsLeftYield(p,b+1,i,f,r,o));break}const n=u.close[0];if(u.isOpen){let a=d.has(n)?d.get(n):0;if(a-=1,d.set(n,Math.max(0,a)),a<0){let t=r.get(n);if(t){let l=t.shift();t.size===0&&r.delete(n);const h=T.Range.fromPositions(u.range.getEndPosition(),l.getStartPosition()),g=T.Range.fromPositions(u.range.getStartPosition(),l.getEndPosition());o.push({range:h}),o.push({range:g}),D._addBracketLeading(i,g,o)}}}else{let a=d.has(n)?d.get(n):0;d.set(n,a+1)}f=u.range.getStartPosition()}}static _addBracketLeading(p,b,i){if(b.startLineNumber===b.endLineNumber)return;const f=b.startLineNumber,r=p.getLineFirstNonWhitespaceColumn(f);r!==0&&r!==b.startColumn&&(i.push({range:T.Range.fromPositions(new N.Position(f,r),b.getEndPosition())}),i.push({range:T.Range.fromPositions(new N.Position(f,1),b.getEndPosition())}));const o=f-1;if(o>0){const d=p.getLineFirstNonWhitespaceColumn(o);d===b.startColumn&&d!==p.getLineLastNonWhitespaceColumn(o)&&(i.push({range:T.Range.fromPositions(new N.Position(o,d),b.getEndPosition())}),i.push({range:T.Range.fromPositions(new N.Position(o,1),b.getEndPosition())}))}}}e.BracketSelectionRangeProvider=D,D._maxDuration=30,D._maxRounds=2}),define(te[429],ie([0,1,8,3]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class T{provideSelectionRanges(S,p){const b=[];for(const i of p){const f=[];b.push(f),this._addInWordRanges(f,S,i),this._addWordRanges(f,S,i),this._addWhitespaceLine(f,S,i),f.push({range:S.getFullModelRange()})}return b}_addInWordRanges(S,p,b){const i=p.getWordAtPosition(b);if(!i)return;let{word:f,startColumn:r}=i,o=b.column-r,d=o,c=o,u=0;for(;d>=0;d--){let s=f.charCodeAt(d);if(d!==o&&(s===95||s===45))break;if((0,y.isLowerAsciiLetter)(s)&&(0,y.isUpperAsciiLetter)(u))break;u=s}for(d+=1;c<f.length;c++){let s=f.charCodeAt(c);if((0,y.isUpperAsciiLetter)(s)&&(0,y.isLowerAsciiLetter)(u))break;if(s===95||s===45)break;u=s}d<c&&S.push({range:new N.Range(b.lineNumber,r+d,b.lineNumber,r+c)})}_addWordRanges(S,p,b){const i=p.getWordAtPosition(b);i&&S.push({range:new N.Range(b.lineNumber,i.startColumn,b.lineNumber,i.endColumn)})}_addWhitespaceLine(S,p,b){p.getLineLength(b.lineNumber)>0&&p.getLineFirstNonWhitespaceColumn(b.lineNumber)===0&&p.getLineLastNonWhitespaceColumn(b.lineNumber)===0&&S.push({range:new N.Range(b.lineNumber,1,b.lineNumber,p.getLineMaxColumn(b.lineNumber))})}}e.WordSelectionRangeProvider=T}),define(te[119],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class y{constructor(){this.value="",this.pos=0}static isDigitCharacter(u){return u>=48&&u<=57}static isVariableCharacter(u){return u===95||u>=97&&u<=122||u>=65&&u<=90}text(u){this.value=u,this.pos=0}tokenText(u){return this.value.substr(u.pos,u.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let u=this.pos,s=0,n=this.value.charCodeAt(u),a;if(a=y._table[n],typeof a=="number")return this.pos+=1,{type:a,pos:u,len:1};if(y.isDigitCharacter(n)){a=8;do s+=1,n=this.value.charCodeAt(u+s);while(y.isDigitCharacter(n));return this.pos+=s,{type:a,pos:u,len:s}}if(y.isVariableCharacter(n)){a=9;do n=this.value.charCodeAt(u+ ++s);while(y.isVariableCharacter(n)||y.isDigitCharacter(n));return this.pos+=s,{type:a,pos:u,len:s}}a=10;do s+=1,n=this.value.charCodeAt(u+s);while(!isNaN(n)&&typeof y._table[n]=="undefined"&&!y.isDigitCharacter(n)&&!y.isVariableCharacter(n));return this.pos+=s,{type:a,pos:u,len:s}}}e.Scanner=y,y._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class N{constructor(){this._children=[]}appendChild(u){return u instanceof T&&this._children[this._children.length-1]instanceof T?this._children[this._children.length-1].value+=u.value:(u.parent=this,this._children.push(u)),this}replace(u,s){const{parent:n}=u,a=n.children.indexOf(u),t=n.children.slice(0);t.splice(a,1,...s),n._children=t,function l(h,g){for(const w of h)w.parent=g,l(w.children,w)}(s,n)}get children(){return this._children}get snippet(){let u=this;for(;;){if(!u)return;if(u instanceof o)return u;u=u.parent}}toString(){return this.children.reduce((u,s)=>u+s.toString(),"")}len(){return 0}}e.Marker=N;class T extends N{constructor(u){super();this.value=u}toString(){return this.value}len(){return this.value.length}clone(){return new T(this.value)}}e.Text=T;class D extends N{}e.TransformableMarker=D;class S extends D{constructor(u){super();this.index=u}static compareByIndex(u,s){return u.index===s.index?0:u.isFinalTabstop?1:s.isFinalTabstop||u.index<s.index?-1:u.index>s.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof p?this._children[0]:void 0}clone(){let u=new S(this.index);return this.transform&&(u.transform=this.transform.clone()),u._children=this.children.map(s=>s.clone()),u}}e.Placeholder=S;class p extends N{constructor(){super(...arguments);this.options=[]}appendChild(u){return u instanceof T&&(u.parent=this,this.options.push(u)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let u=new p;return this.options.forEach(u.appendChild,u),u}}e.Choice=p;class b extends N{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(u){const s=this;let n=!1,a=u.replace(this.regexp,function(){return n=!0,s._replace(Array.prototype.slice.call(arguments,0,-2))});return!n&&this._children.some(t=>t instanceof i&&Boolean(t.elseValue))&&(a=this._replace([])),a}_replace(u){let s="";for(const n of this._children)if(n instanceof i){let a=u[n.index]||"";a=n.resolve(a),s+=a}else s+=n.toString();return s}toString(){return""}clone(){let u=new b;return u.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),u._children=this.children.map(s=>s.clone()),u}}e.Transform=b;class i extends N{constructor(u,s,n,a){super();this.index=u,this.shorthandName=s,this.ifValue=n,this.elseValue=a}resolve(u){return this.shorthandName==="upcase"?u?u.toLocaleUpperCase():"":this.shorthandName==="downcase"?u?u.toLocaleLowerCase():"":this.shorthandName==="capitalize"?u?u[0].toLocaleUpperCase()+u.substr(1):"":this.shorthandName==="pascalcase"?u?this._toPascalCase(u):"":this.shorthandName==="camelcase"?u?this._toCamelCase(u):"":Boolean(u)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(u)&&typeof this.elseValue=="string"?this.elseValue:u||""}_toPascalCase(u){const s=u.match(/[a-z0-9]+/gi);return s?s.map(n=>n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):u}_toCamelCase(u){const s=u.match(/[a-z0-9]+/gi);return s?s.map((n,a)=>a===0?n.toLowerCase():n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):u}clone(){return new i(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=i;class f extends D{constructor(u){super();this.name=u}resolve(u){let s=u.resolve(this);return this.transform&&(s=this.transform.resolve(s||"")),s!==void 0?(this._children=[new T(s)],!0):!1}clone(){const u=new f(this.name);return this.transform&&(u.transform=this.transform.clone()),u._children=this.children.map(s=>s.clone()),u}}e.Variable=f;function r(c,u){const s=[...c];for(;s.length>0;){const n=s.shift();if(!u(n))break;s.unshift(...n.children)}}class o extends N{get placeholderInfo(){if(!this._placeholders){let u=[],s;this.walk(function(n){return n instanceof S&&(u.push(n),s=!s||s.index<n.index?n:s),!0}),this._placeholders={all:u,last:s}}return this._placeholders}get placeholders(){const{all:u}=this.placeholderInfo;return u}offset(u){let s=0,n=!1;return this.walk(a=>a===u?(n=!0,!1):(s+=a.len(),!0)),n?s:-1}fullLen(u){let s=0;return r([u],n=>(s+=n.len(),!0)),s}enclosingPlaceholders(u){let s=[],{parent:n}=u;for(;n;)n instanceof S&&s.push(n),n=n.parent;return s}resolveVariables(u){return this.walk(s=>(s instanceof f&&s.resolve(u)&&(this._placeholders=void 0),!0)),this}appendChild(u){return this._placeholders=void 0,super.appendChild(u)}replace(u,s){return this._placeholders=void 0,super.replace(u,s)}clone(){let u=new o;return this._children=this.children.map(s=>s.clone()),u}walk(u){r(this.children,u)}}e.TextmateSnippet=o;class d{constructor(){this._scanner=new y,this._token={type:14,pos:0,len:0}}static escape(u){return u.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(u){return/\${?CLIPBOARD/.test(u)}parse(u,s,n){this._scanner.text(u),this._token=this._scanner.next();const a=new o;for(;this._parse(a););const t=new Map,l=[];let h=0;a.walk(g=>(g instanceof S&&(h+=1,g.isFinalTabstop?t.set(0,void 0):!t.has(g.index)&&g.children.length>0?t.set(g.index,g.children):l.push(g)),!0));for(const g of l){const w=t.get(g.index);if(w){const _=new S(g.index);_.transform=g.transform;for(const C of w)_.appendChild(C.clone());a.replace(g,[_])}}return n||(n=h>0&&s),!t.has(0)&&n&&a.appendChild(new S(0)),a}_accept(u,s){if(u===void 0||this._token.type===u){let n=s?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),n}return!1}_backTo(u){return this._scanner.pos=u.pos+u.len,this._token=u,!1}_until(u){const s=this._token;for(;this._token.type!==u;){if(this._token.type===14)return!1;if(this._token.type===5){const a=this._scanner.next();if(a.type!==0&&a.type!==4&&a.type!==5)return!1}this._token=this._scanner.next()}const n=this._scanner.value.substring(s.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}_parse(u){return this._parseEscaped(u)||this._parseTabstopOrVariableName(u)||this._parseComplexPlaceholder(u)||this._parseComplexVariable(u)||this._parseAnything(u)}_parseEscaped(u){let s;return(s=this._accept(5,!0))?(s=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||s,u.appendChild(new T(s)),!0):!1}_parseTabstopOrVariableName(u){let s;const n=this._token;return this._accept(0)&&(s=this._accept(9,!0)||this._accept(8,!0))?(u.appendChild(/^\d+$/.test(s)?new S(Number(s)):new f(s)),!0):this._backTo(n)}_parseComplexPlaceholder(u){let s;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(s=this._accept(8,!0))))return this._backTo(n);const t=new S(Number(s));if(this._accept(1))for(;;){if(this._accept(4))return u.appendChild(t),!0;if(!this._parse(t))return u.appendChild(new T("${"+s+":")),t.children.forEach(u.appendChild,u),!0}else if(t.index>0&&this._accept(7)){const l=new p;for(;;){if(this._parseChoiceElement(l)){if(this._accept(2))continue;if(this._accept(7)&&(t.appendChild(l),this._accept(4)))return u.appendChild(t),!0}return this._backTo(n),!1}}else return this._accept(6)?this._parseTransform(t)?(u.appendChild(t),!0):(this._backTo(n),!1):this._accept(4)?(u.appendChild(t),!0):this._backTo(n)}_parseChoiceElement(u){const s=this._token,n=[];for(;!(this._token.type===2||this._token.type===7);){let a;if((a=this._accept(5,!0))?a=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||a:a=this._accept(void 0,!0),!a)return this._backTo(s),!1;n.push(a)}return n.length===0?(this._backTo(s),!1):(u.appendChild(new T(n.join(""))),!0)}_parseComplexVariable(u){let s;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(s=this._accept(9,!0))))return this._backTo(n);const t=new f(s);if(this._accept(1))for(;;){if(this._accept(4))return u.appendChild(t),!0;if(!this._parse(t))return u.appendChild(new T("${"+s+":")),t.children.forEach(u.appendChild,u),!0}else return this._accept(6)?this._parseTransform(t)?(u.appendChild(t),!0):(this._backTo(n),!1):this._accept(4)?(u.appendChild(t),!0):this._backTo(n)}_parseTransform(u){let s=new b,n="",a="";for(;!this._accept(6);){let t;if(t=this._accept(5,!0)){t=this._accept(6,!0)||t,n+=t;continue}if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let t;if(t=this._accept(5,!0)){t=this._accept(5,!0)||this._accept(6,!0)||t,s.appendChild(new T(t));continue}if(!(this._parseFormatString(s)||this._parseAnything(s)))return!1}for(;!this._accept(4);){if(this._token.type!==14){a+=this._accept(void 0,!0);continue}return!1}try{s.regexp=new RegExp(n,a)}catch(t){return!1}return u.transform=s,!0}_parseFormatString(u){const s=this._token;if(!this._accept(0))return!1;let n=!1;this._accept(3)&&(n=!0);let a=this._accept(8,!0);if(a)if(n){if(this._accept(4))return u.appendChild(new i(Number(a))),!0;if(!this._accept(1))return this._backTo(s),!1}else return u.appendChild(new i(Number(a))),!0;else return this._backTo(s),!1;if(this._accept(6)){let t=this._accept(9,!0);return!t||!this._accept(4)?(this._backTo(s),!1):(u.appendChild(new i(Number(a),t)),!0)}else if(this._accept(11)){let t=this._until(4);if(t)return u.appendChild(new i(Number(a),void 0,t,void 0)),!0}else if(this._accept(12)){let t=this._until(4);if(t)return u.appendChild(new i(Number(a),void 0,void 0,t)),!0}else if(this._accept(13)){let t=this._until(1);if(t){let l=this._until(4);if(l)return u.appendChild(new i(Number(a),void 0,t,l)),!0}}else{let t=this._until(4);if(t)return u.appendChild(new i(Number(a),void 0,void 0,t)),!0}return this._backTo(s),!1}_parseAnything(u){return this._token.type!==14?(u.appendChild(new T(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=d}),define(te[430],ie([0,1,19,67,8]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class D{constructor(b,i){this.leadingLineContent=b,this.characterCountDelta=i}}e.LineContext=D;class S{constructor(b,i,f,r,o,d,c){this.clipboardText=c,this._snippetCompareFn=S._compareCompletionItems,this._items=b,this._column=i,this._wordDistance=r,this._options=o,this._refilterKind=1,this._lineContext=f,d==="top"?this._snippetCompareFn=S._compareCompletionItemsSnippetsUp:d==="bottom"&&(this._snippetCompareFn=S._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(b){(this._lineContext.leadingLineContent!==b.leadingLineContent||this._lineContext.characterCountDelta!==b.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<b.characterCountDelta&&this._filteredItems?2:1,this._lineContext=b)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const b=new Set;for(let[i,f]of this._providerInfo)f&&b.add(i);return b}adopt(b){let i=[];for(let f=0;f<this._items.length;)b.has(this._items[f].provider)?f++:(i.push(this._items[f]),this._items[f]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,i}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const b=[],{leadingLineContent:i,characterCountDelta:f}=this._lineContext;let r="",o="";const d=this._refilterKind===1?this._items:this._filteredItems,c=[],u=!this._options.filterGraceful||d.length>2e3?N.fuzzyScore:N.fuzzyScoreGracefulAggressive;for(let s=0;s<d.length;s++){const n=d[s];if(n.isInvalid)continue;this._providerInfo.set(n.provider,Boolean(n.container.incomplete));const a=n.position.column-n.editStart.column,t=a+f-(n.position.column-this._column);if(r.length!==t&&(r=t===0?"":i.slice(-t),o=r.toLowerCase()),n.word=r,t===0)n.score=N.FuzzyScore.Default;else{let l=0;for(;l<a;){const h=r.charCodeAt(l);if(h===32||h===9)l+=1;else break}if(l>=t)n.score=N.FuzzyScore.Default;else if(typeof n.completion.filterText=="string"){let h=u(r,o,l,n.completion.filterText,n.filterTextLow,0,!1);if(!h)continue;(0,T.compareIgnoreCase)(n.completion.filterText,n.textLabel)===0?n.score=h:(n.score=(0,N.anyScore)(r,o,l,n.textLabel,n.labelLow,0),n.score[0]=h[0])}else{let h=u(r,o,l,n.textLabel,n.labelLow,0,!1);if(!h)continue;n.score=h}}n.idx=s,n.distance=this._wordDistance.distance(n.position,n.completion),c.push(n),b.push(n.textLabel.length)}this._filteredItems=c.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:b.length?(0,y.quickSelect)(b.length-.85,b,(s,n)=>s-n):0}}static _compareCompletionItems(b,i){return b.score[0]>i.score[0]?-1:b.score[0]<i.score[0]?1:b.distance<i.distance?-1:b.distance>i.distance?1:b.idx<i.idx?-1:b.idx>i.idx?1:0}static _compareCompletionItemsSnippetsDown(b,i){if(b.completion.kind!==i.completion.kind){if(b.completion.kind===27)return 1;if(i.completion.kind===27)return-1}return S._compareCompletionItems(b,i)}static _compareCompletionItemsSnippetsUp(b,i){if(b.completion.kind!==i.completion.kind){if(b.completion.kind===27)return-1;if(i.completion.kind===27)return 1}return S._compareCompletionItems(b,i)}}e.CompletionModel=S}),define(te[245],ie([0,1,7,109,6,2]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class S{constructor(){this._onDidWillResize=new T.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new T.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new D.DisposableStore,this._size=new y.Dimension(0,0),this._minSize=new y.Dimension(0,0),this._maxSize=new y.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new N.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new N.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new N.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:N.OrthogonalEdge.North}),this._southSash=new N.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:N.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let b,i=0,f=0;this._sashListener.add(T.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{b===void 0&&(this._onDidWillResize.fire(),b=this._size,i=0,f=0)})),this._sashListener.add(T.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{b!==void 0&&(b=void 0,i=0,f=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(r=>{b&&(f=r.currentX-r.startX,this.layout(b.height+i,b.width+f),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(r=>{b&&(f=-(r.currentX-r.startX),this.layout(b.height+i,b.width+f),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(r=>{b&&(i=-(r.currentY-r.startY),this.layout(b.height+i,b.width+f),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(r=>{b&&(i=r.currentY-r.startY,this.layout(b.height+i,b.width+f),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(T.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(r=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(T.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(r=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(b,i,f,r){this._northSash.state=b?3:0,this._eastSash.state=i?3:0,this._southSash.state=f?3:0,this._westSash.state=r?3:0}layout(b=this.size.height,i=this.size.width){const{height:f,width:r}=this._minSize,{height:o,width:d}=this._maxSize;b=Math.max(f,Math.min(o,b)),i=Math.max(r,Math.min(d,i));const c=new y.Dimension(i,b);y.Dimension.equals(c,this._size)||(this.domNode.style.height=b+"px",this.domNode.style.width=i+"px",this._size=c,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(b){this._maxSize=b}get maxSize(){return this._maxSize}set minSize(b){this._minSize=b}get minSize(){return this._minSize}set preferredSize(b){this._preferredSize=b}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=S}),define(te[431],ie([0,1,19,2,95]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class D{constructor(p,b,i){this._disposables=new N.DisposableStore,this._disposables.add(b.onDidShow(()=>this._onItem(b.getFocusedItem()))),this._disposables.add(b.onDidFocus(this._onItem,this)),this._disposables.add(b.onDidHide(this.reset,this)),this._disposables.add(p.onWillType(f=>{if(this._active&&!b.isFrozen()){const r=f.charCodeAt(f.length-1);this._active.acceptCharacters.has(r)&&p.getOption(0)&&i(this._active.item)}}))}_onItem(p){if(!p||!(0,y.isNonEmptyArray)(p.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===p.item)return;const b=new T.CharacterSet;for(const i of p.item.completion.commitCharacters)i.length>0&&b.add(i.charCodeAt(0));this._active={acceptCharacters:b,item:p}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=D}),define(te[432],ie([0,1,2]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class N{constructor(D,S){this._disposables=new y.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(D.onWillType(()=>{if(!this._empty||!D.hasModel())return;const p=D.getSelections(),b=p.length;let i=!1;for(let r=0;r<b;r++)if(!p[r].isEmpty()){i=!0;break}if(!i)return;this._lastOvertyped=[];const f=D.getModel();for(let r=0;r<b;r++){const o=p[r];if(f.getValueLengthInRange(o)>N._maxSelectionLength)return;this._lastOvertyped[r]={value:f.getValueInRange(o),multiline:o.startLineNumber!==o.endLineNumber}}this._empty=!1})),this._disposables.add(S.onDidCancel(p=>{!this._empty&&!p.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(D){if(!this._empty&&D>=0&&D<this._lastOvertyped.length)return this._lastOvertyped[D]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=N,N._maxSelectionLength=51200}),define(te[433],ie([0,1,19,3,244]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class D{static create(p,b){return Me(this,void 0,void 0,function*(){if(!b.getOption(105).localityBonus||!b.hasModel())return D.None;const i=b.getModel(),f=b.getPosition();if(!p.canComputeWordRanges(i.uri))return D.None;const[r]=yield new T.BracketSelectionRangeProvider().provideSelectionRanges(i,[f]);if(r.length===0)return D.None;const o=yield p.computeWordRanges(i.uri,r[0].range);if(!o)return D.None;const d=i.getWordUntilPosition(f);return delete o[d.word],new class extends D{distance(c,u){if(!f.equals(b.getPosition()))return 0;if(u.kind===17)return 2<<20;let s=typeof u.label=="string"?u.label:u.label.label,n=o[s];if((0,y.isFalsyOrEmpty)(n))return 2<<20;let a=(0,y.binarySearch)(n,N.Range.fromPositions(c),N.Range.compareRangesUsingStarts),t=a>=0?n[a]:n[Math.max(0,~a-1)],l=r.length;for(const h of r){if(!N.Range.containsRange(h.range,t))break;l-=1}return l}}})}}e.WordDistance=D,D.None=new class extends D{distance(){return 0}}}),define(te[246],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function y(c){return Array.isArray(c)}e.isFuzzyActionArr=y;function N(c){return!y(c)}e.isFuzzyAction=N;function T(c){return typeof c=="string"}e.isString=T;function D(c){return!T(c)}e.isIAction=D;function S(c){return!c}e.empty=S;function p(c,u){return c.ignoreCase&&u?u.toLowerCase():u}e.fixCase=p;function b(c){return c.replace(/[&<>'"_]/g,"-")}e.sanitize=b;function i(c,u){console.log(`${c.languageId}: ${u}`)}e.log=i;function f(c,u){return new Error(`${c.languageId}: ${u}`)}e.createError=f;function r(c,u,s,n,a){const t=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let l=null;return u.replace(t,function(h,g,w,_,C,v,m,E,I){return S(w)?S(_)?!S(C)&&C<n.length?p(c,n[C]):!S(m)&&c&&typeof c[m]=="string"?c[m]:(l===null&&(l=a.split("."),l.unshift(a)),!S(v)&&v<l.length?p(c,l[v]):""):p(c,s):"$"})}e.substituteMatches=r;function o(c,u){let s=u;for(;s&&s.length>0;){const n=c.tokenizer[s];if(n)return n;const a=s.lastIndexOf(".");a<0?s=null:s=s.substr(0,a)}return null}e.findRules=o;function d(c,u){let s=u;for(;s&&s.length>0;){if(c.stateNames[s])return!0;const a=s.lastIndexOf(".");a<0?s=null:s=s.substr(0,a)}return!1}e.stateExists=d}),define(te[434],ie([0,1,246]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function N(c,u){if(!u||!Array.isArray(u))return!1;for(const s of u)if(!c(s))return!1;return!0}function T(c,u){return typeof c=="boolean"?c:u}function D(c,u){return typeof c=="string"?c:u}function S(c){const u={};for(const s of c)u[s]=!0;return u}function p(c,u=!1){u&&(c=c.map(function(n){return n.toLowerCase()}));const s=S(c);return u?function(n){return s[n.toLowerCase()]!==void 0&&s.hasOwnProperty(n.toLowerCase())}:function(n){return s[n]!==void 0&&s.hasOwnProperty(n)}}function b(c,u){u=u.replace(/@@/g,"");let s=0,n;do n=!1,u=u.replace(/@(\w+)/g,function(t,l){n=!0;let h="";if(typeof c[l]=="string")h=c[l];else if(c[l]&&c[l]instanceof RegExp)h=c[l].source;else throw c[l]===void 0?y.createError(c,"language definition does not contain attribute '"+l+"', used at: "+u):y.createError(c,"attribute reference '"+l+"' must be a string, used at: "+u);return y.empty(h)?"":"(?:"+h+")"}),s++;while(n&&s<5);u=u.replace(/\x01/g,"@");let a=(c.ignoreCase?"i":"")+(c.unicode?"u":"");return new RegExp(u,a)}function i(c,u,s,n){if(n<0)return c;if(n<u.length)return u[n];if(n>=100){n=n-100;let a=s.split(".");if(a.unshift(s),n<a.length)return a[n]}return null}function f(c,u,s,n){let a=-1,t=s,l=s.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);l&&(l[3]&&(a=parseInt(l[3]),l[2]&&(a=a+100)),t=l[4]);let h="~",g=t;!t||t.length===0?(h="!=",g=""):/^\w*$/.test(g)?h="==":(l=t.match(/^(@|!@|~|!~|==|!=)(.*)$/),l&&(h=l[1],g=l[2]));let w;if((h==="~"||h==="!~")&&/^(\w|\|)*$/.test(g)){let _=p(g.split("|"),c.ignoreCase);w=function(C){return h==="~"?_(C):!_(C)}}else if(h==="@"||h==="!@"){let _=c[g];if(!_)throw y.createError(c,"the @ match target '"+g+"' is not defined, in rule: "+u);if(!N(function(v){return typeof v=="string"},_))throw y.createError(c,"the @ match target '"+g+"' must be an array of strings, in rule: "+u);let C=p(_,c.ignoreCase);w=function(v){return h==="@"?C(v):!C(v)}}else if(h==="~"||h==="!~")if(g.indexOf("$")<0){let _=b(c,"^"+g+"$");w=function(C){return h==="~"?_.test(C):!_.test(C)}}else w=function(_,C,v,m){return b(c,"^"+y.substituteMatches(c,g,C,v,m)+"$").test(_)};else if(g.indexOf("$")<0){let _=y.fixCase(c,g);w=function(C){return h==="=="?C===_:C!==_}}else{let _=y.fixCase(c,g);w=function(C,v,m,E,I){let k=y.substituteMatches(c,_,v,m,E);return h==="=="?C===k:C!==k}}return a===-1?{name:s,value:n,test:function(_,C,v,m){return w(_,_,C,v,m)}}:{name:s,value:n,test:function(_,C,v,m){let E=i(_,C,v,a);return w(E||"",_,C,v,m)}}}function r(c,u,s){if(s){if(typeof s=="string")return s;if(s.token||s.token===""){if(typeof s.token!="string")throw y.createError(c,"a 'token' attribute must be of type string, in rule: "+u);{let n={token:s.token};if(s.token.indexOf("$")>=0&&(n.tokenSubst=!0),typeof s.bracket=="string")if(s.bracket==="@open")n.bracket=1;else if(s.bracket==="@close")n.bracket=-1;else throw y.createError(c,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+u);if(s.next){if(typeof s.next!="string")throw y.createError(c,"the next state must be a string value in rule: "+u);{let a=s.next;if(!/^(@pop|@push|@popall)$/.test(a)&&(a[0]==="@"&&(a=a.substr(1)),a.indexOf("$")<0&&!y.stateExists(c,y.substituteMatches(c,a,"",[],""))))throw y.createError(c,"the next state '"+s.next+"' is not defined in rule: "+u);n.next=a}}return typeof s.goBack=="number"&&(n.goBack=s.goBack),typeof s.switchTo=="string"&&(n.switchTo=s.switchTo),typeof s.log=="string"&&(n.log=s.log),typeof s.nextEmbedded=="string"&&(n.nextEmbedded=s.nextEmbedded,c.usesEmbedded=!0),n}}else if(Array.isArray(s)){let n=[];for(let a=0,t=s.length;a<t;a++)n[a]=r(c,u,s[a]);return{group:n}}else if(s.cases){let n=[];for(let t in s.cases)if(s.cases.hasOwnProperty(t)){const l=r(c,u,s.cases[t]);t==="@default"||t==="@"||t===""?n.push({test:void 0,value:l,name:t}):t==="@eos"?n.push({test:function(h,g,w,_){return _},value:l,name:t}):n.push(f(c,u,t,l))}const a=c.defaultToken;return{test:function(t,l,h,g){for(const w of n)if(!w.test||w.test(t,l,h,g))return w.value;return a}}}else throw y.createError(c,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+u)}else return{token:""}}class o{constructor(u){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=u}setRegex(u,s){let n;if(typeof s=="string")n=s;else if(s instanceof RegExp)n=s.source;else throw y.createError(u,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=n.length>0&&n[0]==="^",this.name=this.name+": "+n,this.regex=b(u,"^(?:"+(this.matchOnlyAtLineStart?n.substr(1):n)+")")}setAction(u,s){this.action=r(u,this.name,s)}}function d(c,u){if(!u||typeof u!="object")throw new Error("Monarch: expecting a language definition object");let s={};s.languageId=c,s.includeLF=T(u.includeLF,!1),s.noThrow=!1,s.maxStack=100,s.start=typeof u.start=="string"?u.start:null,s.ignoreCase=T(u.ignoreCase,!1),s.unicode=T(u.unicode,!1),s.tokenPostfix=D(u.tokenPostfix,"."+s.languageId),s.defaultToken=D(u.defaultToken,"source"),s.usesEmbedded=!1;let n=u;n.languageId=c,n.includeLF=s.includeLF,n.ignoreCase=s.ignoreCase,n.unicode=s.unicode,n.noThrow=s.noThrow,n.usesEmbedded=s.usesEmbedded,n.stateNames=u.tokenizer,n.defaultToken=s.defaultToken;function a(l,h,g){for(const w of g){let _=w.include;if(_){if(typeof _!="string")throw y.createError(s,"an 'include' attribute must be a string at: "+l);if(_[0]==="@"&&(_=_.substr(1)),!u.tokenizer[_])throw y.createError(s,"include target '"+_+"' is not defined at: "+l);a(l+"."+_,h,u.tokenizer[_])}else{const C=new o(l);if(Array.isArray(w)&&w.length>=1&&w.length<=3)if(C.setRegex(n,w[0]),w.length>=3)if(typeof w[1]=="string")C.setAction(n,{token:w[1],next:w[2]});else if(typeof w[1]=="object"){const v=w[1];v.next=w[2],C.setAction(n,v)}else throw y.createError(s,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+l);else C.setAction(n,w[1]);else{if(!w.regex)throw y.createError(s,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+l);w.name&&typeof w.name=="string"&&(C.name=w.name),w.matchOnlyAtStart&&(C.matchOnlyAtLineStart=T(w.matchOnlyAtLineStart,!1)),C.setRegex(n,w.regex),C.setAction(n,w.action)}h.push(C)}}}if(!u.tokenizer||typeof u.tokenizer!="object")throw y.createError(s,"a language definition must define the 'tokenizer' attribute as an object");s.tokenizer=[];for(let l in u.tokenizer)if(u.tokenizer.hasOwnProperty(l)){s.start||(s.start=l);const h=u.tokenizer[l];s.tokenizer[l]=new Array,a("tokenizer."+l,s.tokenizer[l],h)}if(s.usesEmbedded=n.usesEmbedded,u.brackets){if(!Array.isArray(u.brackets))throw y.createError(s,"the 'brackets' attribute must be defined as an array")}else u.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let t=[];for(let l of u.brackets){let h=l;if(h&&Array.isArray(h)&&h.length===3&&(h={token:h[2],open:h[0],close:h[1]}),h.open===h.close)throw y.createError(s,"open and close brackets in a 'brackets' attribute must be different: "+h.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof h.open=="string"&&typeof h.token=="string"&&typeof h.close=="string")t.push({token:h.token+s.tokenPostfix,open:y.fixCase(s,h.open),close:y.fixCase(s,h.close)});else throw y.createError(s,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return s.brackets=t,s.noThrow=!0,s}e.compile=d}),define(te[435],ie([4,5]),function(q,e){return q.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(te[436],ie([4,5]),function(q,e){return q.create("vs/base/browser/ui/findinput/findInput",e)}),define(te[437],ie([4,5]),function(q,e){return q.create("vs/base/browser/ui/findinput/findInputCheckboxes",e)}),define(te[247],ie([0,1,168,27,437]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexCheckbox=e.WholeWordsCheckbox=e.CaseSensitiveCheckbox=void 0;const D=T.localize(0,null),S=T.localize(1,null),p=T.localize(2,null);class b extends y.Checkbox{constructor(o){super({icon:N.Codicon.caseSensitive,title:D+o.appendTitle,isChecked:o.isChecked,inputActiveOptionBorder:o.inputActiveOptionBorder,inputActiveOptionForeground:o.inputActiveOptionForeground,inputActiveOptionBackground:o.inputActiveOptionBackground})}}e.CaseSensitiveCheckbox=b;class i extends y.Checkbox{constructor(o){super({icon:N.Codicon.wholeWord,title:S+o.appendTitle,isChecked:o.isChecked,inputActiveOptionBorder:o.inputActiveOptionBorder,inputActiveOptionForeground:o.inputActiveOptionForeground,inputActiveOptionBackground:o.inputActiveOptionBackground})}}e.WholeWordsCheckbox=i;class f extends y.Checkbox{constructor(o){super({icon:N.Codicon.regex,title:p+o.appendTitle,isChecked:o.isChecked,inputActiveOptionBorder:o.inputActiveOptionBorder,inputActiveOptionForeground:o.inputActiveOptionForeground,inputActiveOptionBackground:o.inputActiveOptionBackground})}}e.RegexCheckbox=f}),define(te[438],ie([4,5]),function(q,e){return q.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(te[439],ie([4,5]),function(q,e){return q.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(te[440],ie([0,1,7,14,23,68,2,20,439]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function i(o,d){(0,p.isString)(d)?o.title=d:(d==null?void 0:d.markdownNotSupportedFallback)?o.title=d.markdownNotSupportedFallback:o.removeAttribute("title")}e.setupNativeHover=i;class f{constructor(d,c,u){this.hoverDelegate=d,this.target=c,this.fadeInAnimation=u}update(d,c){var u;return Me(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let s;if(d===void 0||(0,p.isString)(d)||d instanceof HTMLElement)s=d;else if(!(0,p.isFunction)(d.markdown))s=(u=d.markdown)!==null&&u!==void 0?u:d.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,b.localize)(0,null),c),this._cancellationTokenSource=new T.CancellationTokenSource;const n=this._cancellationTokenSource.token;if(s=yield d.markdown(n),this.isDisposed||n.isCancellationRequested)return}this.show(s,c)})}show(d,c){const u=this._hoverWidget;if(this.hasContent(d)){const s={content:d,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!u};this._hoverWidget=this.hoverDelegate.showHover(s,c)}u==null||u.dispose()}hasContent(d){return d?(0,D.isMarkdownString)(d)?this.hasContent(d.value):!0:!1}get isDisposed(){var d;return(d=this._hoverWidget)===null||d===void 0?void 0:d.isDisposed}dispose(){var d,c;(d=this._hoverWidget)===null||d===void 0||d.dispose(),(c=this._cancellationTokenSource)===null||c===void 0||c.dispose(!0),this._cancellationTokenSource=void 0}}function r(o,d,c){let u,s;const n=(h,g)=>{var w;h&&(s==null||s.dispose(),s=void 0),g&&(u==null||u.dispose(),u=void 0),(w=o.onDidHideHover)===null||w===void 0||w.call(o)},a=(h,g)=>{if(u)return;const w=k=>{const A=k.type===y.EventType.MOUSE_DOWN;n(A,A||k.fromElement===d)},_=y.addDisposableListener(d,y.EventType.MOUSE_LEAVE,w,!0),C=y.addDisposableListener(d,y.EventType.MOUSE_DOWN,w,!0),v={targetElements:[d],dispose:()=>{}};let m;if(o.placement===void 0||o.placement==="mouse"){const k=A=>v.x=A.x+10;m=y.addDisposableListener(d,y.EventType.MOUSE_MOVE,k,!0)}const E=()=>Me(this,void 0,void 0,function*(){u&&(!s||s.isDisposed)&&(s=new f(o,v,h>0),yield s.update(c,g)),m==null||m.dispose()}),I=new N.RunOnceScheduler(E,h);I.schedule(),u=(0,S.toDisposable)(()=>{I.dispose(),m==null||m.dispose(),C.dispose(),_.dispose()})},t=y.addDisposableListener(d,y.EventType.MOUSE_OVER,()=>a(o.delay),!0);return{show:h=>{a(0,h)},hide:()=>{n(!0,!0)},update:h=>Me(this,void 0,void 0,function*(){c=h,yield s==null?void 0:s.update(c)}),dispose:()=>{t.dispose(),n(!0,!0)}}}e.setupCustomHover=r}),define(te[184],ie([0,1,7,164,440,2,37,129,321]),function(q,e,y,N,T,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class b{constructor(c){this._element=c}get element(){return this._element}set textContent(c){this.disposed||c===this._textContent||(this._textContent=c,this._element.textContent=c)}set className(c){this.disposed||c===this._className||(this._className=c,this._element.className=c)}set empty(c){this.disposed||c===this._empty||(this._empty=c,this._element.style.marginLeft=c?"0":"")}dispose(){this.disposed=!0}}class i extends D.Disposable{constructor(c,u){super();this.customHovers=new Map,this.domNode=this._register(new b(y.append(c,y.$(".monaco-icon-label")))),this.labelContainer=y.append(this.domNode.element,y.$(".monaco-icon-label-container"));const s=y.append(this.labelContainer,y.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new b(y.append(this.labelContainer,y.$("span.monaco-icon-description-container")))),(u==null?void 0:u.supportHighlights)||(u==null?void 0:u.supportIcons)?this.nameNode=new o(s,!!u.supportIcons):this.nameNode=new f(s),(u==null?void 0:u.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new N.HighlightedLabel(y.append(this.descriptionContainer.element,y.$("span.label-description")),!!u.supportIcons):this.descriptionNodeFactory=()=>this._register(new b(y.append(this.descriptionContainer.element,y.$("span.label-description")))),this.hoverDelegate=u==null?void 0:u.hoverDelegate}get element(){return this.domNode.element}setLabel(c,u,s){const n=["monaco-icon-label"];s&&(s.extraClasses&&n.push(...s.extraClasses),s.italic&&n.push("italic"),s.strikethrough&&n.push("strikethrough")),this.domNode.className=n.join(" "),this.setupHover((s==null?void 0:s.descriptionTitle)?this.labelContainer:this.element,s==null?void 0:s.title),this.nameNode.setLabel(c,s),(u||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof N.HighlightedLabel?(this.descriptionNode.set(u||"",s?s.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,s==null?void 0:s.descriptionTitle)):(this.descriptionNode.textContent=u||"",this.setupHover(this.descriptionNode.element,(s==null?void 0:s.descriptionTitle)||""),this.descriptionNode.empty=!u))}setupHover(c,u){const s=this.customHovers.get(c);if(s&&(s.dispose(),this.customHovers.delete(c)),!u){c.removeAttribute("title");return}if(!this.hoverDelegate)(0,T.setupNativeHover)(c,u);else{const n=(0,T.setupCustomHover)(this.hoverDelegate,c,u);n&&this.customHovers.set(c,n)}}dispose(){super.dispose();for(const c of this.customHovers.values())c.dispose();this.customHovers.clear()}}e.IconLabel=i;class f{constructor(c){this.container=c,this.label=void 0,this.singleLabel=void 0}setLabel(c,u){if(!(this.label===c&&(0,S.equals)(this.options,u)))if(this.label=c,this.options=u,typeof c=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=y.append(this.container,y.$("a.label-name",{id:u==null?void 0:u.domId}))),this.singleLabel.textContent=c;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let s=0;s<c.length;s++){const n=c[s],a=(u==null?void 0:u.domId)&&`${u==null?void 0:u.domId}_${s}`;y.append(this.container,y.$("a.label-name",{id:a,"data-icon-label-count":c.length,"data-icon-label-index":s,role:"treeitem"},n)),s<c.length-1&&y.append(this.container,y.$("span.label-separator",void 0,(u==null?void 0:u.separator)||"/"))}}}}function r(d,c,u){if(!u)return;let s=0;return d.map(n=>{const a={start:s,end:s+n.length},t=u.map(l=>p.Range.intersect(a,l)).filter(l=>!p.Range.isEmpty(l)).map(({start:l,end:h})=>({start:l-s,end:h-s}));return s=a.end+c.length,t})}class o{constructor(c,u){this.container=c,this.supportIcons=u,this.label=void 0,this.singleLabel=void 0}setLabel(c,u){if(!(this.label===c&&(0,S.equals)(this.options,u)))if(this.label=c,this.options=u,typeof c=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new N.HighlightedLabel(y.append(this.container,y.$("a.label-name",{id:u==null?void 0:u.domId})),this.supportIcons)),this.singleLabel.set(c,u==null?void 0:u.matches,void 0,u==null?void 0:u.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const s=(u==null?void 0:u.separator)||"/",n=r(c,s,u==null?void 0:u.matches);for(let a=0;a<c.length;a++){const t=c[a],l=n?n[a]:void 0,h=(u==null?void 0:u.domId)&&`${u==null?void 0:u.domId}_${a}`,g=y.$("a.label-name",{id:h,"data-icon-label-count":c.length,"data-icon-label-index":a,role:"treeitem"});new N.HighlightedLabel(y.append(this.container,g),this.supportIcons).set(t,l,void 0,u==null?void 0:u.labelEscapeNewLines),a<c.length-1&&y.append(g,y.$("span.label-separator",void 0,s))}}}}}),define(te[441],ie([4,5]),function(q,e){return q.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(te[442],ie([4,5]),function(q,e){return q.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(te[443],ie([4,5]),function(q,e){return q.create("vs/base/browser/ui/menu/menu",e)}),define(te[444],ie([4,5]),function(q,e){return q.create("vs/base/browser/ui/tree/abstractTree",e)}),define(te[185],ie([0,1,167,7,92,52,169,110,161,103,206,19,14,205,6,67,2,105,17,444,333]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class l extends S.ElementsDragAndDropData{constructor(L){super(L.elements.map(B=>B.element));this.data=L}}function h(O){return O instanceof S.ElementsDragAndDropData?new l(O):O}class g{constructor(L,B){this.modelProvider=L,this.dnd=B,this.autoExpandDisposable=s.Disposable.None}getDragURI(L){return this.dnd.getDragURI(L.element)}getDragLabel(L,B){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(L.map(z=>z.element),B)}onDragStart(L,B){this.dnd.onDragStart&&this.dnd.onDragStart(h(L),B)}onDragOver(L,B,z,$,j=!0){const X=this.dnd.onDragOver(h(L),B&&B.element,z,$),Q=this.autoExpandNode!==B;if(Q&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=B),typeof B=="undefined")return X;if(Q&&typeof X!="boolean"&&X.autoExpand&&(this.autoExpandDisposable=(0,o.disposableTimeout)(()=>{const x=this.modelProvider(),U=x.getNodeLocation(B);x.isCollapsed(U)&&x.setCollapsed(U,!1),this.autoExpandNode=void 0},500)),typeof X=="boolean"||!X.accept||typeof X.bubble=="undefined"||X.feedback){if(!j){const x=typeof X=="boolean"?X:X.accept,U=typeof X=="boolean"?void 0:X.effect;return{accept:x,effect:U,feedback:[z]}}return X}if(X.bubble===1){const x=this.modelProvider(),U=x.getNodeLocation(B),H=x.getParentNodeLocation(U),V=x.getNode(H),ne=H&&x.getListIndex(H);return this.onDragOver(L,V,ne,$,!1)}const Y=this.modelProvider(),oe=Y.getNodeLocation(B),se=Y.getListIndex(oe),K=Y.getListRenderCount(oe);return Object.assign(Object.assign({},X),{feedback:(0,r.range)(se,se+K)})}drop(L,B,z,$){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(h(L),B&&B.element,z,$)}onDragEnd(L){this.dnd.onDragEnd&&this.dnd.onDragEnd(L)}}function w(O,L){return L&&Object.assign(Object.assign({},L),{identityProvider:L.identityProvider&&{getId(B){return L.identityProvider.getId(B.element)}},dnd:L.dnd&&new g(O,L.dnd),multipleSelectionController:L.multipleSelectionController&&{isSelectionSingleChangeEvent(B){return L.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},B),{element:B.element}))},isSelectionRangeChangeEvent(B){return L.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},B),{element:B.element}))}},accessibilityProvider:L.accessibilityProvider&&Object.assign(Object.assign({},L.accessibilityProvider),{getSetSize(B){const z=O(),$=z.getNodeLocation(B),j=z.getParentNodeLocation($);return z.getNode(j).visibleChildrenCount},getPosInSet(B){return B.visibleChildIndex+1},isChecked:L.accessibilityProvider&&L.accessibilityProvider.isChecked?B=>L.accessibilityProvider.isChecked(B.element):void 0,getRole:L.accessibilityProvider&&L.accessibilityProvider.getRole?B=>L.accessibilityProvider.getRole(B.element):()=>"treeitem",getAriaLabel(B){return L.accessibilityProvider.getAriaLabel(B.element)},getWidgetAriaLabel(){return L.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:L.accessibilityProvider&&L.accessibilityProvider.getWidgetRole?()=>L.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:L.accessibilityProvider&&L.accessibilityProvider.getAriaLevel?B=>L.accessibilityProvider.getAriaLevel(B.element):B=>B.depth,getActiveDescendantId:L.accessibilityProvider.getActiveDescendantId&&(B=>L.accessibilityProvider.getActiveDescendantId(B.element))}),keyboardNavigationLabelProvider:L.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},L.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(B){return L.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(B.element)}}),enableKeyboardNavigation:L.simpleKeyboardNavigation})}class _{constructor(L){this.delegate=L}getHeight(L){return this.delegate.getHeight(L.element)}getTemplateId(L){return this.delegate.getTemplateId(L.element)}hasDynamicHeight(L){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(L.element)}setDynamicHeight(L,B){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(L.element,B)}}e.ComposedTreeDelegate=_;var C;(function(O){O.None="none",O.OnHover="onHover",O.Always="always"})(C=e.RenderIndentGuides||(e.RenderIndentGuides={}));class v{constructor(L,B=[]){this._elements=B,this.onDidChange=c.Event.forEach(L,z=>this._elements=z)}get elements(){return this._elements}}class m{constructor(L,B,z,$,j={}){this.renderer=L,this.modelProvider=B,this.activeNodes=$,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=m.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new d.SetMap,this.activeIndentNodes=new Set,this.indentGuidesDisposable=s.Disposable.None,this.disposables=new s.DisposableStore,this.templateId=L.templateId,this.updateOptions(j),c.Event.map(z,X=>X.node)(this.onDidChangeNodeTwistieState,this,this.disposables),L.onDidChangeTwistieState&&L.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(L={}){if(typeof L.indent!="undefined"&&(this.indent=(0,n.clamp)(L.indent,0,40)),typeof L.renderIndentGuides!="undefined"){const B=L.renderIndentGuides!==C.None;if(B!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=B,this.indentGuidesDisposable.dispose(),B)){const z=new s.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,z),this.indentGuidesDisposable=z,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof L.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=L.hideTwistiesOfChildlessElements)}renderTemplate(L){const B=(0,N.append)(L,(0,N.$)(".monaco-tl-row")),z=(0,N.append)(B,(0,N.$)(".monaco-tl-indent")),$=(0,N.append)(B,(0,N.$)(".monaco-tl-twistie")),j=(0,N.append)(B,(0,N.$)(".monaco-tl-contents")),X=this.renderer.renderTemplate(j);return{container:L,indent:z,twistie:$,indentGuidesDisposable:s.Disposable.None,templateData:X}}renderElement(L,B,z,$){typeof $=="number"&&(this.renderedNodes.set(L,{templateData:z,height:$}),this.renderedElements.set(L.element,L));const j=m.DefaultIndent+(L.depth-1)*this.indent;z.twistie.style.paddingLeft=`${j}px`,z.indent.style.width=`${j+this.indent-16}px`,this.renderTwistie(L,z),typeof $=="number"&&this.renderIndentGuides(L,z),this.renderer.renderElement(L,B,z.templateData,$)}disposeElement(L,B,z,$){z.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(L,B,z.templateData,$),typeof $=="number"&&(this.renderedNodes.delete(L),this.renderedElements.delete(L.element))}disposeTemplate(L){this.renderer.disposeTemplate(L.templateData)}onDidChangeTwistieState(L){const B=this.renderedElements.get(L);!B||this.onDidChangeNodeTwistieState(B)}onDidChangeNodeTwistieState(L){const B=this.renderedNodes.get(L);!B||(this.renderTwistie(L,B.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(L,B.templateData))}renderTwistie(L,B){B.twistie.classList.remove(...f.treeItemExpandedIcon.classNamesArray);let z=!1;this.renderer.renderTwistie&&(z=this.renderer.renderTwistie(L.element,B.twistie)),L.collapsible&&(!this.hideTwistiesOfChildlessElements||L.visibleChildrenCount>0)?(z||B.twistie.classList.add(...f.treeItemExpandedIcon.classNamesArray),B.twistie.classList.add("collapsible"),B.twistie.classList.toggle("collapsed",L.collapsed)):B.twistie.classList.remove("collapsible","collapsed"),L.collapsible?B.container.setAttribute("aria-expanded",String(!L.collapsed)):B.container.removeAttribute("aria-expanded")}renderIndentGuides(L,B){if((0,N.clearNode)(B.indent),B.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const z=new s.DisposableStore,$=this.modelProvider();let j=L;for(;;){const X=$.getNodeLocation(j),Q=$.getParentNodeLocation(X);if(!Q)break;const Y=$.getNode(Q),oe=(0,N.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(Y)&&oe.classList.add("active"),B.indent.childElementCount===0?B.indent.appendChild(oe):B.indent.insertBefore(oe,B.indent.firstElementChild),this.renderedIndentGuides.add(Y,oe),z.add((0,s.toDisposable)(()=>this.renderedIndentGuides.delete(Y,oe))),j=Y}B.indentGuidesDisposable=z}_onDidChangeActiveNodes(L){if(!this.shouldRenderIndentGuides)return;const B=new Set,z=this.modelProvider();L.forEach($=>{const j=z.getNodeLocation($);try{const X=z.getParentNodeLocation(j);$.collapsible&&$.children.length>0&&!$.collapsed?B.add($):X&&B.add(z.getNode(X))}catch(X){}}),this.activeIndentNodes.forEach($=>{B.has($)||this.renderedIndentGuides.forEach($,j=>j.classList.remove("active"))}),B.forEach($=>{this.activeIndentNodes.has($)||this.renderedIndentGuides.forEach($,j=>j.classList.add("active"))}),this.activeIndentNodes=B}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,s.dispose)(this.disposables)}}m.DefaultIndent=8;class E{constructor(L,B,z){this.tree=L,this.keyboardNavigationLabelProvider=B,this._filter=z,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new s.DisposableStore,L.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(L){this._pattern=L,this._lowercasePattern=L.toLowerCase()}filter(L,B){if(this._filter){const j=this._filter.filter(L,B);if(this.tree.options.simpleKeyboardNavigation)return j;let X;if(typeof j=="boolean"?X=j?1:0:(0,b.isFilterResult)(j)?X=(0,b.getVisibleState)(j.visibility):X=j,X===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:u.FuzzyScore.Default,visibility:!0};const z=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(L),$=Array.isArray(z)?z:[z];for(const j of $){const X=j&&j.toString();if(typeof X=="undefined")return{data:u.FuzzyScore.Default,visibility:!0};const Q=(0,u.fuzzyScore)(this._pattern,this._lowercasePattern,0,X,X.toLowerCase(),0,!0);if(Q)return this._matchCount++,$.length===1?{data:Q,visibility:!0}:{data:{label:X,score:Q},visibility:!0}}return this.tree.options.filterOnType?2:{data:u.FuzzyScore.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,s.dispose)(this.disposables)}}class I{constructor(L,B,z,$,j){this.tree=L,this.view=z,this.filter=$,this.keyboardNavigationDelegate=j,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new c.Emitter,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new c.Emitter,this.enabledDisposables=new s.DisposableStore,this.disposables=new s.DisposableStore,this.domNode=(0,N.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,N.addDisposableListener)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,N.append)(z.getHTMLElement(),(0,N.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,N.append)(this.domNode,(0,N.$)("span.label"));const X=(0,N.append)(this.domNode,(0,N.$)(".controls"));this._filterOnType=!!L.options.filterOnType,this.filterOnTypeDomNode=(0,N.append)(X,(0,N.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,N.addDisposableListener)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,N.append)(X,(0,N.$)("button.clear"+f.treeFilterClearIcon.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,t.localize)(0,null),this.keyboardNavigationEventFilter=L.options.keyboardNavigationEventFilter,B.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(L.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(L){L.simpleKeyboardNavigation?this.disable():this.enable(),typeof L.filterOnType!="undefined"&&(this._filterOnType=!!L.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof L.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=L.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const L=this.enabledDisposables.add(new T.DomEmitter(this.view.getHTMLElement(),"keydown")),B=c.Event.chain(L.event).filter($=>!(0,p.isInputElement)($.target)||$.target===this.filterOnTypeDomNode).filter($=>$.key!=="Dead"&&!/^Media/.test($.key)).map($=>new D.StandardKeyboardEvent($)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter($=>this.keyboardNavigationDelegate.mightProducePrintableCharacter($)&&!($.keyCode===18||$.keyCode===16||$.keyCode===15||$.keyCode===17)||(this.pattern.length>0||this.triggered)&&($.keyCode===9||$.keyCode===1)&&!$.altKey&&!$.ctrlKey&&!$.metaKey||$.keyCode===1&&(a.isMacintosh?$.altKey&&!$.metaKey:$.ctrlKey)&&!$.shiftKey).forEach($=>{$.stopPropagation(),$.preventDefault()}).event,z=this.enabledDisposables.add(new T.DomEmitter(this.clearDomNode,"click"));c.Event.chain(c.Event.any(B,z.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(L){typeof L=="string"?this.onInput(L):L instanceof MouseEvent||L.keyCode===9||L.keyCode===1&&(a.isMacintosh?L.altKey:L.ctrlKey)?this.onInput(""):L.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+L.browserEvent.key)}onInput(L){const B=this.view.getHTMLElement();L&&!this.domNode.parentElement?B.append(this.domNode):!L&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=L,this._onDidChangePattern.fire(L),this.filter.pattern=L,this.tree.refilter(),L&&this.tree.focusNext(0,!0,void 0,$=>!u.FuzzyScore.isDefault($.filterData));const z=this.tree.getFocus();if(z.length>0){const $=z[0];this.tree.getRelativeTop($)===null&&this.tree.reveal($,.5)}this.render(),L||(this.triggered=!1)}onDragStart(){const L=this.view.getHTMLElement(),{left:B}=(0,N.getDomNodePagePosition)(L),z=L.clientWidth,$=z/2,j=this.domNode.clientWidth,X=new s.DisposableStore;let Q=this.positionClassName;const Y=()=>{switch(Q){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${z-j-6}px`;break}},oe=K=>{K.preventDefault();const x=K.clientX-B;K.dataTransfer&&(K.dataTransfer.dropEffect="none"),x<$?Q="nw":Q="ne",Y()},se=()=>{this.positionClassName=Q,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,s.dispose)(X)};Y(),this.domNode.classList.remove(Q),this.domNode.classList.add("dragging"),X.add((0,s.toDisposable)(()=>this.domNode.classList.remove("dragging"))),X.add((0,N.addDisposableListener)(document,"dragover",K=>oe(K))),X.add((0,N.addDisposableListener)(this.domNode,"dragend",()=>se())),y.StaticDND.CurrentDragAndDropData=new y.DragAndDropData("vscode-ui"),X.add((0,s.toDisposable)(()=>y.StaticDND.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...f.treeFilterOnTypeOffIcon.classNamesArray),this.filterOnTypeDomNode.classList.add(...f.treeFilterOnTypeOnIcon.classNamesArray),this.filterOnTypeDomNode.title=(0,t.localize)(1,null)):(this.filterOnTypeDomNode.classList.remove(...f.treeFilterOnTypeOnIcon.classNamesArray),this.filterOnTypeDomNode.classList.add(...f.treeFilterOnTypeOffIcon.classNamesArray),this.filterOnTypeDomNode.title=(0,t.localize)(2,null))}render(){const L=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&L?(this.messageDomNode.textContent=(0,t.localize)(3,null),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",L),this.domNode.title=(0,t.localize)(4,null,this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(L){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!u.FuzzyScore.isDefault(L.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,s.dispose)(this.disposables)}}function k(O){let L=i.TreeMouseEventTarget.Unknown;return(0,N.hasParentWithClass)(O.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?L=i.TreeMouseEventTarget.Twistie:(0,N.hasParentWithClass)(O.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(L=i.TreeMouseEventTarget.Element),{browserEvent:O.browserEvent,element:O.element?O.element.element:null,target:L}}function A(O,L){L(O),O.children.forEach(B=>A(B,L))}class P{constructor(L,B){this.getFirstViewElementWithTrait=L,this.identityProvider=B,this.nodes=[],this._onDidChange=new c.Emitter,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(L,B){var z;!((z=B)===null||z===void 0?void 0:z.__forceEvent)&&(0,r.equals)(this.nodes,L)||this._set(L,!1,B)}_set(L,B,z){if(this.nodes=[...L],this.elements=void 0,this._nodeSet=void 0,!B){const $=this;this._onDidChange.fire({get elements(){return $.get()},browserEvent:z})}}get(){return this.elements||(this.elements=this.nodes.map(L=>L.element)),[...this.elements]}getNodes(){return this.nodes}has(L){return this.nodeSet.has(L)}onDidModelSplice({insertedNodes:L,deletedNodes:B}){if(!this.identityProvider){const Y=this.createNodeSet(),oe=se=>Y.delete(se);B.forEach(se=>A(se,oe)),this.set([...Y.values()]);return}const z=new Set,$=Y=>z.add(this.identityProvider.getId(Y.element).toString());B.forEach(Y=>A(Y,$));const j=new Map,X=Y=>j.set(this.identityProvider.getId(Y.element).toString(),Y);L.forEach(Y=>A(Y,X));const Q=[];for(const Y of this.nodes){const oe=this.identityProvider.getId(Y.element).toString();if(!z.has(oe))Q.push(Y);else{const K=j.get(oe);K&&Q.push(K)}}if(this.nodes.length>0&&Q.length===0){const Y=this.getFirstViewElementWithTrait();Y&&Q.push(Y)}this._set(Q,!0)}createNodeSet(){const L=new Set;for(const B of this.nodes)L.add(B);return L}}class F extends p.MouseController{constructor(L,B){super(L);this.tree=B}onViewPointer(L){if((0,p.isInputElement)(L.browserEvent.target)||(0,p.isMonacoEditor)(L.browserEvent.target))return;const B=L.element;if(!B)return super.onViewPointer(L);if(this.isSelectionRangeChangeEvent(L)||this.isSelectionSingleChangeEvent(L))return super.onViewPointer(L);const z=L.browserEvent.target,$=z.classList.contains("monaco-tl-twistie")||z.classList.contains("monaco-icon-label")&&z.classList.contains("folder-icon")&&L.browserEvent.offsetX<16;let j=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?j=this.tree.expandOnlyOnTwistieClick(B.element):j=!!this.tree.expandOnlyOnTwistieClick,j&&!$&&L.browserEvent.detail!==2)return super.onViewPointer(L);if(!this.tree.expandOnDoubleClick&&L.browserEvent.detail===2)return super.onViewPointer(L);if(B.collapsible){const X=this.tree.model,Q=X.getNodeLocation(B),Y=L.browserEvent.altKey;if(this.tree.setFocus([Q]),X.setCollapsed(Q,void 0,Y),j&&$)return}super.onViewPointer(L)}onDoubleClick(L){L.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(L)}}class M extends p.List{constructor(L,B,z,$,j,X,Q,Y){super(L,B,z,$,Y);this.focusTrait=j,this.selectionTrait=X,this.anchorTrait=Q}createMouseController(L){return new F(this,L.tree)}splice(L,B,z=[]){if(super.splice(L,B,z),z.length===0)return;const $=[],j=[];let X;z.forEach((Q,Y)=>{this.focusTrait.has(Q)&&$.push(L+Y),this.selectionTrait.has(Q)&&j.push(L+Y),this.anchorTrait.has(Q)&&(X=L+Y)}),$.length>0&&super.setFocus((0,r.distinctES6)([...super.getFocus(),...$])),j.length>0&&super.setSelection((0,r.distinctES6)([...super.getSelection(),...j])),typeof X=="number"&&super.setAnchor(X)}setFocus(L,B,z=!1){super.setFocus(L,B),z||this.focusTrait.set(L.map($=>this.element($)),B)}setSelection(L,B,z=!1){super.setSelection(L,B),z||this.selectionTrait.set(L.map($=>this.element($)),B)}setAnchor(L,B=!1){super.setAnchor(L),B||(typeof L=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(L)]))}}class R{constructor(L,B,z,$,j={}){this._options=j,this.eventBufferer=new c.EventBufferer,this.disposables=new s.DisposableStore,this._onWillRefilter=new c.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new c.Emitter;const X=new _(z),Q=new c.Relay,Y=new c.Relay,oe=new v(Y.event);this.renderers=$.map(x=>new m(x,()=>this.model,Q.event,oe,j));for(let x of this.renderers)this.disposables.add(x);let se;j.keyboardNavigationLabelProvider&&(se=new E(this,j.keyboardNavigationLabelProvider,j.filter),j=Object.assign(Object.assign({},j),{filter:se}),this.disposables.add(se)),this.focus=new P(()=>this.view.getFocusedElements()[0],j.identityProvider),this.selection=new P(()=>this.view.getSelectedElements()[0],j.identityProvider),this.anchor=new P(()=>this.view.getAnchorElement(),j.identityProvider),this.view=new M(L,B,X,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},w(()=>this.model,j)),{tree:this})),this.model=this.createModel(L,this.view,j),Q.input=this.model.onDidChangeCollapseState;const K=c.Event.forEach(this.model.onDidSplice,x=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(x),this.selection.onDidModelSplice(x)})});if(K(()=>null,null,this.disposables),Y.input=c.Event.chain(c.Event.any(K,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const x=new Set;for(const U of this.focus.getNodes())x.add(U);for(const U of this.selection.getNodes())x.add(U);return[...x.values()]}).event,j.keyboardSupport!==!1){const x=c.Event.chain(this.view.onKeyDown).filter(U=>!(0,p.isInputElement)(U.target)).map(U=>new D.StandardKeyboardEvent(U));x.filter(U=>U.keyCode===15).on(this.onLeftArrow,this,this.disposables),x.filter(U=>U.keyCode===17).on(this.onRightArrow,this,this.disposables),x.filter(U=>U.keyCode===10).on(this.onSpace,this,this.disposables)}if(j.keyboardNavigationLabelProvider){const x=j.keyboardNavigationDelegate||p.DefaultKeyboardNavigationDelegate;this.typeFilterController=new I(this,this.model,this.view,se,x),this.focusNavigationFilter=U=>this.typeFilterController.shouldAllowFocus(U),this.disposables.add(this.typeFilterController)}this.styleElement=(0,N.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===C.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return c.Event.map(this.view.onMouseDblClick,k)}get onPointer(){return c.Event.map(this.view.onPointer,k)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(L={}){this._options=Object.assign(Object.assign({},this._options),L);for(const B of this.renderers)B.updateOptions(L);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===C.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(L){this.view.scrollTop=L}domFocus(){this.view.domFocus()}layout(L,B){this.view.layout(L,B)}style(L){const B=`.${this.view.domId}`,z=[];L.treeIndentGuidesStroke&&(z.push(`.monaco-list${B}:hover .monaco-tl-indent > .indent-guide, .monaco-list${B}.always .monaco-tl-indent > .indent-guide  { border-color: ${L.treeIndentGuidesStroke.transparent(.4)}; }`),z.push(`.monaco-list${B} .monaco-tl-indent > .indent-guide.active { border-color: ${L.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=z.join(`
`),this.view.style(L)}collapse(L,B=!1){return this.model.setCollapsed(L,!0,B)}expand(L,B=!1){return this.model.setCollapsed(L,!1,B)}isCollapsible(L){return this.model.isCollapsible(L)}setCollapsible(L,B){return this.model.setCollapsible(L,B)}isCollapsed(L){return this.model.isCollapsed(L)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(L,B){const z=L.map(j=>this.model.getNode(j));this.selection.set(z,B);const $=L.map(j=>this.model.getListIndex(j)).filter(j=>j>-1);this.view.setSelection($,B,!0)}getSelection(){return this.selection.get()}setFocus(L,B){const z=L.map(j=>this.model.getNode(j));this.focus.set(z,B);const $=L.map(j=>this.model.getListIndex(j)).filter(j=>j>-1);this.view.setFocus($,B,!0)}focusNext(L=1,B=!1,z,$=this.focusNavigationFilter){this.view.focusNext(L,B,z,$)}getFocus(){return this.focus.get()}reveal(L,B){this.model.expandTo(L);const z=this.model.getListIndex(L);z!==-1&&this.view.reveal(z,B)}getRelativeTop(L){const B=this.model.getListIndex(L);return B===-1?null:this.view.getRelativeTop(B)}onLeftArrow(L){L.preventDefault(),L.stopPropagation();const B=this.view.getFocusedElements();if(B.length===0)return;const z=B[0],$=this.model.getNodeLocation(z);if(!this.model.setCollapsed($,!0)){const X=this.model.getParentNodeLocation($);if(!X)return;const Q=this.model.getListIndex(X);this.view.reveal(Q),this.view.setFocus([Q])}}onRightArrow(L){L.preventDefault(),L.stopPropagation();const B=this.view.getFocusedElements();if(B.length===0)return;const z=B[0],$=this.model.getNodeLocation(z);if(!this.model.setCollapsed($,!1)){if(!z.children.some(Y=>Y.visible))return;const[X]=this.view.getFocus(),Q=X+1;this.view.reveal(Q),this.view.setFocus([Q])}}onSpace(L){L.preventDefault(),L.stopPropagation();const B=this.view.getFocusedElements();if(B.length===0)return;const z=B[0],$=this.model.getNodeLocation(z),j=L.browserEvent.altKey;this.model.setCollapsed($,void 0,j)}dispose(){(0,s.dispose)(this.disposables),this.view.dispose()}}e.AbstractTree=R}),define(te[445],ie([0,1,185,162]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class T extends y.AbstractTree{constructor(S,p,b,i,f,r={}){super(S,p,b,i,r);this.user=S,this.dataSource=f,this.identityProvider=r.identityProvider}createModel(S,p,b){return new N.ObjectTreeModel(S,p,b)}}e.DataTree=T}),define(te[248],ie([0,1,185,302,162,91,54]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class p extends y.AbstractTree{constructor(o,d,c,u,s={}){super(o,d,c,u,s)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(o,d=S.Iterable.empty(),c){this.model.setChildren(o,d,c)}rerender(o){if(o===void 0){this.view.rerender();return}this.model.rerender(o)}hasElement(o){return this.model.has(o)}createModel(o,d,c){return new T.ObjectTreeModel(o,d,c)}}e.ObjectTree=p;class b{constructor(o,d){this._compressedTreeNodeProvider=o,this.renderer=d,this.templateId=d.templateId,d.onDidChangeTwistieState&&(this.onDidChangeTwistieState=d.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(o){const d=this.renderer.renderTemplate(o);return{compressedTreeNode:void 0,data:d}}renderElement(o,d,c,u){const s=this.compressedTreeNodeProvider.getCompressedTreeNode(o.element);s.element.elements.length===1?(c.compressedTreeNode=void 0,this.renderer.renderElement(o,d,c.data,u)):(c.compressedTreeNode=s,this.renderer.renderCompressedElements(s,d,c.data,u))}disposeElement(o,d,c,u){c.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(c.compressedTreeNode,d,c.data,u):this.renderer.disposeElement&&this.renderer.disposeElement(o,d,c.data,u)}disposeTemplate(o){this.renderer.disposeTemplate(o.data)}renderTwistie(o,d){return this.renderer.renderTwistie?this.renderer.renderTwistie(o,d):!1}}Fe([D.memoize],b.prototype,"compressedTreeNodeProvider",null);function i(r,o){return o&&Object.assign(Object.assign({},o),{keyboardNavigationLabelProvider:o.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(d){let c;try{c=r().getCompressedTreeNode(d)}catch(u){return o.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(d)}return c.element.elements.length===1?o.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(d):o.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(c.element.elements)}}})}class f extends p{constructor(o,d,c,u,s={}){const n=()=>this,a=u.map(t=>new b(n,t));super(o,d,c,a,i(n,s))}setChildren(o,d=S.Iterable.empty(),c){this.model.setChildren(o,d,c)}createModel(o,d,c){return new N.CompressibleObjectTreeModel(o,d,c)}updateOptions(o={}){super.updateOptions(o),typeof o.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(o.compressionEnabled)}getCompressedTreeNode(o=null){return this.model.getCompressedTreeNode(o)}}e.CompressibleObjectTree=f}),define(te[446],ie([0,1,169,185,161,248,103,206,14,10,6,54,2]),function(q,e,y,N,T,D,S,p,b,i,f,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function d(A){return Object.assign(Object.assign({},A),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function c(A,P){return P.parent?P.parent===A?!0:c(A,P.parent):!1}function u(A,P){return A===P||c(A,P)||c(P,A)}class s{constructor(P){this.node=P}get element(){return this.node.element.element}get children(){return this.node.children.map(P=>new s(P))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class n{constructor(P,F,M){this.renderer=P,this.nodeMapper=F,this.onDidChangeTwistieState=M,this.renderedNodes=new Map,this.templateId=P.templateId}renderTemplate(P){return{templateData:this.renderer.renderTemplate(P)}}renderElement(P,F,M,R){this.renderer.renderElement(this.nodeMapper.map(P),F,M.templateData,R)}renderTwistie(P,F){return P.slow?(F.classList.add(...p.treeItemLoadingIcon.classNamesArray),!0):(F.classList.remove(...p.treeItemLoadingIcon.classNamesArray),!1)}disposeElement(P,F,M,R){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(P),F,M.templateData,R)}disposeTemplate(P){this.renderer.disposeTemplate(P.templateData)}dispose(){this.renderedNodes.clear()}}function a(A){return{browserEvent:A.browserEvent,elements:A.elements.map(P=>P.element)}}function t(A){return{browserEvent:A.browserEvent,element:A.element&&A.element.element,target:A.target}}class l extends y.ElementsDragAndDropData{constructor(P){super(P.elements.map(F=>F.element));this.data=P}}function h(A){return A instanceof y.ElementsDragAndDropData?new l(A):A}class g{constructor(P){this.dnd=P}getDragURI(P){return this.dnd.getDragURI(P.element)}getDragLabel(P,F){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(P.map(M=>M.element),F)}onDragStart(P,F){this.dnd.onDragStart&&this.dnd.onDragStart(h(P),F)}onDragOver(P,F,M,R,O=!0){return this.dnd.onDragOver(h(P),F&&F.element,M,R)}drop(P,F,M,R){this.dnd.drop(h(P),F&&F.element,M,R)}onDragEnd(P){this.dnd.onDragEnd&&this.dnd.onDragEnd(P)}}function w(A){return A&&Object.assign(Object.assign({},A),{collapseByDefault:!0,identityProvider:A.identityProvider&&{getId(P){return A.identityProvider.getId(P.element)}},dnd:A.dnd&&new g(A.dnd),multipleSelectionController:A.multipleSelectionController&&{isSelectionSingleChangeEvent(P){return A.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},P),{element:P.element}))},isSelectionRangeChangeEvent(P){return A.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},P),{element:P.element}))}},accessibilityProvider:A.accessibilityProvider&&Object.assign(Object.assign({},A.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:A.accessibilityProvider.getRole?P=>A.accessibilityProvider.getRole(P.element):()=>"treeitem",isChecked:A.accessibilityProvider.isChecked?P=>{var F;return!!((F=A.accessibilityProvider)===null||F===void 0?void 0:F.isChecked(P.element))}:void 0,getAriaLabel(P){return A.accessibilityProvider.getAriaLabel(P.element)},getWidgetAriaLabel(){return A.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:A.accessibilityProvider.getWidgetRole?()=>A.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:A.accessibilityProvider.getAriaLevel&&(P=>A.accessibilityProvider.getAriaLevel(P.element)),getActiveDescendantId:A.accessibilityProvider.getActiveDescendantId&&(P=>A.accessibilityProvider.getActiveDescendantId(P.element))}),filter:A.filter&&{filter(P,F){return A.filter.filter(P.element,F)}},keyboardNavigationLabelProvider:A.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},A.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(P){return A.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(P.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof A.expandOnlyOnTwistieClick=="undefined"?void 0:typeof A.expandOnlyOnTwistieClick!="function"?A.expandOnlyOnTwistieClick:P=>A.expandOnlyOnTwistieClick(P.element),additionalScrollHeight:A.additionalScrollHeight})}function _(A,P){P(A),A.children.forEach(F=>_(F,P))}class C{constructor(P,F,M,R,O,L={}){this.user=P,this.dataSource=O,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new f.Emitter,this._onDidChangeNodeSlowState=new f.Emitter,this.nodeMapper=new S.WeakMapper(B=>new s(B)),this.disposables=new o.DisposableStore,this.identityProvider=L.identityProvider,this.autoExpandSingleChildren=typeof L.autoExpandSingleChildren=="undefined"?!1:L.autoExpandSingleChildren,this.sorter=L.sorter,this.collapseByDefault=L.collapseByDefault,this.tree=this.createTree(P,F,M,R,L),this.root=d({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return f.Event.map(this.tree.onDidChangeFocus,a)}get onDidChangeSelection(){return f.Event.map(this.tree.onDidChangeSelection,a)}get onMouseDblClick(){return f.Event.map(this.tree.onMouseDblClick,t)}get onPointer(){return f.Event.map(this.tree.onPointer,t)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(P,F,M,R,O){const L=new N.ComposedTreeDelegate(M),B=R.map($=>new n($,this.nodeMapper,this._onDidChangeNodeSlowState.event)),z=w(O)||{};return new D.ObjectTree(P,F,L,B,z)}updateOptions(P={}){this.tree.updateOptions(P)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(P){this.tree.scrollTop=P}domFocus(){this.tree.domFocus()}layout(P,F){this.tree.layout(P,F)}style(P){this.tree.style(P)}getInput(){return this.root.element}setInput(P,F){return Me(this,void 0,void 0,function*(){this.refreshPromises.forEach(R=>R.cancel()),this.refreshPromises.clear(),this.root.element=P;const M=F&&{viewState:F,focus:[],selection:[]};yield this._updateChildren(P,!0,!1,M),M&&(this.tree.setFocus(M.focus),this.tree.setSelection(M.selection)),F&&typeof F.scrollTop=="number"&&(this.scrollTop=F.scrollTop)})}_updateChildren(P=this.root.element,F=!0,M=!1,R,O){return Me(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new S.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield f.Event.toPromise(this._onDidRender.event));const L=this.getDataNode(P);if(yield this.refreshAndRenderNode(L,F,R,O),M)try{this.tree.rerender(L)}catch(B){}})}rerender(P){if(P===void 0||P===this.root.element){this.tree.rerender();return}const F=this.getDataNode(P);this.tree.rerender(F)}collapse(P,F=!1){const M=this.getDataNode(P);return this.tree.collapse(M===this.root?null:M,F)}expand(P,F=!1){return Me(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new S.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield f.Event.toPromise(this._onDidRender.event));const M=this.getDataNode(P);if(this.tree.hasElement(M)&&!this.tree.isCollapsible(M)||(M.refreshPromise&&(yield this.root.refreshPromise,yield f.Event.toPromise(this._onDidRender.event)),M!==this.root&&!M.refreshPromise&&!this.tree.isCollapsed(M)))return!1;const R=this.tree.expand(M===this.root?null:M,F);return M.refreshPromise&&(yield this.root.refreshPromise,yield f.Event.toPromise(this._onDidRender.event)),R})}setSelection(P,F){const M=P.map(R=>this.getDataNode(R));this.tree.setSelection(M,F)}getSelection(){return this.tree.getSelection().map(F=>F.element)}setFocus(P,F){const M=P.map(R=>this.getDataNode(R));this.tree.setFocus(M,F)}getFocus(){return this.tree.getFocus().map(F=>F.element)}reveal(P,F){this.tree.reveal(this.getDataNode(P),F)}getDataNode(P){const F=this.nodes.get(P===this.root.element?null:P);if(!F)throw new S.TreeError(this.user,`Data tree node not found: ${P}`);return F}refreshAndRenderNode(P,F,M,R){return Me(this,void 0,void 0,function*(){yield this.refreshNode(P,F,M),this.render(P,M,R)})}refreshNode(P,F,M){return Me(this,void 0,void 0,function*(){let R;return this.subTreeRefreshPromises.forEach((O,L)=>{!R&&u(L,P)&&(R=O.then(()=>this.refreshNode(P,F,M)))}),R||this.doRefreshSubTree(P,F,M)})}doRefreshSubTree(P,F,M){return Me(this,void 0,void 0,function*(){let R;P.refreshPromise=new Promise(O=>R=O),this.subTreeRefreshPromises.set(P,P.refreshPromise),P.refreshPromise.finally(()=>{P.refreshPromise=void 0,this.subTreeRefreshPromises.delete(P)});try{const O=yield this.doRefreshNode(P,F,M);P.stale=!1,yield b.Promises.settled(O.map(L=>this.doRefreshSubTree(L,F,M)))}finally{R()}})}doRefreshNode(P,F,M){return Me(this,void 0,void 0,function*(){P.hasChildren=!!this.dataSource.hasChildren(P.element);let R;if(!P.hasChildren)R=Promise.resolve(r.Iterable.empty());else{const O=(0,b.timeout)(800);O.then(()=>{P.slow=!0,this._onDidChangeNodeSlowState.fire(P)},L=>null),R=this.doGetChildren(P).finally(()=>O.cancel())}try{const O=yield R;return this.setChildren(P,O,F,M)}catch(O){if(P!==this.root&&this.tree.hasElement(P)&&this.tree.collapse(P),(0,i.isPromiseCanceledError)(O))return[];throw O}finally{P.slow&&(P.slow=!1,this._onDidChangeNodeSlowState.fire(P))}})}doGetChildren(P){let F=this.refreshPromises.get(P);return F||(F=(0,b.createCancelablePromise)(()=>Me(this,void 0,void 0,function*(){const M=yield this.dataSource.getChildren(P.element);return this.processChildren(M)})),this.refreshPromises.set(P,F),F.finally(()=>{this.refreshPromises.delete(P)}))}_onDidChangeCollapseState({node:P,deep:F}){P.element!==null&&!P.collapsed&&P.element.stale&&(F?this.collapse(P.element.element):this.refreshAndRenderNode(P.element,!1).catch(i.onUnexpectedError))}setChildren(P,F,M,R){const O=[...F];if(P.children.length===0&&O.length===0)return[];const L=new Map,B=new Map;for(const j of P.children)if(L.set(j.element,j),this.identityProvider){const X=this.tree.isCollapsed(j);B.set(j.id,{node:j,collapsed:X})}const z=[],$=O.map(j=>{const X=!!this.dataSource.hasChildren(j);if(!this.identityProvider){const se=d({element:j,parent:P,hasChildren:X});return X&&this.collapseByDefault&&!this.collapseByDefault(j)&&(se.collapsedByDefault=!1,z.push(se)),se}const Q=this.identityProvider.getId(j).toString(),Y=B.get(Q);if(Y){const se=Y.node;return L.delete(se.element),this.nodes.delete(se.element),this.nodes.set(j,se),se.element=j,se.hasChildren=X,M?Y.collapsed?(se.children.forEach(K=>_(K,x=>this.nodes.delete(x.element))),se.children.splice(0,se.children.length),se.stale=!0):z.push(se):X&&this.collapseByDefault&&!this.collapseByDefault(j)&&(se.collapsedByDefault=!1,z.push(se)),se}const oe=d({element:j,parent:P,id:Q,hasChildren:X});return R&&R.viewState.focus&&R.viewState.focus.indexOf(Q)>-1&&R.focus.push(oe),R&&R.viewState.selection&&R.viewState.selection.indexOf(Q)>-1&&R.selection.push(oe),R&&R.viewState.expanded&&R.viewState.expanded.indexOf(Q)>-1?z.push(oe):X&&this.collapseByDefault&&!this.collapseByDefault(j)&&(oe.collapsedByDefault=!1,z.push(oe)),oe});for(const j of L.values())_(j,X=>this.nodes.delete(X.element));for(const j of $)this.nodes.set(j.element,j);return P.children.splice(0,P.children.length,...$),P!==this.root&&this.autoExpandSingleChildren&&$.length===1&&z.length===0&&($[0].collapsedByDefault=!1,z.push($[0])),z}render(P,F,M){const R=P.children.map(L=>this.asTreeElement(L,F)),O=M&&Object.assign(Object.assign({},M),{diffIdentityProvider:M.diffIdentityProvider&&{getId(L){return M.diffIdentityProvider.getId(L.element)}}});this.tree.setChildren(P===this.root?null:P,R,O),P!==this.root&&this.tree.setCollapsible(P,P.hasChildren),this._onDidRender.fire()}asTreeElement(P,F){if(P.stale)return{element:P,collapsible:P.hasChildren,collapsed:!0};let M;return F&&F.viewState.expanded&&P.id&&F.viewState.expanded.indexOf(P.id)>-1?M=!1:M=P.collapsedByDefault,P.collapsedByDefault=void 0,{element:P,children:P.hasChildren?r.Iterable.map(P.children,R=>this.asTreeElement(R,F)):[],collapsible:P.hasChildren,collapsed:M}}processChildren(P){return this.sorter&&(P=[...P].sort(this.sorter.compare.bind(this.sorter))),P}dispose(){this.disposables.dispose()}}e.AsyncDataTree=C;class v{constructor(P){this.node=P}get element(){return{elements:this.node.element.elements.map(P=>P.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(P=>new v(P))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class m{constructor(P,F,M,R){this.renderer=P,this.nodeMapper=F,this.compressibleNodeMapperProvider=M,this.onDidChangeTwistieState=R,this.renderedNodes=new Map,this.disposables=[],this.templateId=P.templateId}renderTemplate(P){return{templateData:this.renderer.renderTemplate(P)}}renderElement(P,F,M,R){this.renderer.renderElement(this.nodeMapper.map(P),F,M.templateData,R)}renderCompressedElements(P,F,M,R){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(P),F,M.templateData,R)}renderTwistie(P,F){return P.slow?(F.classList.add(...p.treeItemLoadingIcon.classNamesArray),!0):(F.classList.remove(...p.treeItemLoadingIcon.classNamesArray),!1)}disposeElement(P,F,M,R){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(P),F,M.templateData,R)}disposeCompressedElements(P,F,M,R){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(P),F,M.templateData,R)}disposeTemplate(P){this.renderer.disposeTemplate(P.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,o.dispose)(this.disposables)}}function E(A){const P=A&&w(A);return P&&Object.assign(Object.assign({},P),{keyboardNavigationLabelProvider:P.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},P.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(F){return A.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(F.map(M=>M.element))}})})}class I extends C{constructor(P,F,M,R,O,L,B={}){super(P,F,M,O,L,B);this.compressionDelegate=R,this.compressibleNodeMapper=new S.WeakMapper(z=>new v(z)),this.filter=B.filter}createTree(P,F,M,R,O){const L=new N.ComposedTreeDelegate(M),B=R.map($=>new m($,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),z=E(O)||{};return new D.CompressibleObjectTree(P,F,L,B,z)}asTreeElement(P,F){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(P.element)},super.asTreeElement(P,F))}updateOptions(P={}){this.tree.updateOptions(P)}render(P,F){if(!this.identityProvider)return super.render(P,F);const M=Q=>this.identityProvider.getId(Q).toString(),R=Q=>{const Y=new Set;for(const oe of Q){const se=this.tree.getCompressedTreeNode(oe===this.root?null:oe);if(!!se.element)for(const K of se.element.elements)Y.add(M(K.element))}return Y},O=R(this.tree.getSelection()),L=R(this.tree.getFocus());super.render(P,F);const B=this.getSelection();let z=!1;const $=this.getFocus();let j=!1;const X=Q=>{const Y=Q.element;if(Y)for(let oe=0;oe<Y.elements.length;oe++){const se=M(Y.elements[oe].element),K=Y.elements[Y.elements.length-1].element;O.has(se)&&B.indexOf(K)===-1&&(B.push(K),z=!0),L.has(se)&&$.indexOf(K)===-1&&($.push(K),j=!0)}Q.children.forEach(X)};X(this.tree.getCompressedTreeNode(P===this.root?null:P)),z&&this.setSelection(B),j&&this.setFocus($)}processChildren(P){return this.filter&&(P=r.Iterable.filter(P,F=>{const M=this.filter.filter(F,1),R=k(M);if(R===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return R===1})),super.processChildren(P)}}e.CompressibleAsyncDataTree=I;function k(A){return typeof A=="boolean"?A?1:0:(0,T.isFilterResult)(A)?(0,T.getVisibleState)(A.visibility):(0,T.getVisibleState)(A)}}),define(te[447],ie([4,5]),function(q,e){return q.create("vs/base/common/actions",e)}),define(te[51],ie([0,1,6,2,447]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class D extends N.Disposable{constructor(r,o="",d="",c=!0,u){super();this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._checked=!1,this._id=r,this._label=o,this._cssClass=d,this._enabled=c,this._actionCallback=u}get id(){return this._id}get label(){return this._label}set label(r){this._setLabel(r)}_setLabel(r){this._label!==r&&(this._label=r,this._onDidChange.fire({label:r}))}get tooltip(){return this._tooltip||""}set tooltip(r){this._setTooltip(r)}_setTooltip(r){this._tooltip!==r&&(this._tooltip=r,this._onDidChange.fire({tooltip:r}))}get class(){return this._cssClass}set class(r){this._setClass(r)}_setClass(r){this._cssClass!==r&&(this._cssClass=r,this._onDidChange.fire({class:r}))}get enabled(){return this._enabled}set enabled(r){this._setEnabled(r)}_setEnabled(r){this._enabled!==r&&(this._enabled=r,this._onDidChange.fire({enabled:r}))}get checked(){return this._checked}set checked(r){this._setChecked(r)}_setChecked(r){this._checked!==r&&(this._checked=r,this._onDidChange.fire({checked:r}))}run(r,o){return Me(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(r))})}}e.Action=D;class S extends N.Disposable{constructor(){super(...arguments);this._onBeforeRun=this._register(new y.Emitter),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new y.Emitter),this.onDidRun=this._onDidRun.event}run(r,o){return Me(this,void 0,void 0,function*(){if(!r.enabled)return;this._onBeforeRun.fire({action:r});let d;try{yield this.runAction(r,o)}catch(c){d=c}this._onDidRun.fire({action:r,error:d})})}runAction(r,o){return Me(this,void 0,void 0,function*(){yield r.run(o)})}}e.ActionRunner=S;class p extends D{constructor(r){super(p.ID,r,r?"separator text":"separator");this.checked=!1,this.enabled=!1}}e.Separator=p,p.ID="vs.actions.separator";class b{constructor(r,o,d,c){this.tooltip="",this.enabled=!0,this.checked=!1,this.id=r,this.label=o,this.class=c,this._actions=d}get actions(){return this._actions}dispose(){}run(){return Me(this,void 0,void 0,function*(){})}}e.SubmenuAction=b;class i extends D{constructor(){super(i.ID,T.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=i,i.ID="vs.actions.empty"}),define(te[120],ie([0,1,36,167,7,58,51,2,17,20,435,212]),function(q,e,y,N,T,D,S,p,b,i,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionViewItem=e.BaseActionViewItem=void 0;class r extends p.Disposable{constructor(c,u,s={}){super();this.options=s,this._context=c||this,this._action=u,u instanceof S.Action&&this._register(u.onDidChange(n=>{!this.element||this.handleActionChangeEvent(n)}))}handleActionChangeEvent(c){c.enabled!==void 0&&this.updateEnabled(),c.checked!==void 0&&this.updateChecked(),c.class!==void 0&&this.updateClass(),c.label!==void 0&&(this.updateLabel(),this.updateTooltip()),c.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new S.ActionRunner)),this._actionRunner}set actionRunner(c){this._actionRunner=c}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(c){this._context=c}render(c){const u=this.element=c;this._register(D.Gesture.addTarget(c));const s=this.options&&this.options.draggable;s&&(c.draggable=!0,y.isFirefox&&this._register((0,T.addDisposableListener)(c,T.EventType.DRAG_START,n=>{var a;return(a=n.dataTransfer)===null||a===void 0?void 0:a.setData(N.DataTransfers.TEXT,this._action.label)}))),this._register((0,T.addDisposableListener)(u,D.EventType.Tap,n=>this.onClick(n,!0))),this._register((0,T.addDisposableListener)(u,T.EventType.MOUSE_DOWN,n=>{s||T.EventHelper.stop(n,!0),this._action.enabled&&n.button===0&&u.classList.add("active")})),b.isMacintosh&&this._register((0,T.addDisposableListener)(u,T.EventType.CONTEXT_MENU,n=>{n.button===0&&n.ctrlKey===!0&&this.onClick(n)})),this._register((0,T.addDisposableListener)(u,T.EventType.CLICK,n=>{T.EventHelper.stop(n,!0),this.options&&this.options.isMenu||this.onClick(n)})),this._register((0,T.addDisposableListener)(u,T.EventType.DBLCLICK,n=>{T.EventHelper.stop(n,!0)})),[T.EventType.MOUSE_UP,T.EventType.MOUSE_OUT].forEach(n=>{this._register((0,T.addDisposableListener)(u,n,a=>{T.EventHelper.stop(a),u.classList.remove("active")}))})}onClick(c,u=!1){var s;T.EventHelper.stop(c,!0);const n=i.isUndefinedOrNull(this._context)?((s=this.options)===null||s===void 0?void 0:s.useEventAsContext)?c:{preserveFocus:u}:this._context;this.actionRunner.run(this._action,n)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(c){this.element&&(this.element.tabIndex=c?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}e.BaseActionViewItem=r;class o extends r{constructor(c,u,s={}){super(c,u,s);this.options=s,this.options.icon=s.icon!==void 0?s.icon:!1,this.options.label=s.label!==void 0?s.label:!0,this.cssClass=""}render(c){super.render(c),this.element&&(this.label=(0,T.append)(this.element,(0,T.$)("a.action-label"))),this.label&&(this._action.id===S.Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,T.append)(this.element,(0,T.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(c){this.label&&(this.label.tabIndex=c?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let c=null;this.getAction().tooltip?c=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(c=this.getAction().label,this.options.keybinding&&(c=f.localize(0,null,c,this.options.keybinding))),c&&this.label&&(this.label.title=c)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}e.ActionViewItem=o}),define(te[86],ie([0,1,7,52,120,51,6,2,20,212]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class i extends p.Disposable{constructor(r,o={}){var d,c,u,s,n,a;super();this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new S.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new S.Emitter({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new S.Emitter),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new S.Emitter),this.onBeforeRun=this._onBeforeRun.event,this.options=o,this._context=(d=o.context)!==null&&d!==void 0?d:null,this._orientation=(c=this.options.orientation)!==null&&c!==void 0?c:0,this._triggerKeys={keyDown:(s=(u=this.options.triggerKeys)===null||u===void 0?void 0:u.keyDown)!==null&&s!==void 0?s:!1,keys:(a=(n=this.options.triggerKeys)===null||n===void 0?void 0:n.keys)!==null&&a!==void 0?a:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new D.ActionRunner,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(h=>this._onDidRun.fire(h))),this._register(this._actionRunner.onBeforeRun(h=>this._onBeforeRun.fire(h))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",o.animated!==!1&&this.domNode.classList.add("animated");let t,l;switch(this._orientation){case 0:t=[15],l=[17];break;case 1:t=[16],l=[18],this.domNode.className+=" vertical";break}this._register(y.addDisposableListener(this.domNode,y.EventType.KEY_DOWN,h=>{const g=new N.StandardKeyboardEvent(h);let w=!0;const _=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;t&&(g.equals(t[0])||g.equals(t[1]))?w=this.focusPrevious():l&&(g.equals(l[0])||g.equals(l[1]))?w=this.focusNext():g.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():g.equals(14)?w=this.focusFirst():g.equals(13)?w=this.focusLast():g.equals(2)&&_ instanceof T.BaseActionViewItem&&_.trapsArrowNavigation?w=this.focusNext():this.isTriggerKeyEvent(g)?this._triggerKeys.keyDown?this.doTrigger(g):this.triggerKeyDown=!0:w=!1,w&&(g.preventDefault(),g.stopPropagation())})),this._register(y.addDisposableListener(this.domNode,y.EventType.KEY_UP,h=>{const g=new N.StandardKeyboardEvent(h);this.isTriggerKeyEvent(g)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(g)),g.preventDefault(),g.stopPropagation()):(g.equals(2)||g.equals(1024|2))&&this.updateFocusedItem()})),this.focusTracker=this._register(y.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(y.getActiveElement()===this.domNode||!y.isAncestor(y.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),r.appendChild(this.domNode)}isTriggerKeyEvent(r){let o=!1;return this._triggerKeys.keys.forEach(d=>{o=o||r.equals(d)}),o}updateFocusedItem(){for(let r=0;r<this.actionsList.children.length;r++){const o=this.actionsList.children[r];if(y.isAncestor(y.getActiveElement(),o)){this.focusedItem=r;break}}}get context(){return this._context}set context(r){this._context=r,this.viewItems.forEach(o=>o.setActionContext(r))}get actionRunner(){return this._actionRunner}set actionRunner(r){r&&(this._actionRunner=r,this.viewItems.forEach(o=>o.actionRunner=r))}getContainer(){return this.domNode}push(r,o={}){const d=Array.isArray(r)?r:[r];let c=b.isNumber(o.index)?o.index:null;d.forEach(u=>{const s=document.createElement("li");s.className="action-item",s.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(y.addDisposableListener(s,y.EventType.CONTEXT_MENU,a=>{y.EventHelper.stop(a,!0)}));let n;this.options.actionViewItemProvider&&(n=this.options.actionViewItemProvider(u)),n||(n=new T.ActionViewItem(this.context,u,o)),n.actionRunner=this._actionRunner,n.setActionContext(this.context),n.render(s),this.focusable&&n instanceof T.BaseActionViewItem&&this.viewItems.length===0&&n.setFocusable(!0),c===null||c<0||c>=this.actionsList.children.length?(this.actionsList.appendChild(s),this.viewItems.push(n),this._actionIds.push(u.id)):(this.actionsList.insertBefore(s,this.actionsList.children[c]),this.viewItems.splice(c,0,n),this._actionIds.splice(c,0,u.id),c++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem)}clear(){(0,p.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],y.clearNode(this.actionsList)}length(){return this.viewItems.length}focus(r){let o=!1,d;if(r===void 0?o=!0:typeof r=="number"?d=r:typeof r=="boolean"&&(o=r),o&&typeof this.focusedItem=="undefined"){const c=this.viewItems.findIndex(u=>u.isEnabled());this.focusedItem=c===-1?void 0:c,this.updateFocus()}else d!==void 0&&(this.focusedItem=d),this.updateFocus()}focusFirst(){return this.focusedItem=this.length()>1?1:0,this.focusPrevious()}focusLast(){return this.focusedItem=this.length()<2?0:this.length()-2,this.focusNext()}focusNext(){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const r=this.focusedItem;let o;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=r,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,o=this.viewItems[this.focusedItem]}while(this.focusedItem!==r&&this.options.focusOnlyEnabledItems&&!o.isEnabled());return this.updateFocus(),!0}focusPrevious(){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const r=this.focusedItem;let o;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=r,!1;this.focusedItem=this.viewItems.length-1}o=this.viewItems[this.focusedItem]}while(this.focusedItem!==r&&this.options.focusOnlyEnabledItems&&!o.isEnabled());return this.updateFocus(!0),!0}updateFocus(r,o){typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:o});for(let d=0;d<this.viewItems.length;d++){const c=this.viewItems[d],u=c;if(d===this.focusedItem){let s=!0;b.isFunction(u.focus)||(s=!1),this.options.focusOnlyEnabledItems&&b.isFunction(c.isEnabled)&&!c.isEnabled()&&(s=!1),s?u.focus(r):this.actionsList.focus({preventScroll:o})}else b.isFunction(u.blur)&&u.blur()}}doTrigger(r){if(typeof this.focusedItem=="undefined")return;const o=this.viewItems[this.focusedItem];if(o instanceof T.BaseActionViewItem){const d=o._context===null||o._context===void 0?r:o._context;this.run(o._action,d)}}run(r,o){return Me(this,void 0,void 0,function*(){yield this._actionRunner.run(r,o)})}dispose(){(0,p.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}e.ActionBar=i}),define(te[448],ie([0,1,7,52,58,51,6,215]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=e.BaseDropdown=void 0;class p extends D.ActionRunner{constructor(f,r){super();this._onDidChangeVisibility=this._register(new S.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,y.append)(f,(0,y.$)(".monaco-dropdown")),this._label=(0,y.append)(this._element,(0,y.$)(".dropdown-label"));let o=r.labelRenderer;o||(o=c=>(c.textContent=r.label||"",null));for(const c of[y.EventType.CLICK,y.EventType.MOUSE_DOWN,T.EventType.Tap])this._register((0,y.addDisposableListener)(this.element,c,u=>y.EventHelper.stop(u,!0)));for(const c of[y.EventType.MOUSE_DOWN,T.EventType.Tap])this._register((0,y.addDisposableListener)(this._label,c,u=>{u instanceof MouseEvent&&u.detail>1||(this.visible?this.hide():this.show())}));this._register((0,y.addDisposableListener)(this._label,y.EventType.KEY_UP,c=>{const u=new N.StandardKeyboardEvent(c);(u.equals(3)||u.equals(10))&&(y.EventHelper.stop(c,!0),this.visible?this.hide():this.show())}));const d=o(this._label);d&&this._register(d),this._register(T.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}e.BaseDropdown=p;class b extends p{constructor(f,r){super(f,r);this._actions=[],this._contextMenuProvider=r.contextMenuProvider,this.actions=r.actions||[],this.actionProvider=r.actionProvider,this.menuClassName=r.menuClassName||"",this.menuAsChild=!!r.menuAsChild}set menuOptions(f){this._menuOptions=f}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(f){this._actions=f}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:f=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(f):void 0,getKeyBinding:f=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(f):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=b}),define(te[449],ie([0,1,7,120,448,6,215]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class S extends N.BaseActionViewItem{constructor(b,i,f,r=Object.create(null)){super(null,b,r);this.actionItem=null,this._onDidChangeVisibility=this._register(new D.Emitter),this.menuActionsOrProvider=i,this.contextMenuProvider=f,this.options=r,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(b){this.actionItem=b;const i=o=>{this.element=(0,y.append)(o,(0,y.$)("a.action-label"));let d=[];return typeof this.options.classNames=="string"?d=this.options.classNames.split(/\s+/g).filter(c=>!!c):this.options.classNames&&(d=this.options.classNames),d.find(c=>c==="icon")||d.push("codicon"),this.element.classList.add(...d),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},f=Array.isArray(this.menuActionsOrProvider),r={contextMenuProvider:this.contextMenuProvider,labelRenderer:i,menuAsChild:this.options.menuAsChild,actions:f?this.menuActionsOrProvider:void 0,actionProvider:f?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new T.DropdownMenu(b,r)),this._register(this.dropdownMenu.onDidChangeVisibility(o=>{var d;(d=this.element)===null||d===void 0||d.setAttribute("aria-expanded",`${o}`),this._onDidChangeVisibility.fire(o)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const o=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return o.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(b){super.setActionContext(b),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=b:this.dropdownMenu.menuOptions={context:b})}updateEnabled(){var b,i;const f=!this.getAction().enabled;(b=this.actionItem)===null||b===void 0||b.classList.toggle("disabled",f),(i=this.element)===null||i===void 0||i.classList.toggle("disabled",f)}}e.DropdownMenuActionViewItem=S}),define(te[186],ie([0,1,7,92,163,86,45,62,53,29,6,297,37,441,322]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=void 0;const c=y.$,u={inputBackground:i.Color.fromHex("#3C3C3C"),inputForeground:i.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:i.Color.fromHex("#55AAFF"),inputValidationInfoBackground:i.Color.fromHex("#063B49"),inputValidationWarningBorder:i.Color.fromHex("#B89500"),inputValidationWarningBackground:i.Color.fromHex("#352A05"),inputValidationErrorBorder:i.Color.fromHex("#BE1100"),inputValidationErrorBackground:i.Color.fromHex("#5A1D1D")};class s extends b.Widget{constructor(t,l,h){var g;super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new f.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=l,this.options=h||Object.create(null),(0,o.mixin)(this.options,u,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(g=this.options.tooltip)!==null&&g!==void 0?g:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=y.append(t,c(".monaco-inputbox.idle"));let w=this.options.flexibleHeight?"textarea":"input",_=y.append(this.element,c(".ibwrapper"));if(this.input=y.append(_,c(w+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=y.append(_,c("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new p.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),y.append(t,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(m=>this.input.scrollTop=m.scrollTop));const C=this._register(new N.DomEmitter(document,"selectionchange")),v=f.Event.filter(C.event,()=>{const m=document.getSelection();return(m==null?void 0:m.anchorNode)===_});this._register(v(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new D.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(t){this.placeholder=t,this.input.setAttribute("placeholder",t)}setTooltip(t){this.tooltip=t,this.input.title=t}setAriaLabel(t){this.ariaLabel=t,t?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(t){this.input.value!==t&&(this.input.value=t,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:y.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(t=null){this.input.select(),t&&(this.input.setSelectionRange(t.start,t.end),t.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return y.getTotalWidth(this.input)}set width(t){if(this.options.flexibleHeight&&this.options.flexibleWidth){let l=0;if(this.mirror){const h=parseFloat(this.mirror.style.paddingLeft||"")||0,g=parseFloat(this.mirror.style.paddingRight||"")||0;l=h+g}this.input.style.width=t-l+"px"}else this.input.style.width=t+"px";this.mirror&&(this.mirror.style.width=t+"px")}set paddingRight(t){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${t}px)`:this.input.style.paddingRight=t+"px",this.mirror&&(this.mirror.style.paddingRight=t+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const t=this.cachedContentHeight,l=this.cachedHeight,h=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:t,height:l}),this.scrollableElement.setScrollPosition({scrollTop:h})}showMessage(t,l){this.message=t,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(t.type));const h=this.stylesForType(this.message.type);this.element.style.border=h.border?`1px solid ${h.border}`:"",(this.hasFocus()||l)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let t=null;return this.validation&&(t=this.validation(this.value),t?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(t)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),t==null?void 0:t.type}stylesForType(t){switch(t){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(t){switch(t){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let t,l=()=>t.style.width=y.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:g=>{if(!this.message)return null;t=y.append(g,c(".monaco-inputbox-container")),l();const w={inline:!0,className:"monaco-inputbox-message"},_=this.message.formatContent?(0,T.renderFormattedText)(this.message.content,w):(0,T.renderText)(this.message.content,w);_.classList.add(this.classForType(this.message.type));const C=this.stylesForType(this.message.type);return _.style.backgroundColor=C.background?C.background.toString():"",_.style.color=C.foreground?C.foreground.toString():"",_.style.border=C.border?`1px solid ${C.border}`:"",y.append(t,_),null},onHide:()=>{this.state="closed"},layout:l});let h;this.message.type===3?h=d.localize(0,null,this.message.content):this.message.type===2?h=d.localize(1,null,this.message.content):h=d.localize(2,null,this.message.content),S.alert(h),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const t=this.value,h=t.charCodeAt(t.length-1)===10?" ":"";(t+h).replace(/\u000c/g,"")?this.mirror.textContent=t+h:this.mirror.innerText="\xA0",this.layout()}style(t){this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const t=this.inputBackground?this.inputBackground.toString():"",l=this.inputForeground?this.inputForeground.toString():"",h=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=t,this.element.style.color=l,this.input.style.backgroundColor="inherit",this.input.style.color=l,this.element.style.borderWidth=h?"1px":"",this.element.style.borderStyle=h?"solid":"",this.element.style.borderColor=h}layout(){if(!this.mirror)return;const t=this.cachedContentHeight;this.cachedContentHeight=y.getTotalHeight(this.mirror),t!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(t){const l=this.inputElement,h=l.selectionStart,g=l.selectionEnd,w=l.value;h!==null&&g!==null&&(this.value=w.substr(0,h)+t+w.substr(g),l.setSelectionRange(h+1,h+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}e.InputBox=s;class n extends s{constructor(t,l,h){const g=d.localize(3,null),w=` or \u21C5 ${g}`,_=` (\u21C5 ${g})`;super(t,l,h);this.history=new r.HistoryNavigator(h.history,100);const C=()=>{if(h.showHistoryHint&&h.showHistoryHint()&&!this.placeholder.endsWith(w)&&!this.placeholder.endsWith(_)&&this.history.getHistory().length){const v=this.placeholder.endsWith(")")?w:_,m=this.placeholder+v;h.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=m:this.setPlaceHolder(m)}};this.observer=new MutationObserver((v,m)=>{v.forEach(E=>{E.target.textContent||C()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>C()),this.onblur(this.input,()=>{const v=m=>{if(this.placeholder.endsWith(m)){const E=this.placeholder.slice(0,this.placeholder.length-m.length);return h.showPlaceholderOnFocus?this.placeholder=E:this.setPlaceHolder(E),!0}else return!1};v(_)||v(w)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let t=this.getNextValue();t&&(t=t===this.value?this.getNextValue():t),t&&(this.value=t,S.status(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let t=this.getPreviousValue();t&&(t=t===this.value?this.getPreviousValue():t),t&&(this.value=t,S.status(this.value))}getCurrentValue(){let t=this.history.current();return t||(t=this.history.last(),this.history.next()),t}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}e.HistoryInputBox=n}),define(te[450],ie([0,1,7,247,186,53,6,436,216]),function(q,e,y,N,T,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const b=p.localize(0,null);class i extends D.Widget{constructor(r,o,d,c){super();this._showOptionButtons=d,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onCaseSensitiveKeyDown=this._register(new S.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new S.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=o,this.placeholder=c.placeholder||"",this.validation=c.validation,this.label=c.label||b,this.inputActiveOptionBorder=c.inputActiveOptionBorder,this.inputActiveOptionForeground=c.inputActiveOptionForeground,this.inputActiveOptionBackground=c.inputActiveOptionBackground,this.inputBackground=c.inputBackground,this.inputForeground=c.inputForeground,this.inputBorder=c.inputBorder,this.inputValidationInfoBorder=c.inputValidationInfoBorder,this.inputValidationInfoBackground=c.inputValidationInfoBackground,this.inputValidationInfoForeground=c.inputValidationInfoForeground,this.inputValidationWarningBorder=c.inputValidationWarningBorder,this.inputValidationWarningBackground=c.inputValidationWarningBackground,this.inputValidationWarningForeground=c.inputValidationWarningForeground,this.inputValidationErrorBorder=c.inputValidationErrorBorder,this.inputValidationErrorBackground=c.inputValidationErrorBackground,this.inputValidationErrorForeground=c.inputValidationErrorForeground;const u=c.appendCaseSensitiveLabel||"",s=c.appendWholeWordsLabel||"",n=c.appendRegexLabel||"",a=c.history||[],t=!!c.flexibleHeight,l=!!c.flexibleWidth,h=c.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new T.HistoryInputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:a,showHistoryHint:c.showHistoryHint,flexibleHeight:t,flexibleWidth:l,flexibleMaxHeight:h})),this.regex=this._register(new N.RegexCheckbox({appendTitle:n,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(_=>{this._onDidOptionChange.fire(_),!_&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(_=>{this._onRegexKeyDown.fire(_)})),this.wholeWords=this._register(new N.WholeWordsCheckbox({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(_=>{this._onDidOptionChange.fire(_),!_&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new N.CaseSensitiveCheckbox({appendTitle:u,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(_=>{this._onDidOptionChange.fire(_),!_&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(_=>{this._onCaseSensitiveKeyDown.fire(_)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let g=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,_=>{if(_.equals(15)||_.equals(17)||_.equals(9)){let C=g.indexOf(document.activeElement);if(C>=0){let v=-1;_.equals(17)?v=(C+1)%g.length:_.equals(15)&&(C===0?v=g.length-1:v=C-1),_.equals(9)?(g[C].blur(),this.inputBox.focus()):v>=0&&g[v].focus(),y.EventHelper.stop(_,!0)}}});let w=document.createElement("div");w.className="controls",w.style.display=this._showOptionButtons?"block":"none",w.appendChild(this.caseSensitive.domNode),w.appendChild(this.wholeWords.domNode),w.appendChild(this.regex.domNode),this.domNode.appendChild(w),r&&r.appendChild(this.domNode),this._register(y.addDisposableListener(this.inputBox.inputElement,"compositionstart",_=>{this.imeSessionInProgress=!0})),this._register(y.addDisposableListener(this.inputBox.inputElement,"compositionend",_=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,_=>this._onKeyDown.fire(_)),this.onkeyup(this.inputBox.inputElement,_=>this._onKeyUp.fire(_)),this.oninput(this.inputBox.inputElement,_=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,_=>this._onMouseDown.fire(_))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(r){this.fixFocusOnOptionClickEnabled=r}setEnabled(r){r?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(r){this.inputBox.value!==r&&(this.inputBox.value=r)}style(r){this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const r={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(r),this.wholeWords.style(r),this.caseSensitive.style(r);const o={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(o)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(r){this.caseSensitive.checked=r}getWholeWords(){return this.wholeWords.checked}setWholeWords(r){this.wholeWords.checked=r}getRegex(){return this.regex.checked}setRegex(r){this.regex.checked=r,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=i}),define(te[451],ie([0,1,7,168,186,53,27,6,438,216]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=e.PreserveCaseCheckbox=void 0;const i=b.localize(0,null),f=b.localize(1,null);class r extends N.Checkbox{constructor(c){super({icon:S.Codicon.preserveCase,title:f+c.appendTitle,isChecked:c.isChecked,inputActiveOptionBorder:c.inputActiveOptionBorder,inputActiveOptionForeground:c.inputActiveOptionForeground,inputActiveOptionBackground:c.inputActiveOptionBackground})}}e.PreserveCaseCheckbox=r;class o extends D.Widget{constructor(c,u,s,n){super();this._showOptionButtons=s,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new p.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new p.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new p.Emitter),this._onInput=this._register(new p.Emitter),this._onKeyUp=this._register(new p.Emitter),this._onPreserveCaseKeyDown=this._register(new p.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=u,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||i,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;const a=n.appendPreserveCaseLabel||"",t=n.history||[],l=!!n.flexibleHeight,h=!!n.flexibleWidth,g=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new T.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:t,showHistoryHint:n.showHistoryHint,flexibleHeight:l,flexibleWidth:h,flexibleMaxHeight:g})),this.preserveCase=this._register(new r({appendTitle:a,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(C=>{this._onDidOptionChange.fire(C),!C&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(C=>{this._onPreserveCaseKeyDown.fire(C)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let w=[this.preserveCase.domNode];this.onkeydown(this.domNode,C=>{if(C.equals(15)||C.equals(17)||C.equals(9)){let v=w.indexOf(document.activeElement);if(v>=0){let m=-1;C.equals(17)?m=(v+1)%w.length:C.equals(15)&&(v===0?m=w.length-1:m=v-1),C.equals(9)?(w[v].blur(),this.inputBox.focus()):m>=0&&w[m].focus(),y.EventHelper.stop(C,!0)}}});let _=document.createElement("div");_.className="controls",_.style.display=this._showOptionButtons?"block":"none",_.appendChild(this.preserveCase.domNode),this.domNode.appendChild(_),c&&c.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,C=>this._onKeyDown.fire(C)),this.onkeyup(this.inputBox.inputElement,C=>this._onKeyUp.fire(C)),this.oninput(this.inputBox.inputElement,C=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,C=>this._onMouseDown.fire(C))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(c){c?this.enable():this.disable()}style(c){this.inputActiveOptionBorder=c.inputActiveOptionBorder,this.inputActiveOptionForeground=c.inputActiveOptionForeground,this.inputActiveOptionBackground=c.inputActiveOptionBackground,this.inputBackground=c.inputBackground,this.inputForeground=c.inputForeground,this.inputBorder=c.inputBorder,this.inputValidationInfoBackground=c.inputValidationInfoBackground,this.inputValidationInfoForeground=c.inputValidationInfoForeground,this.inputValidationInfoBorder=c.inputValidationInfoBorder,this.inputValidationWarningBackground=c.inputValidationWarningBackground,this.inputValidationWarningForeground=c.inputValidationWarningForeground,this.inputValidationWarningBorder=c.inputValidationWarningBorder,this.inputValidationErrorBackground=c.inputValidationErrorBackground,this.inputValidationErrorForeground=c.inputValidationErrorForeground,this.inputValidationErrorBorder=c.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const c={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(c);const u={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(u)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(c){this.preserveCase.checked=c}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(c){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=c,this.domNode.style.width=c+"px"}dispose(){super.dispose()}}e.ReplaceInput=o}),define(te[452],ie([0,1,36,58,7,52,55,86,120,133,213,62,51,14,27,106,2,17,8,443]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;const l=(0,c.registerCodicon)("menu-selection",c.Codicon.check),h=(0,c.registerCodicon)("menu-submenu",c.Codicon.chevronRight);var g;(function(I){I[I.Right=0]="Right",I[I.Left=1]="Left"})(g=e.Direction||(e.Direction={}));class w extends p.ActionBar{constructor(k,A,P={}){k.classList.add("monaco-menu-container"),k.setAttribute("role","presentation");const F=document.createElement("div");F.classList.add("monaco-menu"),F.setAttribute("role","presentation"),super(F,{orientation:1,actionViewItemProvider:O=>this.doGetActionViewItem(O,P,M),context:P.context,actionRunner:P.actionRunner,ariaLabel:P.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...n.isMacintosh||n.isLinux?[10]:[]],keyDown:!0}}),this.menuElement=F,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new s.DisposableStore),this.initializeStyleSheet(k),this._register(N.Gesture.addTarget(F)),(0,T.addDisposableListener)(F,T.EventType.KEY_DOWN,O=>{new D.StandardKeyboardEvent(O).equals(2)&&O.preventDefault()}),P.enableMnemonics&&this.menuDisposables.add((0,T.addDisposableListener)(F,T.EventType.KEY_DOWN,O=>{const L=O.key.toLocaleLowerCase();if(this.mnemonics.has(L)){T.EventHelper.stop(O,!0);const B=this.mnemonics.get(L);if(B.length===1&&(B[0]instanceof C&&B[0].container&&this.focusItemByElement(B[0].container),B[0].onClick(O)),B.length>1){const z=B.shift();z&&z.container&&(this.focusItemByElement(z.container),B.push(z)),this.mnemonics.set(L,B)}}})),n.isLinux&&this._register((0,T.addDisposableListener)(F,T.EventType.KEY_DOWN,O=>{const L=new D.StandardKeyboardEvent(O);L.equals(14)||L.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),T.EventHelper.stop(O,!0)):(L.equals(13)||L.equals(12))&&(this.focusedItem=0,this.focusPrevious(),T.EventHelper.stop(O,!0))})),this._register((0,T.addDisposableListener)(this.domNode,T.EventType.MOUSE_OUT,O=>{let L=O.relatedTarget;(0,T.isAncestor)(L,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),O.stopPropagation())})),this._register((0,T.addDisposableListener)(this.actionsList,T.EventType.MOUSE_OVER,O=>{let L=O.target;if(!(!L||!(0,T.isAncestor)(L,this.actionsList)||L===this.actionsList)){for(;L.parentElement!==this.actionsList&&L.parentElement!==null;)L=L.parentElement;if(L.classList.contains("action-item")){const B=this.focusedItem;this.setFocusedItem(L),B!==this.focusedItem&&this.updateFocus()}}})),this._register(N.Gesture.addTarget(this.actionsList)),this._register((0,T.addDisposableListener)(this.actionsList,N.EventType.Tap,O=>{let L=O.initialTarget;if(!(!L||!(0,T.isAncestor)(L,this.actionsList)||L===this.actionsList)){for(;L.parentElement!==this.actionsList&&L.parentElement!==null;)L=L.parentElement;if(L.classList.contains("action-item")){const B=this.focusedItem;this.setFocusedItem(L),B!==this.focusedItem&&this.updateFocus()}}}));let M={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new r.DomScrollableElement(F,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const R=this.scrollableElement.getDomNode();R.style.position="",this._register((0,T.addDisposableListener)(F,N.EventType.Change,O=>{T.EventHelper.stop(O,!0);const L=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:L-O.translationY})})),this._register((0,T.addDisposableListener)(R,T.EventType.MOUSE_UP,O=>{O.preventDefault()})),F.style.maxHeight=`${Math.max(10,window.innerHeight-k.getBoundingClientRect().top-35)}px`,A=A.filter(O=>{var L;return((L=P.submenuIds)===null||L===void 0?void 0:L.has(O.id))?(console.warn(`Found submenu cycle: ${O.id}`),!1):!0}),this.push(A,{icon:!0,label:!0,isMenu:!0}),k.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(O=>!(O instanceof v)).forEach((O,L,B)=>{O.updatePositionInSet(L+1,B.length)})}initializeStyleSheet(k){(0,T.isInShadowDOM)(k)?(this.styleSheet=(0,T.createStyleSheet)(k),this.styleSheet.textContent=E):(w.globalStyleSheet||(w.globalStyleSheet=(0,T.createStyleSheet)(),w.globalStyleSheet.textContent=E),this.styleSheet=w.globalStyleSheet)}style(k){const A=this.getContainer(),P=k.foregroundColor?`${k.foregroundColor}`:"",F=k.backgroundColor?`${k.backgroundColor}`:"",M=k.borderColor?`1px solid ${k.borderColor}`:"",R=k.shadowColor?`0 2px 4px ${k.shadowColor}`:"";A.style.border=M,this.domNode.style.color=P,this.domNode.style.backgroundColor=F,A.style.boxShadow=R,this.viewItems&&this.viewItems.forEach(O=>{(O instanceof _||O instanceof v)&&O.style(k)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(k){const A=this.focusedItem;this.setFocusedItem(k),A!==this.focusedItem&&this.updateFocus()}setFocusedItem(k){for(let A=0;A<this.actionsList.children.length;A++){let P=this.actionsList.children[A];if(k===P){this.focusedItem=A;break}}}updateFocus(k){super.updateFocus(k,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(k,A,P){if(k instanceof o.Separator)return new v(A.context,k,{icon:!0});if(k instanceof o.SubmenuAction){const F=new C(k,k.actions,P,Object.assign(Object.assign({},A),{submenuIds:new Set([...A.submenuIds||[],k.id])}));if(A.enableMnemonics){const M=F.getMnemonic();if(M&&F.isEnabled()){let R=[];this.mnemonics.has(M)&&(R=this.mnemonics.get(M)),R.push(F),this.mnemonics.set(M,R)}}return F}else{const F={enableMnemonics:A.enableMnemonics,useEventAsContext:A.useEventAsContext};if(A.getKeyBinding){const R=A.getKeyBinding(k);if(R){const O=R.getLabel();O&&(F.keybinding=O)}}const M=new _(A.context,k,F);if(A.enableMnemonics){const R=M.getMnemonic();if(R&&M.isEnabled()){let O=[];this.mnemonics.has(R)&&(O=this.mnemonics.get(R)),O.push(M),this.mnemonics.set(R,O)}}return M}}}e.Menu=w;class _ extends b.BaseActionViewItem{constructor(k,A,P={}){if(P.isMenu=!0,super(A,A,P),this.options=P,this.options.icon=P.icon!==void 0?P.icon:!1,this.options.label=P.label!==void 0?P.label:!0,this.cssClass="",this.options.label&&P.enableMnemonics){let F=this.getAction().label;if(F){let M=e.MENU_MNEMONIC_REGEX.exec(F);M&&(this.mnemonic=(M[1]?M[1]:M[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new d.RunOnceScheduler(()=>{!this.element||(this._register((0,T.addDisposableListener)(this.element,T.EventType.MOUSE_UP,F=>{if(T.EventHelper.stop(F,!0),y.isFirefox){if(new S.StandardMouseEvent(F).rightButton)return;this.onClick(F)}else setTimeout(()=>{this.onClick(F)},0)})),this._register((0,T.addDisposableListener)(this.element,T.EventType.CONTEXT_MENU,F=>{T.EventHelper.stop(F,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(k){super.render(k),!!this.element&&(this.container=k,this.item=(0,T.append)(this.element,(0,T.$)("a.action-menu-item")),this._action.id===o.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,T.append)(this.item,(0,T.$)("span.menu-item-check"+l.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,T.append)(this.item,(0,T.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,T.append)(this.item,(0,T.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(k,A){this.item&&(this.item.setAttribute("aria-posinset",`${k}`),this.item.setAttribute("aria-setsize",`${A}`))}updateLabel(){if(!!this.label&&this.options.label){(0,T.clearNode)(this.label);let k=(0,u.stripIcons)(this.getAction().label);if(k){const A=m(k);this.options.enableMnemonics||(k=A),this.label.setAttribute("aria-label",A.replace(/&&/g,"&"));const P=e.MENU_MNEMONIC_REGEX.exec(k);if(P){k=a.escape(k),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let F=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(k);for(;F&&F[1];)F=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(k);const M=R=>R.replace(/&amp;&amp;/g,"&amp;");F?this.label.append(a.ltrim(M(k.substr(0,F.index))," "),(0,T.$)("u",{"aria-hidden":"true"},F[3]),a.rtrim(M(k.substr(F.index+F[0].length))," ")):this.label.innerText=M(k).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(P[1]?P[1]:P[3]).toLocaleLowerCase())}else this.label.innerText=k.replace(/&&/g,"&").trim()}}}updateTooltip(){let k=null;this.getAction().tooltip?k=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(k=this.getAction().label,this.options.keybinding&&(k=t.localize(0,null,k,this.options.keybinding))),k&&this.item&&(this.item.title=k)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){!this.item||(this.getAction().checked?(this.item.classList.add("checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(this.item.classList.remove("checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false")))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const k=this.element&&this.element.classList.contains("focused"),A=k&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,P=k&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,F=k&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=A?A.toString():"",this.item.style.backgroundColor=P?P.toString():""),this.check&&(this.check.style.color=A?A.toString():""),this.container&&(this.container.style.border=F)}style(k){this.menuStyle=k,this.applyStyle()}}class C extends _{constructor(k,A,P,F){super(k,k,F);this.submenuActions=A,this.parentData=P,this.submenuOptions=F,this.mysubmenu=null,this.submenuDisposables=this._register(new s.DisposableStore),this.mouseOver=!1,this.expandDirection=F&&F.expandDirection!==void 0?F.expandDirection:g.Right,this.showScheduler=new d.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new d.RunOnceScheduler(()=>{this.element&&!(0,T.isAncestor)((0,T.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(k){super.render(k),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,T.append)(this.item,(0,T.$)("span.submenu-indicator"+h.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,T.addDisposableListener)(this.element,T.EventType.KEY_UP,A=>{let P=new D.StandardKeyboardEvent(A);(P.equals(17)||P.equals(3))&&(T.EventHelper.stop(A,!0),this.createSubmenu(!0))})),this._register((0,T.addDisposableListener)(this.element,T.EventType.KEY_DOWN,A=>{let P=new D.StandardKeyboardEvent(A);(0,T.getActiveElement)()===this.item&&(P.equals(17)||P.equals(3))&&T.EventHelper.stop(A,!0)})),this._register((0,T.addDisposableListener)(this.element,T.EventType.MOUSE_OVER,A=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,T.addDisposableListener)(this.element,T.EventType.MOUSE_LEAVE,A=>{this.mouseOver=!1})),this._register((0,T.addDisposableListener)(this.element,T.EventType.FOCUS_OUT,A=>{this.element&&!(0,T.isAncestor)((0,T.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(k){T.EventHelper.stop(k,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(k){if(this.parentData.submenu&&(k||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(A){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(k,A,P,F){const M={top:0,left:0};return M.left=(0,f.layout)(k.width,A.width,{position:F===g.Right?0:1,offset:P.left,size:P.width}),M.left>=P.left&&M.left<P.left+P.width&&(P.left+10+A.width<=k.width&&(M.left=P.left+10),P.top+=10,P.height=0),M.top=(0,f.layout)(k.height,A.height,{position:0,offset:P.top,size:0}),M.top+A.height===P.top&&M.top+P.height+A.height<=k.height&&(M.top+=P.height),M}createSubmenu(k=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,T.append)(this.element,(0,T.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const A=getComputedStyle(this.parentData.parent.domNode),P=parseFloat(A.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new w(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new o.EmptySubmenuAction],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const F=this.element.getBoundingClientRect(),M={top:F.top-P,left:F.left,height:F.height+2*P,width:F.width},R=this.submenuContainer.getBoundingClientRect(),{top:O,left:L}=this.calculateSubmenuMenuLayout(new T.Dimension(window.innerWidth,window.innerHeight),T.Dimension.lift(R),M,this.expandDirection);this.submenuContainer.style.left=`${L-R.left}px`,this.submenuContainer.style.top=`${O-R.top}px`,this.submenuDisposables.add((0,T.addDisposableListener)(this.submenuContainer,T.EventType.KEY_UP,B=>{new D.StandardKeyboardEvent(B).equals(15)&&(T.EventHelper.stop(B,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,T.addDisposableListener)(this.submenuContainer,T.EventType.KEY_DOWN,B=>{new D.StandardKeyboardEvent(B).equals(15)&&T.EventHelper.stop(B,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(k),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(k){var A;this.item&&((A=this.item)===null||A===void 0||A.setAttribute("aria-expanded",k))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const A=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=A?`${A}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class v extends b.ActionViewItem{style(k){this.label&&(this.label.style.borderBottomColor=k.separatorColor?`${k.separatorColor}`:"")}}function m(I){const k=e.MENU_MNEMONIC_REGEX,A=k.exec(I);if(!A)return I;const P=!A[1];return I.replace(k,P?"$2$3":"").trim()}e.cleanMnemonic=m;let E=`
.monaco-menu {
	font-size: 13px;

}

${(0,i.formatRule)(l)}
${(0,i.formatRule)(h)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
	box-shadow: #DDD 0 6px 6px -6px inset;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
	box-shadow: #DDD 6px 0 6px -6px inset;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top.left {
	box-shadow: #DDD 6px 6px 6px -6px inset;
}

/* ---------- Default Style ---------- */

:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(100, 100, 100, .4);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(121, 121, 121, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(111, 195, 223, .6);
}

.monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(100, 100, 100, .7);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(111, 195, 223, .8);
}

.monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(0, 0, 0, .6);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(191, 191, 191, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(111, 195, 223, 1);
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {
	box-shadow: #000 6px 0 6px -6px inset;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {
	box-shadow: #000 6px 6px 6px -6px inset;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.left {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {
	box-shadow: none;
}
`}),define(te[453],ie([0,1,7,52,55,186,2,75,135]),function(q,e,y,N,T,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const b=y.$;class i extends S.Disposable{constructor(r){super();this.parent=r,this.onKeyDown=o=>y.addDisposableListener(this.inputBox.inputElement,y.EventType.KEY_DOWN,d=>{o(new N.StandardKeyboardEvent(d))}),this.onMouseDown=o=>y.addDisposableListener(this.inputBox.inputElement,y.EventType.MOUSE_DOWN,d=>{o(new T.StandardMouseEvent(d))}),this.onDidChange=o=>this.inputBox.onDidChange(o),this.container=y.append(this.parent,b(".quick-input-box")),this.inputBox=this._register(new D.InputBox(this.container,void 0))}get value(){return this.inputBox.value}set value(r){this.inputBox.value=r}select(r=null){this.inputBox.select(r)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(r){this.inputBox.setPlaceHolder(r)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(r){this.inputBox.setAriaLabel(r)}get password(){return this.inputBox.inputElement.type==="password"}set password(r){this.inputBox.inputElement.type=r?"password":"text"}setAttribute(r,o){this.inputBox.inputElement.setAttribute(r,o)}removeAttribute(r){this.inputBox.inputElement.removeAttribute(r)}showDecoration(r){r===p.default.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:r===p.default.Info?1:r===p.default.Warning?2:3,content:""})}stylesForType(r){return this.inputBox.stylesForType(r===p.default.Info?1:r===p.default.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(r){this.inputBox.style(r)}}e.QuickInputBox=i}),define(te[454],ie([4,5]),function(q,e){return q.create("vs/base/common/errorMessage",e)}),define(te[455],ie([0,1,19,20,454]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function D(i,f){return f&&(i.stack||i.stacktrace)?T.localize(0,null,p(i),S(i.stack)||S(i.stacktrace)):p(i)}function S(i){return Array.isArray(i)?i.join(`
`):i}function p(i){return typeof i.code=="string"&&typeof i.errno=="number"&&typeof i.syscall=="string"?T.localize(1,null,i.message):i.message||T.localize(2,null)}function b(i=null,f=!1){if(!i)return T.localize(3,null);if(Array.isArray(i)){const r=y.coalesce(i),o=b(r[0],f);return r.length>1?T.localize(4,null,o,r.length):o}if(N.isString(i))return i;if(i.detail){const r=i.detail;if(r.error)return D(r.error,f);if(r.exception)return D(r.exception,f)}return i.stack?D(i,f):i.message?i.message:T.localize(5,null)}e.toErrorMessage=b}),define(te[456],ie([4,5]),function(q,e){return q.create("vs/base/common/keybindingLabels",e)}),define(te[187],ie([0,1,456]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class N{constructor(S,p,b=p){this.modifierLabels=[null],this.modifierLabels[2]=S,this.modifierLabels[1]=p,this.modifierLabels[3]=b}toLabel(S,p,b){if(p.length===0)return null;const i=[];for(let f=0,r=p.length;f<r;f++){const o=p[f],d=b(o);if(d===null)return null;i[f]=T(o,d,this.modifierLabels[S])}return i.join(" ")}}e.ModifierLabelProvider=N,e.UILabelProvider=new N({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:y.localize(0,null),shiftKey:y.localize(1,null),altKey:y.localize(2,null),metaKey:y.localize(3,null),separator:"+"},{ctrlKey:y.localize(4,null),shiftKey:y.localize(5,null),altKey:y.localize(6,null),metaKey:y.localize(7,null),separator:"+"}),e.AriaLabelProvider=new N({ctrlKey:y.localize(8,null),shiftKey:y.localize(9,null),altKey:y.localize(10,null),metaKey:y.localize(11,null),separator:"+"},{ctrlKey:y.localize(12,null),shiftKey:y.localize(13,null),altKey:y.localize(14,null),metaKey:y.localize(15,null),separator:"+"},{ctrlKey:y.localize(16,null),shiftKey:y.localize(17,null),altKey:y.localize(18,null),metaKey:y.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new N({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function T(D,S,p){if(S===null)return"";const b=[];return D.ctrlKey&&b.push(p.ctrlKey),D.shiftKey&&b.push(p.shiftKey),D.altKey&&b.push(p.altKey),D.metaKey&&b.push(p.metaKey),S!==""&&b.push(S),b.join(p.separator)}}),define(te[457],ie([0,1,7,187,37,442,323]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=void 0;const S=y.$;class p{constructor(i,f,r){this.os=f,this.keyElements=new Set,this.options=r||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=y.append(i,S(".monaco-keybinding")),this.didEverRender=!1,i.appendChild(this.domNode)}get element(){return this.domNode}set(i,f){this.didEverRender&&this.keybinding===i&&p.areSame(this.matches,f)||(this.keybinding=i,this.matches=f,this.render())}render(){if(this.clear(),this.keybinding){let[i,f]=this.keybinding.getParts();i&&this.renderPart(this.domNode,i,this.matches?this.matches.firstPart:null),f&&(y.append(this.domNode,S("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,f,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){y.clearNode(this.domNode),this.keyElements.clear()}renderPart(i,f,r){const o=N.UILabelProvider.modifierLabels[this.os];f.ctrlKey&&this.renderKey(i,o.ctrlKey,Boolean(r==null?void 0:r.ctrlKey),o.separator),f.shiftKey&&this.renderKey(i,o.shiftKey,Boolean(r==null?void 0:r.shiftKey),o.separator),f.altKey&&this.renderKey(i,o.altKey,Boolean(r==null?void 0:r.altKey),o.separator),f.metaKey&&this.renderKey(i,o.metaKey,Boolean(r==null?void 0:r.metaKey),o.separator);const d=f.keyLabel;d&&this.renderKey(i,d,Boolean(r==null?void 0:r.keyCode),"")}renderKey(i,f,r,o){y.append(i,this.createKeyElement(f,r?".highlight":"")),o&&y.append(i,S("span.monaco-keybinding-key-separator",void 0,o))}renderUnbound(i){y.append(i,this.createKeyElement((0,D.localize)(0,null)))}createKeyElement(i,f=""){const r=S("span.monaco-keybinding-key"+f,void 0,i);return this.keyElements.add(r),r}style(i){this.labelBackground=i.keybindingLabelBackground,this.labelForeground=i.keybindingLabelForeground,this.labelBorder=i.keybindingLabelBorder,this.labelBottomBorder=i.keybindingLabelBottomBorder,this.labelShadow=i.keybindingLabelShadow,this.applyStyles()}applyStyles(){var i;if(this.element){for(const f of this.keyElements)this.labelBackground&&(f.style.backgroundColor=(i=this.labelBackground)===null||i===void 0?void 0:i.toString()),this.labelBorder&&(f.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(f.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(f.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(i,f){return i===f||!i&&!f?!0:!!i&&!!f&&(0,T.equals)(i.firstPart,f.firstPart)&&(0,T.equals)(i.chordPart,f.chordPart)}}e.KeybindingLabel=p}),define(te[458],ie([4,5]),function(q,e){return q.create("vs/base/parts/quickinput/browser/quickInput",e)}),define(te[459],ie([4,5]),function(q,e){return q.create("vs/base/parts/quickinput/browser/quickInputList",e)}),define(te[460],ie([0,1,7,52,86,164,184,457,51,19,27,301,91,6,106,2,17,20,220,459,135]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const l=y.$;class h{constructor(I){this.hidden=!1,this._onChecked=new d.Emitter,this.onChecked=this._onChecked.event,Object.assign(this,I)}get checked(){return!!this._checked}set checked(I){I!==this._checked&&(this._checked=I,this._onChecked.fire(I))}dispose(){this._onChecked.dispose()}}class g{get templateId(){return g.ID}renderTemplate(I){const k=Object.create(null);k.toDisposeElement=[],k.toDisposeTemplate=[],k.entry=y.append(I,l(".quick-input-list-entry"));const A=y.append(k.entry,l("label.quick-input-list-label"));k.toDisposeTemplate.push(y.addStandardDisposableListener(A,y.EventType.CLICK,L=>{k.checkbox.offsetParent||L.preventDefault()})),k.checkbox=y.append(A,l("input.quick-input-list-checkbox")),k.checkbox.type="checkbox",k.toDisposeTemplate.push(y.addStandardDisposableListener(k.checkbox,y.EventType.CHANGE,L=>{k.element.checked=k.checkbox.checked}));const P=y.append(A,l(".quick-input-list-rows")),F=y.append(P,l(".quick-input-list-row")),M=y.append(P,l(".quick-input-list-row"));k.label=new S.IconLabel(F,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const R=y.append(F,l(".quick-input-list-entry-keybinding"));k.keybinding=new p.KeybindingLabel(R,s.OS);const O=y.append(M,l(".quick-input-list-label-meta"));return k.detail=new D.HighlightedLabel(O,!0),k.separator=y.append(k.entry,l(".quick-input-list-separator")),k.actionBar=new T.ActionBar(k.entry),k.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),k.toDisposeTemplate.push(k.actionBar),k}renderElement(I,k,A){A.toDisposeElement=(0,u.dispose)(A.toDisposeElement),A.element=I,A.checkbox.checked=I.checked,A.toDisposeElement.push(I.onChecked(L=>A.checkbox.checked=L));const{labelHighlights:P,descriptionHighlights:F,detailHighlights:M}=I,R=Object.create(null);R.matches=P||[],R.descriptionTitle=I.saneDescription,R.descriptionMatches=F||[],R.extraClasses=I.item.iconClasses,R.italic=I.item.italic,R.strikethrough=I.item.strikethrough,A.label.setLabel(I.saneLabel,I.saneDescription,R),A.keybinding.set(I.item.keybinding),A.detail.set(I.saneDetail,M),I.separator&&I.separator.label?(A.separator.textContent=I.separator.label,A.separator.style.display=""):A.separator.style.display="none",A.entry.classList.toggle("quick-input-list-separator-border",!!I.separator),A.actionBar.clear();const O=I.item.buttons;O&&O.length?(A.actionBar.push(O.map((L,B)=>{let z=L.iconClass||(L.iconPath?(0,a.getIconClass)(L.iconPath):void 0);L.alwaysVisible&&(z=z?`${z} always-visible`:"always-visible");const $=new b.Action(`id-${B}`,"",z,!0,()=>Me(this,void 0,void 0,function*(){I.fireButtonTriggered({button:L,item:I.item})}));return $.tooltip=L.tooltip||"",$}),{icon:!0,label:!1}),A.entry.classList.add("has-actions")):A.entry.classList.remove("has-actions")}disposeElement(I,k,A){A.toDisposeElement=(0,u.dispose)(A.toDisposeElement)}disposeTemplate(I){I.toDisposeElement=(0,u.dispose)(I.toDisposeElement),I.toDisposeTemplate=(0,u.dispose)(I.toDisposeTemplate)}}g.ID="listelement";class w{getHeight(I){return I.saneDetail?44:22}getTemplateId(I){return g.ID}}var _;(function(E){E[E.First=1]="First",E[E.Second=2]="Second",E[E.Last=3]="Last",E[E.Next=4]="Next",E[E.Previous=5]="Previous",E[E.NextPage=6]="NextPage",E[E.PreviousPage=7]="PreviousPage"})(_=e.QuickInputListFocus||(e.QuickInputListFocus={}));class C{constructor(I,k,A){this.parent=I,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new d.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new d.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new d.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new d.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new d.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new d.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new d.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=k,this.container=y.append(this.parent,l(".quick-input-list"));const P=new w,F=new m;this.list=A.createList("QuickInput",this.container,P,[new g],{identityProvider:{getId:M=>M.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:F}),this.list.getHTMLElement().id=k,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(M=>{const R=new N.StandardKeyboardEvent(M);switch(R.keyCode){case 10:this.toggleCheckbox();break;case 31:(s.isMacintosh?M.metaKey:M.ctrlKey)&&this.list.setFocus((0,i.range)(this.list.length));break;case 16:const O=this.list.getFocus();O.length===1&&O[0]===0&&this._onLeave.fire();break;case 18:const L=this.list.getFocus();L.length===1&&L[0]===this.list.length-1&&this._onLeave.fire();break}this._onKeyDown.fire(R)})),this.disposables.push(this.list.onMouseDown(M=>{M.browserEvent.button!==2&&M.browserEvent.preventDefault()})),this.disposables.push(y.addDisposableListener(this.container,y.EventType.CLICK,M=>{(M.x||M.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(M=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(M=>{typeof M.index=="number"&&(M.browserEvent.preventDefault(),this.list.setSelection([M.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return d.Event.map(this.list.onDidChangeFocus,I=>I.elements.map(k=>k.item))}get onDidChangeSelection(){return d.Event.map(this.list.onDidChangeSelection,I=>({items:I.elements.map(k=>k.item),event:I.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(I){this.list.scrollTop=I}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(I,k=!0){for(let A=0,P=I.length;A<P;A++){const F=I[A];if(!F.hidden)if(F.checked)k=!0;else return!1}return k}getCheckedCount(){let I=0;const k=this.elements;for(let A=0,P=k.length;A<P;A++)k[A].checked&&I++;return I}getVisibleCount(){let I=0;const k=this.elements;for(let A=0,P=k.length;A<P;A++)k[A].hidden||I++;return I}setAllVisibleChecked(I){try{this._fireCheckedEvents=!1,this.elements.forEach(k=>{k.hidden||(k.checked=I)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(I){this.elementDisposables=(0,u.dispose)(this.elementDisposables);const k=A=>this.fireButtonTriggered(A);this.inputElements=I,this.elements=I.reduce((A,P,F)=>{var M,R,O;if(P.type!=="separator"){const L=F&&I[F-1],B=P.label&&P.label.replace(/\r?\n/g," "),z=P.meta&&P.meta.replace(/\r?\n/g," "),$=P.description&&P.description.replace(/\r?\n/g," "),j=P.detail&&P.detail.replace(/\r?\n/g," "),X=P.ariaLabel||[B,$,j].map(Q=>(0,f.getCodiconAriaLabel)(Q)).filter(Q=>!!Q).join(", ");A.push(new h({index:F,item:P,saneLabel:B,saneMeta:z,saneAriaLabel:X,saneDescription:$,saneDetail:j,labelHighlights:(M=P.highlights)===null||M===void 0?void 0:M.label,descriptionHighlights:(R=P.highlights)===null||R===void 0?void 0:R.description,detailHighlights:(O=P.highlights)===null||O===void 0?void 0:O.detail,checked:!1,separator:L&&L.type==="separator"?L:void 0,fireButtonTriggered:k}))}return A},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(A=>A.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((A,P,F)=>(A.set(P.item,F),A),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(I=>I.item)}setFocusedElements(I){if(this.list.setFocus(I.filter(k=>this.elementsToIndexes.has(k)).map(k=>this.elementsToIndexes.get(k))),I.length>0){const k=this.list.getFocus()[0];typeof k=="number"&&this.list.reveal(k)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(I){this.list.setSelection(I.filter(k=>this.elementsToIndexes.has(k)).map(k=>this.elementsToIndexes.get(k)))}getCheckedElements(){return this.elements.filter(I=>I.checked).map(I=>I.item)}setCheckedElements(I){try{this._fireCheckedEvents=!1;const k=new Set;for(const A of I)k.add(A);for(const A of this.elements)A.checked=k.has(A.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(I){this.list.getHTMLElement().style.pointerEvents=I?"":"none"}focus(I){if(!this.list.length)return;switch(I===_.Next&&this.list.getFocus()[0]===this.list.length-1&&(I=_.First),I===_.Previous&&this.list.getFocus()[0]===0&&(I=_.Last),I===_.Second&&this.list.length<2&&(I=_.First),I){case _.First:this.list.focusFirst();break;case _.Second:this.list.focusNth(1);break;case _.Last:this.list.focusLast();break;case _.Next:this.list.focusNext();break;case _.Previous:this.list.focusPrevious();break;case _.NextPage:this.list.focusNextPage();break;case _.PreviousPage:this.list.focusPreviousPage();break}const k=this.list.getFocus()[0];typeof k=="number"&&this.list.reveal(k)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(I){this.list.getHTMLElement().style.maxHeight=I?`calc(${Math.floor(I/44)*44}px)`:"",this.list.layout()}filter(I){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(I=I.trim(),!I||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(A=>{A.labelHighlights=void 0,A.descriptionHighlights=void 0,A.detailHighlights=void 0,A.hidden=!1;const P=A.index&&this.inputElements[A.index-1];A.separator=P&&P.type==="separator"?P:void 0});else{let A;this.elements.forEach(P=>{const F=this.matchOnLabel?(0,n.withNullAsUndefined)((0,c.matchesFuzzyIconAware)(I,(0,c.parseLabelWithIcons)(P.saneLabel))):void 0,M=this.matchOnDescription?(0,n.withNullAsUndefined)((0,c.matchesFuzzyIconAware)(I,(0,c.parseLabelWithIcons)(P.saneDescription||""))):void 0,R=this.matchOnDetail?(0,n.withNullAsUndefined)((0,c.matchesFuzzyIconAware)(I,(0,c.parseLabelWithIcons)(P.saneDetail||""))):void 0,O=this.matchOnMeta?(0,n.withNullAsUndefined)((0,c.matchesFuzzyIconAware)(I,(0,c.parseLabelWithIcons)(P.saneMeta||""))):void 0;if(F||M||R||O?(P.labelHighlights=F,P.descriptionHighlights=M,P.detailHighlights=R,P.hidden=!1):(P.labelHighlights=void 0,P.descriptionHighlights=void 0,P.detailHighlights=void 0,P.hidden=!P.item.alwaysShow),P.separator=void 0,!this.sortByLabel){const L=P.index&&this.inputElements[P.index-1];A=L&&L.type==="separator"?L:A,A&&!P.hidden&&(P.separator=A,A=void 0)}})}const k=this.elements.filter(A=>!A.hidden);if(this.sortByLabel&&I){const A=I.toLowerCase();k.sort((P,F)=>v(P,F,A))}return this.elementsToIndexes=k.reduce((A,P,F)=>(A.set(P.item,F),A),new Map),this.list.splice(0,this.list.length,k),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(k.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const I=this.list.getFocusedElements(),k=this.allVisibleChecked(I);for(const A of I)A.checked=!k}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(I){this.container.style.display=I?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,u.dispose)(this.elementDisposables),this.disposables=(0,u.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(I){this._onButtonTriggered.fire(I)}style(I){this.list.style(I)}}Fe([o.memoize],C.prototype,"onDidChangeFocus",null),Fe([o.memoize],C.prototype,"onDidChangeSelection",null),e.QuickInputList=C;function v(E,I,k){const A=E.labelHighlights||[],P=I.labelHighlights||[];return A.length&&!P.length?-1:!A.length&&P.length?1:A.length===0&&P.length===0?0:(0,r.compareAnything)(E.saneLabel,I.saneLabel,k)}class m{getWidgetAriaLabel(){return(0,t.localize)(0,null)}getAriaLabel(I){return I.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}}),define(te[461],ie([0,1,7,52,86,314,214,107,326,51,19,14,23,27,6,2,17,75,220,211,458,453,460,135]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const w=y.$,C={iconClass:(0,d.registerCodicon)("quick-input-back",d.Codicon.arrowLeft).classNames,tooltip:(0,l.localize)(0,null),handle:-1};class v extends u.Disposable{constructor(k){super();this.ui=k,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=v.noPromptMessage,this._severity=n.default.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new c.Emitter),this.onDidHideEmitter=this._register(new c.Emitter),this.onDisposeEmitter=this._register(new c.Emitter),this.visibleDisposables=this._register(new u.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(k){this._title=k,this.update()}get description(){return this._description}set description(k){this._description=k,this.update()}get step(){return this._steps}set step(k){this._steps=k,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(k){this._totalSteps=k,this.update()}get enabled(){return this._enabled}set enabled(k){this._enabled=k,this.update()}get contextKey(){return this._contextKey}set contextKey(k){this._contextKey=k,this.update()}get busy(){return this._busy}set busy(k){this._busy=k,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(k){const A=this._ignoreFocusOut!==k&&!s.isIOS;this._ignoreFocusOut=k&&!s.isIOS,A&&this.update()}get buttons(){return this._buttons}set buttons(k){this._buttons=k,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(k){this._validationMessage=k,this.update()}get severity(){return this._severity}set severity(k){this._severity=k,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(k=>{this.buttons.indexOf(k)!==-1&&this.onDidTriggerButtonEmitter.fire(k)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(k=t.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:k})}update(){if(!this.visible)return;const k=this.getTitle();k&&this.ui.title.textContent!==k?this.ui.title.textContent=k:!k&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const A=this.getDescription();if(this.ui.description1.textContent!==A&&(this.ui.description1.textContent=A),this.ui.description2.textContent!==A&&(this.ui.description2.textContent=A),this.busy&&!this.busyDelay&&(this.busyDelay=new r.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const F=this.buttons.filter(R=>R===C);this.ui.leftActionBar.push(F.map((R,O)=>{const L=new i.Action(`id-${O}`,"",R.iconClass||(0,a.getIconClass)(R.iconPath),!0,()=>Me(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(R)}));return L.tooltip=R.tooltip||"",L}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const M=this.buttons.filter(R=>R!==C);this.ui.rightActionBar.push(M.map((R,O)=>{const L=new i.Action(`id-${O}`,"",R.iconClass||(0,a.getIconClass)(R.iconPath),!0,()=>Me(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(R)}));return L.tooltip=R.tooltip||"",L}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const P=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==P&&(this._lastValidationMessage=P,y.reset(this.ui.message,...(0,p.renderLabelWithIcons)(P))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,l.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(k){if(this.ui.inputBox.showDecoration(k),k!==n.default.Ignore){const A=this.ui.inputBox.stylesForType(k);this.ui.message.style.color=A.foreground?`${A.foreground}`:"",this.ui.message.style.backgroundColor=A.background?`${A.background}`:"",this.ui.message.style.border=A.border?`1px solid ${A.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}v.noPromptMessage=(0,l.localize)(1,null);class m extends v{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new c.Emitter),this.onWillAcceptEmitter=this._register(new c.Emitter),this.onDidAcceptEmitter=this._register(new c.Emitter),this.onDidCustomEmitter=this._register(new c.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?t.ItemActivation.NONE:t.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new c.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new c.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new c.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=k=>k,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(k){this._quickNavigate=k,this.update()}get value(){return this._value}set value(k){this._value!==k&&(this._value=k||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(k){this._ariaLabel=k,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(k){this._placeholder=k,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(k){this.ui.list.scrollTop=k}set items(k){this._items=k,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(k){this._canSelectMany=k,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(k){this._canAcceptInBackground=k}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(k){this._matchOnDescription=k,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(k){this._matchOnDetail=k,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(k){this._matchOnLabel=k,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(k){this._sortByLabel=k,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(k){this._autoFocusOnList=k,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(k){this._keepScrollPosition=k}get itemActivation(){return this._itemActivation}set itemActivation(k){this._itemActivation=k}get activeItems(){return this._activeItems}set activeItems(k){this._activeItems=k,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(k){this._selectedItems=k,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?t.NO_KEY_MODS:this.ui.keyMods}set valueSelection(k){this._valueSelection=k,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(k){this._customButton=k,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(k){this._customButtonLabel=k,this.update()}get customHover(){return this._customButtonHover}set customHover(k){this._customButtonHover=k,this.update()}get ok(){return this._ok}set ok(k){this._ok=k,this.update()}get hideInput(){return!!this._hideInput}set hideInput(k){this._hideInput=k,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(g.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(k=>{if(k===this.value)return;this._value=k,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(k)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(k=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(k=>{switch(k.keyCode){case 18:this.ui.list.focus(g.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(k,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(g.QuickInputListFocus.Previous):this.ui.list.focus(g.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(k,!0);break;case 12:this.ui.list.focus(g.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(k,!0);break;case 11:this.ui.list.focus(g.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(k,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(k.ctrlKey||k.metaKey)&&!k.shiftKey&&!k.altKey&&(this.ui.list.focus(g.QuickInputListFocus.First),y.EventHelper.stop(k,!0));break;case 13:(k.ctrlKey||k.metaKey)&&!k.shiftKey&&!k.altKey&&(this.ui.list.focus(g.QuickInputListFocus.Last),y.EventHelper.stop(k,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{!this.canSelectMany&&this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(k=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,f.equals)(k,this._activeItems,(A,P)=>A===P)||(this._activeItems=k,this.onDidChangeActiveEmitter.fire(k))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:k,event:A})=>{if(this.canSelectMany){k.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,f.equals)(k,this._selectedItems,(P,F)=>P===F)||(this._selectedItems=k,this.onDidChangeSelectionEmitter.fire(k),k.length&&this.handleAccept(A instanceof MouseEvent&&A.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(k=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,f.equals)(k,this._selectedItems,(A,P)=>A===P)||(this._selectedItems=k,this.onDidChangeSelectionEmitter.fire(k))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(k=>this.onDidTriggerItemButtonEmitter.fire(k))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(k){let A=!1;this.onWillAcceptEmitter.fire({veto:()=>A=!0}),A||this.onDidAcceptEmitter.fire({inBackground:k})}registerQuickNavigation(){return y.addDisposableListener(this.ui.container,y.EventType.KEY_UP,k=>{if(this.canSelectMany||!this._quickNavigate)return;const A=new N.StandardKeyboardEvent(k),P=A.keyCode;this._quickNavigate.keybindings.some(R=>{const[O,L]=R.getParts();return L?!1:O.shiftKey&&P===4?!(A.ctrlKey||A.altKey||A.metaKey):!!(O.altKey&&P===6||O.ctrlKey&&P===5||O.metaKey&&P===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const k=this.keepScrollPosition?this.scrollTop:0,A=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",A&&!this.description);const P={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!A,progressBar:!A,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(P),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const F=this.ariaLabel||this.placeholder||m.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==F&&(this.ui.inputBox.ariaLabel=F),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case t.ItemActivation.NONE:this._itemActivation=t.ItemActivation.FIRST;break;case t.ItemActivation.SECOND:this.ui.list.focus(g.QuickInputListFocus.Second),this._itemActivation=t.ItemActivation.FIRST;break;case t.ItemActivation.LAST:this.ui.list.focus(g.QuickInputListFocus.Last),this._itemActivation=t.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),P.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(g.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=k)}}m.DEFAULT_ARIA_LABEL=(0,l.localize)(3,null);class E extends u.Disposable{constructor(k){super();this.options=k,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new c.Emitter),this.onDidCustomEmitter=this._register(new c.Emitter),this.onDidTriggerButtonEmitter=this._register(new c.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new c.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new c.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=k.idPrefix,this.parentElement=k.container,this.styles=k.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const k=A=>{this.keyMods.ctrlCmd=A.ctrlKey||A.metaKey,this.keyMods.alt=A.altKey};this._register(y.addDisposableListener(window,y.EventType.KEY_DOWN,k,!0)),this._register(y.addDisposableListener(window,y.EventType.KEY_UP,k,!0)),this._register(y.addDisposableListener(window,y.EventType.MOUSE_DOWN,k,!0))}getUI(){if(this.ui)return this.ui;const k=y.append(this.parentElement,w(".quick-input-widget.show-file-icons"));k.tabIndex=-1,k.style.display="none";const A=y.createStyleSheet(k),P=y.append(k,w(".quick-input-titlebar")),F=this._register(new T.ActionBar(P));F.domNode.classList.add("quick-input-left-action-bar");const M=y.append(P,w(".quick-input-title")),R=this._register(new T.ActionBar(P));R.domNode.classList.add("quick-input-right-action-bar");const O=y.append(k,w(".quick-input-description")),L=y.append(k,w(".quick-input-header")),B=y.append(L,w("input.quick-input-check-all"));B.type="checkbox",this._register(y.addStandardDisposableListener(B,y.EventType.CHANGE,ge=>{const W=B.checked;ne.setAllVisibleChecked(W)})),this._register(y.addDisposableListener(B,y.EventType.CLICK,ge=>{(ge.x||ge.y)&&X.setFocus()}));const z=y.append(L,w(".quick-input-description")),$=y.append(L,w(".quick-input-and-message")),j=y.append($,w(".quick-input-filter")),X=this._register(new h.QuickInputBox(j));X.setAttribute("aria-describedby",`${this.idPrefix}message`);const Q=y.append(j,w(".quick-input-visible-count"));Q.setAttribute("aria-live","polite"),Q.setAttribute("aria-atomic","true");const Y=new S.CountBadge(Q,{countFormat:(0,l.localize)(4,null)}),oe=y.append(j,w(".quick-input-count"));oe.setAttribute("aria-live","polite");const se=new S.CountBadge(oe,{countFormat:(0,l.localize)(5,null)}),K=y.append(L,w(".quick-input-action")),x=new D.Button(K);x.label=(0,l.localize)(6,null),this._register(x.onDidClick(ge=>{this.onDidAcceptEmitter.fire()}));const U=y.append(L,w(".quick-input-action")),H=new D.Button(U);H.label=(0,l.localize)(7,null),this._register(H.onDidClick(ge=>{this.onDidCustomEmitter.fire()}));const V=y.append($,w(`#${this.idPrefix}message.quick-input-message`)),ne=this._register(new g.QuickInputList(k,this.idPrefix+"list",this.options));this._register(ne.onChangedAllVisibleChecked(ge=>{B.checked=ge})),this._register(ne.onChangedVisibleCount(ge=>{Y.setCount(ge)})),this._register(ne.onChangedCheckedCount(ge=>{se.setCount(ge)})),this._register(ne.onLeave(()=>{setTimeout(()=>{X.setFocus(),this.controller instanceof m&&this.controller.canSelectMany&&ne.clearFocus()},0)})),this._register(ne.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const ue=new b.ProgressBar(k);ue.getContainer().classList.add("quick-input-progress");const pe=y.trackFocus(k);return this._register(pe),this._register(y.addDisposableListener(k,y.EventType.FOCUS,ge=>{this.previousFocusElement=ge.relatedTarget instanceof HTMLElement?ge.relatedTarget:void 0},!0)),this._register(pe.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(t.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(y.addDisposableListener(k,y.EventType.FOCUS,ge=>{X.setFocus()})),this._register(y.addDisposableListener(k,y.EventType.KEY_DOWN,ge=>{const W=new N.StandardKeyboardEvent(ge);switch(W.keyCode){case 3:y.EventHelper.stop(ge,!0),this.onDidAcceptEmitter.fire();break;case 9:y.EventHelper.stop(ge,!0),this.hide(t.QuickInputHideReason.Gesture);break;case 2:if(!W.altKey&&!W.ctrlKey&&!W.metaKey){const G=[".action-label.codicon"];k.classList.contains("show-checkboxes")?G.push("input"):G.push("input[type=text]"),this.getUI().list.isDisplayed()&&G.push(".monaco-list");const re=k.querySelectorAll(G.join(", "));W.shiftKey&&W.target===re[0]?(y.EventHelper.stop(ge,!0),re[re.length-1].focus()):!W.shiftKey&&W.target===re[re.length-1]&&(y.EventHelper.stop(ge,!0),re[0].focus())}break}})),this.ui={container:k,styleSheet:A,leftActionBar:F,titleBar:P,title:M,description1:O,description2:z,rightActionBar:R,checkAll:B,filterContainer:j,inputBox:X,visibleCountContainer:Q,visibleCount:Y,countContainer:oe,count:se,okContainer:K,ok:x,message:V,customButtonContainer:U,customButton:H,list:ne,progressBar:ue,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:ge=>this.show(ge),hide:()=>this.hide(),setVisibilities:ge=>this.setVisibilities(ge),setComboboxAccessibility:ge=>this.setComboboxAccessibility(ge),setEnabled:ge=>this.setEnabled(ge),setContextKey:ge=>this.options.setContextKey(ge)},this.updateStyles(),this.ui}pick(k,A={},P=o.CancellationToken.None){return new Promise((F,M)=>{let R=z=>{R=F,A.onKeyMods&&A.onKeyMods(O.keyMods),F(z)};if(P.isCancellationRequested){R(void 0);return}const O=this.createQuickPick();let L;const B=[O,O.onDidAccept(()=>{if(O.canSelectMany)R(O.selectedItems.slice()),O.hide();else{const z=O.activeItems[0];z&&(R(z),O.hide())}}),O.onDidChangeActive(z=>{const $=z[0];$&&A.onDidFocus&&A.onDidFocus($)}),O.onDidChangeSelection(z=>{if(!O.canSelectMany){const $=z[0];$&&(R($),O.hide())}}),O.onDidTriggerItemButton(z=>A.onDidTriggerItemButton&&A.onDidTriggerItemButton(Object.assign(Object.assign({},z),{removeItem:()=>{const $=O.items.indexOf(z.item);if($!==-1){const j=O.items.slice(),X=j.splice($,1),Q=O.activeItems.filter(oe=>oe!==X[0]),Y=O.keepScrollPosition;O.keepScrollPosition=!0,O.items=j,Q&&(O.activeItems=Q),O.keepScrollPosition=Y}}}))),O.onDidChangeValue(z=>{L&&!z&&(O.activeItems.length!==1||O.activeItems[0]!==L)&&(O.activeItems=[L])}),P.onCancellationRequested(()=>{O.hide()}),O.onDidHide(()=>{(0,u.dispose)(B),R(void 0)})];O.title=A.title,O.canSelectMany=!!A.canPickMany,O.placeholder=A.placeHolder,O.ignoreFocusOut=!!A.ignoreFocusLost,O.matchOnDescription=!!A.matchOnDescription,O.matchOnDetail=!!A.matchOnDetail,O.matchOnLabel=A.matchOnLabel===void 0||A.matchOnLabel,O.autoFocusOnList=A.autoFocusOnList===void 0||A.autoFocusOnList,O.quickNavigate=A.quickNavigate,O.contextKey=A.contextKey,O.busy=!0,Promise.all([k,A.activeItem]).then(([z,$])=>{L=$,O.busy=!1,O.items=z,O.canSelectMany&&(O.selectedItems=z.filter(j=>j.type!=="separator"&&j.picked)),L&&(O.activeItems=[L])}),O.show(),Promise.resolve(k).then(void 0,z=>{M(z),O.hide()})})}createQuickPick(){const k=this.getUI();return new m(k)}show(k){const A=this.getUI();this.onShowEmitter.fire();const P=this.controller;this.controller=k,P&&P.didHide(),this.setEnabled(!0),A.leftActionBar.clear(),A.title.textContent="",A.description1.textContent="",A.description2.textContent="",A.rightActionBar.clear(),A.checkAll.checked=!1,A.inputBox.placeholder="",A.inputBox.password=!1,A.inputBox.showDecoration(n.default.Ignore),A.visibleCount.setCount(0),A.count.setCount(0),y.reset(A.message),A.progressBar.stop(),A.list.setElements([]),A.list.matchOnDescription=!1,A.list.matchOnDetail=!1,A.list.matchOnLabel=!0,A.list.sortByLabel=!0,A.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),A.inputBox.ariaLabel="";const F=this.options.backKeybindingLabel();C.tooltip=F?(0,l.localize)(8,null,F):(0,l.localize)(9,null),A.container.style.display="",this.updateLayout(),A.inputBox.setFocus()}setVisibilities(k){const A=this.getUI();A.title.style.display=k.title?"":"none",A.description1.style.display=k.description&&(k.inputBox||k.checkAll)?"":"none",A.description2.style.display=k.description&&!(k.inputBox||k.checkAll)?"":"none",A.checkAll.style.display=k.checkAll?"":"none",A.filterContainer.style.display=k.inputBox?"":"none",A.visibleCountContainer.style.display=k.visibleCount?"":"none",A.countContainer.style.display=k.count?"":"none",A.okContainer.style.display=k.ok?"":"none",A.customButtonContainer.style.display=k.customButton?"":"none",A.message.style.display=k.message?"":"none",A.progressBar.getContainer().style.display=k.progressBar?"":"none",A.list.display(!!k.list),A.container.classList[k.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(k){if(k!==this.comboboxAccessibility){const A=this.getUI();this.comboboxAccessibility=k,this.comboboxAccessibility?(A.inputBox.setAttribute("role","combobox"),A.inputBox.setAttribute("aria-haspopup","true"),A.inputBox.setAttribute("aria-autocomplete","list"),A.inputBox.setAttribute("aria-activedescendant",A.list.getActiveDescendant()||"")):(A.inputBox.removeAttribute("role"),A.inputBox.removeAttribute("aria-haspopup"),A.inputBox.removeAttribute("aria-autocomplete"),A.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(k){if(k!==this.enabled){this.enabled=k;for(const A of this.getUI().leftActionBar.viewItems)A.getAction().enabled=k;for(const A of this.getUI().rightActionBar.viewItems)A.getAction().enabled=k;this.getUI().checkAll.disabled=!k,this.getUI().ok.enabled=k,this.getUI().list.enabled=k}}hide(k){var A;const P=this.controller;if(P){const F=!((A=this.ui)===null||A===void 0?void 0:A.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",F||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),P.didHide(k)}}layout(k,A){this.dimension=k,this.titleBarOffset=A,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const k=this.ui.container.style,A=Math.min(this.dimension.width*.62,E.MAX_WIDTH);k.width=A+"px",k.marginLeft="-"+A/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(k){this.styles=k,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:k,quickInputBackground:A,quickInputForeground:P,contrastBorder:F,widgetShadow:M}=this.styles.widget;this.ui.titleBar.style.backgroundColor=k?k.toString():"",this.ui.container.style.backgroundColor=A?A.toString():"",this.ui.container.style.color=P?P.toString():"",this.ui.container.style.border=F?`1px solid ${F}`:"",this.ui.container.style.boxShadow=M?`0 0 8px 2px ${M}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const R=[];this.styles.list.pickerGroupBorder&&R.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&R.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(R.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&R.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&R.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&R.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&R.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&R.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),R.push("}"));const O=R.join(`
`);O!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=O)}}}e.QuickInputController=E,E.MAX_WIDTH=600}),define(te[462],ie([4,5]),function(q,e){return q.create("vs/editor/browser/controller/coreCommands",e)}),define(te[463],ie([4,5]),function(q,e){return q.create("vs/editor/browser/controller/textAreaHandler",e)}),define(te[464],ie([4,5]),function(q,e){return q.create("vs/editor/browser/core/keybindingCancellation",e)}),define(te[465],ie([4,5]),function(q,e){return q.create("vs/editor/browser/editorExtensions",e)}),define(te[466],ie([4,5]),function(q,e){return q.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(te[467],ie([4,5]),function(q,e){return q.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(te[468],ie([4,5]),function(q,e){return q.create("vs/editor/browser/widget/diffReview",e)}),define(te[469],ie([4,5]),function(q,e){return q.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(te[470],ie([0,1,469,7,51,2,3,27]),function(q,e,y,N,T,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class b extends D.Disposable{constructor(f,r,o,d,c,u){super();this._viewZoneId=f,this._marginDomNode=r,this.editor=o,this.diff=d,this._contextMenuService=c,this._clipboardService=u,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=p.Codicon.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const s=o.getOption(58),n=o.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${s}px`,this._diffActions.style.lineHeight=`${s}px`,this._marginDomNode.appendChild(this._diffActions);const a=[];a.push(new T.Action("diff.clipboard.copyDeletedContent",d.originalEndLineNumber>d.modifiedStartLineNumber?y.localize(0,null):y.localize(1,null),void 0,!0,()=>Me(this,void 0,void 0,function*(){const w=new S.Range(d.originalStartLineNumber,1,d.originalEndLineNumber+1,1),_=d.originalModel.getValueInRange(w);yield this._clipboardService.writeText(_)})));let t=0,l;d.originalEndLineNumber>d.modifiedStartLineNumber&&(l=new T.Action("diff.clipboard.copyDeletedLineContent",y.localize(2,null,d.originalStartLineNumber),void 0,!0,()=>Me(this,void 0,void 0,function*(){const w=d.originalModel.getLineContent(d.originalStartLineNumber+t);yield this._clipboardService.writeText(w)})),a.push(l)),o.getOption(80)||a.push(new T.Action("diff.inline.revertChange",y.localize(3,null),void 0,!0,()=>Me(this,void 0,void 0,function*(){const w=new S.Range(d.originalStartLineNumber,1,d.originalEndLineNumber,d.originalModel.getLineMaxColumn(d.originalEndLineNumber)),_=d.originalModel.getValueInRange(w);if(d.modifiedEndLineNumber===0){const C=o.getModel().getLineMaxColumn(d.modifiedStartLineNumber);o.executeEdits("diffEditor",[{range:new S.Range(d.modifiedStartLineNumber,C,d.modifiedStartLineNumber,C),text:n+_}])}else{const C=o.getModel().getLineMaxColumn(d.modifiedEndLineNumber);o.executeEdits("diffEditor",[{range:new S.Range(d.modifiedStartLineNumber,1,d.modifiedEndLineNumber,C),text:_}])}})));const g=(w,_)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:w,y:_}),getActions:()=>(l&&(l.label=y.localize(4,null,d.originalStartLineNumber+t)),a),autoSelectFirstItem:!0})};this._register(N.addStandardDisposableListener(this._diffActions,"mousedown",w=>{const{top:_,height:C}=N.getDomNodePagePosition(this._diffActions);let v=Math.floor(s/3);w.preventDefault(),g(w.posx,_+C+v)})),this._register(o.onMouseMove(w=>{w.target.type===8||w.target.type===5?w.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,t=this._updateLightBulbPosition(this._marginDomNode,w.event.browserEvent.y,s)):this.visibility=!1:this.visibility=!1})),this._register(o.onMouseDown(w=>{!w.event.rightButton||(w.target.type===8||w.target.type===5)&&w.target.detail.viewZoneId===this._viewZoneId&&(w.event.preventDefault(),t=this._updateLightBulbPosition(this._marginDomNode,w.event.browserEvent.y,s),g(w.event.posx,w.event.posy+s))}))}get visibility(){return this._visibility}set visibility(f){this._visibility!==f&&(this._visibility=f,f?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(f,r,o){const{top:d}=N.getDomNodePagePosition(f),c=r-d,u=Math.floor(c/o),s=u*o;if(this._diffActions.style.top=`${s}px`,this.diff.viewLineCounts){let n=0;for(let a=0;a<this.diff.viewLineCounts.length;a++)if(n+=this.diff.viewLineCounts[a],u<n)return a}return u}}e.InlineDiffMargin=b}),define(te[471],ie([4,5]),function(q,e){return q.create("vs/editor/common/config/commonEditorConfig",e)}),define(te[472],ie([4,5]),function(q,e){return q.create("vs/editor/common/config/editorOptions",e)}),define(te[34],ie([0,1,472,17,139]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.clampedInt=e.boolean=e.ComputeOptionsMemory=e.ValidatedEditorOptions=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class D{constructor(J){this._values=J}hasChanged(J){return this._values[J]}}e.ConfigurationChangedEvent=D;class S{constructor(){this._values=[]}_read(J){return this._values[J]}get(J){return this._values[J]}_write(J,Z){this._values[J]=Z}}e.ValidatedEditorOptions=S;class p{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=p;class b{constructor(J,Z,le,he){this.id=J,this.name=Z,this.defaultValue=le,this.schema=he}compute(J,Z,le){return le}}class i{constructor(J,Z=null){this.schema=void 0,this.id=J,this.name="_never_",this.defaultValue=void 0,this.deps=Z}validate(J){return this.defaultValue}}class f{constructor(J,Z,le,he){this.id=J,this.name=Z,this.defaultValue=le,this.schema=he}validate(J){return typeof J=="undefined"?this.defaultValue:J}compute(J,Z,le){return le}}function r(ce,J){return typeof ce=="undefined"?J:ce==="false"?!1:Boolean(ce)}e.boolean=r;class o extends f{constructor(J,Z,le,he=void 0){typeof he!="undefined"&&(he.type="boolean",he.default=le),super(J,Z,le,he)}validate(J){return r(J,this.defaultValue)}}function d(ce,J,Z,le){if(typeof ce=="undefined")return J;let he=parseInt(ce,10);return isNaN(he)?J:(he=Math.max(Z,he),he=Math.min(le,he),he|0)}e.clampedInt=d;class c extends f{constructor(J,Z,le,he,ve,be=void 0){typeof be!="undefined"&&(be.type="integer",be.default=le,be.minimum=he,be.maximum=ve),super(J,Z,le,be),this.minimum=he,this.maximum=ve}static clampedInt(J,Z,le,he){return d(J,Z,le,he)}validate(J){return c.clampedInt(J,this.defaultValue,this.minimum,this.maximum)}}class u extends f{constructor(J,Z,le,he,ve){typeof ve!="undefined"&&(ve.type="number",ve.default=le),super(J,Z,le,ve),this.validationFn=he}static clamp(J,Z,le){return J<Z?Z:J>le?le:J}static float(J,Z){if(typeof J=="number")return J;if(typeof J=="undefined")return Z;const le=parseFloat(J);return isNaN(le)?Z:le}validate(J){return this.validationFn(u.float(J,this.defaultValue))}}class s extends f{static string(J,Z){return typeof J!="string"?Z:J}constructor(J,Z,le,he=void 0){typeof he!="undefined"&&(he.type="string",he.default=le),super(J,Z,le,he)}validate(J){return s.string(J,this.defaultValue)}}function n(ce,J,Z){return typeof ce!="string"||Z.indexOf(ce)===-1?J:ce}e.stringSet=n;class a extends f{constructor(J,Z,le,he,ve=void 0){typeof ve!="undefined"&&(ve.type="string",ve.enum=he,ve.default=le),super(J,Z,le,ve),this._allowedValues=he}validate(J){return n(J,this.defaultValue,this._allowedValues)}}class t extends b{constructor(J,Z,le,he,ve,be,we=void 0){typeof we!="undefined"&&(we.type="string",we.enum=ve,we.default=he),super(J,Z,le,we),this._allowedValues=ve,this._convert=be}validate(J){return typeof J!="string"?this.defaultValue:this._allowedValues.indexOf(J)===-1?this.defaultValue:this._convert(J)}}function l(ce){switch(ce){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class h extends b{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[y.localize(0,null),y.localize(1,null),y.localize(2,null)],default:"auto",description:y.localize(3,null)})}validate(J){switch(J){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(J,Z,le){return le===0?J.accessibilitySupport:le}}class g extends b{constructor(){const J={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",J,{"editor.comments.insertSpace":{type:"boolean",default:J.insertSpace,description:y.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:J.ignoreEmptyLines,description:y.localize(5,null)}})}validate(J){if(!J||typeof J!="object")return this.defaultValue;const Z=J;return{insertSpace:r(Z.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:r(Z.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function w(ce){switch(ce){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var _;(function(ce){ce[ce.Line=1]="Line",ce[ce.Block=2]="Block",ce[ce.Underline=3]="Underline",ce[ce.LineThin=4]="LineThin",ce[ce.BlockOutline=5]="BlockOutline",ce[ce.UnderlineThin=6]="UnderlineThin"})(_=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function C(ce){switch(ce){case"line":return _.Line;case"block":return _.Block;case"underline":return _.Underline;case"line-thin":return _.LineThin;case"block-outline":return _.BlockOutline;case"underline-thin":return _.UnderlineThin}}class v extends i{constructor(){super(126,[65,33])}compute(J,Z,le){const he=["monaco-editor"];return Z.get(33)&&he.push(Z.get(33)),J.extraEditorClassName&&he.push(J.extraEditorClassName),Z.get(65)==="default"?he.push("mouse-default"):Z.get(65)==="copy"&&he.push("mouse-copy"),Z.get(99)&&he.push("showUnused"),Z.get(124)&&he.push("showDeprecated"),he.join(" ")}}class m extends o{constructor(){super(32,"emptySelectionClipboard",!0,{description:y.localize(6,null)})}compute(J,Z,le){return le&&J.emptySelectionClipboard}}class E extends b{constructor(){const J={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",J,{"editor.find.cursorMoveOnType":{type:"boolean",default:J.cursorMoveOnType,description:y.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:J.seedSearchStringFromSelection,enumDescriptions:[y.localize(8,null),y.localize(9,null),y.localize(10,null)],description:y.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:J.autoFindInSelection,enumDescriptions:[y.localize(12,null),y.localize(13,null),y.localize(14,null)],description:y.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:J.globalFindClipboard,description:y.localize(16,null),included:N.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:J.addExtraSpaceOnTop,description:y.localize(17,null)},"editor.find.loop":{type:"boolean",default:J.loop,description:y.localize(18,null)}})}validate(J){if(!J||typeof J!="object")return this.defaultValue;const Z=J;return{cursorMoveOnType:r(Z.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof J.seedSearchStringFromSelection=="boolean"?J.seedSearchStringFromSelection?"always":"never":n(Z.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof J.autoFindInSelection=="boolean"?J.autoFindInSelection?"always":"never":n(Z.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:r(Z.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:r(Z.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:r(Z.loop,this.defaultValue.loop)}}}class I extends b{constructor(){super(44,"fontLigatures",I.OFF,{anyOf:[{type:"boolean",description:y.localize(19,null)},{type:"string",description:y.localize(20,null)}],description:y.localize(21,null),default:!1})}validate(J){return typeof J=="undefined"?this.defaultValue:typeof J=="string"?J==="false"?I.OFF:J==="true"?I.ON:J:Boolean(J)?I.ON:I.OFF}}e.EditorFontLigatures=I,I.OFF='"liga" off, "calt" off',I.ON='"liga" on, "calt" on';class k extends i{constructor(){super(43)}compute(J,Z,le){return J.fontInfo}}class A extends f{constructor(){super(45,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:y.localize(22,null)})}validate(J){let Z=u.float(J,this.defaultValue);return Z===0?e.EDITOR_FONT_DEFAULTS.fontSize:u.clamp(Z,6,100)}compute(J,Z,le){return J.fontInfo.fontSize}}class P extends b{constructor(){super(46,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:P.MINIMUM_VALUE,maximum:P.MAXIMUM_VALUE,errorMessage:y.localize(23,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:P.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:y.localize(24,null)})}validate(J){return J==="normal"||J==="bold"?J:String(c.clampedInt(J,e.EDITOR_FONT_DEFAULTS.fontWeight,P.MINIMUM_VALUE,P.MAXIMUM_VALUE))}}P.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],P.MINIMUM_VALUE=1,P.MAXIMUM_VALUE=1e3;class F extends b{constructor(){const J={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},Z={type:"string",enum:["peek","gotoAndPeek","goto"],default:J.multiple,enumDescriptions:[y.localize(25,null),y.localize(26,null),y.localize(27,null)]},le=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(50,"gotoLocation",J,{"editor.gotoLocation.multiple":{deprecationMessage:y.localize(28,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:y.localize(29,null)},Z),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:y.localize(30,null)},Z),"editor.gotoLocation.multipleDeclarations":Object.assign({description:y.localize(31,null)},Z),"editor.gotoLocation.multipleImplementations":Object.assign({description:y.localize(32,null)},Z),"editor.gotoLocation.multipleReferences":Object.assign({description:y.localize(33,null)},Z),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:J.alternativeDefinitionCommand,enum:le,description:y.localize(34,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:J.alternativeTypeDefinitionCommand,enum:le,description:y.localize(35,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:J.alternativeDeclarationCommand,enum:le,description:y.localize(36,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:J.alternativeImplementationCommand,enum:le,description:y.localize(37,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:J.alternativeReferenceCommand,enum:le,description:y.localize(38,null)}})}validate(J){var Z,le,he,ve,be;if(!J||typeof J!="object")return this.defaultValue;const we=J;return{multiple:n(we.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(Z=we.multipleDefinitions)!==null&&Z!==void 0?Z:n(we.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(le=we.multipleTypeDefinitions)!==null&&le!==void 0?le:n(we.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(he=we.multipleDeclarations)!==null&&he!==void 0?he:n(we.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(ve=we.multipleImplementations)!==null&&ve!==void 0?ve:n(we.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(be=we.multipleReferences)!==null&&be!==void 0?be:n(we.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:s.string(we.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:s.string(we.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:s.string(we.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:s.string(we.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:s.string(we.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class M extends b{constructor(){const J={enabled:!0,delay:300,sticky:!0};super(52,"hover",J,{"editor.hover.enabled":{type:"boolean",default:J.enabled,description:y.localize(39,null)},"editor.hover.delay":{type:"number",default:J.delay,description:y.localize(40,null)},"editor.hover.sticky":{type:"boolean",default:J.sticky,description:y.localize(41,null)}})}validate(J){if(!J||typeof J!="object")return this.defaultValue;const Z=J;return{enabled:r(Z.enabled,this.defaultValue.enabled),delay:c.clampedInt(Z.delay,this.defaultValue.delay,0,1e4),sticky:r(Z.sticky,this.defaultValue.sticky)}}}class R extends i{constructor(){super(129,[49,57,37,64,91,59,60,93,116,119,120,121,2])}compute(J,Z,le){return R.computeLayout(Z,{memory:J.memory,outerWidth:J.outerWidth,outerHeight:J.outerHeight,isDominatedByLongLines:J.isDominatedByLongLines,lineHeight:J.fontInfo.lineHeight,viewLineCount:J.viewLineCount,lineNumbersDigitCount:J.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:J.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:J.fontInfo.maxDigitWidth,pixelRatio:J.pixelRatio})}static computeContainedMinimapLineCount(J){const Z=J.height/J.lineHeight,le=J.scrollBeyondLastLine?Z-1:0,he=(J.viewLineCount+le)/(J.pixelRatio*J.height),ve=Math.floor(J.viewLineCount/he);return{typicalViewportLineCount:Z,extraLinesBeyondLastLine:le,desiredRatio:he,minimapLineCount:ve}}static _computeMinimapLayout(J,Z){const le=J.outerWidth,he=J.outerHeight,ve=J.pixelRatio;if(!J.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(ve*he),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:he};const be=Z.stableMinimapLayoutInput,we=be&&J.outerHeight===be.outerHeight&&J.lineHeight===be.lineHeight&&J.typicalHalfwidthCharacterWidth===be.typicalHalfwidthCharacterWidth&&J.pixelRatio===be.pixelRatio&&J.scrollBeyondLastLine===be.scrollBeyondLastLine&&J.minimap.enabled===be.minimap.enabled&&J.minimap.side===be.minimap.side&&J.minimap.size===be.minimap.size&&J.minimap.showSlider===be.minimap.showSlider&&J.minimap.renderCharacters===be.minimap.renderCharacters&&J.minimap.maxColumn===be.minimap.maxColumn&&J.minimap.scale===be.minimap.scale&&J.verticalScrollbarWidth===be.verticalScrollbarWidth&&J.isViewportWrapping===be.isViewportWrapping,Te=J.lineHeight,Pe=J.typicalHalfwidthCharacterWidth,Oe=J.scrollBeyondLastLine,Ve=J.minimap.renderCharacters;let Be=ve>=2?Math.round(J.minimap.scale*2):J.minimap.scale;const He=J.minimap.maxColumn,je=J.minimap.size,Le=J.minimap.side,Ee=J.verticalScrollbarWidth,Re=J.viewLineCount,ze=J.remainingWidth,We=J.isViewportWrapping,Ze=Ve?2:3;let ke=Math.floor(ve*he);const De=ke/ve;let Ne=!1,fe=!1,me=Ze*Be,ye=Be/ve,Se=1;if(je==="fill"||je==="fit"){const{typicalViewportLineCount:$e,extraLinesBeyondLastLine:Ge,desiredRatio:Ke,minimapLineCount:Qe}=R.computeContainedMinimapLineCount({viewLineCount:Re,scrollBeyondLastLine:Oe,height:he,lineHeight:Te,pixelRatio:ve});if(Re/Qe>1)Ne=!0,fe=!0,Be=1,me=1,ye=Be/ve;else{let Je=!1,tt=Be+1;if(je==="fit"){const et=Math.ceil((Re+Ge)*me);We&&we&&ze<=Z.stableFitRemainingWidth?(Je=!0,tt=Z.stableFitMaxMinimapScale):Je=et>ke}if(je==="fill"||Je){Ne=!0;const et=Be;me=Math.min(Te*ve,Math.max(1,Math.floor(1/Ke))),We&&we&&ze<=Z.stableFitRemainingWidth&&(tt=Z.stableFitMaxMinimapScale),Be=Math.min(tt,Math.max(1,Math.floor(me/Ze))),Be>et&&(Se=Math.min(2,Be/et)),ye=Be/ve/Se,ke=Math.ceil(Math.max($e,Re+Ge)*me),We?(Z.stableMinimapLayoutInput=J,Z.stableFitRemainingWidth=ze,Z.stableFitMaxMinimapScale=Be):(Z.stableMinimapLayoutInput=null,Z.stableFitRemainingWidth=0)}}}const _e=Math.floor(He*ye),Ae=Math.min(_e,Math.max(0,Math.floor((ze-Ee-2)*ye/(Pe+ye)))+e.MINIMAP_GUTTER_WIDTH);let Ie=Math.floor(ve*Ae);const xe=Ie/ve;Ie=Math.floor(Ie*Se);const qe=Ve?1:2,Ue=Le==="left"?0:le-Ae-Ee;return{renderMinimap:qe,minimapLeft:Ue,minimapWidth:Ae,minimapHeightIsEditorHeight:Ne,minimapIsSampling:fe,minimapScale:Be,minimapLineHeight:me,minimapCanvasInnerWidth:Ie,minimapCanvasInnerHeight:ke,minimapCanvasOuterWidth:xe,minimapCanvasOuterHeight:De}}static computeLayout(J,Z){const le=Z.outerWidth|0,he=Z.outerHeight|0,ve=Z.lineHeight|0,be=Z.lineNumbersDigitCount|0,we=Z.typicalHalfwidthCharacterWidth,Te=Z.maxDigitWidth,Pe=Z.pixelRatio,Oe=Z.viewLineCount,Ve=J.get(121),Be=Ve==="inherit"?J.get(120):Ve,He=Be==="inherit"?J.get(116):Be,je=J.get(119),Le=J.get(2),Ee=Z.isDominatedByLongLines,Re=J.get(49),ze=J.get(59).renderType!==0,We=J.get(60),Ze=J.get(93),ke=J.get(64),De=J.get(91),Ne=De.verticalScrollbarSize,fe=De.verticalHasArrows,me=De.arrowSize,ye=De.horizontalScrollbarSize,Se=J.get(57),_e=J.get(37);let Ae;if(typeof Se=="string"&&/^\d+(\.\d+)?ch$/.test(Se)){const ut=parseFloat(Se.substr(0,Se.length-2));Ae=c.clampedInt(ut*we,0,0,1e3)}else Ae=c.clampedInt(Se,0,0,1e3);_e&&(Ae+=16);let Ie=0;if(ze){const ut=Math.max(be,We);Ie=Math.round(ut*Te)}let xe=0;Re&&(xe=ve);let qe=0,Ue=qe+xe,$e=Ue+Ie,Ge=$e+Ae;const Ke=le-xe-Ie-Ae;let Qe=!1,Ye=!1,Je=-1;Le!==2&&(Be==="inherit"&&Ee?(Qe=!0,Ye=!0):He==="on"||He==="bounded"?Ye=!0:He==="wordWrapColumn"&&(Je=je));const tt=R._computeMinimapLayout({outerWidth:le,outerHeight:he,lineHeight:ve,typicalHalfwidthCharacterWidth:we,pixelRatio:Pe,scrollBeyondLastLine:Ze,minimap:ke,verticalScrollbarWidth:Ne,viewLineCount:Oe,remainingWidth:Ke,isViewportWrapping:Ye},Z.memory||new p);tt.renderMinimap!==0&&tt.minimapLeft===0&&(qe+=tt.minimapWidth,Ue+=tt.minimapWidth,$e+=tt.minimapWidth,Ge+=tt.minimapWidth);const et=Ke-tt.minimapWidth,at=Math.max(1,Math.floor((et-Ne-2)/we)),ft=fe?me:0;return Ye&&(Je=Math.max(1,at),He==="bounded"&&(Je=Math.min(Je,je))),{width:le,height:he,glyphMarginLeft:qe,glyphMarginWidth:xe,lineNumbersLeft:Ue,lineNumbersWidth:Ie,decorationsLeft:$e,decorationsWidth:Ae,contentLeft:Ge,contentWidth:et,minimap:tt,viewportColumn:at,isWordWrapMinified:Qe,isViewportWrapping:Ye,wrappingColumn:Je,verticalScrollbarWidth:Ne,horizontalScrollbarHeight:ye,overviewRuler:{top:ft,width:Ne,height:he-2*ft,right:0}}}}e.EditorLayoutInfoComputer=R;class O extends b{constructor(){const J={enabled:!0};super(56,"lightbulb",J,{"editor.lightbulb.enabled":{type:"boolean",default:J.enabled,description:y.localize(42,null)}})}validate(J){return!J||typeof J!="object"?this.defaultValue:{enabled:r(J.enabled,this.defaultValue.enabled)}}}class L extends b{constructor(){const J={enabled:!0,fontSize:0,fontFamily:""};super(125,"inlayHints",J,{"editor.inlayHints.enabled":{type:"boolean",default:J.enabled,description:y.localize(43,null)},"editor.inlayHints.fontSize":{type:"number",default:J.fontSize,markdownDescription:y.localize(44,null)},"editor.inlayHints.fontFamily":{type:"string",default:J.fontFamily,markdownDescription:y.localize(45,null)}})}validate(J){if(!J||typeof J!="object")return this.defaultValue;const Z=J;return{enabled:r(Z.enabled,this.defaultValue.enabled),fontSize:c.clampedInt(Z.fontSize,this.defaultValue.fontSize,0,100),fontFamily:s.string(Z.fontFamily,this.defaultValue.fontFamily)}}}class B extends u{constructor(){super(58,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,J=>u.clamp(J,0,150),{markdownDescription:y.localize(46,null)})}compute(J,Z,le){return J.fontInfo.lineHeight}}class z extends b{constructor(){const J={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(64,"minimap",J,{"editor.minimap.enabled":{type:"boolean",default:J.enabled,description:y.localize(47,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[y.localize(48,null),y.localize(49,null),y.localize(50,null)],default:J.size,description:y.localize(51,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:J.side,description:y.localize(52,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:J.showSlider,description:y.localize(53,null)},"editor.minimap.scale":{type:"number",default:J.scale,minimum:1,maximum:3,enum:[1,2,3],description:y.localize(54,null)},"editor.minimap.renderCharacters":{type:"boolean",default:J.renderCharacters,description:y.localize(55,null)},"editor.minimap.maxColumn":{type:"number",default:J.maxColumn,description:y.localize(56,null)}})}validate(J){if(!J||typeof J!="object")return this.defaultValue;const Z=J;return{enabled:r(Z.enabled,this.defaultValue.enabled),size:n(Z.size,this.defaultValue.size,["proportional","fill","fit"]),side:n(Z.side,this.defaultValue.side,["right","left"]),showSlider:n(Z.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:r(Z.renderCharacters,this.defaultValue.renderCharacters),scale:c.clampedInt(Z.scale,1,1,3),maxColumn:c.clampedInt(Z.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function $(ce){return ce==="ctrlCmd"?N.isMacintosh?"metaKey":"ctrlKey":"altKey"}class j extends b{constructor(){super(74,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:y.localize(57,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:y.localize(58,null)}})}validate(J){if(!J||typeof J!="object")return this.defaultValue;const Z=J;return{top:c.clampedInt(Z.top,0,0,1e3),bottom:c.clampedInt(Z.bottom,0,0,1e3)}}}class X extends b{constructor(){const J={enabled:!0,cycle:!1};super(75,"parameterHints",J,{"editor.parameterHints.enabled":{type:"boolean",default:J.enabled,description:y.localize(59,null)},"editor.parameterHints.cycle":{type:"boolean",default:J.cycle,description:y.localize(60,null)}})}validate(J){if(!J||typeof J!="object")return this.defaultValue;const Z=J;return{enabled:r(Z.enabled,this.defaultValue.enabled),cycle:r(Z.cycle,this.defaultValue.cycle)}}}class Q extends i{constructor(){super(127)}compute(J,Z,le){return J.pixelRatio}}class Y extends b{constructor(){const J={other:!0,comments:!1,strings:!1};super(78,"quickSuggestions",J,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:J.strings,description:y.localize(61,null)},comments:{type:"boolean",default:J.comments,description:y.localize(62,null)},other:{type:"boolean",default:J.other,description:y.localize(63,null)}}}],default:J,description:y.localize(64,null)});this.defaultValue=J}validate(J){if(typeof J=="boolean")return J;if(J&&typeof J=="object"){const Z=J,le={other:r(Z.other,this.defaultValue.other),comments:r(Z.comments,this.defaultValue.comments),strings:r(Z.strings,this.defaultValue.strings)};return le.other&&le.comments&&le.strings?!0:!le.other&&!le.comments&&!le.strings?!1:le}return this.defaultValue}}class oe extends b{constructor(){super(59,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[y.localize(65,null),y.localize(66,null),y.localize(67,null),y.localize(68,null)],default:"on",description:y.localize(69,null)})}validate(J){let Z=this.defaultValue.renderType,le=this.defaultValue.renderFn;return typeof J!="undefined"&&(typeof J=="function"?(Z=4,le=J):J==="interval"?Z=3:J==="relative"?Z=2:J==="on"?Z=1:Z=0),{renderType:Z,renderFn:le}}}function se(ce){const J=ce.get(86);return J==="editable"?ce.get(80):J!=="on"}e.filterValidationDecorations=se;class K extends b{constructor(){const J=[],Z={type:"number",description:y.localize(70,null)};super(90,"rulers",J,{type:"array",items:{anyOf:[Z,{type:["object"],properties:{column:Z,color:{type:"string",description:y.localize(71,null),format:"color-hex"}}}]},default:J,description:y.localize(72,null)})}validate(J){if(Array.isArray(J)){let Z=[];for(let le of J)if(typeof le=="number")Z.push({column:c.clampedInt(le,0,0,1e4),color:null});else if(le&&typeof le=="object"){const he=le;Z.push({column:c.clampedInt(he.column,0,0,1e4),color:he.color})}return Z.sort((le,he)=>le.column-he.column),Z}return this.defaultValue}}function x(ce,J){if(typeof ce!="string")return J;switch(ce){case"hidden":return 2;case"visible":return 3;default:return 1}}class U extends b{constructor(){const J={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(91,"scrollbar",J,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[y.localize(73,null),y.localize(74,null),y.localize(75,null)],default:"auto",description:y.localize(76,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[y.localize(77,null),y.localize(78,null),y.localize(79,null)],default:"auto",description:y.localize(80,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:J.verticalScrollbarSize,description:y.localize(81,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:J.horizontalScrollbarSize,description:y.localize(82,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:J.scrollByPage,description:y.localize(83,null)}})}validate(J){if(!J||typeof J!="object")return this.defaultValue;const Z=J,le=c.clampedInt(Z.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),he=c.clampedInt(Z.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:c.clampedInt(Z.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:x(Z.vertical,this.defaultValue.vertical),horizontal:x(Z.horizontal,this.defaultValue.horizontal),useShadows:r(Z.useShadows,this.defaultValue.useShadows),verticalHasArrows:r(Z.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:r(Z.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:r(Z.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:r(Z.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:le,horizontalSliderSize:c.clampedInt(Z.horizontalSliderSize,le,0,1e3),verticalScrollbarSize:he,verticalSliderSize:c.clampedInt(Z.verticalSliderSize,he,0,1e3),scrollByPage:r(Z.scrollByPage,this.defaultValue.scrollByPage)}}}class H extends b{constructor(){const J={enabled:!0,mode:"subwordSmart"};super(54,"inlineSuggest",J,{"editor.inlineSuggest.enabled":{type:"boolean",default:J.enabled,description:y.localize(84,null)}})}validate(J){if(!J||typeof J!="object")return this.defaultValue;const Z=J;return{enabled:r(Z.enabled,this.defaultValue.enabled),mode:n(Z.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class V extends b{constructor(){const J={enabled:e.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",J,{"editor.bracketPairColorization.enabled":{type:"boolean",default:J.enabled,description:y.localize(85,null)}})}validate(J){return!J||typeof J!="object"?this.defaultValue:{enabled:r(J.enabled,this.defaultValue.enabled)}}}class ne extends b{constructor(){const J={bracketPairs:!1,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",J,{"editor.guides.bracketPairs":{type:"boolean",default:J.bracketPairs,description:y.localize(86,null)},"editor.guides.indentation":{type:"boolean",default:J.indentation,description:y.localize(87,null)},"editor.guides.highlightActiveIndentation":{type:"boolean",default:J.highlightActiveIndentation,description:y.localize(88,null)}})}validate(J){if(!J||typeof J!="object")return this.defaultValue;const Z=J;return{bracketPairs:r(Z.bracketPairs,this.defaultValue.bracketPairs),indentation:r(Z.indentation,this.defaultValue.indentation),highlightActiveIndentation:r(Z.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}class ue extends b{constructor(){const J={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(105,"suggest",J,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[y.localize(89,null),y.localize(90,null)],default:J.insertMode,description:y.localize(91,null)},"editor.suggest.filterGraceful":{type:"boolean",default:J.filterGraceful,description:y.localize(92,null)},"editor.suggest.localityBonus":{type:"boolean",default:J.localityBonus,description:y.localize(93,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:J.shareSuggestSelections,markdownDescription:y.localize(94,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:J.snippetsPreventQuickSuggestions,description:y.localize(95,null)},"editor.suggest.showIcons":{type:"boolean",default:J.showIcons,description:y.localize(96,null)},"editor.suggest.showStatusBar":{type:"boolean",default:J.showStatusBar,description:y.localize(97,null)},"editor.suggest.preview":{type:"boolean",default:J.preview,description:y.localize(98,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:J.showInlineDetails,description:y.localize(99,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:y.localize(100,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:y.localize(101,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:y.localize(102,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:y.localize(103,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:y.localize(104,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:y.localize(105,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:y.localize(106,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:y.localize(107,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:y.localize(108,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:y.localize(109,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:y.localize(110,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:y.localize(111,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:y.localize(112,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:y.localize(113,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:y.localize(114,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:y.localize(115,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:y.localize(116,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:y.localize(117,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:y.localize(118,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:y.localize(119,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:y.localize(120,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:y.localize(121,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:y.localize(122,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:y.localize(123,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:y.localize(124,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:y.localize(125,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:y.localize(126,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:y.localize(127,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:y.localize(128,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:y.localize(129,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:y.localize(130,null)}})}validate(J){if(!J||typeof J!="object")return this.defaultValue;const Z=J;return{insertMode:n(Z.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:r(Z.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:r(Z.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:r(Z.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:r(Z.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:r(Z.showIcons,this.defaultValue.showIcons),showStatusBar:r(Z.showStatusBar,this.defaultValue.showStatusBar),preview:r(Z.preview,this.defaultValue.preview),previewMode:n(Z.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:r(Z.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:r(Z.showMethods,this.defaultValue.showMethods),showFunctions:r(Z.showFunctions,this.defaultValue.showFunctions),showConstructors:r(Z.showConstructors,this.defaultValue.showConstructors),showDeprecated:r(Z.showDeprecated,this.defaultValue.showDeprecated),showFields:r(Z.showFields,this.defaultValue.showFields),showVariables:r(Z.showVariables,this.defaultValue.showVariables),showClasses:r(Z.showClasses,this.defaultValue.showClasses),showStructs:r(Z.showStructs,this.defaultValue.showStructs),showInterfaces:r(Z.showInterfaces,this.defaultValue.showInterfaces),showModules:r(Z.showModules,this.defaultValue.showModules),showProperties:r(Z.showProperties,this.defaultValue.showProperties),showEvents:r(Z.showEvents,this.defaultValue.showEvents),showOperators:r(Z.showOperators,this.defaultValue.showOperators),showUnits:r(Z.showUnits,this.defaultValue.showUnits),showValues:r(Z.showValues,this.defaultValue.showValues),showConstants:r(Z.showConstants,this.defaultValue.showConstants),showEnums:r(Z.showEnums,this.defaultValue.showEnums),showEnumMembers:r(Z.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:r(Z.showKeywords,this.defaultValue.showKeywords),showWords:r(Z.showWords,this.defaultValue.showWords),showColors:r(Z.showColors,this.defaultValue.showColors),showFiles:r(Z.showFiles,this.defaultValue.showFiles),showReferences:r(Z.showReferences,this.defaultValue.showReferences),showFolders:r(Z.showFolders,this.defaultValue.showFolders),showTypeParameters:r(Z.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:r(Z.showSnippets,this.defaultValue.showSnippets),showUsers:r(Z.showUsers,this.defaultValue.showUsers),showIssues:r(Z.showIssues,this.defaultValue.showIssues)}}}class pe extends b{constructor(){super(101,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:y.localize(131,null),default:!0,type:"boolean"}})}validate(J){return!J||typeof J!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:r(J.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class ge extends i{constructor(){super(128,[80])}compute(J,Z,le){return Z.get(80)?!0:J.tabFocusMode}}function W(ce){switch(ce){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class G extends i{constructor(){super(130,[129])}compute(J,Z,le){const he=Z.get(129);return{isDominatedByLongLines:J.isDominatedByLongLines,isWordWrapMinified:he.isWordWrapMinified,isViewportWrapping:he.isViewportWrapping,wrappingColumn:he.wrappingColumn}}}const re="Consolas, 'Courier New', monospace",ee="Menlo, Monaco, 'Courier New', monospace",de="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'";e.EDITOR_FONT_DEFAULTS={fontFamily:N.isMacintosh?ee:N.isLinux?de:re,fontWeight:"normal",fontSize:N.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}},e.editorOptionsRegistry=[];function ae(ce){return e.editorOptionsRegistry[ce.id]=ce,ce}e.EditorOptions={acceptSuggestionOnCommitCharacter:ae(new o(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:y.localize(132,null)})),acceptSuggestionOnEnter:ae(new a(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",y.localize(133,null),""],markdownDescription:y.localize(134,null)})),accessibilitySupport:ae(new h),accessibilityPageSize:ae(new c(3,"accessibilityPageSize",10,1,1073741824,{description:y.localize(135,null)})),ariaLabel:ae(new s(4,"ariaLabel",y.localize(136,null))),autoClosingBrackets:ae(new a(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",y.localize(137,null),y.localize(138,null),""],description:y.localize(139,null)})),autoClosingDelete:ae(new a(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",y.localize(140,null),""],description:y.localize(141,null)})),autoClosingOvertype:ae(new a(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",y.localize(142,null),""],description:y.localize(143,null)})),autoClosingQuotes:ae(new a(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",y.localize(144,null),y.localize(145,null),""],description:y.localize(146,null)})),autoIndent:ae(new t(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],l,{enumDescriptions:[y.localize(147,null),y.localize(148,null),y.localize(149,null),y.localize(150,null),y.localize(151,null)],description:y.localize(152,null)})),automaticLayout:ae(new o(10,"automaticLayout",!1)),autoSurround:ae(new a(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[y.localize(153,null),y.localize(154,null),y.localize(155,null),""],description:y.localize(156,null)})),bracketPairColorization:ae(new V),bracketPairGuides:ae(new ne),stickyTabStops:ae(new o(103,"stickyTabStops",!1,{description:y.localize(157,null)})),codeLens:ae(new o(14,"codeLens",!0,{description:y.localize(158,null)})),codeLensFontFamily:ae(new s(15,"codeLensFontFamily","",{description:y.localize(159,null)})),codeLensFontSize:ae(new c(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:y.localize(160,null)})),colorDecorators:ae(new o(17,"colorDecorators",!0,{description:y.localize(161,null)})),columnSelection:ae(new o(18,"columnSelection",!1,{description:y.localize(162,null)})),comments:ae(new g),contextmenu:ae(new o(20,"contextmenu",!0)),copyWithSyntaxHighlighting:ae(new o(21,"copyWithSyntaxHighlighting",!0,{description:y.localize(163,null)})),cursorBlinking:ae(new t(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],w,{description:y.localize(164,null)})),cursorSmoothCaretAnimation:ae(new o(23,"cursorSmoothCaretAnimation",!1,{description:y.localize(165,null)})),cursorStyle:ae(new t(24,"cursorStyle",_.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],C,{description:y.localize(166,null)})),cursorSurroundingLines:ae(new c(25,"cursorSurroundingLines",0,0,1073741824,{description:y.localize(167,null)})),cursorSurroundingLinesStyle:ae(new a(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[y.localize(168,null),y.localize(169,null)],description:y.localize(170,null)})),cursorWidth:ae(new c(27,"cursorWidth",0,0,1073741824,{markdownDescription:y.localize(171,null)})),disableLayerHinting:ae(new o(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:ae(new o(29,"disableMonospaceOptimizations",!1)),domReadOnly:ae(new o(30,"domReadOnly",!1)),dragAndDrop:ae(new o(31,"dragAndDrop",!0,{description:y.localize(172,null)})),emptySelectionClipboard:ae(new m),extraEditorClassName:ae(new s(33,"extraEditorClassName","")),fastScrollSensitivity:ae(new u(34,"fastScrollSensitivity",5,ce=>ce<=0?5:ce,{markdownDescription:y.localize(173,null)})),find:ae(new E),fixedOverflowWidgets:ae(new o(36,"fixedOverflowWidgets",!1)),folding:ae(new o(37,"folding",!0,{description:y.localize(174,null)})),foldingStrategy:ae(new a(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[y.localize(175,null),y.localize(176,null)],description:y.localize(177,null)})),foldingHighlight:ae(new o(39,"foldingHighlight",!0,{description:y.localize(178,null)})),foldingImportsByDefault:ae(new o(40,"foldingImportsByDefault",!1,{description:y.localize(179,null)})),unfoldOnClickAfterEndOfLine:ae(new o(41,"unfoldOnClickAfterEndOfLine",!1,{description:y.localize(180,null)})),fontFamily:ae(new s(42,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:y.localize(181,null)})),fontInfo:ae(new k),fontLigatures2:ae(new I),fontSize:ae(new A),fontWeight:ae(new P),formatOnPaste:ae(new o(47,"formatOnPaste",!1,{description:y.localize(182,null)})),formatOnType:ae(new o(48,"formatOnType",!1,{description:y.localize(183,null)})),glyphMargin:ae(new o(49,"glyphMargin",!0,{description:y.localize(184,null)})),gotoLocation:ae(new F),hideCursorInOverviewRuler:ae(new o(51,"hideCursorInOverviewRuler",!1,{description:y.localize(185,null)})),hover:ae(new M),inDiffEditor:ae(new o(53,"inDiffEditor",!1)),letterSpacing:ae(new u(55,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,ce=>u.clamp(ce,-5,20),{description:y.localize(186,null)})),lightbulb:ae(new O),lineDecorationsWidth:ae(new f(57,"lineDecorationsWidth",10)),lineHeight:ae(new B),lineNumbers:ae(new oe),lineNumbersMinChars:ae(new c(60,"lineNumbersMinChars",5,1,300)),linkedEditing:ae(new o(61,"linkedEditing",!1,{description:y.localize(187,null)})),links:ae(new o(62,"links",!0,{description:y.localize(188,null)})),matchBrackets:ae(new a(63,"matchBrackets","always",["always","near","never"],{description:y.localize(189,null)})),minimap:ae(new z),mouseStyle:ae(new a(65,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:ae(new u(66,"mouseWheelScrollSensitivity",1,ce=>ce===0?1:ce,{markdownDescription:y.localize(190,null)})),mouseWheelZoom:ae(new o(67,"mouseWheelZoom",!1,{markdownDescription:y.localize(191,null)})),multiCursorMergeOverlapping:ae(new o(68,"multiCursorMergeOverlapping",!0,{description:y.localize(192,null)})),multiCursorModifier:ae(new t(69,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],$,{markdownEnumDescriptions:[y.localize(193,null),y.localize(194,null)],markdownDescription:y.localize(195,null)})),multiCursorPaste:ae(new a(70,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[y.localize(196,null),y.localize(197,null)],markdownDescription:y.localize(198,null)})),occurrencesHighlight:ae(new o(71,"occurrencesHighlight",!0,{description:y.localize(199,null)})),overviewRulerBorder:ae(new o(72,"overviewRulerBorder",!0,{description:y.localize(200,null)})),overviewRulerLanes:ae(new c(73,"overviewRulerLanes",3,0,3)),padding:ae(new j),parameterHints:ae(new X),peekWidgetDefaultFocus:ae(new a(76,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[y.localize(201,null),y.localize(202,null)],description:y.localize(203,null)})),definitionLinkOpensInPeek:ae(new o(77,"definitionLinkOpensInPeek",!1,{description:y.localize(204,null)})),quickSuggestions:ae(new Y),quickSuggestionsDelay:ae(new c(79,"quickSuggestionsDelay",10,0,1073741824,{description:y.localize(205,null)})),readOnly:ae(new o(80,"readOnly",!1)),renameOnType:ae(new o(81,"renameOnType",!1,{description:y.localize(206,null),markdownDeprecationMessage:y.localize(207,null)})),renderControlCharacters:ae(new o(82,"renderControlCharacters",!1,{description:y.localize(208,null)})),renderFinalNewline:ae(new o(83,"renderFinalNewline",!0,{description:y.localize(209,null)})),renderLineHighlight:ae(new a(84,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",y.localize(210,null)],description:y.localize(211,null)})),renderLineHighlightOnlyWhenFocus:ae(new o(85,"renderLineHighlightOnlyWhenFocus",!1,{description:y.localize(212,null)})),renderValidationDecorations:ae(new a(86,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:ae(new a(87,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",y.localize(213,null),y.localize(214,null),y.localize(215,null),""],description:y.localize(216,null)})),revealHorizontalRightPadding:ae(new c(88,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:ae(new o(89,"roundedSelection",!0,{description:y.localize(217,null)})),rulers:ae(new K),scrollbar:ae(new U),scrollBeyondLastColumn:ae(new c(92,"scrollBeyondLastColumn",5,0,1073741824,{description:y.localize(218,null)})),scrollBeyondLastLine:ae(new o(93,"scrollBeyondLastLine",!0,{description:y.localize(219,null)})),scrollPredominantAxis:ae(new o(94,"scrollPredominantAxis",!0,{description:y.localize(220,null)})),selectionClipboard:ae(new o(95,"selectionClipboard",!0,{description:y.localize(221,null),included:N.isLinux})),selectionHighlight:ae(new o(96,"selectionHighlight",!0,{description:y.localize(222,null)})),selectOnLineNumbers:ae(new o(97,"selectOnLineNumbers",!0)),showFoldingControls:ae(new a(98,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[y.localize(223,null),y.localize(224,null)],description:y.localize(225,null)})),showUnused:ae(new o(99,"showUnused",!0,{description:y.localize(226,null)})),showDeprecated:ae(new o(124,"showDeprecated",!0,{description:y.localize(227,null)})),inlayHints:ae(new L),snippetSuggestions:ae(new a(100,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[y.localize(228,null),y.localize(229,null),y.localize(230,null),y.localize(231,null)],description:y.localize(232,null)})),smartSelect:ae(new pe),smoothScrolling:ae(new o(102,"smoothScrolling",!1,{description:y.localize(233,null)})),stopRenderingLineAfter:ae(new c(104,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:ae(new ue),inlineSuggest:ae(new H),suggestFontSize:ae(new c(106,"suggestFontSize",0,0,1e3,{markdownDescription:y.localize(234,null)})),suggestLineHeight:ae(new c(107,"suggestLineHeight",0,0,1e3,{markdownDescription:y.localize(235,null)})),suggestOnTriggerCharacters:ae(new o(108,"suggestOnTriggerCharacters",!0,{description:y.localize(236,null)})),suggestSelection:ae(new a(109,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[y.localize(237,null),y.localize(238,null),y.localize(239,null)],description:y.localize(240,null)})),tabCompletion:ae(new a(110,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[y.localize(241,null),y.localize(242,null),y.localize(243,null)],description:y.localize(244,null)})),tabIndex:ae(new c(111,"tabIndex",0,-1,1073741824)),unusualLineTerminators:ae(new a(112,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[y.localize(245,null),y.localize(246,null),y.localize(247,null)],description:y.localize(248,null)})),useShadowDOM:ae(new o(113,"useShadowDOM",!0)),useTabStops:ae(new o(114,"useTabStops",!0,{description:y.localize(249,null)})),wordSeparators:ae(new s(115,"wordSeparators",T.USUAL_WORD_SEPARATORS,{description:y.localize(250,null)})),wordWrap:ae(new a(116,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[y.localize(251,null),y.localize(252,null),y.localize(253,null),y.localize(254,null)],description:y.localize(255,null)})),wordWrapBreakAfterCharacters:ae(new s(117,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:ae(new s(118,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:ae(new c(119,"wordWrapColumn",80,1,1073741824,{markdownDescription:y.localize(256,null)})),wordWrapOverride1:ae(new a(120,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:ae(new a(121,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:ae(new t(122,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],W,{enumDescriptions:[y.localize(257,null),y.localize(258,null),y.localize(259,null),y.localize(260,null)],description:y.localize(261,null)})),wrappingStrategy:ae(new a(123,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[y.localize(262,null),y.localize(263,null)],description:y.localize(264,null)})),editorClassName:ae(new v),pixelRatio:ae(new Q),tabFocusMode:ae(new ge),layoutInfo:ae(new R),wrappingInfo:ae(new G)}}),define(te[473],ie([0,1,36,34]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class T{constructor(b,i){this.chr=b,this.type=i,this.width=0}fulfill(b){this.width=b}}e.CharWidthRequest=T;class D{constructor(b,i){this._bareFontInfo=b,this._requests=i,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const b=this._bareFontInfo.getMassagedFontFamily(y.isSafari?N.EDITOR_FONT_DEFAULTS.fontFamily:null),i=document.createElement("div");i.style.position="absolute",i.style.top="-50000px",i.style.width="50000px";const f=document.createElement("div");f.style.fontFamily=b,f.style.fontWeight=this._bareFontInfo.fontWeight,f.style.fontSize=this._bareFontInfo.fontSize+"px",f.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,f.style.lineHeight=this._bareFontInfo.lineHeight+"px",f.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",i.appendChild(f);const r=document.createElement("div");r.style.fontFamily=b,r.style.fontWeight="bold",r.style.fontSize=this._bareFontInfo.fontSize+"px",r.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,r.style.lineHeight=this._bareFontInfo.lineHeight+"px",r.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",i.appendChild(r);const o=document.createElement("div");o.style.fontFamily=b,o.style.fontWeight=this._bareFontInfo.fontWeight,o.style.fontSize=this._bareFontInfo.fontSize+"px",o.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,o.style.lineHeight=this._bareFontInfo.lineHeight+"px",o.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",o.style.fontStyle="italic",i.appendChild(o);const d=[];for(const c of this._requests){let u;c.type===0&&(u=f),c.type===2&&(u=r),c.type===1&&(u=o),u.appendChild(document.createElement("br"));const s=document.createElement("span");D._render(s,c),u.appendChild(s),d.push(s)}this._container=i,this._testElements=d}static _render(b,i){if(i.chr===" "){let f="\xA0";for(let r=0;r<8;r++)f+=f;b.innerText=f}else{let f=i.chr;for(let r=0;r<8;r++)f+=f;b.textContent=f}}_readFromDomElements(){for(let b=0,i=this._requests.length;b<i;b++){const f=this._requests[b],r=this._testElements[b];f.fulfill(r.offsetWidth/256)}}}function S(p,b){new D(p,b).read()}e.readCharWidths=S}),define(te[474],ie([0,1,13,3,63,34]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecorations=void 0;class S{constructor(b,i,f,r,o){this.editorId=b,this.model=i,this.configuration=f,this._linesCollection=r,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(b){const i=b.id;let f=this._decorationsCache[i];if(!f){const r=b.range,o=b.options;let d;if(o.isWholeLine){const c=this._coordinatesConverter.convertModelPositionToViewPosition(new y.Position(r.startLineNumber,1),0),u=this._coordinatesConverter.convertModelPositionToViewPosition(new y.Position(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber)),1);d=new N.Range(c.lineNumber,c.column,u.lineNumber,u.column)}else d=this._coordinatesConverter.convertModelRangeToViewRange(r,1);f=new T.ViewModelDecoration(d,o),this._decorationsCache[i]=f}return f}getDecorationsViewportData(b){let i=this._cachedModelDecorationsResolver!==null;return i=i&&b.equalsRange(this._cachedModelDecorationsResolverViewRange),i||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(b),this._cachedModelDecorationsResolverViewRange=b),this._cachedModelDecorationsResolver}_getDecorationsViewportData(b){const i=this._linesCollection.getDecorationsInRange(b,this.editorId,(0,D.filterValidationDecorations)(this.configuration.options)),f=b.startLineNumber,r=b.endLineNumber;let o=[],d=0,c=[];for(let u=f;u<=r;u++)c[u-f]=[];for(let u=0,s=i.length;u<s;u++){let n=i[u],a=n.options,t=this._getOrCreateViewModelDecoration(n),l=t.range;if(o[d++]=t,a.inlineClassName){let h=new T.InlineDecoration(l,a.inlineClassName,a.inlineClassNameAffectsLetterSpacing?3:0),g=Math.max(f,l.startLineNumber),w=Math.min(r,l.endLineNumber);for(let _=g;_<=w;_++)c[_-f].push(h)}if(a.beforeContentClassName&&f<=l.startLineNumber&&l.startLineNumber<=r){let h=new T.InlineDecoration(new N.Range(l.startLineNumber,l.startColumn,l.startLineNumber,l.startColumn),a.beforeContentClassName,1);c[l.startLineNumber-f].push(h)}if(a.afterContentClassName&&f<=l.endLineNumber&&l.endLineNumber<=r){let h=new T.InlineDecoration(new N.Range(l.endLineNumber,l.endColumn,l.endLineNumber,l.endColumn),a.afterContentClassName,2);c[l.endLineNumber-f].push(h)}}return{decorations:o,inlineDecorations:c}}}e.ViewModelDecorations=S}),define(te[475],ie([4,5]),function(q,e){return q.create("vs/editor/common/editorContextKeys",e)}),define(te[476],ie([4,5]),function(q,e){return q.create("vs/editor/common/model/editStack",e)}),define(te[249],ie([0,1,476,10,21,24,229,104,44]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function i(s){return s.toString()}class f{constructor(n,a,t,l,h,g,w){this.beforeVersionId=n,this.afterVersionId=a,this.beforeEOL=t,this.afterEOL=l,this.beforeCursorState=h,this.afterCursorState=g,this.changes=w}static create(n,a){const t=n.getAlternativeVersionId(),l=d(n);return new f(t,t,l,l,a,a,[])}append(n,a,t,l,h){a.length>0&&(this.changes=(0,S.compressConsecutiveTextChanges)(this.changes,a)),this.afterEOL=t,this.afterVersionId=l,this.afterCursorState=h}static _writeSelectionsSize(n){return 4+4*4*(n?n.length:0)}static _writeSelections(n,a,t){if(p.writeUInt32BE(n,a?a.length:0,t),t+=4,a)for(const l of a)p.writeUInt32BE(n,l.selectionStartLineNumber,t),t+=4,p.writeUInt32BE(n,l.selectionStartColumn,t),t+=4,p.writeUInt32BE(n,l.positionLineNumber,t),t+=4,p.writeUInt32BE(n,l.positionColumn,t),t+=4;return t}static _readSelections(n,a,t){const l=p.readUInt32BE(n,a);a+=4;for(let h=0;h<l;h++){const g=p.readUInt32BE(n,a);a+=4;const w=p.readUInt32BE(n,a);a+=4;const _=p.readUInt32BE(n,a);a+=4;const C=p.readUInt32BE(n,a);a+=4,t.push(new T.Selection(g,w,_,C))}return a}serialize(){let n=4+4+1+1+f._writeSelectionsSize(this.beforeCursorState)+f._writeSelectionsSize(this.afterCursorState)+4;for(const l of this.changes)n+=l.writeSize();const a=new Uint8Array(n);let t=0;p.writeUInt32BE(a,this.beforeVersionId,t),t+=4,p.writeUInt32BE(a,this.afterVersionId,t),t+=4,p.writeUInt8(a,this.beforeEOL,t),t+=1,p.writeUInt8(a,this.afterEOL,t),t+=1,t=f._writeSelections(a,this.beforeCursorState,t),t=f._writeSelections(a,this.afterCursorState,t),p.writeUInt32BE(a,this.changes.length,t),t+=4;for(const l of this.changes)t=l.write(a,t);return a.buffer}static deserialize(n){const a=new Uint8Array(n);let t=0;const l=p.readUInt32BE(a,t);t+=4;const h=p.readUInt32BE(a,t);t+=4;const g=p.readUInt8(a,t);t+=1;const w=p.readUInt8(a,t);t+=1;const _=[];t=f._readSelections(a,t,_);const C=[];t=f._readSelections(a,t,C);const v=p.readUInt32BE(a,t);t+=4;const m=[];for(let E=0;E<v;E++)t=S.TextChange.read(a,t,m);return new f(l,h,g,w,_,C,m)}}e.SingleModelEditStackData=f;class r{constructor(n,a){this.model=n,this._data=f.create(n,a)}get type(){return 0}get resource(){return D.URI.isUri(this.model)?this.model:this.model.uri}get label(){return y.localize(0,null)}toString(){return(this._data instanceof f?this._data:f.deserialize(this._data)).changes.map(a=>a.toString()).join(", ")}matchesResource(n){return(D.URI.isUri(this.model)?this.model:this.model.uri).toString()===n.toString()}setModel(n){this.model=n}canAppend(n){return this.model===n&&this._data instanceof f}append(n,a,t,l,h){this._data instanceof f&&this._data.append(n,a,t,l,h)}close(){this._data instanceof f&&(this._data=this._data.serialize())}open(){this._data instanceof f||(this._data=f.deserialize(this._data))}undo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof f&&(this._data=this._data.serialize());const n=f.deserialize(this._data);this.model._applyUndo(n.changes,n.beforeEOL,n.beforeVersionId,n.beforeCursorState)}redo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof f&&(this._data=this._data.serialize());const n=f.deserialize(this._data);this.model._applyRedo(n.changes,n.afterEOL,n.afterVersionId,n.afterCursorState)}heapSize(){return this._data instanceof f&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=r;class o{constructor(n,a){this.type=1,this.label=n,this._isOpen=!0,this._editStackElementsArr=a.slice(0),this._editStackElementsMap=new Map;for(const t of this._editStackElementsArr){const l=i(t.resource);this._editStackElementsMap.set(l,t)}this._delegate=null}get resources(){return this._editStackElementsArr.map(n=>n.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(n){const a=i(n);return this._editStackElementsMap.has(a)}setModel(n){const a=i(D.URI.isUri(n)?n:n.uri);this._editStackElementsMap.has(a)&&this._editStackElementsMap.get(a).setModel(n)}canAppend(n){if(!this._isOpen)return!1;const a=i(n.uri);return this._editStackElementsMap.has(a)?this._editStackElementsMap.get(a).canAppend(n):!1}append(n,a,t,l,h){const g=i(n.uri);this._editStackElementsMap.get(g).append(n,a,t,l,h)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const n of this._editStackElementsArr)n.undo()}redo(){for(const n of this._editStackElementsArr)n.redo()}heapSize(n){const a=i(n);return this._editStackElementsMap.has(a)?this._editStackElementsMap.get(a).heapSize():0}split(){return this._editStackElementsArr}toString(){let n=[];for(const a of this._editStackElementsArr)n.push(`${(0,b.basename)(a.resource)}: ${a}`);return`{${n.join(", ")}}`}}e.MultiModelEditStackElement=o;function d(s){return s.getEOL()===`
`?0:1}function c(s){return s?s instanceof r||s instanceof o:!1}e.isEditStackElement=c;class u{constructor(n,a){this._model=n,this._undoRedoService=a}pushStackElement(){const n=this._undoRedoService.getLastElement(this._model.uri);c(n)&&n.close()}popStackElement(){const n=this._undoRedoService.getLastElement(this._model.uri);c(n)&&n.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(n){const a=this._undoRedoService.getLastElement(this._model.uri);if(c(a)&&a.canAppend(this._model))return a;const t=new r(this._model,n);return this._undoRedoService.pushElement(t),t}pushEOL(n){const a=this._getOrCreateEditStackElement(null);this._model.setEOL(n),a.append(this._model,[],d(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(n,a,t){const l=this._getOrCreateEditStackElement(n),h=this._model.applyEdits(a,!0),g=u._computeCursorState(t,h),w=h.map((_,C)=>({index:C,textChange:_.textChange}));return w.sort((_,C)=>_.textChange.oldPosition===C.textChange.oldPosition?_.index-C.index:_.textChange.oldPosition-C.textChange.oldPosition),l.append(this._model,w.map(_=>_.textChange),d(this._model),this._model.getAlternativeVersionId(),g),g}static _computeCursorState(n,a){try{return n?n(a):null}catch(t){return(0,N.onUnexpectedError)(t),null}}}e.EditStack=u}),define(te[477],ie([4,5]),function(q,e){return q.create("vs/editor/common/modes/modesRegistry",e)}),define(te[478],ie([4,5]),function(q,e){return q.create("vs/editor/common/standaloneStrings",e)}),define(te[64],ie([0,1,478]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=e.AccessibilityHelpNLS=void 0;var N;(function(o){o.noSelection=y.localize(0,null),o.singleSelectionRange=y.localize(1,null),o.singleSelection=y.localize(2,null),o.multiSelectionRange=y.localize(3,null),o.multiSelection=y.localize(4,null),o.emergencyConfOn=y.localize(5,null),o.openingDocs=y.localize(6,null),o.readonlyDiffEditor=y.localize(7,null),o.editableDiffEditor=y.localize(8,null),o.readonlyEditor=y.localize(9,null),o.editableEditor=y.localize(10,null),o.changeConfigToOnMac=y.localize(11,null),o.changeConfigToOnWinLinux=y.localize(12,null),o.auto_on=y.localize(13,null),o.auto_off=y.localize(14,null),o.tabFocusModeOnMsg=y.localize(15,null),o.tabFocusModeOnMsgNoKb=y.localize(16,null),o.tabFocusModeOffMsg=y.localize(17,null),o.tabFocusModeOffMsgNoKb=y.localize(18,null),o.openDocMac=y.localize(19,null),o.openDocWinLinux=y.localize(20,null),o.outroMsg=y.localize(21,null),o.showAccessibilityHelpAction=y.localize(22,null)})(N=e.AccessibilityHelpNLS||(e.AccessibilityHelpNLS={}));var T;(function(o){o.inspectTokensAction=y.localize(23,null)})(T=e.InspectTokensNLS||(e.InspectTokensNLS={}));var D;(function(o){o.gotoLineActionLabel=y.localize(24,null)})(D=e.GoToLineNLS||(e.GoToLineNLS={}));var S;(function(o){o.helpQuickAccessActionLabel=y.localize(25,null)})(S=e.QuickHelpNLS||(e.QuickHelpNLS={}));var p;(function(o){o.quickCommandActionLabel=y.localize(26,null),o.quickCommandHelp=y.localize(27,null)})(p=e.QuickCommandNLS||(e.QuickCommandNLS={}));var b;(function(o){o.quickOutlineActionLabel=y.localize(28,null),o.quickOutlineByCategoryActionLabel=y.localize(29,null)})(b=e.QuickOutlineNLS||(e.QuickOutlineNLS={}));var i;(function(o){o.editorViewAccessibleLabel=y.localize(30,null),o.accessibilityHelpMessage=y.localize(31,null)})(i=e.StandaloneCodeEditorNLS||(e.StandaloneCodeEditorNLS={}));var f;(function(o){o.toggleHighContrast=y.localize(32,null)})(f=e.ToggleHighContrastNLS||(e.ToggleHighContrastNLS={}));var r;(function(o){o.bulkEditServiceSummary=y.localize(33,null)})(r=e.SimpleServicesNLS||(e.SimpleServicesNLS={}))}),define(te[479],ie([4,5]),function(q,e){return q.create("vs/editor/common/view/editorColorRegistry",e)}),define(te[480],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/anchorSelect/anchorSelect",e)}),define(te[481],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/bracketMatching/bracketMatching",e)}),define(te[482],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/caretOperations/caretOperations",e)}),define(te[483],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/caretOperations/transpose",e)}),define(te[484],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/clipboard/clipboard",e)}),define(te[485],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/codeAction/codeActionCommands",e)}),define(te[486],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/codeAction/lightBulbWidget",e)}),define(te[487],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/codelens/codelensController",e)}),define(te[488],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/comment/comment",e)}),define(te[489],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/contextmenu/contextmenu",e)}),define(te[490],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/cursorUndo/cursorUndo",e)}),define(te[491],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/find/findController",e)}),define(te[492],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/find/findWidget",e)}),define(te[493],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/folding/folding",e)}),define(te[494],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/folding/foldingDecorations",e)}),define(te[495],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/fontZoom/fontZoom",e)}),define(te[496],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/format/format",e)}),define(te[497],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/format/formatActions",e)}),define(te[498],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/gotoError/gotoError",e)}),define(te[499],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/gotoError/gotoErrorWidget",e)}),define(te[500],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/goToCommands",e)}),define(te[501],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition",e)}),define(te[502],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/peek/referencesController",e)}),define(te[503],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/peek/referencesTree",e)}),define(te[504],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/peek/referencesWidget",e)}),define(te[505],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/referencesModel",e)}),define(te[121],ie([0,1,10,6,128,2,47,44,8,3,505]),function(q,e,y,N,T,D,S,p,b,i,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class r{constructor(s,n,a,t){this.isProviderFirst=s,this.parent=n,this.link=a,this._rangeCallback=t,this.id=T.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var s,n;return(n=(s=this._range)!==null&&s!==void 0?s:this.link.targetSelectionRange)!==null&&n!==void 0?n:this.link.range}set range(s){this._range=s,this._rangeCallback(this)}get ariaMessage(){var s;const n=(s=this.parent.getPreview(this))===null||s===void 0?void 0:s.preview(this.range);return n?(0,f.localize)(1,null,(0,p.basename)(this.uri),this.range.startLineNumber,this.range.startColumn,n.value):(0,f.localize)(0,null,(0,p.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=r;class o{constructor(s){this._modelReference=s}dispose(){this._modelReference.dispose()}preview(s,n=8){const a=this._modelReference.object.textEditorModel;if(!a)return;const{startLineNumber:t,startColumn:l,endLineNumber:h,endColumn:g}=s,w=a.getWordUntilPosition({lineNumber:t,column:l-n}),_=new i.Range(t,w.startColumn,t,l),C=new i.Range(h,g,h,1073741824),v=a.getValueInRange(_).replace(/^\s+/,""),m=a.getValueInRange(s),E=a.getValueInRange(C).replace(/\s+$/,"");return{value:v+m+E,highlight:{start:v.length,end:v.length+m.length}}}}e.FilePreview=o;class d{constructor(s,n){this.parent=s,this.uri=n,this.children=[],this._previews=new S.ResourceMap}dispose(){(0,D.dispose)(this._previews.values()),this._previews.clear()}getPreview(s){return this._previews.get(s.uri)}get ariaMessage(){const s=this.children.length;return s===1?(0,f.localize)(2,null,(0,p.basename)(this.uri),this.uri.fsPath):(0,f.localize)(3,null,s,(0,p.basename)(this.uri),this.uri.fsPath)}resolve(s){return Me(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let n of this.children)if(!this._previews.has(n.uri))try{const a=yield s.createModelReference(n.uri);this._previews.set(n.uri,new o(a))}catch(a){(0,y.onUnexpectedError)(a)}return this})}}e.FileReferences=d;class c{constructor(s,n){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new N.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=s,this._title=n;const[a]=s;s.sort(c._compareReferences);let t;for(let l of s)if((!t||!p.extUri.isEqual(t.uri,l.uri,!0))&&(t=new d(this,l.uri),this.groups.push(t)),t.children.length===0||c._compareReferences(l,t.children[t.children.length-1])!==0){const h=new r(a===l,t,l,g=>this._onDidChangeReferenceRange.fire(g));this.references.push(h),t.children.push(h)}}dispose(){(0,D.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new c(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,f.localize)(4,null):this.references.length===1?(0,f.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,f.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,f.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(s,n){let{parent:a}=s,t=a.children.indexOf(s),l=a.children.length,h=a.parent.groups.length;return h===1||n&&t+1<l||!n&&t>0?(n?t=(t+1)%l:t=(t+l-1)%l,a.children[t]):(t=a.parent.groups.indexOf(a),n?(t=(t+1)%h,a.parent.groups[t].children[0]):(t=(t+h-1)%h,a.parent.groups[t].children[a.parent.groups[t].children.length-1]))}nearestReference(s,n){const a=this.references.map((t,l)=>({idx:l,prefixLen:b.commonPrefixLength(t.uri.toString(),s.toString()),offsetDist:Math.abs(t.range.startLineNumber-n.lineNumber)*100+Math.abs(t.range.startColumn-n.column)})).sort((t,l)=>t.prefixLen>l.prefixLen?-1:t.prefixLen<l.prefixLen?1:t.offsetDist<l.offsetDist?-1:t.offsetDist>l.offsetDist?1:0)[0];if(a)return this.references[a.idx]}referenceAt(s,n){for(const a of this.references)if(a.uri.toString()===s.toString()&&i.Range.containsPosition(a.range,n))return a}firstReference(){for(const s of this.references)if(s.isProviderFirst)return s;return this.references[0]}static _compareReferences(s,n){return p.extUri.compare(s.uri,n.uri)||i.Range.compareRangesUsingStarts(s.range,n.range)}}e.ReferencesModel=c}),define(te[506],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/symbolNavigation",e)}),define(te[507],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/hover/hover",e)}),define(te[508],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/hover/markdownHoverParticipant",e)}),define(te[509],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/hover/markerHoverParticipant",e)}),define(te[510],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/inPlaceReplace/inPlaceReplace",e)}),define(te[511],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/indentation/indentation",e)}),define(te[512],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/inlineCompletions/ghostTextController",e)}),define(te[513],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant",e)}),define(te[514],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/linesOperations/linesOperations",e)}),define(te[515],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/linkedEditing/linkedEditing",e)}),define(te[516],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/links/links",e)}),define(te[517],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/message/messageController",e)}),define(te[518],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/multicursor/multicursor",e)}),define(te[519],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/parameterHints/parameterHints",e)}),define(te[520],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/parameterHints/parameterHintsWidget",e)}),define(te[521],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/peekView/peekView",e)}),define(te[522],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/quickAccess/gotoLineQuickAccess",e)}),define(te[523],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess",e)}),define(te[524],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/rename/rename",e)}),define(te[525],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/rename/renameInputField",e)}),define(te[526],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/smartSelect/smartSelect",e)}),define(te[527],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/snippet/snippetController2",e)}),define(te[528],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/snippet/snippetVariables",e)}),define(te[529],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/suggest/suggest",e)}),define(te[530],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/suggest/suggestController",e)}),define(te[531],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/suggest/suggestWidget",e)}),define(te[532],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/suggest/suggestWidgetDetails",e)}),define(te[533],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/suggest/suggestWidgetRenderer",e)}),define(te[534],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/suggest/suggestWidgetStatus",e)}),define(te[535],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/symbolIcons/symbolIcons",e)}),define(te[536],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode",e)}),define(te[537],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/tokenization/tokenization",e)}),define(te[538],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/unusualLineTerminators/unusualLineTerminators",e)}),define(te[539],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/wordHighlighter/wordHighlighter",e)}),define(te[540],ie([4,5]),function(q,e){return q.create("vs/editor/contrib/wordOperations/wordOperations",e)}),define(te[541],ie([4,5]),function(q,e){return q.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(te[542],ie([4,5]),function(q,e){return q.create("vs/platform/configuration/common/configurationRegistry",e)}),define(te[543],ie([4,5]),function(q,e){return q.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(te[544],ie([4,5]),function(q,e){return q.create("vs/platform/contextkey/common/contextkeys",e)}),define(te[545],ie([4,5]),function(q,e){return q.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(te[546],ie([4,5]),function(q,e){return q.create("vs/platform/list/browser/listService",e)}),define(te[547],ie([4,5]),function(q,e){return q.create("vs/platform/markers/common/markers",e)}),define(te[548],ie([4,5]),function(q,e){return q.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(te[549],ie([4,5]),function(q,e){return q.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(te[550],ie([4,5]),function(q,e){return q.create("vs/platform/theme/common/colorRegistry",e)}),define(te[551],ie([4,5]),function(q,e){return q.create("vs/platform/theme/common/iconRegistry",e)}),define(te[552],ie([4,5]),function(q,e){return q.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(te[553],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=void 0;function y(N){var T,D;return((T=N.lookupKeybinding("history.showPrevious"))===null||T===void 0?void 0:T.getElectronAccelerator())==="Up"&&((D=N.lookupKeybinding("history.showNext"))===null||D===void 0?void 0:D.getElectronAccelerator())==="Down"}e.showHistoryKeybindingHint=y}),define(te[554],ie([0,1,7]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;class N{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(D,S){return Me(this,void 0,void 0,function*(){if(S){this.mapTextToType.set(S,D);return}try{return yield navigator.clipboard.writeText(D)}catch(i){console.error(i)}const p=document.activeElement,b=document.body.appendChild((0,y.$)("textarea",{"aria-hidden":!0}));b.style.height="1px",b.style.width="1px",b.style.position="absolute",b.value=D,b.focus(),b.select(),document.execCommand("copy"),p instanceof HTMLElement&&p.focus(),document.body.removeChild(b)})}readText(D){return Me(this,void 0,void 0,function*(){if(D)return this.mapTextToType.get(D)||"";try{return yield navigator.clipboard.readText()}catch(S){return console.error(S),""}})}readFindText(){return Me(this,void 0,void 0,function*(){return this.findText})}writeFindText(D){return Me(this,void 0,void 0,function*(){this.findText=D})}}e.BrowserClipboardService=N}),define(te[555],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenContext=void 0;var y;(function(N){N[N.API=0]="API",N[N.USER=1]="USER"})(y=e.EditorOpenContext||(e.EditorOpenContext={}))}),define(te[556],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifier=void 0;class y{constructor(T){this.value=T,this._lower=T.toLowerCase()}static toKey(T){return typeof T=="string"?T.toLowerCase():T._lower}}e.ExtensionIdentifier=y}),define(te[250],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var y;(function(N){N[N.FILE=0]="FILE",N[N.FOLDER=1]="FOLDER",N[N.ROOT_FOLDER=2]="ROOT_FOLDER"})(y=e.FileKind||(e.FileKind={}))}),define(te[251],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class y{constructor(T,D=[],S=!1){this.ctor=T,this.staticArguments=D,this.supportsDelayedInstantiation=S}}e.SyncDescriptor=y}),define(te[76],ie([0,1,251]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const N=[];function T(S,p,b){p instanceof y.SyncDescriptor||(p=new y.SyncDescriptor(p,[],b)),N.push([S,p])}e.registerSingleton=T;function D(){return N}e.getSingletonServiceDescriptors=D}),define(te[557],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class y{constructor(D){this.incoming=new Map,this.outgoing=new Map,this.data=D}}e.Node=y;class N{constructor(D){this._hashFn=D,this._nodes=new Map}roots(){const D=[];for(let S of this._nodes.values())S.outgoing.size===0&&D.push(S);return D}insertEdge(D,S){const p=this.lookupOrInsertNode(D),b=this.lookupOrInsertNode(S);p.outgoing.set(this._hashFn(S),b),b.incoming.set(this._hashFn(D),p)}removeNode(D){const S=this._hashFn(D);this._nodes.delete(S);for(let p of this._nodes.values())p.outgoing.delete(S),p.incoming.delete(S)}lookupOrInsertNode(D){const S=this._hashFn(D);let p=this._nodes.get(S);return p||(p=new y(D),this._nodes.set(S,p)),p}isEmpty(){return this._nodes.size===0}toString(){let D=[];for(let[S,p]of this._nodes)D.push(`${S}, (incoming)[${[...p.incoming.keys()].join(", ")}], (outgoing)[${[...p.outgoing.keys()].join(",")}]`);return D.join(`
`)}findCycleSlow(){for(let[D,S]of this._nodes){const p=new Set([D]),b=this._findCycle(S,p);if(b)return b}}_findCycle(D,S){for(let[p,b]of D.outgoing){if(S.has(p))return[...S,p].join(" -> ");S.add(p);const i=this._findCycle(b,S);if(i)return i;S.delete(p)}}}e.Graph=N}),define(te[9],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=e.createDecorator=e.IInstantiationService=e._util=void 0;var y;(function(S){S.serviceIds=new Map,S.DI_TARGET="$di$target",S.DI_DEPENDENCIES="$di$dependencies";function p(b){return b[S.DI_DEPENDENCIES]||[]}S.getServiceDependencies=p})(y=e._util||(e._util={})),e.IInstantiationService=T("instantiationService");function N(S,p,b,i){p[y.DI_TARGET]===p?p[y.DI_DEPENDENCIES].push({id:S,index:b,optional:i}):(p[y.DI_DEPENDENCIES]=[{id:S,index:b,optional:i}],p[y.DI_TARGET]=p)}function T(S){if(y.serviceIds.has(S))return y.serviceIds.get(S);const p=function(b,i,f){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");N(p,b,f,!1)};return p.toString=()=>S,y.serviceIds.set(S,p),p}e.createDecorator=T;function D(S){return function(p,b,i){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");N(S,p,i,!0)}}e.optional=D}),define(te[142],ie([0,1,9,24,20]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,y.createDecorator)("IWorkspaceEditService");function D(f){return(0,T.isObject)(f)&&(Boolean(f.newUri)||Boolean(f.oldUri))}function S(f){return(0,T.isObject)(f)&&N.URI.isUri(f.resource)&&(0,T.isObject)(f.edit)}class p{constructor(r){this.metadata=r}static convert(r){return r.edits.map(o=>{if(S(o))return new b(o.resource,o.edit,o.modelVersionId,o.metadata);if(D(o))return new i(o.oldUri,o.newUri,o.options,o.metadata);throw new Error("Unsupported edit")})}}e.ResourceEdit=p;class b extends p{constructor(r,o,d,c){super(c);this.resource=r,this.textEdit=o,this.versionId=d}}e.ResourceTextEdit=b;class i extends p{constructor(r,o,d,c){super(c);this.oldResource=r,this.newResource=o,this.options=d}}e.ResourceFileEdit=i}),define(te[28],ie([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,y.createDecorator)("codeEditorService")}),define(te[77],ie([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=e.ID_EDITOR_WORKER_SERVICE=void 0,e.ID_EDITOR_WORKER_SERVICE="editorWorkerService",e.IEditorWorkerService=(0,y.createDecorator)(e.ID_EDITOR_WORKER_SERVICE)}),define(te[188],ie([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,y.createDecorator)("markerDecorationsService")}),define(te[56],ie([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModeService=void 0,e.IModeService=(0,y.createDecorator)("modeService")}),define(te[39],ie([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.IModelService=void 0,e.IModelService=(0,y.createDecorator)("modelService");function N(T){return!T.isTooLargeForSyncing()&&!T.isForSimpleWidget}e.shouldSynchronizeModel=N}),define(te[143],ie([0,1,6,93,2,47,105,392,39]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRequestDelays=e.LanguageFeatureRegistry=void 0;function i(u){return typeof u=="string"?!1:Array.isArray(u)?u.every(i):!!u.exclusive}class f{constructor(){this._clock=0,this._entries=[],this._onDidChange=new y.Emitter}get onDidChange(){return this._onDidChange.event}register(s,n){let a={selector:s,provider:n,_score:-1,_time:this._clock++};return this._entries.push(a),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,T.toDisposable)(()=>{if(a){let t=this._entries.indexOf(a);t>=0&&(this._entries.splice(t,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),a=void 0)}})}has(s){return this.all(s).length>0}all(s){if(!s)return[];this._updateScores(s);const n=[];for(let a of this._entries)a._score>0&&n.push(a.provider);return n}ordered(s){const n=[];return this._orderedForEach(s,a=>n.push(a.provider)),n}orderedGroups(s){const n=[];let a,t;return this._orderedForEach(s,l=>{a&&t===l._score?a.push(l.provider):(t=l._score,a=[l.provider],n.push(a))}),n}_orderedForEach(s,n){if(!!s){this._updateScores(s);for(const a of this._entries)a._score>0&&n(a)}}_updateScores(s){let n={uri:s.uri.toString(),language:s.getLanguageIdentifier().language};if(!(this._lastCandidate&&this._lastCandidate.language===n.language&&this._lastCandidate.uri===n.uri)){this._lastCandidate=n;for(let a of this._entries)if(a._score=(0,p.score)(a.selector,s.uri,s.getLanguageIdentifier().language,(0,b.shouldSynchronizeModel)(s)),i(a.selector)&&a._score>0){for(let t of this._entries)t._score=0;a._score=1e3;break}this._entries.sort(f._compareByScoreAndTime)}}static _compareByScoreAndTime(s,n){return s._score<n._score?1:s._score>n._score?-1:s._time<n._time?1:s._time>n._time?-1:0}}e.LanguageFeatureRegistry=f;const r=new WeakMap;let o=0;function d(u){let s=r.get(u);return s===void 0&&(s=++o,r.set(u,s)),s}class c{constructor(s,n,a=Number.MAX_SAFE_INTEGER){this._registry=s,this.min=n,this.max=a,this._cache=new D.LRUCache(50,.7)}_key(s){return s.id+this._registry.all(s).reduce((n,a)=>(0,N.doHash)(d(a),n),0)}_clamp(s){return s===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(s*1.3)))}get(s){const n=this._key(s),a=this._cache.get(n);return this._clamp(a==null?void 0:a.value)}update(s,n){const a=this._key(s);let t=this._cache.get(a);return t||(t=new S.MovingAverage,this._cache.set(a,t)),t.update(n),this.get(s)}}e.LanguageFeatureRequestDelays=c}),define(te[18],ie([0,1,24,3,143,400,27]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.DocumentRangeSemanticTokensProviderRegistry=e.DocumentSemanticTokensProviderRegistry=e.FoldingRangeProviderRegistry=e.SelectionRangeRegistry=e.ColorProviderRegistry=e.LinkProviderRegistry=e.OnTypeFormattingEditProviderRegistry=e.DocumentRangeFormattingEditProviderRegistry=e.DocumentFormattingEditProviderRegistry=e.CodeActionProviderRegistry=e.InlayHintsProviderRegistry=e.CodeLensProviderRegistry=e.TypeDefinitionProviderRegistry=e.ImplementationProviderRegistry=e.DeclarationProviderRegistry=e.DefinitionProviderRegistry=e.LinkedEditingRangeProviderRegistry=e.DocumentHighlightProviderRegistry=e.DocumentSymbolProviderRegistry=e.HoverProviderRegistry=e.SignatureHelpProviderRegistry=e.InlineCompletionsProviderRegistry=e.CompletionProviderRegistry=e.RenameProviderRegistry=e.ReferenceProviderRegistry=e.InlayHintKind=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.InlineCompletionTriggerKind=e.completionKindFromString=e.completionKindToCssClass=e.TokenMetadata=e.LanguageIdentifier=void 0;class p{constructor(n,a){this.language=n,this.id=a}}e.LanguageIdentifier=p;class b{static getLanguageId(n){return(n&255)>>>0}static getTokenType(n){return(n&1792)>>>8}static getFontStyle(n){return(n&14336)>>>11}static getForeground(n){return(n&8372224)>>>14}static getBackground(n){return(n&4286578688)>>>23}static getClassNameFromMetadata(n){let a=this.getForeground(n),t="mtk"+a,l=this.getFontStyle(n);return l&1&&(t+=" mtki"),l&2&&(t+=" mtkb"),l&4&&(t+=" mtku"),t}static getInlineStyleFromMetadata(n,a){const t=this.getForeground(n),l=this.getFontStyle(n);let h=`color: ${a[t]};`;return l&1&&(h+="font-style: italic;"),l&2&&(h+="font-weight: bold;"),l&4&&(h+="text-decoration: underline;"),h}}e.TokenMetadata=b,e.completionKindToCssClass=function(){let s=Object.create(null);return s[0]="symbol-method",s[1]="symbol-function",s[2]="symbol-constructor",s[3]="symbol-field",s[4]="symbol-variable",s[5]="symbol-class",s[6]="symbol-struct",s[7]="symbol-interface",s[8]="symbol-module",s[9]="symbol-property",s[10]="symbol-event",s[11]="symbol-operator",s[12]="symbol-unit",s[13]="symbol-value",s[14]="symbol-constant",s[15]="symbol-enum",s[16]="symbol-enum-member",s[17]="symbol-keyword",s[27]="symbol-snippet",s[18]="symbol-text",s[19]="symbol-color",s[20]="symbol-file",s[21]="symbol-reference",s[22]="symbol-customcolor",s[23]="symbol-folder",s[24]="symbol-type-parameter",s[25]="account",s[26]="issues",function(n){const a=s[n];let t=a&&S.iconRegistry.get(a);return t||(console.info("No codicon found for CompletionItemKind "+n),t=S.Codicon.symbolProperty),t.classNames}}(),e.completionKindFromString=function(){let s=Object.create(null);return s.method=0,s.function=1,s.constructor=2,s.field=3,s.variable=4,s.class=5,s.struct=6,s.interface=7,s.module=8,s.property=9,s.event=10,s.operator=11,s.unit=12,s.value=13,s.constant=14,s.enum=15,s["enum-member"]=16,s.enumMember=16,s.keyword=17,s.snippet=27,s.text=18,s.color=19,s.file=20,s.reference=21,s.customcolor=22,s.folder=23,s["type-parameter"]=24,s.typeParameter=24,s.account=25,s.issue=26,function(n,a){let t=s[n];return typeof t=="undefined"&&!a&&(t=9),t}}();var i;(function(s){s[s.Automatic=0]="Automatic",s[s.Explicit=1]="Explicit"})(i=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var f;(function(s){s[s.Invoke=1]="Invoke",s[s.TriggerCharacter=2]="TriggerCharacter",s[s.ContentChange=3]="ContentChange"})(f=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var r;(function(s){s[s.Text=0]="Text",s[s.Read=1]="Read",s[s.Write=2]="Write"})(r=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function o(s){return s&&y.URI.isUri(s.uri)&&N.Range.isIRange(s.range)&&(N.Range.isIRange(s.originSelectionRange)||N.Range.isIRange(s.targetSelectionRange))}e.isLocationLink=o;var d;(function(s){const n=new Map;n.set("file",0),n.set("module",1),n.set("namespace",2),n.set("package",3),n.set("class",4),n.set("method",5),n.set("property",6),n.set("field",7),n.set("constructor",8),n.set("enum",9),n.set("interface",10),n.set("function",11),n.set("variable",12),n.set("constant",13),n.set("string",14),n.set("number",15),n.set("boolean",16),n.set("array",17),n.set("object",18),n.set("key",19),n.set("null",20),n.set("enum-member",21),n.set("struct",22),n.set("event",23),n.set("operator",24),n.set("type-parameter",25);const a=new Map;a.set(0,"file"),a.set(1,"module"),a.set(2,"namespace"),a.set(3,"package"),a.set(4,"class"),a.set(5,"method"),a.set(6,"property"),a.set(7,"field"),a.set(8,"constructor"),a.set(9,"enum"),a.set(10,"interface"),a.set(11,"function"),a.set(12,"variable"),a.set(13,"constant"),a.set(14,"string"),a.set(15,"number"),a.set(16,"boolean"),a.set(17,"array"),a.set(18,"object"),a.set(19,"key"),a.set(20,"null"),a.set(21,"enum-member"),a.set(22,"struct"),a.set(23,"event"),a.set(24,"operator"),a.set(25,"type-parameter");function t(g){return n.get(g)}s.fromString=t;function l(g){return a.get(g)}s.toString=l;function h(g,w){const _=a.get(g);let C=_&&S.iconRegistry.get("symbol-"+_);return C||(console.info("No codicon found for SymbolKind "+g),C=S.Codicon.symbolProperty),`${w?"inline":"block"} ${C.classNames}`}s.toCssClassName=h})(d=e.SymbolKinds||(e.SymbolKinds={}));class c{constructor(n){this.value=n}}e.FoldingRangeKind=c,c.Comment=new c("comment"),c.Imports=new c("imports"),c.Region=new c("region");var u;(function(s){s[s.Other=0]="Other",s[s.Type=1]="Type",s[s.Parameter=2]="Parameter"})(u=e.InlayHintKind||(e.InlayHintKind={})),e.ReferenceProviderRegistry=new T.LanguageFeatureRegistry,e.RenameProviderRegistry=new T.LanguageFeatureRegistry,e.CompletionProviderRegistry=new T.LanguageFeatureRegistry,e.InlineCompletionsProviderRegistry=new T.LanguageFeatureRegistry,e.SignatureHelpProviderRegistry=new T.LanguageFeatureRegistry,e.HoverProviderRegistry=new T.LanguageFeatureRegistry,e.DocumentSymbolProviderRegistry=new T.LanguageFeatureRegistry,e.DocumentHighlightProviderRegistry=new T.LanguageFeatureRegistry,e.LinkedEditingRangeProviderRegistry=new T.LanguageFeatureRegistry,e.DefinitionProviderRegistry=new T.LanguageFeatureRegistry,e.DeclarationProviderRegistry=new T.LanguageFeatureRegistry,e.ImplementationProviderRegistry=new T.LanguageFeatureRegistry,e.TypeDefinitionProviderRegistry=new T.LanguageFeatureRegistry,e.CodeLensProviderRegistry=new T.LanguageFeatureRegistry,e.InlayHintsProviderRegistry=new T.LanguageFeatureRegistry,e.CodeActionProviderRegistry=new T.LanguageFeatureRegistry,e.DocumentFormattingEditProviderRegistry=new T.LanguageFeatureRegistry,e.DocumentRangeFormattingEditProviderRegistry=new T.LanguageFeatureRegistry,e.OnTypeFormattingEditProviderRegistry=new T.LanguageFeatureRegistry,e.LinkProviderRegistry=new T.LanguageFeatureRegistry,e.ColorProviderRegistry=new T.LanguageFeatureRegistry,e.SelectionRangeRegistry=new T.LanguageFeatureRegistry,e.FoldingRangeProviderRegistry=new T.LanguageFeatureRegistry,e.DocumentSemanticTokensProviderRegistry=new T.LanguageFeatureRegistry,e.DocumentRangeSemanticTokensProviderRegistry=new T.LanguageFeatureRegistry,e.TokenizationRegistry=new D.TokenizationRegistryImpl}),define(te[87],ie([0,1,18]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlicedLineTokens=e.LineTokens=void 0;class N{constructor(S,p){this._lineTokensBrand=void 0,this._tokens=S,this._tokensCount=this._tokens.length>>>1,this._text=p}static createEmpty(S){const p=N.defaultTokenMetadata,b=new Uint32Array(2);return b[0]=S.length,b[1]=p,new N(b,S)}equals(S){return S instanceof N?this.slicedEquals(S,0,this._tokensCount):!1}slicedEquals(S,p,b){if(this._text!==S._text||this._tokensCount!==S._tokensCount)return!1;const i=p<<1,f=i+(b<<1);for(let r=i;r<f;r++)if(this._tokens[r]!==S._tokens[r])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(S){return S>0?this._tokens[S-1<<1]:0}getMetadata(S){return this._tokens[(S<<1)+1]}getLanguageId(S){const p=this._tokens[(S<<1)+1];return y.TokenMetadata.getLanguageId(p)}getStandardTokenType(S){const p=this._tokens[(S<<1)+1];return y.TokenMetadata.getTokenType(p)}getForeground(S){const p=this._tokens[(S<<1)+1];return y.TokenMetadata.getForeground(p)}getClassName(S){const p=this._tokens[(S<<1)+1];return y.TokenMetadata.getClassNameFromMetadata(p)}getInlineStyle(S,p){const b=this._tokens[(S<<1)+1];return y.TokenMetadata.getInlineStyleFromMetadata(b,p)}getEndOffset(S){return this._tokens[S<<1]}findTokenIndexAtOffset(S){return N.findIndexInTokensArray(this._tokens,S)}inflate(){return this}sliceAndInflate(S,p,b){return new T(this,S,p,b)}static convertToEndOffset(S,p){const i=(S.length>>>1)-1;for(let f=0;f<i;f++)S[f<<1]=S[f+1<<1];S[i<<1]=p}static findIndexInTokensArray(S,p){if(S.length<=2)return 0;let b=0,i=(S.length>>>1)-1;for(;b<i;){const f=b+Math.floor((i-b)/2),r=S[f<<1];if(r===p)return f+1;r<p?b=f+1:r>p&&(i=f)}return b}withInserted(S){if(S.length===0)return this;let p=0,b=0,i="";const f=new Array;let r=0;for(;;){let o=p<this._tokensCount?this._tokens[p<<1]:-1,d=b<S.length?S[b]:null;if(o!==-1&&(d===null||o<=d.offset)){i+=this._text.substring(r,o);const c=this._tokens[(p<<1)+1];f.push(i.length,c),p++,r=o}else if(d){if(d.offset>r){i+=this._text.substring(r,d.offset);const c=this._tokens[(p<<1)+1];f.push(i.length,c),r=d.offset}i+=d.text,f.push(i.length,d.tokenMetadata),b++}else break}return new N(new Uint32Array(f),i)}}e.LineTokens=N,N.defaultTokenMetadata=(0<<11|1<<14|2<<23)>>>0;class T{constructor(S,p,b,i){this._source=S,this._startOffset=p,this._endOffset=b,this._deltaOffset=i,this._firstTokenIndex=S.findTokenIndexAtOffset(p),this._tokensCount=0;for(let f=this._firstTokenIndex,r=S.getCount();f<r&&!(S.getStartOffset(f)>=b);f++)this._tokensCount++}equals(S){return S instanceof T?this._startOffset===S._startOffset&&this._endOffset===S._endOffset&&this._deltaOffset===S._deltaOffset&&this._source.slicedEquals(S._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(S){return this._source.getForeground(this._firstTokenIndex+S)}getEndOffset(S){const p=this._source.getEndOffset(this._firstTokenIndex+S);return Math.min(this._endOffset,p)-this._startOffset+this._deltaOffset}getClassName(S){return this._source.getClassName(this._firstTokenIndex+S)}getInlineStyle(S,p){return this._source.getInlineStyle(this._firstTokenIndex+S,p)}findTokenIndexAtOffset(S){return this._source.findTokenIndexAtOffset(S+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}e.SlicedLineTokens=T}),define(te[252],ie([0,1,10,114,18,138,85]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class p{constructor(o,d,c,u,s){this.length=o,this.kind=d,this.bracketId=c,this.bracketIds=u,this.astNode=s}}e.Token=p;class b{constructor(o,d){this.textModel=o,this.bracketTokens=d,this.reader=new i(this.textModel,this.bracketTokens),this._offset=S.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=o.getLineCount(),this.textBufferLastLineLength=o.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,S.toLength)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(o){this.didPeek=!1,this._offset=(0,S.lengthAdd)(this._offset,o);const d=(0,S.lengthToObj)(this._offset);this.reader.setPosition(d.lineCount,d.columnCount)}read(){let o;return this.peeked?(this.didPeek=!1,o=this.peeked):o=this.reader.read(),o&&(this._offset=(0,S.lengthAdd)(this._offset,o.length)),o}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=b;class i{constructor(o,d){this.textModel=o,this.bracketTokens=d,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=o.getLineCount(),this.textBufferLastLineLength=o.getLineLength(this.textBufferLineCount)}setPosition(o,d){o===this.lineIdx?(this.lineCharOffset=d,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=o,this.lineCharOffset=d,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const s=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,S.lengthGetColumnCountIfZeroLineCount)(s.length),s}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const o=this.lineIdx,d=this.lineCharOffset;let c=0;for(;c<1e3;){const s=this.lineTokens,n=s.getCount();let a=null;if(this.lineTokenOffset<n){const t=s.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<n&&t===s.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const l=T.TokenMetadata.getTokenType(t)===0,h=s.getEndOffset(this.lineTokenOffset);if(l&&h!==this.lineCharOffset){const g=s.getLanguageId(this.lineTokenOffset),w=this.line.substring(this.lineCharOffset,h),_=this.bracketTokens.getSingleLanguageBracketTokens(g),C=_.regExpGlobal;if(C){C.lastIndex=0;const v=C.exec(w);v&&(a=_.getToken(v[0]),a&&(this.lineCharOffset+=v.index))}}if(c+=h-this.lineCharOffset,a)if(o!==this.lineIdx||d!==this.lineCharOffset){this.peekedToken=a;break}else return this.lineCharOffset+=(0,S.lengthGetColumnCountIfZeroLineCount)(a.length),a;else this.lineTokenOffset++,this.lineCharOffset=h}else{if(this.lineIdx===this.textBufferLineCount-1)break;this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,c++}}const u=(0,S.lengthDiff)(o,d,this.lineIdx,this.lineCharOffset);return new p(u,0,-1,N.SmallImmutableSet.getEmpty(),new D.TextAstNode(u))}}class f{constructor(o,d){this.text=o,this._offset=S.lengthZero,this.idx=0;const u=d.getRegExpStr()?new RegExp(d.getRegExpStr()+`|
`,"g"):null,s=[];let n,a=0,t=0,l=0,h=0;const g=new Array;for(let C=0;C<60;C++)g.push(new p((0,S.toLength)(0,C),0,-1,N.SmallImmutableSet.getEmpty(),new D.TextAstNode((0,S.toLength)(0,C))));const w=new Array;for(let C=0;C<60;C++)w.push(new p((0,S.toLength)(1,C),0,-1,N.SmallImmutableSet.getEmpty(),new D.TextAstNode((0,S.toLength)(1,C))));if(u)for(u.lastIndex=0;(n=u.exec(o))!==null;){const C=n.index,v=n[0];if(v===`
`)a++,t=C+1;else{if(l!==C){let m;if(h===a){const E=C-l;if(E<g.length)m=g[E];else{const I=(0,S.toLength)(0,E);m=new p(I,0,-1,N.SmallImmutableSet.getEmpty(),new D.TextAstNode(I))}}else{const E=a-h,I=C-t;if(E===1&&I<w.length)m=w[I];else{const k=(0,S.toLength)(E,I);m=new p(k,0,-1,N.SmallImmutableSet.getEmpty(),new D.TextAstNode(k))}}s.push(m)}s.push(d.getToken(v)),l=C+v.length,h=a}}const _=o.length;if(l!==_){const C=h===a?(0,S.toLength)(0,_-l):(0,S.toLength)(a-h,_-t);s.push(new p(C,0,-1,N.SmallImmutableSet.getEmpty(),new D.TextAstNode(C)))}this.length=(0,S.toLength)(a,_-t),this.tokens=s}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(o){throw new y.NotSupportedError}}e.FastTokenizer=f}),define(te[558],ie([0,1,8,85,114,38,138,252]),function(q,e,y,N,T,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class b{constructor(r){this.map=r,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(r,o){function d(a,t){return o.getKey(`${a}:::${t}`)}const c=[...D.LanguageConfigurationRegistry.getColorizedBracketPairs(r)],u=new Map,s=new Set;for(const[a,t]of c){s.add(a);let l=u.get(t);const h=d(r,a);l||(l={openingBrackets:T.SmallImmutableSet.getEmpty(),first:h},u.set(t,l)),l.openingBrackets=l.openingBrackets.add(h,T.identityKeyProvider)}const n=new Map;for(const[a,t]of u){const l=(0,N.toLength)(0,a.length);n.set(a,new p.Token(l,2,t.first,t.openingBrackets,S.BracketAstNode.create(l)))}for(const a of s){const t=(0,N.toLength)(0,a.length),l=d(r,a);n.set(a,new p.Token(t,1,l,T.SmallImmutableSet.getEmpty().add(l,T.identityKeyProvider),S.BracketAstNode.create(t)))}return new b(n)}getRegExpStr(){if(this.isEmpty)return null;{const r=[...this.map.keys()];return r.sort(),r.reverse(),r.map(o=>(0,y.escapeRegExpCharacters)(o)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const r=this.getRegExpStr();this._regExpGlobal=r?new RegExp(r,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(r){return this.map.get(r)}get isEmpty(){return this.map.size===0}}e.BracketTokens=b;class i{constructor(r){this.denseKeyProvider=r,this.languageIdToBracketTokens=new Map}didLanguageChange(r){const o=this.languageIdToBracketTokens.get(r);if(!o)return!1;const d=b.createFromLanguage(r,this.denseKeyProvider).getRegExpStr();return o.getRegExpStr()!==d}getSingleLanguageBracketTokens(r){let o=this.languageIdToBracketTokens.get(r);return o||(o=b.createFromLanguage(r,this.denseKeyProvider),this.languageIdToBracketTokens.set(r,o)),o}}e.LanguageAgnosticBracketTokens=i}),define(te[144],ie([0,1,19,87,13,3,18]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokensStore=e.TokensStore2=e.MultilineTokens=e.MultilineTokens2=e.LineTokens2=e.SparseEncodedTokens=e.MultilineTokensBuilder=e.countEOL=void 0;function p(a){let t=0,l=0,h=0,g=0;for(let w=0,_=a.length;w<_;w++){const C=a.charCodeAt(w);C===13?(t===0&&(l=w),t++,w+1<_&&a.charCodeAt(w+1)===10?(g|=2,w++):g|=3,h=w+1):C===10&&(g|=1,t===0&&(l=w),t++,h=w+1)}return t===0&&(l=a.length),[t,l,a.length-h,g]}e.countEOL=p;function b(a){return(a<<0|0<<8|0<<11|1<<14|2<<23)>>>0}const i=new Uint32Array(0).buffer;class f{constructor(){this.tokens=[]}add(t,l){if(this.tokens.length>0){const h=this.tokens[this.tokens.length-1];if(h.startLineNumber+h.tokens.length-1+1===t){h.tokens.push(l);return}}this.tokens.push(new c(t,[l]))}}e.MultilineTokensBuilder=f;class r{constructor(t){this._tokens=t,this._tokenCount=t.length/4}toString(t){let l=[];for(let h=0;h<this._tokenCount;h++)l.push(`(${this._getDeltaLine(h)+t},${this._getStartCharacter(h)}-${this._getEndCharacter(h)})`);return`[${l.join(",")}]`}getMaxDeltaLine(){const t=this._getTokenCount();return t===0?-1:this._getDeltaLine(t-1)}getRange(){const t=this._getTokenCount();if(t===0)return null;const l=this._getStartCharacter(0),h=this._getDeltaLine(t-1),g=this._getEndCharacter(t-1);return new D.Range(0,l+1,h,g+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(t){return this._tokens[4*t]}_getStartCharacter(t){return this._tokens[4*t+1]}_getEndCharacter(t){return this._tokens[4*t+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(t){let l=0,h=this._getTokenCount()-1;for(;l<h;){const g=l+Math.floor((h-l)/2),w=this._getDeltaLine(g);if(w<t)l=g+1;else if(w>t)h=g-1;else{let _=g;for(;_>l&&this._getDeltaLine(_-1)===t;)_--;let C=g;for(;C<h&&this._getDeltaLine(C+1)===t;)C++;return new o(this._tokens.subarray(4*_,4*C+4))}}return this._getDeltaLine(l)===t?new o(this._tokens.subarray(4*l,4*l+4)):null}clear(){this._tokenCount=0}removeTokens(t,l,h,g){const w=this._tokens,_=this._tokenCount;let C=0,v=!1,m=0;for(let E=0;E<_;E++){const I=4*E,k=w[I],A=w[I+1],P=w[I+2],F=w[I+3];if((k>t||k===t&&P>=l)&&(k<h||k===h&&A<=g))v=!0;else{if(C===0&&(m=k),v){const M=4*C;w[M]=k-m,w[M+1]=A,w[M+2]=P,w[M+3]=F}C++}}return this._tokenCount=C,m}split(t,l,h,g){const w=this._tokens,_=this._tokenCount;let C=[],v=[],m=C,E=0,I=0;for(let k=0;k<_;k++){const A=4*k,P=w[A],F=w[A+1],M=w[A+2],R=w[A+3];if(P>t||P===t&&M>=l){if(P<h||P===h&&F<=g)continue;m!==v&&(m=v,E=0,I=P)}m[E++]=P-I,m[E++]=F,m[E++]=M,m[E++]=R}return[new r(new Uint32Array(C)),new r(new Uint32Array(v)),I]}acceptDeleteRange(t,l,h,g,w){const _=this._tokens,C=this._tokenCount,v=g-l;let m=0,E=!1;for(let I=0;I<C;I++){const k=4*I;let A=_[k],P=_[k+1],F=_[k+2];const M=_[k+3];if(A<l||A===l&&F<=h){m++;continue}else if(A===l&&P<h)A===g&&F>w?F-=w-h:F=h;else if(A===l&&P===h)if(A===g&&F>w)F-=w-h;else{E=!0;continue}else if(A<g||A===g&&P<w)if(A===g&&F>w)A===l?(P=h,F=P+(F-w)):(P=0,F=P+(F-w));else{E=!0;continue}else if(A>g){if(v===0&&!E){m=C;break}A-=v}else if(A===g&&P>=w)t&&A===0&&(P+=t,F+=t),A-=v,P-=w-h,F-=w-h;else throw new Error("Not possible!");const R=4*m;_[R]=A,_[R+1]=P,_[R+2]=F,_[R+3]=M,m++}this._tokenCount=m}acceptInsertText(t,l,h,g,w,_){const C=h===0&&g===1&&(_>=48&&_<=57||_>=65&&_<=90||_>=97&&_<=122),v=this._tokens,m=this._tokenCount;for(let E=0;E<m;E++){const I=4*E;let k=v[I],A=v[I+1],P=v[I+2];if(!(k<t||k===t&&P<l)){if(k===t&&P===l)if(C)P+=1;else continue;else if(k===t&&A<l&&l<P)h===0?P+=g:P=l;else{if(k===t&&A===l&&C)continue;if(k===t)if(k+=h,h===0)A+=g,P+=g;else{const F=P-A;A=w+(A-l),P=A+F}else k+=h}v[I]=k,v[I+1]=A,v[I+2]=P}}}}e.SparseEncodedTokens=r;class o{constructor(t){this._tokens=t}getCount(){return this._tokens.length/4}getStartCharacter(t){return this._tokens[4*t+1]}getEndCharacter(t){return this._tokens[4*t+2]}getMetadata(t){return this._tokens[4*t+3]}}e.LineTokens2=o;class d{constructor(t,l){this.startLineNumber=t,this.tokens=l,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(t){return this.startLineNumber<=t&&t<=this.endLineNumber?this.tokens.getLineTokens(t-this.startLineNumber):null}getRange(){const t=this.tokens.getRange();return t&&new D.Range(this.startLineNumber+t.startLineNumber,t.startColumn,this.startLineNumber+t.endLineNumber,t.endColumn)}removeTokens(t){const l=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(l,t.startColumn-1,h,t.endColumn-1),this._updateEndLineNumber()}split(t){const l=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber,[g,w,_]=this.tokens.split(l,t.startColumn-1,h,t.endColumn-1);return[new d(this.startLineNumber,g),new d(this.startLineNumber+_,w)]}applyEdit(t,l){const[h,g,w]=p(l);this.acceptEdit(t,h,g,w,l.length>0?l.charCodeAt(0):0)}acceptEdit(t,l,h,g,w){this._acceptDeleteRange(t),this._acceptInsertText(new T.Position(t.startLineNumber,t.startColumn),l,h,g,w),this._updateEndLineNumber()}_acceptDeleteRange(t){if(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)return;const l=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber;if(h<0){const w=h-l;this.startLineNumber-=w;return}const g=this.tokens.getMaxDeltaLine();if(!(l>=g+1)){if(l<0&&h>=g+1){this.startLineNumber=0,this.tokens.clear();return}if(l<0){const w=-l;this.startLineNumber-=w,this.tokens.acceptDeleteRange(t.startColumn-1,0,0,h,t.endColumn-1)}else this.tokens.acceptDeleteRange(0,l,t.startColumn-1,h,t.endColumn-1)}}_acceptInsertText(t,l,h,g,w){if(l===0&&h===0)return;const _=t.lineNumber-this.startLineNumber;if(_<0){this.startLineNumber+=l;return}const C=this.tokens.getMaxDeltaLine();_>=C+1||this.tokens.acceptInsertText(_,t.column-1,l,h,g,w)}}e.MultilineTokens2=d;class c{constructor(t,l){this.startLineNumber=t,this.tokens=l}}e.MultilineTokens=c;function u(a){return a instanceof Uint32Array?a:new Uint32Array(a)}class s{constructor(){this._pieces=[],this._isComplete=!1}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(t,l){this._pieces=t||[],this._isComplete=l}setPartial(t,l){let h=t;if(l.length>0){const w=l[0].getRange(),_=l[l.length-1].getRange();if(!w||!_)return t;h=t.plusRange(w).plusRange(_)}let g=null;for(let w=0,_=this._pieces.length;w<_;w++){const C=this._pieces[w];if(C.endLineNumber<h.startLineNumber)continue;if(C.startLineNumber>h.endLineNumber){g=g||{index:w};break}if(C.removeTokens(h),C.isEmpty()){this._pieces.splice(w,1),w--,_--;continue}if(C.endLineNumber<h.startLineNumber)continue;if(C.startLineNumber>h.endLineNumber){g=g||{index:w};continue}const[v,m]=C.split(h);if(v.isEmpty()){g=g||{index:w};continue}m.isEmpty()||(this._pieces.splice(w,1,v,m),w++,_++,g=g||{index:w})}return g=g||{index:this._pieces.length},l.length>0&&(this._pieces=y.arrayInsert(this._pieces,g.index,l)),h}isComplete(){return this._isComplete}addSemanticTokens(t,l){const h=this._pieces;if(h.length===0)return l;const g=s._findFirstPieceWithLine(h,t),w=h[g].getLineTokens(t);if(!w)return l;const _=l.getCount(),C=w.getCount();let v=0,m=[],E=0,I=0;const k=(A,P)=>{A!==I&&(I=A,m[E++]=A,m[E++]=P)};for(let A=0;A<C;A++){const P=w.getStartCharacter(A),F=w.getEndCharacter(A),M=w.getMetadata(A),R=((M&1?2048:0)|(M&2?4096:0)|(M&4?8192:0)|(M&8?8372224:0)|(M&16?4286578688:0))>>>0,O=~R>>>0;for(;v<_&&l.getEndOffset(v)<=P;)k(l.getEndOffset(v),l.getMetadata(v)),v++;for(v<_&&l.getStartOffset(v)<P&&k(P,l.getMetadata(v));v<_&&l.getEndOffset(v)<F;)k(l.getEndOffset(v),l.getMetadata(v)&O|M&R),v++;if(v<_)k(F,l.getMetadata(v)&O|M&R),l.getEndOffset(v)===F&&v++;else{const L=Math.min(Math.max(0,v-1),_-1);k(F,l.getMetadata(L)&O|M&R)}}for(;v<_;)k(l.getEndOffset(v),l.getMetadata(v)),v++;return new N.LineTokens(new Uint32Array(m),l.getLineContent())}static _findFirstPieceWithLine(t,l){let h=0,g=t.length-1;for(;h<g;){let w=h+Math.floor((g-h)/2);if(t[w].endLineNumber<l)h=w+1;else if(t[w].startLineNumber>l)g=w-1;else{for(;w>h&&t[w-1].startLineNumber<=l&&l<=t[w-1].endLineNumber;)w--;return w}}return h}acceptEdit(t,l,h,g,w){for(const _ of this._pieces)_.acceptEdit(t,l,h,g,w)}}e.TokensStore2=s;class n{constructor(){this._lineTokens=[],this._len=0}flush(){this._lineTokens=[],this._len=0}getTokens(t,l,h){let g=null;if(l<this._len&&(g=this._lineTokens[l]),g!==null&&g!==i)return new N.LineTokens(u(g),h);let w=new Uint32Array(2);return w[0]=h.length,w[1]=b(t),new N.LineTokens(w,h)}static _massageTokens(t,l,h){const g=h?u(h):null;if(l===0){let w=!1;if(g&&g.length>1&&(w=S.TokenMetadata.getLanguageId(g[1])!==t),!w)return i}if(!g||g.length===0){const w=new Uint32Array(2);return w[0]=l,w[1]=b(t),w.buffer}return g[g.length-2]=l,g.byteOffset===0&&g.byteLength===g.buffer.byteLength?g.buffer:g}_ensureLine(t){for(;t>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(t,l){l!==0&&(t+l>this._len&&(l=this._len-t),this._lineTokens.splice(t,l),this._len-=l)}_insertLines(t,l){if(l===0)return;let h=[];for(let g=0;g<l;g++)h[g]=null;this._lineTokens=y.arrayInsert(this._lineTokens,t,h),this._len+=l}setTokens(t,l,h,g,w){const _=n._massageTokens(t,h,g);this._ensureLine(l);const C=this._lineTokens[l];return this._lineTokens[l]=_,w?!n._equals(C,_):!1}static _equals(t,l){if(!t||!l)return!t&&!l;const h=u(t),g=u(l);if(h.length!==g.length)return!1;for(let w=0,_=h.length;w<_;w++)if(h[w]!==g[w])return!1;return!0}acceptEdit(t,l,h){this._acceptDeleteRange(t),this._acceptInsertText(new T.Position(t.startLineNumber,t.startColumn),l,h)}_acceptDeleteRange(t){const l=t.startLineNumber-1;if(l>=this._len)return;if(t.startLineNumber===t.endLineNumber){if(t.startColumn===t.endColumn)return;this._lineTokens[l]=n._delete(this._lineTokens[l],t.startColumn-1,t.endColumn-1);return}this._lineTokens[l]=n._deleteEnding(this._lineTokens[l],t.startColumn-1);const h=t.endLineNumber-1;let g=null;h<this._len&&(g=n._deleteBeginning(this._lineTokens[h],t.endColumn-1)),this._lineTokens[l]=n._append(this._lineTokens[l],g),this._deleteLines(t.startLineNumber,t.endLineNumber-t.startLineNumber)}_acceptInsertText(t,l,h){if(l===0&&h===0)return;const g=t.lineNumber-1;if(!(g>=this._len)){if(l===0){this._lineTokens[g]=n._insert(this._lineTokens[g],t.column-1,h);return}this._lineTokens[g]=n._deleteEnding(this._lineTokens[g],t.column-1),this._lineTokens[g]=n._insert(this._lineTokens[g],t.column-1,h),this._insertLines(t.lineNumber,l)}}static _deleteBeginning(t,l){return t===null||t===i?t:n._delete(t,0,l)}static _deleteEnding(t,l){if(t===null||t===i)return t;const h=u(t),g=h[h.length-2];return n._delete(t,l,g)}static _delete(t,l,h){if(t===null||t===i||l===h)return t;const g=u(t),w=g.length>>>1;if(l===0&&g[g.length-2]===h)return i;const _=N.LineTokens.findIndexInTokensArray(g,l),C=_>0?g[_-1<<1]:0,v=g[_<<1];if(h<v){const A=h-l;for(let P=_;P<w;P++)g[P<<1]-=A;return t}let m,E;C!==l?(g[_<<1]=l,m=_+1<<1,E=l):(m=_<<1,E=C);const I=h-l;for(let A=_+1;A<w;A++){const P=g[A<<1]-I;P>E&&(g[m++]=P,g[m++]=g[(A<<1)+1],E=P)}if(m===g.length)return t;let k=new Uint32Array(m);return k.set(g.subarray(0,m),0),k.buffer}static _append(t,l){if(l===i)return t;if(t===i)return l;if(t===null)return t;if(l===null)return null;const h=u(t),g=u(l),w=g.length>>>1;let _=new Uint32Array(h.length+g.length);_.set(h,0);let C=h.length;const v=h[h.length-2];for(let m=0;m<w;m++)_[C++]=g[m<<1]+v,_[C++]=g[(m<<1)+1];return _.buffer}static _insert(t,l,h){if(t===null||t===i)return t;const g=u(t),w=g.length>>>1;let _=N.LineTokens.findIndexInTokensArray(g,l);_>0&&g[_-1<<1]===l&&_--;for(let C=_;C<w;C++)g[C<<1]+=h;return t}}e.TokensStore=n}),define(te[253],ie([0,1,6,8,3,49,230,144,229,2]),function(q,e,y,N,T,D,S,p,b,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class f extends i.Disposable{constructor(o,d,c,u,s,n,a){super();this._onDidChangeContent=this._register(new y.Emitter),this._BOM=d,this._mightContainNonBasicASCII=!n,this._mightContainRTL=u,this._mightContainUnusualLineTerminators=s,this._pieceTree=new S.PieceTreeBase(o,c,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(o){return this._pieceTree.createSnapshot(o?this._BOM:"")}getOffsetAt(o,d){return this._pieceTree.getOffsetAt(o,d)}getPositionAt(o){return this._pieceTree.getPositionAt(o)}getRangeAt(o,d){let c=o+d;const u=this.getPositionAt(o),s=this.getPositionAt(c);return new T.Range(u.lineNumber,u.column,s.lineNumber,s.column)}getValueInRange(o,d=0){if(o.isEmpty())return"";const c=this._getEndOfLine(d);return this._pieceTree.getValueInRange(o,c)}getValueLengthInRange(o,d=0){if(o.isEmpty())return 0;if(o.startLineNumber===o.endLineNumber)return o.endColumn-o.startColumn;let c=this.getOffsetAt(o.startLineNumber,o.startColumn);return this.getOffsetAt(o.endLineNumber,o.endColumn)-c}getCharacterCountInRange(o,d=0){if(this._mightContainNonBasicASCII){let c=0;const u=o.startLineNumber,s=o.endLineNumber;for(let n=u;n<=s;n++){const a=this.getLineContent(n),t=n===u?o.startColumn-1:0,l=n===s?o.endColumn-1:a.length;for(let h=t;h<l;h++)N.isHighSurrogate(a.charCodeAt(h))?(c=c+1,h=h+1):c=c+1}return c+=this._getEndOfLine(d).length*(s-u),c}return this.getValueLengthInRange(o,d)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(o){return this._pieceTree.getLineContent(o)}getLineCharCode(o,d){return this._pieceTree.getLineCharCode(o,d)}getLineLength(o){return this._pieceTree.getLineLength(o)}getLineFirstNonWhitespaceColumn(o){const d=N.firstNonWhitespaceIndex(this.getLineContent(o));return d===-1?0:d+1}getLineLastNonWhitespaceColumn(o){const d=N.lastNonWhitespaceIndex(this.getLineContent(o));return d===-1?0:d+2}_getEndOfLine(o){switch(o){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(o){this._pieceTree.setEOL(o)}applyEdits(o,d,c){let u=this._mightContainRTL,s=this._mightContainUnusualLineTerminators,n=this._mightContainNonBasicASCII,a=!0,t=[];for(let v=0;v<o.length;v++){let m=o[v];a&&m._isTracked&&(a=!1);let E=m.range;if(m.text){let F=!0;n||(F=!N.isBasicASCII(m.text),n=F),!u&&F&&(u=N.containsRTL(m.text)),!s&&F&&(s=N.containsUnusualLineTerminators(m.text))}let I="",k=0,A=0,P=0;if(m.text){let F;[k,A,P,F]=(0,p.countEOL)(m.text);const M=this.getEOL();F===0||F===(M===`\r
`?2:1)?I=m.text:I=m.text.replace(/\r\n|\r|\n/g,M)}t[v]={sortIndex:v,identifier:m.identifier||null,range:E,rangeOffset:this.getOffsetAt(E.startLineNumber,E.startColumn),rangeLength:this.getValueLengthInRange(E),text:I,eolCount:k,firstLineLength:A,lastLineLength:P,forceMoveMarkers:Boolean(m.forceMoveMarkers),isAutoWhitespaceEdit:m.isAutoWhitespaceEdit||!1}}t.sort(f._sortOpsAscending);let l=!1;for(let v=0,m=t.length-1;v<m;v++){let E=t[v].range.getEndPosition(),I=t[v+1].range.getStartPosition();if(I.isBeforeOrEqual(E)){if(I.isBefore(E))throw new Error("Overlapping ranges are not allowed!");l=!0}}a&&(t=this._reduceOperations(t));let h=c||d?f._getInverseEditRanges(t):[],g=[];if(d)for(let v=0;v<t.length;v++){let m=t[v],E=h[v];if(m.isAutoWhitespaceEdit&&m.range.isEmpty())for(let I=E.startLineNumber;I<=E.endLineNumber;I++){let k="";I===E.startLineNumber&&(k=this.getLineContent(m.range.startLineNumber),N.firstNonWhitespaceIndex(k)!==-1)||g.push({lineNumber:I,oldContent:k})}}let w=null;if(c){let v=0;w=[];for(let m=0;m<t.length;m++){const E=t[m],I=h[m],k=this.getValueInRange(E.range),A=E.rangeOffset+v;v+=E.text.length-k.length,w[m]={sortIndex:E.sortIndex,identifier:E.identifier,range:I,text:k,textChange:new b.TextChange(E.rangeOffset,k,A,E.text)}}l||w.sort((m,E)=>m.sortIndex-E.sortIndex)}this._mightContainRTL=u,this._mightContainUnusualLineTerminators=s,this._mightContainNonBasicASCII=n;const _=this._doApplyEdits(t);let C=null;if(d&&g.length>0){g.sort((v,m)=>m.lineNumber-v.lineNumber),C=[];for(let v=0,m=g.length;v<m;v++){let E=g[v].lineNumber;if(v>0&&g[v-1].lineNumber===E)continue;let I=g[v].oldContent,k=this.getLineContent(E);k.length===0||k===I||N.firstNonWhitespaceIndex(k)!==-1||C.push(E)}}return this._onDidChangeContent.fire(),new D.ApplyEditsResult(w,_,C)}_reduceOperations(o){return o.length<1e3?o:[this._toSingleEditOperation(o)]}_toSingleEditOperation(o){let d=!1;const c=o[0].range,u=o[o.length-1].range,s=new T.Range(c.startLineNumber,c.startColumn,u.endLineNumber,u.endColumn);let n=c.startLineNumber,a=c.startColumn;const t=[];for(let _=0,C=o.length;_<C;_++){const v=o[_],m=v.range;d=d||v.forceMoveMarkers,t.push(this.getValueInRange(new T.Range(n,a,m.startLineNumber,m.startColumn))),v.text.length>0&&t.push(v.text),n=m.endLineNumber,a=m.endColumn}const l=t.join(""),[h,g,w]=(0,p.countEOL)(l);return{sortIndex:0,identifier:o[0].identifier,range:s,rangeOffset:this.getOffsetAt(s.startLineNumber,s.startColumn),rangeLength:this.getValueLengthInRange(s,0),text:l,eolCount:h,firstLineLength:g,lastLineLength:w,forceMoveMarkers:d,isAutoWhitespaceEdit:!1}}_doApplyEdits(o){o.sort(f._sortOpsDescending);let d=[];for(let c=0;c<o.length;c++){let u=o[c];const s=u.range.startLineNumber,n=u.range.startColumn,a=u.range.endLineNumber,t=u.range.endColumn;if(s===a&&n===t&&u.text.length===0)continue;u.text?(this._pieceTree.delete(u.rangeOffset,u.rangeLength),this._pieceTree.insert(u.rangeOffset,u.text,!0)):this._pieceTree.delete(u.rangeOffset,u.rangeLength);const l=new T.Range(s,n,a,t);d.push({range:l,rangeLength:u.rangeLength,text:u.text,rangeOffset:u.rangeOffset,forceMoveMarkers:u.forceMoveMarkers})}return d}findMatchesLineByLine(o,d,c,u){return this._pieceTree.findMatchesLineByLine(o,d,c,u)}static _getInverseEditRanges(o){let d=[],c=0,u=0,s=null;for(let n=0,a=o.length;n<a;n++){let t=o[n],l,h;s?s.range.endLineNumber===t.range.startLineNumber?(l=c,h=u+(t.range.startColumn-s.range.endColumn)):(l=c+(t.range.startLineNumber-s.range.endLineNumber),h=t.range.startColumn):(l=t.range.startLineNumber,h=t.range.startColumn);let g;if(t.text.length>0){const w=t.eolCount+1;w===1?g=new T.Range(l,h,l,h+t.firstLineLength):g=new T.Range(l,h,l+w-1,t.lastLineLength+1)}else g=new T.Range(l,h,l,h);c=g.endLineNumber,u=g.endColumn,d.push(g),s=t}return d}static _sortOpsAscending(o,d){let c=T.Range.compareRangesUsingEnds(o.range,d.range);return c===0?o.sortIndex-d.sortIndex:c}static _sortOpsDescending(o,d){let c=T.Range.compareRangesUsingEnds(o.range,d.range);return c===0?d.sortIndex-o.sortIndex:-c}}e.PieceTreeTextBuffer=f}),define(te[559],ie([0,1,8,230,253]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=e.PieceTreeTextBufferFactory=void 0;class D{constructor(b,i,f,r,o,d,c,u,s){this._chunks=b,this._bom=i,this._cr=f,this._lf=r,this._crlf=o,this._containsRTL=d,this._containsUnusualLineTerminators=c,this._isBasicASCII=u,this._normalizeEOL=s}_getEOL(b){const i=this._cr+this._lf+this._crlf,f=this._cr+this._crlf;return i===0?b===1?`
`:`\r
`:f>i/2?`\r
`:`
`}create(b){const i=this._getEOL(b);let f=this._chunks;if(this._normalizeEOL&&(i===`\r
`&&(this._cr>0||this._lf>0)||i===`
`&&(this._cr>0||this._crlf>0)))for(let o=0,d=f.length;o<d;o++){let c=f[o].buffer.replace(/\r\n|\r|\n/g,i),u=(0,N.createLineStartsFast)(c);f[o]=new N.StringBuffer(c,u)}const r=new T.PieceTreeTextBuffer(f,this._bom,i,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:r,disposable:r}}}e.PieceTreeTextBufferFactory=D;class S{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(b){if(b.length===0)return;this.chunks.length===0&&y.startsWithUTF8BOM(b)&&(this.BOM=y.UTF8_BOM_CHARACTER,b=b.substr(1));const i=b.charCodeAt(b.length-1);i===13||i>=55296&&i<=56319?(this._acceptChunk1(b.substr(0,b.length-1),!1),this._hasPreviousChar=!0,this._previousChar=i):(this._acceptChunk1(b,!1),this._hasPreviousChar=!1,this._previousChar=i)}_acceptChunk1(b,i){!i&&b.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+b):this._acceptChunk2(b))}_acceptChunk2(b){const i=(0,N.createLineStarts)(this._tmpLineStarts,b);this.chunks.push(new N.StringBuffer(b,i.lineStarts)),this.cr+=i.cr,this.lf+=i.lf,this.crlf+=i.crlf,this.isBasicASCII&&(this.isBasicASCII=i.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=y.containsRTL(b)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=y.containsUnusualLineTerminators(b))}finish(b=!0){return this._finish(),new D(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,b)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let b=this.chunks[this.chunks.length-1];b.buffer+=String.fromCharCode(this._previousChar);let i=(0,N.createLineStartsFast)(b.buffer);b.lineStarts=i,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=S}),define(te[78],ie([0,1,137,18]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenize2=e.nullTokenize=e.NULL_LANGUAGE_IDENTIFIER=e.NULL_MODE_ID=e.NULL_STATE=void 0;class T{clone(){return this}equals(b){return this===b}}e.NULL_STATE=new T,e.NULL_MODE_ID="vs.editor.nullMode",e.NULL_LANGUAGE_IDENTIFIER=new N.LanguageIdentifier(e.NULL_MODE_ID,0);function D(p,b,i,f){return new y.TokenizationResult([new y.Token(f,"",p)],i)}e.nullTokenize=D;function S(p,b,i,f){let r=new Uint32Array(2);return r[0]=f,r[1]=(p<<0|0<<8|0<<11|1<<14|2<<23)>>>0,new y.TokenizationResult2(r,i===null?e.NULL_STATE:i)}e.nullTokenize2=S}),define(te[560],ie([0,1,19,10,87,13,18,78,2,83,144,17]),function(q,e,y,N,T,D,S,p,b,i,f,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelTokenization=e.TokenizationStateStore=void 0;class o{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(n){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,n&&this._setBeginState(0,n)}flush(n){this._reset(n)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(n){n<this._len&&(this._valid[n]=!1),n<this._invalidLineStartIndex&&(this._invalidLineStartIndex=n)}_isValid(n){return n<this._len?this._valid[n]:!1}getBeginState(n){return n<this._len?this._beginState[n]:null}_ensureLine(n){for(;n>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(n,a){a!==0&&(n+a>this._len&&(a=this._len-n),this._beginState.splice(n,a),this._valid.splice(n,a),this._len-=a)}_insertLines(n,a){if(a===0)return;let t=[],l=[];for(let h=0;h<a;h++)t[h]=null,l[h]=!1;this._beginState=y.arrayInsert(this._beginState,n,t),this._valid=y.arrayInsert(this._valid,n,l),this._len+=a}_setValid(n,a){this._ensureLine(n),this._valid[n]=a}_setBeginState(n,a){this._ensureLine(n),this._beginState[n]=a}setEndState(n,a,t){if(this._setValid(a,!0),this._invalidLineStartIndex=a+1,a===n-1)return;const l=this.getBeginState(a+1);if(l===null||!t.equals(l)){this._setBeginState(a+1,t),this._invalidateLine(a+1);return}let h=a+1;for(;h<n&&this._isValid(h);)h++;this._invalidLineStartIndex=h}setFakeTokens(n){this._setValid(n,!1)}applyEdits(n,a){const t=n.endLineNumber-n.startLineNumber,h=Math.min(t,a);for(let g=h;g>=0;g--)this._invalidateLine(n.startLineNumber+g-1);this._acceptDeleteRange(n),this._acceptInsertText(new D.Position(n.startLineNumber,n.startColumn),a)}_acceptDeleteRange(n){n.startLineNumber-1>=this._len||this._deleteLines(n.startLineNumber,n.endLineNumber-n.startLineNumber)}_acceptInsertText(n,a){n.lineNumber-1>=this._len||this._insertLines(n.lineNumber,a)}}e.TokenizationStateStore=o;class d extends b.Disposable{constructor(n){super();this._isDisposed=!1,this._textModel=n,this._tokenizationStateStore=new o,this._tokenizationSupport=null,this._register(S.TokenizationRegistry.onDidChange(a=>{const t=this._textModel.getLanguageIdentifier();a.changedLanguages.indexOf(t.language)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(a=>{if(a.isFlush){this._resetTokenizationState();return}for(let t=0,l=a.changes.length;t<l;t++){const h=a.changes[t],[g]=(0,f.countEOL)(h.text);this._tokenizationStateStore.applyEdits(h.range,g)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[n,a]=c(this._textModel);this._tokenizationSupport=n,this._tokenizationStateStore.flush(a),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&r.setImmediate(()=>{this._isDisposed||this._revalidateTokensNow()})}_revalidateTokensNow(){const n=this._textModel.getLineCount(),a=1,t=new f.MultilineTokensBuilder,l=i.StopWatch.create(!1);let h=-1;for(;this._hasLinesToTokenize()&&!(l.elapsed()>a||(h=this._tokenizeOneInvalidLine(t),h>=n)););this._beginBackgroundTokenization(),this._textModel.setTokens(t.tokens,!this._hasLinesToTokenize())}tokenizeViewport(n,a){const t=new f.MultilineTokensBuilder;this._tokenizeViewport(t,n,a),this._textModel.setTokens(t.tokens,!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(n){const a=new f.MultilineTokensBuilder;this._updateTokensUntilLine(a,n),this._textModel.setTokens(a.tokens,!this._hasLinesToTokenize())}isCheapToTokenize(n){if(!this._tokenizationSupport)return!0;const a=this._tokenizationStateStore.invalidLineStartIndex+1;return n>a?!1:n<a||this._textModel.getLineLength(n)<2048}_hasLinesToTokenize(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(n){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const a=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(n,a),a}_updateTokensUntilLine(n,a){if(!this._tokenizationSupport)return;const t=this._textModel.getLanguageIdentifier(),l=this._textModel.getLineCount(),h=a-1;for(let g=this._tokenizationStateStore.invalidLineStartIndex;g<=h;g++){const w=this._textModel.getLineContent(g+1),_=this._tokenizationStateStore.getBeginState(g),C=u(t,this._tokenizationSupport,w,!0,_);n.add(g+1,C.tokens),this._tokenizationStateStore.setEndState(l,g,C.endState),g=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(n,a,t){if(!this._tokenizationSupport||t<=this._tokenizationStateStore.invalidLineStartIndex)return;if(a<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(n,t);return}let l=this._textModel.getLineFirstNonWhitespaceColumn(a),h=[],g=null;for(let C=a-1;l>0&&C>=1;C--){let v=this._textModel.getLineFirstNonWhitespaceColumn(C);if(v!==0&&v<l){if(g=this._tokenizationStateStore.getBeginState(C-1),g)break;h.push(this._textModel.getLineContent(C)),l=v}}g||(g=this._tokenizationSupport.getInitialState());const w=this._textModel.getLanguageIdentifier();let _=g;for(let C=h.length-1;C>=0;C--)_=u(w,this._tokenizationSupport,h[C],!1,_).endState;for(let C=a;C<=t;C++){let v=this._textModel.getLineContent(C),m=u(w,this._tokenizationSupport,v,!0,_);n.add(C,m.tokens),this._tokenizationStateStore.setFakeTokens(C-1),_=m.endState}}}e.TextModelTokenization=d;function c(s){const n=s.getLanguageIdentifier();let a=s.isTooLargeForTokenization()?null:S.TokenizationRegistry.get(n.language),t=null;if(a)try{t=a.getInitialState()}catch(l){(0,N.onUnexpectedError)(l),a=null}return[a,t]}function u(s,n,a,t,l){let h=null;if(n)try{h=n.tokenize2(a,t,l.clone(),0)}catch(g){(0,N.onUnexpectedError)(g)}return h||(h=(0,p.nullTokenize2)(s.id,a,l,0)),T.LineTokens.convertToEndOffset(h.tokens,a.length),h}}),define(te[254],ie([0,1,8,87,78]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tokenizeLineToHTML=e.tokenizeToString=void 0;const D={getInitialState:()=>T.NULL_STATE,tokenize2:(i,f,r,o)=>(0,T.nullTokenize2)(0,i,r,o)};function S(i,f=D){return b(i,f||D)}e.tokenizeToString=S;function p(i,f,r,o,d,c,u){let s="<div>",n=o,a=0,t=!0;for(let l=0,h=f.getCount();l<h;l++){const g=f.getEndOffset(l);if(g<=o)continue;let w="";for(;n<g&&n<d;n++){const _=i.charCodeAt(n);switch(_){case 9:let C=c-(n+a)%c;for(a+=C-1;C>0;)u&&t?(w+="&#160;",t=!1):(w+=" ",t=!0),C--;break;case 60:w+="&lt;",t=!1;break;case 62:w+="&gt;",t=!1;break;case 38:w+="&amp;",t=!1;break;case 0:w+="&#00;",t=!1;break;case 65279:case 8232:case 8233:case 133:w+="\uFFFD",t=!1;break;case 13:w+="&#8203",t=!1;break;case 32:u&&t?(w+="&#160;",t=!1):(w+=" ",t=!0);break;default:w+=String.fromCharCode(_),t=!1}}if(s+=`<span style="${f.getInlineStyle(l,r)}">${w}</span>`,g>d||n>=d)break}return s+="</div>",s}e.tokenizeLineToHTML=p;function b(i,f){let r='<div class="monaco-tokenized-source">',o=y.splitLines(i),d=f.getInitialState();for(let c=0,u=o.length;c<u;c++){let s=o[c];c>0&&(r+="<br/>");let n=f.tokenize2(s,!0,d,0);N.LineTokens.convertToEndOffset(n.tokens,s.length);let t=new N.LineTokens(n.tokens,s).inflate(),l=0;for(let h=0,g=t.getCount();h<g;h++){const w=t.getClassName(h),_=t.getEndOffset(h);r+=`<span class="${w}">${y.escape(s.substring(l,_))}</span>`,l=_}d=n.endState}return r+="</div>",r}}),define(te[69],ie([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,y.createDecorator)("textModelService")}),define(te[145],ie([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,y.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,y.createDecorator)("textResourcePropertiesService")}),define(te[255],ie([0,1,6,2,226,18]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class S extends N.Disposable{constructor(){super();this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(D.TokenizationRegistry.onDidChange(b=>{b.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,N.markAsSingleton)(new S)),this._INSTANCE}_updateColorMap(){const b=D.TokenizationRegistry.getColorMap();if(!b){this._colors=[T.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[T.RGBA8.Empty];for(let f=1;f<b.length;f++){const r=b[f].rgba;this._colors[f]=new T.RGBA8(r.r,r.g,r.b,Math.round(r.a*255))}let i=b[2].getRelativeLuminance();this._backgroundIsLight=i>=.5,this._onDidChange.fire(void 0)}getColor(b){return(b<1||b>=this._colors.length)&&(b=2),this._colors[b]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=S,S._INSTANCE=null}),define(te[256],ie([0,1,19,23,10,54,47,3,18,143]),function(q,e,y,N,T,D,S,p,b,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class f{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(u,s){let n;typeof u=="string"?n=`${s.id}/${u}`:(n=`${s.id}/${u.name}`,s.children.get(n)!==void 0&&(n=`${s.id}/${u.name}_${u.range.startLineNumber}_${u.range.startColumn}`));let a=n;for(let t=0;s.children.get(a)!==void 0;t++)a=`${n}_${t}`;return a}static empty(u){return u.children.size===0}}e.TreeElement=f;class r extends f{constructor(u,s,n){super();this.id=u,this.parent=s,this.symbol=n,this.children=new Map}}e.OutlineElement=r;class o extends f{constructor(u,s,n,a){super();this.id=u,this.parent=s,this.label=n,this.order=a,this.children=new Map}}e.OutlineGroup=o;class d extends f{constructor(u){super();this.uri=u,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(u,s){let n=this._keys.for(u,!0),a=d._requests.get(n);if(!a){let t=new N.CancellationTokenSource;a={promiseCnt:0,source:t,promise:d._create(u,t.token),model:void 0},d._requests.set(n,a);const l=Date.now();a.promise.then(()=>{this._requestDurations.update(u,Date.now()-l)})}return a.model?Promise.resolve(a.model):(a.promiseCnt+=1,s.onCancellationRequested(()=>{--a.promiseCnt==0&&(a.source.cancel(),d._requests.delete(n))}),new Promise((t,l)=>{a.promise.then(h=>{a.model=h,t(h)},h=>{d._requests.delete(n),l(h)})}))}static _create(u,s){const n=new N.CancellationTokenSource(s),a=new d(u.uri),t=b.DocumentSymbolProviderRegistry.ordered(u),l=t.map((g,w)=>{var _;let C=f.findId(`provider_${w}`,a),v=new o(C,a,(_=g.displayName)!==null&&_!==void 0?_:"Unknown Outline Provider",w);return Promise.resolve(g.provideDocumentSymbols(u,n.token)).then(m=>{for(const E of m||[])d._makeOutlineElement(E,v);return v},m=>((0,T.onUnexpectedExternalError)(m),v)).then(m=>{f.empty(m)?m.remove():a._groups.set(C,m)})}),h=b.DocumentSymbolProviderRegistry.onDidChange(()=>{const g=b.DocumentSymbolProviderRegistry.ordered(u);(0,y.equals)(g,t)||n.cancel()});return Promise.all(l).then(()=>n.token.isCancellationRequested&&!s.isCancellationRequested?d._create(u,s):a._compact()).finally(()=>{h.dispose()})}static _makeOutlineElement(u,s){let n=f.findId(u,s),a=new r(n,s,u);if(u.children)for(const t of u.children)d._makeOutlineElement(t,a);s.children.set(a.id,a)}_compact(){let u=0;for(const[s,n]of this._groups)n.children.size===0?this._groups.delete(s):u+=1;if(u!==1)this.children=this._groups;else{let s=D.Iterable.first(this._groups.values());for(let[,n]of s.children)n.parent=this,this.children.set(n.id,n)}return this}getTopLevelSymbols(){const u=[];for(const s of this.children.values())s instanceof r?u.push(s.symbol):u.push(...D.Iterable.map(s.children.values(),n=>n.symbol));return u.sort((s,n)=>p.Range.compareRangesUsingStarts(s.range,n.range))}asListOfDocumentSymbols(){const u=this.getTopLevelSymbols(),s=[];return d._flattenDocumentSymbols(s,u,""),s.sort((n,a)=>p.Range.compareRangesUsingStarts(n.range,a.range))}static _flattenDocumentSymbols(u,s,n){for(const a of s)u.push({kind:a.kind,tags:a.tags,name:a.name,detail:a.detail,containerName:a.containerName||n,range:a.range,selectionRange:a.selectionRange,children:void 0}),a.children&&d._flattenDocumentSymbols(u,a.children,a.name)}}e.OutlineModel=d,d._requestDurations=new i.LanguageFeatureRequestDelays(b.DocumentSymbolProviderRegistry,350),d._requests=new S.LRUCache(9,.75),d._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(c,u){return`${c.id}/${u?c.getVersionId():""}/${this._hash(b.DocumentSymbolProviderRegistry.all(c))}`}_hash(c){let u="";for(const s of c){let n=this._data.get(s);typeof n=="undefined"&&(n=this._counter++,this._data.set(s,n)),u+=n}return u}}}),define(te[257],ie([0,1,137,18,78,246]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTokenizationSupport=e.MonarchTokenizer=void 0;const S=5;class p{constructor(a){this._maxCacheDepth=a,this._entries=Object.create(null)}static create(a,t){return this._INSTANCE.create(a,t)}create(a,t){if(a!==null&&a.depth>=this._maxCacheDepth)return new b(a,t);let l=b.getStackElementId(a);l.length>0&&(l+="|"),l+=t;let h=this._entries[l];return h||(h=new b(a,t),this._entries[l]=h,h)}}p._INSTANCE=new p(S);class b{constructor(a,t){this.parent=a,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(a){let t="";for(;a!==null;)t.length>0&&(t+="|"),t+=a.state,a=a.parent;return t}static _equals(a,t){for(;a!==null&&t!==null;){if(a===t)return!0;if(a.state!==t.state)return!1;a=a.parent,t=t.parent}return a===null&&t===null}equals(a){return b._equals(this,a)}push(a){return p.create(this,a)}pop(){return this.parent}popall(){let a=this;for(;a.parent;)a=a.parent;return a}switchTo(a){return p.create(this.parent,a)}}class i{constructor(a,t){this.modeId=a,this.state=t}equals(a){return this.modeId===a.modeId&&this.state.equals(a.state)}clone(){return this.state.clone()===this.state?this:new i(this.modeId,this.state)}}class f{constructor(a){this._maxCacheDepth=a,this._entries=Object.create(null)}static create(a,t){return this._INSTANCE.create(a,t)}create(a,t){if(t!==null)return new r(a,t);if(a!==null&&a.depth>=this._maxCacheDepth)return new r(a,t);let l=b.getStackElementId(a),h=this._entries[l];return h||(h=new r(a,null),this._entries[l]=h,h)}}f._INSTANCE=new f(S);class r{constructor(a,t){this.stack=a,this.embeddedModeData=t}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:f.create(this.stack,this.embeddedModeData)}equals(a){return!(a instanceof r)||!this.stack.equals(a.stack)?!1:this.embeddedModeData===null&&a.embeddedModeData===null?!0:this.embeddedModeData===null||a.embeddedModeData===null?!1:this.embeddedModeData.equals(a.embeddedModeData)}}class o{constructor(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(a,t){this._language=t}emit(a,t){this._lastTokenType===t&&this._lastTokenLanguage===this._language||(this._lastTokenType=t,this._lastTokenLanguage=this._language,this._tokens.push(new y.Token(a,t,this._language)))}nestedModeTokenize(a,t,l,h){const g=l.modeId,w=l.state,_=N.TokenizationRegistry.get(g);if(!_)return this.enterMode(h,g),this.emit(h,""),w;let C=_.tokenize(a,t,w,h);return this._tokens=this._tokens.concat(C.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,C.endState}finalize(a){return new y.TokenizationResult(this._tokens,a)}}class d{constructor(a,t){this._modeService=a,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(a,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id}emit(a,t){let l=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==l&&(this._lastTokenMetadata=l,this._tokens.push(a),this._tokens.push(l))}static _merge(a,t,l){let h=a!==null?a.length:0,g=t.length,w=l!==null?l.length:0;if(h===0&&g===0&&w===0)return new Uint32Array(0);if(h===0&&g===0)return l;if(g===0&&w===0)return a;let _=new Uint32Array(h+g+w);a!==null&&_.set(a);for(let C=0;C<g;C++)_[h+C]=t[C];return l!==null&&_.set(l,h+g),_}nestedModeTokenize(a,t,l,h){const g=l.modeId,w=l.state,_=N.TokenizationRegistry.get(g);if(!_)return this.enterMode(h,g),this.emit(h,""),w;let C=_.tokenize2(a,t,w,h);return this._prependTokens=d._merge(this._prependTokens,this._tokens,C.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,C.endState}finalize(a){return new y.TokenizationResult2(d._merge(this._prependTokens,this._tokens,null),a)}}class c{constructor(a,t,l,h){this._modeService=a,this._standaloneThemeService=t,this._modeId=l,this._lexer=h,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let g=!1;this._tokenizationRegistryListener=N.TokenizationRegistry.onDidChange(w=>{if(g)return;let _=!1;for(let C=0,v=w.changedLanguages.length;C<v;C++){let m=w.changedLanguages[C];if(this._embeddedModes[m]){_=!0;break}}_&&(g=!0,N.TokenizationRegistry.fire([this._modeId]),g=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let a=[];for(let t in this._embeddedModes){const l=N.TokenizationRegistry.get(t);if(l){if(l instanceof c){const g=l.getLoadStatus();g.loaded===!1&&a.push(g.promise)}continue}const h=N.TokenizationRegistry.getPromise(t);h&&a.push(h)}return a.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(a).then(t=>{})}}getInitialState(){let a=p.create(null,this._lexer.start);return f.create(a,null)}tokenize(a,t,l,h){let g=new o,w=this._tokenize(a,t,l,h,g);return g.finalize(w)}tokenize2(a,t,l,h){let g=new d(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),w=this._tokenize(a,t,l,h,g);return g.finalize(w)}_tokenize(a,t,l,h,g){return l.embeddedModeData?this._nestedTokenize(a,t,l,h,g):this._myTokenize(a,t,l,h,g)}_findLeavingNestedModeOffset(a,t){let l=this._lexer.tokenizer[t.stack.state];if(!l&&(l=D.findRules(this._lexer,t.stack.state),!l))throw D.createError(this._lexer,"tokenizer state is not defined: "+t.stack.state);let h=-1,g=!1;for(const w of l){if(!D.isIAction(w.action)||w.action.nextEmbedded!=="@pop")continue;g=!0;let _=w.regex,C=w.regex.source;if(C.substr(0,4)==="^(?:"&&C.substr(C.length-1,1)===")"){let m=(_.ignoreCase?"i":"")+(_.unicode?"u":"");_=new RegExp(C.substr(4,C.length-5),m)}let v=a.search(_);v===-1||v!==0&&w.matchOnlyAtLineStart||(h===-1||v<h)&&(h=v)}if(!g)throw D.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return h}_nestedTokenize(a,t,l,h,g){let w=this._findLeavingNestedModeOffset(a,l);if(w===-1){let v=g.nestedModeTokenize(a,t,l.embeddedModeData,h);return f.create(l.stack,new i(l.embeddedModeData.modeId,v))}let _=a.substring(0,w);_.length>0&&g.nestedModeTokenize(_,!1,l.embeddedModeData,h);let C=a.substring(w);return this._myTokenize(C,t,l,h+w,g)}_safeRuleName(a){return a?a.name:"(unknown)"}_myTokenize(a,t,l,h,g){g.enterMode(h,this._modeId);const w=a.length,_=t&&this._lexer.includeLF?a+`
`:a,C=_.length;let v=l.embeddedModeData,m=l.stack,E=0,I=null,k=!0;for(;k||E<C;){const A=E,P=m.depth,F=I?I.groups.length:0,M=m.state;let R=null,O=null,L=null,B=null,z=null;if(I){R=I.matches;const X=I.groups.shift();O=X.matched,L=X.action,B=I.rule,I.groups.length===0&&(I=null)}else{if(!k&&E>=C)break;k=!1;let X=this._lexer.tokenizer[M];if(!X&&(X=D.findRules(this._lexer,M),!X))throw D.createError(this._lexer,"tokenizer state is not defined: "+M);let Q=_.substr(E);for(const Y of X)if((E===0||!Y.matchOnlyAtLineStart)&&(R=Q.match(Y.regex),R)){O=R[0],L=Y.action;break}}if(R||(R=[""],O=""),L||(E<C&&(R=[_.charAt(E)],O=R[0]),L=this._lexer.defaultToken),O===null)break;for(E+=O.length;D.isFuzzyAction(L)&&D.isIAction(L)&&L.test;)L=L.test(O,R,M,E===C);let $=null;if(typeof L=="string"||Array.isArray(L))$=L;else if(L.group)$=L.group;else if(L.token!==null&&L.token!==void 0){if(L.tokenSubst?$=D.substituteMatches(this._lexer,L.token,O,R,M):$=L.token,L.nextEmbedded)if(L.nextEmbedded==="@pop"){if(!v)throw D.createError(this._lexer,"cannot pop embedded mode if not inside one");v=null}else{if(v)throw D.createError(this._lexer,"cannot enter embedded mode from within an embedded mode");z=D.substituteMatches(this._lexer,L.nextEmbedded,O,R,M)}if(L.goBack&&(E=Math.max(0,E-L.goBack)),L.switchTo&&typeof L.switchTo=="string"){let X=D.substituteMatches(this._lexer,L.switchTo,O,R,M);if(X[0]==="@"&&(X=X.substr(1)),D.findRules(this._lexer,X))m=m.switchTo(X);else throw D.createError(this._lexer,"trying to switch to a state '"+X+"' that is undefined in rule: "+this._safeRuleName(B))}else{if(L.transform&&typeof L.transform=="function")throw D.createError(this._lexer,"action.transform not supported");if(L.next)if(L.next==="@push"){if(m.depth>=this._lexer.maxStack)throw D.createError(this._lexer,"maximum tokenizer stack size reached: ["+m.state+","+m.parent.state+",...]");m=m.push(M)}else if(L.next==="@pop"){if(m.depth<=1)throw D.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(B));m=m.pop()}else if(L.next==="@popall")m=m.popall();else{let X=D.substituteMatches(this._lexer,L.next,O,R,M);if(X[0]==="@"&&(X=X.substr(1)),D.findRules(this._lexer,X))m=m.push(X);else throw D.createError(this._lexer,"trying to set a next state '"+X+"' that is undefined in rule: "+this._safeRuleName(B))}}L.log&&typeof L.log=="string"&&D.log(this._lexer,this._lexer.languageId+": "+D.substituteMatches(this._lexer,L.log,O,R,M))}if($===null)throw D.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(B));const j=X=>{let Q=this._modeService.getModeIdForLanguageName(X);Q&&(X=Q);const Y=this._getNestedEmbeddedModeData(X);if(E<C){const oe=a.substr(E);return this._nestedTokenize(oe,t,f.create(m,Y),h+E,g)}else return f.create(m,Y)};if(Array.isArray($)){if(I&&I.groups.length>0)throw D.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(B));if(R.length!==$.length+1)throw D.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(B));let X=0;for(let Q=1;Q<R.length;Q++)X+=R[Q].length;if(X!==O.length)throw D.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(B));I={rule:B,matches:R,groups:[]};for(let Q=0;Q<$.length;Q++)I.groups[Q]={action:$[Q],matched:R[Q+1]};E-=O.length;continue}else{if($==="@rematch"&&(E-=O.length,O="",R=null,$="",z!==null))return j(z);if(O.length===0){if(C===0||P!==m.depth||M!==m.state||(I?I.groups.length:0)!==F)continue;throw D.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(B))}let X=null;if(D.isString($)&&$.indexOf("@brackets")===0){let Q=$.substr("@brackets".length),Y=u(this._lexer,O);if(!Y)throw D.createError(this._lexer,"@brackets token returned but no bracket defined as: "+O);X=D.sanitize(Y.token+Q)}else{let Q=$===""?"":$+this._lexer.tokenPostfix;X=D.sanitize(Q)}A<w&&g.emit(A+h,X)}if(z!==null)return j(z)}return f.create(m,v)}_getNestedEmbeddedModeData(a){let t=this._locateMode(a);if(t){let l=N.TokenizationRegistry.get(t);if(l)return new i(t,l.getInitialState())}return new i(t||T.NULL_MODE_ID,T.NULL_STATE)}_locateMode(a){if(!a||!this._modeService.isRegisteredMode(a))return null;if(a===this._modeId)return a;let t=this._modeService.getModeId(a);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t}}e.MonarchTokenizer=c;function u(n,a){if(!a)return null;a=D.fixCase(n,a);let t=n.brackets;for(const l of t){if(l.open===a)return{token:l.token,bracketType:1};if(l.close===a)return{token:l.token,bracketType:-1}}return null}function s(n,a,t,l){return new c(n,a,t,l)}e.createTokenizationSupport=s}),define(te[561],ie([0,1,14,8,87,18,117,63,257]),function(q,e,y,N,T,D,S,p,b){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const f=(i=window.trustedTypes)===null||i===void 0?void 0:i.createPolicy("standaloneColorizer",{createHTML:u=>u});class r{static colorizeElement(s,n,a,t){t=t||{};let l=t.theme||"vs",h=t.mimeType||a.getAttribute("lang")||a.getAttribute("data-lang");if(!h)return console.error("Mode not detected"),Promise.resolve();s.setTheme(l);let g=a.firstChild?a.firstChild.nodeValue:"";a.className+=" "+l;let w=_=>{var C;const v=(C=f==null?void 0:f.createHTML(_))!==null&&C!==void 0?C:_;a.innerHTML=v};return this.colorize(n,g||"",h,t).then(w,_=>console.error(_))}static colorize(s,n,a,t){let l=4;t&&typeof t.tabSize=="number"&&(l=t.tabSize),N.startsWithUTF8BOM(n)&&(n=n.substr(1));let h=N.splitLines(n),g=s.getModeId(a);if(!g)return Promise.resolve(d(h,l));s.triggerMode(g);const w=D.TokenizationRegistry.get(g);if(w)return o(h,l,w);const _=D.TokenizationRegistry.getPromise(g);return _?new Promise((C,v)=>{_.then(m=>{o(h,l,m).then(C,v)},v)}):new Promise((C,v)=>{let m=null,E=null;const I=()=>{m&&(m.dispose(),m=null),E&&(E.dispose(),E=null);const k=D.TokenizationRegistry.get(g);if(k){o(h,l,k).then(C,v);return}C(d(h,l))};E=new y.TimeoutTimer,E.cancelAndSet(I,500),m=D.TokenizationRegistry.onDidChange(k=>{k.changedLanguages.indexOf(g)>=0&&I()})})}static colorizeLine(s,n,a,t,l=4){const h=p.ViewLineRenderingData.isBasicASCII(s,n),g=p.ViewLineRenderingData.containsRTL(s,h,a);return(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,s,!1,h,g,0,t,[],l,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(s,n,a=4){let t=s.getLineContent(n);s.forceTokenization(n);let h=s.getLineTokens(n).inflate();return this.colorizeLine(t,s.mightContainNonBasicASCII(),s.mightContainRTL(),h,a)}}e.Colorizer=r;function o(u,s,n){return new Promise((a,t)=>{const l=()=>{const h=c(u,s,n);if(n instanceof b.MonarchTokenizer){const g=n.getLoadStatus();if(g.loaded===!1){g.promise.then(l,t);return}}a(h)};l()})}function d(u,s){let n=[];const a=(0<<11|1<<14|2<<23)>>>0,t=new Uint32Array(2);t[0]=0,t[1]=a;for(let l=0,h=u.length;l<h;l++){let g=u[l];t[0]=g.length;const w=new T.LineTokens(t,g),_=p.ViewLineRenderingData.isBasicASCII(g,!0),C=p.ViewLineRenderingData.containsRTL(g,_,!0);let v=(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,g,!1,_,C,0,w,[],s,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(v.html),n.push("<br/>")}return n.join("")}function c(u,s,n){let a=[],t=n.getInitialState();for(let l=0,h=u.length;l<h;l++){let g=u[l],w=n.tokenize2(g,!0,t,0);T.LineTokens.convertToEndOffset(w.tokens,g.length);let _=new T.LineTokens(w.tokens,g);const C=p.ViewLineRenderingData.isBasicASCII(g,!0),v=p.ViewLineRenderingData.containsRTL(g,C,!0);let m=(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,g,!1,C,v,0,_.inflate(),[],s,0,0,0,0,-1,"none",!1,!1,null));a=a.concat(m.html),a.push("<br/>"),t=w.endState}return a.join("")}}),define(te[122],ie([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,y.createDecorator)("themeService")}),define(te[88],ie([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,y.createDecorator)("clipboardService")}),define(te[26],ie([0,1,6,54,2,73,20,9]),function(q,e,y,N,T,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,p.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new y.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(b,i){if(!b)throw new Error("invalid command");if(typeof b=="string"){if(!i)throw new Error("invalid command");return this.registerCommand({id:b,handler:i})}if(b.description){const c=[];for(let s of b.description.args)c.push(s.constraint);const u=b.handler;b.handler=function(s,...n){return(0,S.validateConstraints)(n,c),u(s,...n)}}const{id:f}=b;let r=this._commands.get(f);r||(r=new D.LinkedList,this._commands.set(f,r));let o=r.unshift(b),d=(0,T.toDisposable)(()=>{o();const c=this._commands.get(f);(c==null?void 0:c.isEmpty())&&this._commands.delete(f)});return this._onDidRegisterCommand.fire(f),d}registerCommandAlias(b,i){return e.CommandsRegistry.registerCommand(b,(f,...r)=>f.get(e.ICommandService).executeCommand(i,...r))}getCommand(b){const i=this._commands.get(b);if(!(!i||i.isEmpty()))return N.Iterable.first(i)}getCommands(){const b=new Map;for(const i of this._commands.keys()){const f=this.getCommand(i);f&&b.set(i,f)}return b}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(te[258],ie([0,1,23,10,24,18,39,26,20,401,3]),function(q,e,y,N,T,D,S,p,b,i,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function r(s){return s&&!!s.data}e.isSemanticTokens=r;function o(s){return s&&Array.isArray(s.edits)}e.isSemanticTokensEdits=o;function d(s,n,a){const t=c(s);return t?{provider:t,request:Promise.resolve(t.provideDocumentSemanticTokens(s,n,a))}:null}e.getDocumentSemanticTokens=d;function c(s){const n=D.DocumentSemanticTokensProviderRegistry.ordered(s);return n.length>0?n[0]:null}function u(s){const n=D.DocumentRangeSemanticTokensProviderRegistry.ordered(s);return n.length>0?n[0]:null}e.getDocumentRangeSemanticTokensProvider=u,p.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(s,...n)=>Me(void 0,void 0,void 0,function*(){const[a]=n;(0,b.assertType)(a instanceof T.URI);const t=s.get(S.IModelService).getModel(a);if(!t)return;const l=c(t);return l?l.getLegend():s.get(p.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",a)})),p.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(s,...n)=>Me(void 0,void 0,void 0,function*(){const[a]=n;(0,b.assertType)(a instanceof T.URI);const t=s.get(S.IModelService).getModel(a);if(!t)return;const l=d(t,null,y.CancellationToken.None);if(!l)return s.get(p.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",a,t.getFullModelRange());const{provider:h,request:g}=l;let w;try{w=yield g}catch(C){(0,N.onUnexpectedExternalError)(C);return}if(!w||!r(w))return;const _=(0,i.encodeSemanticTokensDto)({id:0,type:"full",data:w.data});return w.resultId&&h.releaseDocumentSemanticTokens(w.resultId),_})),p.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(s,...n)=>Me(void 0,void 0,void 0,function*(){const[a]=n;(0,b.assertType)(a instanceof T.URI);const t=s.get(S.IModelService).getModel(a);if(!t)return;const l=u(t);if(!!l)return l.getLegend()})),p.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(s,...n)=>Me(void 0,void 0,void 0,function*(){const[a,t]=n;(0,b.assertType)(a instanceof T.URI),(0,b.assertType)(f.Range.isIRange(t));const l=s.get(S.IModelService).getModel(a);if(!l)return;const h=u(l);if(!h)return;let g;try{g=yield h.provideDocumentRangeSemanticTokens(l,f.Range.lift(t),y.CancellationToken.None)}catch(w){(0,N.onUnexpectedExternalError)(w);return}if(!(!g||!r(g)))return(0,i.encodeSemanticTokensDto)({id:0,type:"full",data:g.data})}))}),define(te[259],ie([0,1,23,10,2,20,24,18,39,26]),function(q,e,y,N,T,D,S,p,b,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class f{constructor(){this.lenses=[],this._disposables=new T.DisposableStore}dispose(){this._disposables.dispose()}add(d,c){this._disposables.add(d);for(const u of d.lenses)this.lenses.push({symbol:u,provider:c})}}e.CodeLensModel=f;function r(o,d){return Me(this,void 0,void 0,function*(){const c=p.CodeLensProviderRegistry.ordered(o),u=new Map,s=new f,n=c.map((a,t)=>Me(this,void 0,void 0,function*(){u.set(a,t);try{const l=yield Promise.resolve(a.provideCodeLenses(o,d));l&&s.add(l,a)}catch(l){(0,N.onUnexpectedExternalError)(l)}}));return yield Promise.all(n),s.lenses=s.lenses.sort((a,t)=>a.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:a.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:u.get(a.provider)<u.get(t.provider)?-1:u.get(a.provider)>u.get(t.provider)?1:a.symbol.range.startColumn<t.symbol.range.startColumn?-1:a.symbol.range.startColumn>t.symbol.range.startColumn?1:0),s})}e.getCodeLensModel=r,i.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(o,...d){let[c,u]=d;(0,D.assertType)(S.URI.isUri(c)),(0,D.assertType)(typeof u=="number"||!u);const s=o.get(b.IModelService).getModel(c);if(!s)throw(0,N.illegalArgument)();const n=[],a=new T.DisposableStore;return r(s,y.CancellationToken.None).then(t=>{a.add(t);let l=[];for(const h of t.lenses)u==null||Boolean(h.symbol.command)?n.push(h.symbol):u-- >0&&h.provider.resolveCodeLens&&l.push(Promise.resolve(h.provider.resolveCodeLens(s,h.symbol,y.CancellationToken.None)).then(g=>n.push(g||h.symbol)));return Promise.all(l)}).then(()=>n).finally(()=>{setTimeout(()=>a.dispose(),100)})})}),define(te[260],ie([0,1,23,10,24,3,18,39,26]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function i(r,o){const d=[],u=S.ColorProviderRegistry.ordered(r).reverse().map(s=>Promise.resolve(s.provideDocumentColors(r,o)).then(n=>{if(Array.isArray(n))for(let a of n)d.push({colorInfo:a,provider:s})}));return Promise.all(u).then(()=>d)}e.getColors=i;function f(r,o,d,c){return Promise.resolve(d.provideColorPresentations(r,o,c))}e.getColorPresentations=f,b.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(r,...o){const[d]=o;if(!(d instanceof T.URI))throw(0,N.illegalArgument)();const c=r.get(p.IModelService).getModel(d);if(!c)throw(0,N.illegalArgument)();const u=[],n=S.ColorProviderRegistry.ordered(c).reverse().map(a=>Promise.resolve(a.provideDocumentColors(c,y.CancellationToken.None)).then(t=>{if(Array.isArray(t))for(let l of t)u.push({range:l.range,color:[l.color.red,l.color.green,l.color.blue,l.color.alpha]})}));return Promise.all(n).then(()=>u)}),b.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(r,...o){const[d,c]=o,{uri:u,range:s}=c;if(!(u instanceof T.URI)||!Array.isArray(d)||d.length!==4||!D.Range.isIRange(s))throw(0,N.illegalArgument)();const[n,a,t,l]=d,h=r.get(p.IModelService).getModel(u);if(!h)throw(0,N.illegalArgument)();const g={range:s,color:{red:n,green:a,blue:t,alpha:l}},w=[],C=S.ColorProviderRegistry.ordered(h).reverse().map(v=>Promise.resolve(v.provideColorPresentations(h,g,y.CancellationToken.None)).then(m=>{Array.isArray(m)&&w.push(...m)}));return Promise.all(C).then(()=>w)})}),define(te[562],ie([0,1,23,20,24,39,69,256,26]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentSymbols=void 0;function i(f,r,o){return Me(this,void 0,void 0,function*(){const d=yield p.OutlineModel.create(f,o);return r?d.asListOfDocumentSymbols():d.getTopLevelSymbols()})}e.getDocumentSymbols=i,b.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(f,...r){return Me(this,void 0,void 0,function*(){const[o]=r;(0,N.assertType)(T.URI.isUri(o));const d=f.get(D.IModelService).getModel(o);if(d)return i(d,!1,y.CancellationToken.None);const c=yield f.get(S.ITextModelService).createModelReference(o);try{return yield i(c.object.textEditorModel,!1,y.CancellationToken.None)}finally{c.dispose()}})})}),define(te[563],ie([0,1,19,23,10,2,20,24,3,18,39,26]),function(q,e,y,N,T,D,S,p,b,i,f,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class o{constructor(s,n){this._link=s,this._provider=n}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(s){return Me(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,s)).then(n=>(this._link=n||this._link,this._link.url?this.resolve(s):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=o;class d{constructor(s){this._disposables=new D.DisposableStore;let n=[];for(const[a,t]of s){const l=a.links.map(h=>new o(h,t));n=d._union(n,l),(0,D.isDisposable)(a)&&this._disposables.add(a)}this.links=n}dispose(){this._disposables.dispose(),this.links.length=0}static _union(s,n){let a=[],t,l,h,g;for(t=0,h=0,l=s.length,g=n.length;t<l&&h<g;){const w=s[t],_=n[h];if(b.Range.areIntersectingOrTouching(w.range,_.range)){t++;continue}b.Range.compareRangesUsingStarts(w.range,_.range)<0?(a.push(w),t++):(a.push(_),h++)}for(;t<l;t++)a.push(s[t]);for(;h<g;h++)a.push(n[h]);return a}}e.LinksList=d;function c(u,s){const n=[],a=i.LinkProviderRegistry.ordered(u).reverse().map((t,l)=>Promise.resolve(t.provideLinks(u,s)).then(h=>{h&&(n[l]=[h,t])},T.onUnexpectedExternalError));return Promise.all(a).then(()=>{const t=new d((0,y.coalesce)(n));return s.isCancellationRequested?(t.dispose(),new d([])):t})}e.getLinks=c,r.CommandsRegistry.registerCommand("_executeLinkProvider",(u,...s)=>Me(void 0,void 0,void 0,function*(){let[n,a]=s;(0,S.assertType)(n instanceof p.URI),typeof a!="number"&&(a=0);const t=u.get(f.IModelService).getModel(n);if(!t)return[];const l=yield c(t,N.CancellationToken.None);if(!l)return[];for(let g=0;g<Math.min(a,l.links.length);g++)yield l.links[g].resolve(N.CancellationToken.None);const h=l.links.slice(0);return l.dispose(),h}))}),define(te[15],ie([0,1,17,8,9]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.ContextKeyExpr=void 0;let D=y.userAgent||"";const S=new Map;S.set("false",!1),S.set("true",!0),S.set("isMac",y.isMacintosh),S.set("isLinux",y.isLinux),S.set("isWindows",y.isWindows),S.set("isWeb",y.isWeb),S.set("isMacNative",y.isMacintosh&&!y.isWeb),S.set("isEdge",D.indexOf("Edg/")>=0),S.set("isFirefox",D.indexOf("Firefox")>=0),S.set("isChrome",D.indexOf("Chrome")>=0),S.set("isSafari",D.indexOf("Safari")>=0);const p=Object.prototype.hasOwnProperty;class b{static has(M){return d.create(M)}static equals(M,R){return c.create(M,R)}static regex(M,R){return w.create(M,R)}static not(M){return a.create(M)}static and(...M){return v.create(M,null)}static or(...M){return m.create(M,null,!0)}static deserialize(M,R=!1){if(!!M)return this._deserializeOrExpression(M,R)}static _deserializeOrExpression(M,R){let O=M.split("||");return m.create(O.map(L=>this._deserializeAndExpression(L,R)),null,!0)}static _deserializeAndExpression(M,R){let O=M.split("&&");return v.create(O.map(L=>this._deserializeOne(L,R)),null)}static _deserializeOne(M,R){if(M=M.trim(),M.indexOf("!=")>=0){let O=M.split("!=");return n.create(O[0].trim(),this._deserializeValue(O[1],R))}if(M.indexOf("==")>=0){let O=M.split("==");return c.create(O[0].trim(),this._deserializeValue(O[1],R))}if(M.indexOf("=~")>=0){let O=M.split("=~");return w.create(O[0].trim(),this._deserializeRegexValue(O[1],R))}if(M.indexOf(" in ")>=0){let O=M.split(" in ");return u.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(M)){const O=M.split(">=");return l.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(M)){const O=M.split(">");return t.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(M)){const O=M.split("<=");return g.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(M)){const O=M.split("<");return h.create(O[0].trim(),O[1].trim())}return/^\!\s*/.test(M)?a.create(M.substr(1).trim()):d.create(M)}static _deserializeValue(M,R){if(M=M.trim(),M==="true")return!0;if(M==="false")return!1;let O=/^'([^']*)'$/.exec(M);return O?O[1].trim():M}static _deserializeRegexValue(M,R){if((0,N.isFalsyOrWhitespace)(M)){if(R)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let O=M.indexOf("/"),L=M.lastIndexOf("/");if(O===L||O<0){if(R)throw new Error(`bad regexp-value '${M}', missing /-enclosure`);return console.warn(`bad regexp-value '${M}', missing /-enclosure`),null}let B=M.slice(O+1,L),z=M[L+1]==="i"?"i":"";try{return new RegExp(B,z)}catch($){if(R)throw new Error(`bad regexp-value '${M}', parse error: ${$}`);return console.warn(`bad regexp-value '${M}', parse error: ${$}`),null}}}e.ContextKeyExpr=b;function i(F,M){const R=F?F.substituteConstants():void 0,O=M?M.substituteConstants():void 0;return!R&&!O?!0:!R||!O?!1:R.equals(O)}e.expressionsAreEqualWithConstantSubstitution=i;function f(F,M){return F.cmp(M)}class r{constructor(){this.type=0}cmp(M){return this.type-M.type}equals(M){return M.type===this.type}substituteConstants(){return this}evaluate(M){return!1}serialize(){return"false"}keys(){return[]}negate(){return o.INSTANCE}}e.ContextKeyFalseExpr=r,r.INSTANCE=new r;class o{constructor(){this.type=1}cmp(M){return this.type-M.type}equals(M){return M.type===this.type}substituteConstants(){return this}evaluate(M){return!0}serialize(){return"true"}keys(){return[]}negate(){return r.INSTANCE}}e.ContextKeyTrueExpr=o,o.INSTANCE=new o;class d{constructor(M,R){this.key=M,this.negated=R,this.type=2}static create(M,R=null){const O=S.get(M);return typeof O=="boolean"?O?o.INSTANCE:r.INSTANCE:new d(M,R)}cmp(M){return M.type!==this.type?this.type-M.type:I(this.key,M.key)}equals(M){return M.type===this.type?this.key===M.key:!1}substituteConstants(){const M=S.get(this.key);return typeof M=="boolean"?M?o.INSTANCE:r.INSTANCE:this}evaluate(M){return!!M.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=a.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=d;class c{constructor(M,R,O){this.key=M,this.value=R,this.negated=O,this.type=4}static create(M,R,O=null){if(typeof R=="boolean")return R?d.create(M,O):a.create(M,O);const L=S.get(M);return typeof L=="boolean"?R===(L?"true":"false")?o.INSTANCE:r.INSTANCE:new c(M,R,O)}cmp(M){return M.type!==this.type?this.type-M.type:k(this.key,this.value,M.key,M.value)}equals(M){return M.type===this.type?this.key===M.key&&this.value===M.value:!1}substituteConstants(){const M=S.get(this.key);if(typeof M=="boolean"){const R=M?"true":"false";return this.value===R?o.INSTANCE:r.INSTANCE}return this}evaluate(M){return M.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=n.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=c;class u{constructor(M,R){this.key=M,this.valueKey=R,this.type=10,this.negated=null}static create(M,R){return new u(M,R)}cmp(M){return M.type!==this.type?this.type-M.type:k(this.key,this.valueKey,M.key,M.valueKey)}equals(M){return M.type===this.type?this.key===M.key&&this.valueKey===M.valueKey:!1}substituteConstants(){return this}evaluate(M){const R=M.getValue(this.valueKey),O=M.getValue(this.key);return Array.isArray(R)?R.indexOf(O)>=0:typeof O=="string"&&typeof R=="object"&&R!==null?p.call(R,O):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=s.create(this)),this.negated}}e.ContextKeyInExpr=u;class s{constructor(M){this._actual=M,this.type=11}static create(M){return new s(M)}cmp(M){return M.type!==this.type?this.type-M.type:this._actual.cmp(M._actual)}equals(M){return M.type===this.type?this._actual.equals(M._actual):!1}substituteConstants(){return this}evaluate(M){return!this._actual.evaluate(M)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotInExpr=s;class n{constructor(M,R,O){this.key=M,this.value=R,this.negated=O,this.type=5}static create(M,R,O=null){if(typeof R=="boolean")return R?a.create(M,O):d.create(M,O);const L=S.get(M);return typeof L=="boolean"?R===(L?"true":"false")?r.INSTANCE:o.INSTANCE:new n(M,R,O)}cmp(M){return M.type!==this.type?this.type-M.type:k(this.key,this.value,M.key,M.value)}equals(M){return M.type===this.type?this.key===M.key&&this.value===M.value:!1}substituteConstants(){const M=S.get(this.key);if(typeof M=="boolean"){const R=M?"true":"false";return this.value===R?r.INSTANCE:o.INSTANCE}return this}evaluate(M){return M.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=c.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=n;class a{constructor(M,R){this.key=M,this.negated=R,this.type=3}static create(M,R=null){const O=S.get(M);return typeof O=="boolean"?O?r.INSTANCE:o.INSTANCE:new a(M,R)}cmp(M){return M.type!==this.type?this.type-M.type:I(this.key,M.key)}equals(M){return M.type===this.type?this.key===M.key:!1}substituteConstants(){const M=S.get(this.key);return typeof M=="boolean"?M?r.INSTANCE:o.INSTANCE:this}evaluate(M){return!M.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=d.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=a;class t{constructor(M,R,O){this.key=M,this.value=R,this.negated=O,this.type=12}static create(M,R,O=null){return new t(M,R,O)}cmp(M){return M.type!==this.type?this.type-M.type:k(this.key,this.value,M.key,M.value)}equals(M){return M.type===this.type?this.key===M.key&&this.value===M.value:!1}substituteConstants(){return this}evaluate(M){return parseFloat(M.getValue(this.key))>parseFloat(this.value)}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=g.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=t;class l{constructor(M,R,O){this.key=M,this.value=R,this.negated=O,this.type=13}static create(M,R,O=null){return new l(M,R,O)}cmp(M){return M.type!==this.type?this.type-M.type:k(this.key,this.value,M.key,M.value)}equals(M){return M.type===this.type?this.key===M.key&&this.value===M.value:!1}substituteConstants(){return this}evaluate(M){return parseFloat(M.getValue(this.key))>=parseFloat(this.value)}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=h.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=l;class h{constructor(M,R,O){this.key=M,this.value=R,this.negated=O,this.type=14}static create(M,R,O=null){return new h(M,R,O)}cmp(M){return M.type!==this.type?this.type-M.type:k(this.key,this.value,M.key,M.value)}equals(M){return M.type===this.type?this.key===M.key&&this.value===M.value:!1}substituteConstants(){return this}evaluate(M){return parseFloat(M.getValue(this.key))<parseFloat(this.value)}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=l.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=h;class g{constructor(M,R,O){this.key=M,this.value=R,this.negated=O,this.type=15}static create(M,R,O=null){return new g(M,R,O)}cmp(M){return M.type!==this.type?this.type-M.type:k(this.key,this.value,M.key,M.value)}equals(M){return M.type===this.type?this.key===M.key&&this.value===M.value:!1}substituteConstants(){return this}evaluate(M){return parseFloat(M.getValue(this.key))<=parseFloat(this.value)}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=t.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=g;class w{constructor(M,R){this.key=M,this.regexp=R,this.type=7,this.negated=null}static create(M,R){return new w(M,R)}cmp(M){if(M.type!==this.type)return this.type-M.type;if(this.key<M.key)return-1;if(this.key>M.key)return 1;const R=this.regexp?this.regexp.source:"",O=M.regexp?M.regexp.source:"";return R<O?-1:R>O?1:0}equals(M){if(M.type===this.type){const R=this.regexp?this.regexp.source:"",O=M.regexp?M.regexp.source:"";return this.key===M.key&&R===O}return!1}substituteConstants(){return this}evaluate(M){let R=M.getValue(this.key);return this.regexp?this.regexp.test(R):!1}serialize(){const M=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${M}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=_.create(this)),this.negated}}e.ContextKeyRegexExpr=w;class _{constructor(M){this._actual=M,this.type=8}static create(M){return new _(M)}cmp(M){return M.type!==this.type?this.type-M.type:this._actual.cmp(M._actual)}equals(M){return M.type===this.type?this._actual.equals(M._actual):!1}substituteConstants(){return this}evaluate(M){return!this._actual.evaluate(M)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=_;function C(F){let M=null;for(let R=0,O=F.length;R<O;R++){const L=F[R].substituteConstants();if(F[R]!==L&&M===null){M=[];for(let B=0;B<R;B++)M[B]=F[B]}M!==null&&(M[R]=L)}return M===null?F:M}class v{constructor(M,R){this.expr=M,this.negated=R,this.type=6}static create(M,R){return v._normalizeArr(M,R)}cmp(M){if(M.type!==this.type)return this.type-M.type;if(this.expr.length<M.expr.length)return-1;if(this.expr.length>M.expr.length)return 1;for(let R=0,O=this.expr.length;R<O;R++){const L=f(this.expr[R],M.expr[R]);if(L!==0)return L}return 0}equals(M){if(M.type===this.type){if(this.expr.length!==M.expr.length)return!1;for(let R=0,O=this.expr.length;R<O;R++)if(!this.expr[R].equals(M.expr[R]))return!1;return!0}return!1}substituteConstants(){const M=C(this.expr);return M===this.expr?this:v.create(M,this.negated)}evaluate(M){for(let R=0,O=this.expr.length;R<O;R++)if(!this.expr[R].evaluate(M))return!1;return!0}static _normalizeArr(M,R){const O=[];let L=!1;for(const B of M)if(!!B){if(B.type===1){L=!0;continue}if(B.type===0)return r.INSTANCE;if(B.type===6){O.push(...B.expr);continue}O.push(B)}if(O.length===0&&L)return o.INSTANCE;if(O.length!==0){if(O.length===1)return O[0];O.sort(f);for(let B=1;B<O.length;B++)O[B-1].equals(O[B])&&(O.splice(B,1),B--);if(O.length===1)return O[0];for(;O.length>1;){const B=O[O.length-1];if(B.type!==9)break;O.pop();const z=O.pop(),$=O.length===0,j=m.create(B.expr.map(X=>v.create([X,z],null)),null,$);j&&(O.push(j),O.sort(f))}return O.length===1?O[0]:new v(O,R)}}serialize(){return this.expr.map(M=>M.serialize()).join(" && ")}keys(){const M=[];for(let R of this.expr)M.push(...R.keys());return M}negate(){if(!this.negated){const M=[];for(let R of this.expr)M.push(R.negate());this.negated=m.create(M,this,!0)}return this.negated}}class m{constructor(M,R){this.expr=M,this.negated=R,this.type=9}static create(M,R,O){return m._normalizeArr(M,R,O)}cmp(M){if(M.type!==this.type)return this.type-M.type;if(this.expr.length<M.expr.length)return-1;if(this.expr.length>M.expr.length)return 1;for(let R=0,O=this.expr.length;R<O;R++){const L=f(this.expr[R],M.expr[R]);if(L!==0)return L}return 0}equals(M){if(M.type===this.type){if(this.expr.length!==M.expr.length)return!1;for(let R=0,O=this.expr.length;R<O;R++)if(!this.expr[R].equals(M.expr[R]))return!1;return!0}return!1}substituteConstants(){const M=C(this.expr);return M===this.expr?this:m.create(M,this.negated,!1)}evaluate(M){for(let R=0,O=this.expr.length;R<O;R++)if(this.expr[R].evaluate(M))return!0;return!1}static _normalizeArr(M,R,O){let L=[],B=!1;if(M){for(let z=0,$=M.length;z<$;z++){const j=M[z];if(!!j){if(j.type===0){B=!0;continue}if(j.type===1)return o.INSTANCE;if(j.type===9){L=L.concat(j.expr);continue}L.push(j)}}if(L.length===0&&B)return r.INSTANCE;L.sort(f)}if(L.length!==0){if(L.length===1)return L[0];for(let z=1;z<L.length;z++)L[z-1].equals(L[z])&&(L.splice(z,1),z--);if(L.length===1)return L[0];if(O){for(let z=0;z<L.length;z++)for(let $=z+1;$<L.length;$++)A(L[z],L[$])&&(L.splice($,1),$--);if(L.length===1)return L[0]}return new m(L,R)}}serialize(){return this.expr.map(M=>M.serialize()).join(" || ")}keys(){const M=[];for(let R of this.expr)M.push(...R.keys());return M}negate(){if(!this.negated){let M=[];for(let R of this.expr)M.push(R.negate());for(;M.length>1;){const R=M.shift(),O=M.shift(),L=[];for(const z of P(R))for(const $ of P(O))L.push(v.create([z,$],null));const B=M.length===0;M.unshift(m.create(L,null,B))}this.negated=M[0]}return this.negated}}class E extends d{constructor(M,R,O){super(M,null);this._defaultValue=R,typeof O=="object"?E._info.push(Object.assign(Object.assign({},O),{key:M})):O!==!0&&E._info.push({key:M,description:O,type:R!=null?typeof R:void 0})}static all(){return E._info.values()}bindTo(M){return M.createKey(this.key,this._defaultValue)}getValue(M){return M.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(M){return c.create(this.key,M)}}e.RawContextKey=E,E._info=[],e.IContextKeyService=(0,T.createDecorator)("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function I(F,M){return F<M?-1:F>M?1:0}function k(F,M,R,O){return F<R?-1:F>R?1:M<O?-1:M>O?1:0}function A(F,M){if(M.type===6&&F.type!==9&&F.type!==6){for(const L of M.expr)if(F.equals(L))return!0}const R=F.negate(),O=P(R).concat(P(M));O.sort(f);for(let L=0;L<O.length;L++){const z=O[L].negate();for(let $=L+1;$<O.length;$++){const j=O[$];if(z.equals(j))return!0}}return!1}e.implies=A;function P(F){return F.type===9?F.expr:[F]}}),define(te[25],ie([0,1,475,15]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var T;(function(D){D.editorSimpleInput=new N.RawContextKey("editorSimpleInput",!1,!0),D.editorTextFocus=new N.RawContextKey("editorTextFocus",!1,y.localize(0,null)),D.focus=new N.RawContextKey("editorFocus",!1,y.localize(1,null)),D.textInputFocus=new N.RawContextKey("textInputFocus",!1,y.localize(2,null)),D.readOnly=new N.RawContextKey("editorReadonly",!1,y.localize(3,null)),D.inDiffEditor=new N.RawContextKey("inDiffEditor",!1,y.localize(4,null)),D.columnSelection=new N.RawContextKey("editorColumnSelection",!1,y.localize(5,null)),D.writable=D.readOnly.toNegated(),D.hasNonEmptySelection=new N.RawContextKey("editorHasSelection",!1,y.localize(6,null)),D.hasOnlyEmptySelection=D.hasNonEmptySelection.toNegated(),D.hasMultipleSelections=new N.RawContextKey("editorHasMultipleSelections",!1,y.localize(7,null)),D.hasSingleSelection=D.hasMultipleSelections.toNegated(),D.tabMovesFocus=new N.RawContextKey("editorTabMovesFocus",!1,y.localize(8,null)),D.tabDoesNotMoveFocus=D.tabMovesFocus.toNegated(),D.isInWalkThroughSnippet=new N.RawContextKey("isInEmbeddedEditor",!1,!0),D.canUndo=new N.RawContextKey("canUndo",!1,!0),D.canRedo=new N.RawContextKey("canRedo",!1,!0),D.hoverVisible=new N.RawContextKey("editorHoverVisible",!1,y.localize(9,null)),D.inCompositeEditor=new N.RawContextKey("inCompositeEditor",void 0,y.localize(10,null)),D.notInCompositeEditor=D.inCompositeEditor.toNegated(),D.languageId=new N.RawContextKey("editorLangId","",y.localize(11,null)),D.hasCompletionItemProvider=new N.RawContextKey("editorHasCompletionItemProvider",!1,y.localize(12,null)),D.hasCodeActionsProvider=new N.RawContextKey("editorHasCodeActionsProvider",!1,y.localize(13,null)),D.hasCodeLensProvider=new N.RawContextKey("editorHasCodeLensProvider",!1,y.localize(14,null)),D.hasDefinitionProvider=new N.RawContextKey("editorHasDefinitionProvider",!1,y.localize(15,null)),D.hasDeclarationProvider=new N.RawContextKey("editorHasDeclarationProvider",!1,y.localize(16,null)),D.hasImplementationProvider=new N.RawContextKey("editorHasImplementationProvider",!1,y.localize(17,null)),D.hasTypeDefinitionProvider=new N.RawContextKey("editorHasTypeDefinitionProvider",!1,y.localize(18,null)),D.hasHoverProvider=new N.RawContextKey("editorHasHoverProvider",!1,y.localize(19,null)),D.hasDocumentHighlightProvider=new N.RawContextKey("editorHasDocumentHighlightProvider",!1,y.localize(20,null)),D.hasDocumentSymbolProvider=new N.RawContextKey("editorHasDocumentSymbolProvider",!1,y.localize(21,null)),D.hasReferenceProvider=new N.RawContextKey("editorHasReferenceProvider",!1,y.localize(22,null)),D.hasRenameProvider=new N.RawContextKey("editorHasRenameProvider",!1,y.localize(23,null)),D.hasSignatureHelpProvider=new N.RawContextKey("editorHasSignatureHelpProvider",!1,y.localize(24,null)),D.hasInlayHintsProvider=new N.RawContextKey("editorHasInlayHintsProvider",!1,y.localize(25,null)),D.hasDocumentFormattingProvider=new N.RawContextKey("editorHasDocumentFormattingProvider",!1,y.localize(26,null)),D.hasDocumentSelectionFormattingProvider=new N.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,y.localize(27,null)),D.hasMultipleDocumentFormattingProvider=new N.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,y.localize(28,null)),D.hasMultipleDocumentSelectionFormattingProvider=new N.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,y.localize(29,null))})(T=e.EditorContextKeys||(e.EditorContextKeys={}))}),define(te[189],ie([0,1,23,10,20,24,13,18,69,26,15]),function(q,e,y,N,T,D,S,p,b,i,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new f.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new f.RawContextKey("parameterHintsMultipleSignatures",!1)};function r(o,d,c,u){return Me(this,void 0,void 0,function*(){const s=p.SignatureHelpProviderRegistry.ordered(o);for(const n of s)try{const a=yield n.provideSignatureHelp(o,d,u,c);if(a)return a}catch(a){(0,N.onUnexpectedExternalError)(a)}})}e.provideSignatureHelp=r,i.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(o,...d)=>Me(void 0,void 0,void 0,function*(){const[c,u,s]=d;(0,T.assertType)(D.URI.isUri(c)),(0,T.assertType)(S.Position.isIPosition(u)),(0,T.assertType)(typeof s=="string"||!s);const n=yield o.get(b.ITextModelService).createModelReference(c);try{const a=yield r(n.object.textEditorModel,S.Position.lift(u),{triggerKind:p.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:s},y.CancellationToken.None);return a?(setTimeout(()=>a.dispose(),0),a.value):void 0}finally{n.dispose()}}))}),define(te[564],ie([0,1,14,10,6,2,95,18,189]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var i;(function(o){o.Default={type:0};class d{constructor(s,n){this.request=s,this.previouslyActiveHints=n,this.type=2}}o.Pending=d;class c{constructor(s){this.hints=s,this.type=1}}o.Active=c})(i||(i={}));class f extends D.Disposable{constructor(d,c=f.DEFAULT_DELAY){super();this._onChangedHints=this._register(new T.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=i.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new D.MutableDisposable),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet,this.triggerId=0,this.editor=d,this.throttledDelayer=new y.Delayer(c),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(u=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(u=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(u=>this.onCursorChange(u))),this._register(this.editor.onDidChangeModelContent(u=>this.onModelContentChange())),this._register(p.SignatureHelpProviderRegistry.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(u=>this.onDidType(u))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(d){this._state.type===2&&this._state.request.cancel(),this._state=d}cancel(d=!1){this.state=i.Default,this.throttledDelayer.cancel(),d||this._onChangedHints.fire(void 0)}trigger(d,c){const u=this.editor.getModel();if(!u||!p.SignatureHelpProviderRegistry.has(u))return;const s=++this.triggerId;this._pendingTriggers.push(d),this.throttledDelayer.trigger(()=>this.doTrigger(s),c).catch(N.onUnexpectedError)}next(){if(this.state.type!==1)return;const d=this.state.hints.signatures.length,c=this.state.hints.activeSignature,u=c%d==d-1,s=this.editor.getOption(75).cycle;if((d<2||u)&&!s){this.cancel();return}this.updateActiveSignature(u&&s?0:c+1)}previous(){if(this.state.type!==1)return;const d=this.state.hints.signatures.length,c=this.state.hints.activeSignature,u=c===0,s=this.editor.getOption(75).cycle;if((d<2||u)&&!s){this.cancel();return}this.updateActiveSignature(u&&s?d-1:c-1)}updateActiveSignature(d){this.state.type===1&&(this.state=new i.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:d})),this._onChangedHints.fire(this.state.hints))}doTrigger(d){return Me(this,void 0,void 0,function*(){const c=this.state.type===1||this.state.type===2,u=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const s=this._pendingTriggers.reduce(r);this._pendingTriggers=[];const n={triggerKind:s.triggerKind,triggerCharacter:s.triggerCharacter,isRetrigger:c,activeSignatureHelp:u};if(!this.editor.hasModel())return!1;const a=this.editor.getModel(),t=this.editor.getPosition();this.state=new i.Pending((0,y.createCancelablePromise)(l=>(0,b.provideSignatureHelp)(a,t,n,l)),u);try{const l=yield this.state.request;return d!==this.triggerId?(l==null||l.dispose(),!1):!l||!l.value.signatures||l.value.signatures.length===0?(l==null||l.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new i.Active(l.value),this._lastSignatureHelpResult.value=l,this._onChangedHints.fire(this.state.hints),!0)}catch(l){return d===this.triggerId&&(this.state=i.Default),(0,N.onUnexpectedError)(l),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet;const d=this.editor.getModel();if(!!d)for(const c of p.SignatureHelpProviderRegistry.ordered(d)){for(const u of c.signatureHelpTriggerCharacters||[])this.triggerChars.add(u.charCodeAt(0)),this.retriggerChars.add(u.charCodeAt(0));for(const u of c.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(u.charCodeAt(0))}}onDidType(d){if(!this.triggerOnType)return;const c=d.length-1,u=d.charCodeAt(c);(this.triggerChars.has(u)||this.isTriggered&&this.retriggerChars.has(u))&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:d.charAt(c)})}onCursorChange(d){d.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(75).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=f,f.DEFAULT_DELAY=120;function r(o,d){switch(d.triggerKind){case p.SignatureHelpTriggerKind.Invoke:return d;case p.SignatureHelpTriggerKind.ContentChange:return o;case p.SignatureHelpTriggerKind.TriggerCharacter:default:return d}}});var Ce=this&&this.__param||function(q,e){return function(y,N){e(y,N,q)}};define(te[565],ie([0,1,15]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let N=class Et{constructor(D,S){this._editor=D,this._index=0,this._ckOtherSuggestions=Et.OtherSuggestions.bindTo(S)}dispose(){this.reset()}reset(){var D;this._ckOtherSuggestions.reset(),(D=this._listener)===null||D===void 0||D.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:D,index:S},p){if(D.items.length===0){this.reset();return}if(Et._moveIndex(!0,D,S)===S){this.reset();return}this._acceptNext=p,this._model=D,this._index=S,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(D,S,p){let b=p;for(;b=(b+S.items.length+(D?1:-1))%S.items.length,!(b===p||!S.items[b].completion.additionalTextEdits););return b}next(){this._move(!0)}prev(){this._move(!1)}_move(D){if(!!this._model)try{this._ignore=!0,this._index=Et._moveIndex(D,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};N.OtherSuggestions=new y.RawContextKey("hasOtherSuggestions",!1),N=Fe([Ce(1,y.IContextKeyService)],N),e.SuggestAlternatives=N}),define(te[566],ie([0,1,15]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let N=class hi{constructor(D,S){this._editor=D,this._enabled=!1,this._ckAtEnd=hi.AtEnd.bindTo(S),this._configListener=this._editor.onDidChangeConfiguration(p=>p.hasChanged(110)&&this._update()),this._update()}dispose(){var D;this._configListener.dispose(),(D=this._selectionListener)===null||D===void 0||D.dispose(),this._ckAtEnd.reset()}_update(){const D=this._editor.getOption(110)==="on";if(this._enabled!==D)if(this._enabled=D,this._enabled){const S=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const p=this._editor.getModel(),b=this._editor.getSelection(),i=p.getWordAtPosition(b.getStartPosition());if(!i){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(i.endColumn===b.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(S),S()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};N.AtEnd=new y.RawContextKey("atEndOfWord",!1),N=Fe([Ce(1,y.IContextKeyService)],N),e.WordContextKey=N}),define(te[60],ie([0,1,15,9]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,N.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new y.RawContextKey("accessibilityModeEnabled",!1)}),define(te[261],ie([0,1,17,544,15]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContextKey=e.IsWindowsContext=void 0,e.IsWindowsContext=new T.RawContextKey("isWindows",y.isWindows,(0,N.localize)(0,null)),e.InputFocusedContextKey="inputFocus"}),define(te[70],ie([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,y.createDecorator)("contextViewService"),e.IContextMenuService=(0,y.createDecorator)("contextMenuService")}),define(te[123],ie([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,y.createDecorator)("dialogService")}),define(te[146],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class y{constructor(...T){this._entries=new Map;for(let[D,S]of T)this.set(D,S)}set(T,D){const S=this._entries.get(T);return this._entries.set(T,D),S}has(T){return this._entries.has(T)}get(T){return this._entries.get(T)}}e.ServiceCollection=y}),define(te[567],ie([0,1,14,10,251,557,9,146]),function(q,e,y,N,T,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstantiationService=void 0;const b=!1;class i extends Error{constructor(d){var c;super("cyclic dependency between services");this.message=(c=d.findCycleSlow())!==null&&c!==void 0?c:`UNABLE to detect cycle, dumping graph: 
${d.toString()}`}}class f{constructor(d=new p.ServiceCollection,c=!1,u){this._activeInstantiations=new Set,this._services=d,this._strict=c,this._parent=u,this._services.set(S.IInstantiationService,this)}createChild(d){return new f(d,this._strict,this)}invokeFunction(d,...c){let u=r.traceInvocation(d),s=!1;try{return d({get:(a,t)=>{if(s)throw(0,N.illegalState)("service accessor is only valid during the invocation of its target method");const l=this._getOrCreateServiceInstance(a,u);if(!l&&t!==S.optional)throw new Error(`[invokeFunction] unknown service '${a}'`);return l}},...c)}finally{s=!0,u.stop()}}createInstance(d,...c){let u,s;return d instanceof T.SyncDescriptor?(u=r.traceCreation(d.ctor),s=this._createInstance(d.ctor,d.staticArguments.concat(c),u)):(u=r.traceCreation(d),s=this._createInstance(d,c,u)),u.stop(),s}_createInstance(d,c=[],u){let s=S._util.getServiceDependencies(d).sort((t,l)=>t.index-l.index),n=[];for(const t of s){let l=this._getOrCreateServiceInstance(t.id,u);if(!l&&this._strict&&!t.optional)throw new Error(`[createInstance] ${d.name} depends on UNKNOWN service ${t.id}.`);n.push(l)}let a=s.length>0?s[0].index:c.length;if(c.length!==a){console.warn(`[createInstance] First service dependency of ${d.name} at position ${a+1} conflicts with ${c.length} static arguments`);let t=a-c.length;t>0?c=c.concat(new Array(t)):c=c.slice(0,a)}return new d(...[...c,...n])}_setServiceInstance(d,c){if(this._services.get(d)instanceof T.SyncDescriptor)this._services.set(d,c);else if(this._parent)this._parent._setServiceInstance(d,c);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(d){let c=this._services.get(d);return!c&&this._parent?this._parent._getServiceInstanceOrDescriptor(d):c}_getOrCreateServiceInstance(d,c){let u=this._getServiceInstanceOrDescriptor(d);return u instanceof T.SyncDescriptor?this._safeCreateAndCacheServiceInstance(d,u,c.branch(d,!0)):(c.branch(d,!1),u)}_safeCreateAndCacheServiceInstance(d,c,u){if(this._activeInstantiations.has(d))throw new Error(`illegal state - RECURSIVELY instantiating service '${d}'`);this._activeInstantiations.add(d);try{return this._createAndCacheServiceInstance(d,c,u)}finally{this._activeInstantiations.delete(d)}}_createAndCacheServiceInstance(d,c,u){const s=new D.Graph(t=>t.id.toString());let n=0;const a=[{id:d,desc:c,_trace:u}];for(;a.length;){const t=a.pop();if(s.lookupOrInsertNode(t),n++>1e3)throw new i(s);for(let l of S._util.getServiceDependencies(t.desc.ctor)){let h=this._getServiceInstanceOrDescriptor(l.id);if(!h&&!l.optional&&console.warn(`[createInstance] ${d} depends on ${l.id} which is NOT registered.`),h instanceof T.SyncDescriptor){const g={id:l.id,desc:h,_trace:t._trace.branch(l.id,!0)};s.insertEdge(t,g),a.push(g)}}}for(;;){const t=s.roots();if(t.length===0){if(!s.isEmpty())throw new i(s);break}for(const{data:l}of t){if(this._getServiceInstanceOrDescriptor(l.id)instanceof T.SyncDescriptor){const g=this._createServiceInstanceWithOwner(l.id,l.desc.ctor,l.desc.staticArguments,l.desc.supportsDelayedInstantiation,l._trace);this._setServiceInstance(l.id,g)}s.removeNode(l)}}return this._getServiceInstanceOrDescriptor(d)}_createServiceInstanceWithOwner(d,c,u=[],s,n){if(this._services.get(d)instanceof T.SyncDescriptor)return this._createServiceInstance(c,u,s,n);if(this._parent)return this._parent._createServiceInstanceWithOwner(d,c,u,s,n);throw new Error(`illegalState - creating UNKNOWN service instance ${c.name}`)}_createServiceInstance(d,c=[],u,s){if(u){const n=new y.IdleValue(()=>this._createInstance(d,c,s));return new Proxy(Object.create(null),{get(a,t){if(t in a)return a[t];let l=n.value,h=l[t];return typeof h!="function"||(h=h.bind(l),a[t]=h),h},set(a,t,l){return n.value[t]=l,!0}})}else return this._createInstance(d,c,s)}}e.InstantiationService=f;class r{constructor(d,c){this.type=d,this.name=c,this._start=Date.now(),this._dep=[]}static traceInvocation(d){return b?new r(1,d.name||d.toString().substring(0,42).replace(/\n/g,"")):r._None}static traceCreation(d){return b?new r(0,d.name):r._None}branch(d,c){let u=new r(2,d.toString());return this._dep.push([d,c,u]),u}stop(){let d=Date.now()-this._start;r._totals+=d;let c=!1;function u(n,a){let t=[],l=new Array(n+1).join("	");for(const[h,g,w]of a._dep)if(g&&w){c=!0,t.push(`${l}CREATES -> ${h}`);let _=u(n+1,w);_&&t.push(_)}else t.push(`${l}uses -> ${h}`);return t.join(`
`)}let s=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${u(1,this)}`,`DONE, took ${d.toFixed(2)}ms (grand total ${r._totals.toFixed(2)}ms)`];(d>2||c)&&console.log(s.join(`
`))}}r._None=new class extends r{constructor(){super(-1,null)}stop(){}branch(){return this}},r._totals=0}),define(te[568],ie([0,1,14,6,2,545]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const S=/^(cursor|delete)/;class p extends T.Disposable{constructor(f,r,o,d,c){super();this._contextKeyService=f,this._commandService=r,this._telemetryService=o,this._notificationService=d,this._logService=c,this._onDidUpdateKeybindings=this._register(new N.Emitter),this._currentChord=null,this._currentChordChecker=new y.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=b.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new y.TimeoutTimer,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:N.Event.None}dispose(){super.dispose()}_log(f){this._logging&&this._logService.info(`[KeybindingService]: ${f}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(f,r){const o=this._getResolver().lookupPrimaryKeybinding(f,r||this._contextKeyService);if(!!o)return o.resolvedKeybinding}dispatchEvent(f,r){return this._dispatch(f,r)}softDispatch(f,r){const o=this.resolveKeyboardEvent(f);if(o.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[d]=o.getDispatchParts();if(d===null)return null;const c=this._contextKeyService.getContext(r),u=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(c,u,d)}_enterChordMode(f,r){this._currentChord={keypress:f,label:r},this._currentChordStatusMessage=this._notificationService.status(D.localize(0,null,r));const o=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-o>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(f,r){return this._doDispatch(this.resolveKeyboardEvent(f),r,!1)}_singleModifierDispatch(f,r){const o=this.resolveKeyboardEvent(f),[d]=o.getSingleModifierDispatchParts();if(d)return this._ignoreSingleModifiers.has(d)?(this._log(`+ Ignoring single modifier ${d} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=b.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=b.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${d}.`),this._currentSingleModifier=d,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):d===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${d} ${d}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(o,r,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${d}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[c]=o.getParts();return this._ignoreSingleModifiers=new b(c),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(f,r,o=!1){let d=!1;if(f.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let c=null,u=null;if(o){const[t]=f.getSingleModifierDispatchParts();c=t,u=t}else[c]=f.getDispatchParts(),u=this._currentChord?this._currentChord.keypress:null;if(c===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),d;const s=this._contextKeyService.getContext(r),n=f.getLabel(),a=this._getResolver().resolve(s,u,c);return this._logService.trace("KeybindingService#dispatch",n,a==null?void 0:a.commandId),a&&a.enterChord?(d=!0,this._enterChordMode(c,n),d):(this._currentChord&&(!a||!a.commandId)&&(this._notificationService.status(D.localize(1,null,this._currentChord.label,n),{hideAfter:10*1e3}),d=!0),this._leaveChordMode(),a&&a.commandId&&(a.bubble||(d=!0),typeof a.commandArgs=="undefined"?this._commandService.executeCommand(a.commandId).then(void 0,t=>this._notificationService.warn(t)):this._commandService.executeCommand(a.commandId,a.commandArgs).then(void 0,t=>this._notificationService.warn(t)),S.test(a.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:a.commandId,from:"keybinding"})),d)}mightProducePrintableCharacter(f){return f.ctrlKey||f.metaKey?!1:f.keyCode>=31&&f.keyCode<=56||f.keyCode>=21&&f.keyCode<=30}}e.AbstractKeybindingService=p;class b{constructor(f){this._ctrlKey=f?f.ctrlKey:!1,this._shiftKey=f?f.shiftKey:!1,this._altKey=f?f.altKey:!1,this._metaKey=f?f.metaKey:!1}has(f){switch(f){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}b.EMPTY=new b(null)}),define(te[569],ie([0,1,10,187,43]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class D extends T.ResolvedKeybinding{constructor(p,b){super();if(b.length===0)throw(0,y.illegalArgument)("parts");this._os=p,this._parts=b}getLabel(){return N.UILabelProvider.toLabel(this._os,this._parts,p=>this._getLabel(p))}getAriaLabel(){return N.AriaLabelProvider.toLabel(this._os,this._parts,p=>this._getAriaLabel(p))}getElectronAccelerator(){return this._parts.length>1?null:N.ElectronAcceleratorLabelProvider.toLabel(this._os,this._parts,p=>this._getElectronAccelerator(p))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(p=>this._getPart(p))}_getPart(p){return new T.ResolvedKeybindingPart(p.ctrlKey,p.shiftKey,p.altKey,p.metaKey,this._getLabel(p),this._getAriaLabel(p))}getDispatchParts(){return this._parts.map(p=>this._getDispatchPart(p))}getSingleModifierDispatchParts(){return this._parts.map(p=>this._getSingleModifierDispatchPart(p))}}e.BaseResolvedKeybinding=D}),define(te[40],ie([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,y.createDecorator)("keybindingService")}),define(te[262],ie([0,1,15]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=void 0;class N{constructor(p,b,i){this._log=i,this._defaultKeybindings=p,this._defaultBoundCommands=new Map;for(let f=0,r=p.length;f<r;f++){const o=p[f].command;o&&this._defaultBoundCommands.set(o,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=N.combine(p,b);for(let f=0,r=this._keybindings.length;f<r;f++){let o=this._keybindings[f];o.keypressParts.length!==0&&(o.when&&o.when.type===0||this._addKeyPress(o.keypressParts[0],o))}}static _isTargetedForRemoval(p,b,i,f,r){return!(p.command!==f||b&&p.keypressParts[0]!==b||i&&p.keypressParts[1]!==i||r&&(!p.when||!(0,y.expressionsAreEqualWithConstantSubstitution)(r,p.when)))}static combine(p,b){p=p.slice(0);let i=[];for(const f of b){if(!f.command||f.command.length===0||f.command.charAt(0)!=="-"){i.push(f);continue}const r=f.command.substr(1),o=f.keypressParts[0],d=f.keypressParts[1],c=f.when;for(let u=p.length-1;u>=0;u--)this._isTargetedForRemoval(p[u],o,d,r,c)&&p.splice(u,1)}return p.concat(i)}_addKeyPress(p,b){const i=this._map.get(p);if(typeof i=="undefined"){this._map.set(p,[b]),this._addToLookupMap(b);return}for(let f=i.length-1;f>=0;f--){let r=i[f];if(r.command===b.command)continue;const o=r.keypressParts.length>1,d=b.keypressParts.length>1;o&&d&&r.keypressParts[1]!==b.keypressParts[1]||N.whenIsEntirelyIncluded(r.when,b.when)&&this._removeFromLookupMap(r)}i.push(b),this._addToLookupMap(b)}_addToLookupMap(p){if(!p.command)return;let b=this._lookupMap.get(p.command);typeof b=="undefined"?(b=[p],this._lookupMap.set(p.command,b)):b.push(p)}_removeFromLookupMap(p){if(!p.command)return;let b=this._lookupMap.get(p.command);if(typeof b!="undefined"){for(let i=0,f=b.length;i<f;i++)if(b[i]===p){b.splice(i,1);return}}}static whenIsEntirelyIncluded(p,b){return!b||b.type===1?!0:!p||p.type===1?!1:(0,y.implies)(p,b)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(p,b){const i=this._lookupMap.get(p);if(typeof i=="undefined"||i.length===0)return null;if(i.length===1)return i[0];for(let f=i.length-1;f>=0;f--){const r=i[f];if(b.contextMatchesRules(r.when))return r}return i[i.length-1]}resolve(p,b,i){this._log(`| Resolving ${i}${b?` chorded from ${b}`:""}`);let f=null;if(b!==null){const o=this._map.get(b);if(typeof o=="undefined")return this._log("\\ No keybinding entries."),null;f=[];for(let d=0,c=o.length;d<c;d++){let u=o[d];u.keypressParts[1]===i&&f.push(u)}}else{const o=this._map.get(i);if(typeof o=="undefined")return this._log("\\ No keybinding entries."),null;f=o}let r=this._findCommand(p,f);return r?b===null&&r.keypressParts.length>1&&r.keypressParts[1]!==null?(this._log(`\\ From ${f.length} keybinding entries, matched chord, when: ${T(r.when)}, source: ${D(r)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${f.length} keybinding entries, matched ${r.command}, when: ${T(r.when)}, source: ${D(r)}.`),{enterChord:!1,leaveChord:r.keypressParts.length>1,commandId:r.command,commandArgs:r.commandArgs,bubble:r.bubble}):(this._log(`\\ From ${f.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(p,b){for(let i=b.length-1;i>=0;i--){let f=b[i];if(!!N.contextMatchesRules(p,f.when))return f}return null}static contextMatchesRules(p,b){return b?b.evaluate(p):!0}}e.KeybindingResolver=N;function T(S){return S?`${S.serialize()}`:"no when condition"}function D(S){return S.extensionId?S.isBuiltinExtension?`built-in extension ${S.extensionId}`:`user extension ${S.extensionId}`:S.isDefault?"built-in":"user"}}),define(te[570],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElementsAfterNulls=e.ResolvedKeybindingItem=void 0;class y{constructor(D,S,p,b,i,f,r){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=D,this.keypressParts=D?N(D.getDispatchParts()):[],D&&this.keypressParts.length===0&&(this.keypressParts=N(D.getSingleModifierDispatchParts())),this.bubble=S?S.charCodeAt(0)===94:!1,this.command=this.bubble?S.substr(1):S,this.commandArgs=p,this.when=b,this.isDefault=i,this.extensionId=f,this.isBuiltinExtension=r}}e.ResolvedKeybindingItem=y;function N(T){let D=[];for(let S=0,p=T.length;S<p;S++){const b=T[S];if(!b)return D;D.push(b)}return D}e.removeElementsAfterNulls=N}),define(te[571],ie([0,1,43,569]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class T extends N.BaseResolvedKeybinding{constructor(S,p){super(p,S.parts)}_keyCodeToUILabel(S){if(this._os===2)switch(S){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return y.KeyCodeUtils.toString(S)}_getLabel(S){return S.isDuplicateModifierCase()?"":this._keyCodeToUILabel(S.keyCode)}_getAriaLabel(S){return S.isDuplicateModifierCase()?"":y.KeyCodeUtils.toString(S.keyCode)}_keyCodeToElectronAccelerator(S){if(S>=93&&S<=108)return null;switch(S){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return y.KeyCodeUtils.toString(S)}_getElectronAccelerator(S){return S.isDuplicateModifierCase()?null:this._keyCodeToElectronAccelerator(S.keyCode)}_getDispatchPart(S){return T.getDispatchStr(S)}static getDispatchStr(S){if(S.isModifierKey())return null;let p="";return S.ctrlKey&&(p+="ctrl+"),S.shiftKey&&(p+="shift+"),S.altKey&&(p+="alt+"),S.metaKey&&(p+="meta+"),p+=y.KeyCodeUtils.toString(S.keyCode),p}_getSingleModifierDispatchPart(S){return S.keyCode===5&&!S.shiftKey&&!S.altKey&&!S.metaKey?"ctrl":S.keyCode===4&&!S.ctrlKey&&!S.altKey&&!S.metaKey?"shift":S.keyCode===6&&!S.ctrlKey&&!S.shiftKey&&!S.metaKey?"alt":S.keyCode===57&&!S.ctrlKey&&!S.shiftKey&&!S.altKey?"meta":null}}e.USLayoutResolvedKeybinding=T}),define(te[124],ie([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,y.createDecorator)("labelService")}),define(te[147],ie([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,y.createDecorator)("layoutService")}),define(te[572],ie([0,1,213,2,147]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let D=class extends N.Disposable{constructor(p){super();this.layoutService=p,this.currentViewDisposable=N.Disposable.None,this.container=p.container,this.contextView=this._register(new y.ContextView(this.container,1)),this.layout(),this._register(p.onDidLayout(()=>this.layout()))}setContainer(p,b){this.contextView.setContainer(p,b||1)}showContextView(p,b,i){b?b!==this.container&&(this.container=b,this.setContainer(b,i?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(p);const f=(0,N.toDisposable)(()=>{this.currentViewDisposable===f&&this.hideContextView()});return this.currentViewDisposable=f,f}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(p){this.contextView.hide(p)}};D=Fe([Ce(0,T.ILayoutService)],D),e.ContextViewService=D}),define(te[71],ie([0,1,6,2,9]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,T.createDecorator)("logService");var D;(function(i){i[i.Trace=0]="Trace",i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warning=3]="Warning",i[i.Error=4]="Error",i[i.Critical=5]="Critical",i[i.Off=6]="Off"})(D=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=D.Info;class S extends N.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new y.Emitter)}setLevel(f){this.level!==f&&(this.level=f,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=S;class p extends S{constructor(f=e.DEFAULT_LOG_LEVEL){super();this.setLevel(f)}trace(f,...r){this.getLevel()<=D.Trace&&console.log("%cTRACE","color: #888",f,...r)}debug(f,...r){this.getLevel()<=D.Debug&&console.log("%cDEBUG","background: #eee; color: #888",f,...r)}info(f,...r){this.getLevel()<=D.Info&&console.log("%c INFO","color: #33f",f,...r)}error(f,...r){this.getLevel()<=D.Error&&console.log("%c  ERR","color: #f33",f,...r)}dispose(){}}e.ConsoleLogger=p;class b extends N.Disposable{constructor(f){super();this.logger=f,this._register(f)}getLevel(){return this.logger.getLevel()}trace(f,...r){this.logger.trace(f,...r)}debug(f,...r){this.logger.debug(f,...r)}info(f,...r){this.logger.info(f,...r)}error(f,...r){this.logger.error(f,...r)}}e.LogService=b}),define(te[263],ie([0,1,14,2,210,311,3,18,38,407,39,145,8,19,71,83,10]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerServiceImpl=void 0;const n=60*1e3,a=5*60*1e3;function t(m,E){let I=m.getModel(E);return!(!I||I.isTooLargeForSyncing())}let l=class extends N.Disposable{constructor(E,I,k){super();this._modelService=E,this._workerManager=this._register(new g(this._modelService)),this._logService=k,this._register(p.LinkProviderRegistry.register("*",{provideLinks:(A,P)=>t(this._modelService,A.uri)?this._workerManager.withWorker().then(F=>F.computeLinks(A.uri)).then(F=>F&&{links:F}):Promise.resolve({links:[]})})),this._register(p.CompletionProviderRegistry.register("*",new h(this._workerManager,I,this._modelService)))}dispose(){super.dispose()}computeDiff(E,I,k,A){return this._workerManager.withWorker().then(P=>P.computeDiff(E,I,k,A))}computeMoreMinimalEdits(E,I){if((0,d.isNonEmptyArray)(I)){if(!t(this._modelService,E))return Promise.resolve(I);const k=u.StopWatch.create(!0),A=this._workerManager.withWorker().then(P=>P.computeMoreMinimalEdits(E,I));return A.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",E.toString(!0),k.elapsed())),Promise.race([A,(0,y.timeout)(1e3).then(()=>I)])}else return Promise.resolve(void 0)}canNavigateValueSet(E){return t(this._modelService,E)}navigateValueSet(E,I,k){return this._workerManager.withWorker().then(A=>A.navigateValueSet(E,I,k))}canComputeWordRanges(E){return t(this._modelService,E)}computeWordRanges(E,I){return this._workerManager.withWorker().then(k=>k.computeWordRanges(E,I))}};l=Fe([Ce(0,f.IModelService),Ce(1,r.ITextResourceConfigurationService),Ce(2,c.ILogService)],l),e.EditorWorkerServiceImpl=l;class h{constructor(E,I,k){this._debugDisplayName="wordbasedCompletions",this._workerManager=E,this._configurationService=I,this._modelService=k}provideCompletionItems(E,I){return Me(this,void 0,void 0,function*(){const k=this._configurationService.getValue(E.uri,I,"editor");if(!k.wordBasedSuggestions)return;const A=[];if(k.wordBasedSuggestionsMode==="currentDocument")t(this._modelService,E.uri)&&A.push(E.uri);else for(const B of this._modelService.getModels())!t(this._modelService,B.uri)||(B===E?A.unshift(B.uri):(k.wordBasedSuggestionsMode==="allDocuments"||B.getLanguageIdentifier().id===E.getLanguageIdentifier().id)&&A.push(B.uri));if(A.length===0)return;const P=b.LanguageConfigurationRegistry.getWordDefinition(E.getLanguageIdentifier().id),F=E.getWordAtPosition(I),M=F?new S.Range(I.lineNumber,F.startColumn,I.lineNumber,F.endColumn):S.Range.fromPositions(I),R=M.setEndPosition(I.lineNumber,I.column),L=yield(yield this._workerManager.withWorker()).textualSuggest(A,F==null?void 0:F.word,P);if(!!L)return{duration:L.duration,suggestions:L.words.map(B=>({kind:18,label:B,insertText:B,range:{insert:R,replace:M}}))}})}}class g extends N.Disposable{constructor(E){super();this._modelService=E,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new y.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(a/2)),this._register(this._modelService.onModelRemoved(k=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>a&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new v(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class w extends N.Disposable{constructor(E,I,k){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=E,this._modelService=I,!k){let A=new y.IntervalTimer;A.cancelAndSet(()=>this._checkStopModelSync(),Math.round(n/2)),this._register(A)}}dispose(){for(let E in this._syncedModels)(0,N.dispose)(this._syncedModels[E]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(E,I){for(const k of E){let A=k.toString();this._syncedModels[A]||this._beginModelSync(k,I),this._syncedModels[A]&&(this._syncedModelsLastUsedTime[A]=new Date().getTime())}}_checkStopModelSync(){let E=new Date().getTime(),I=[];for(let k in this._syncedModelsLastUsedTime)E-this._syncedModelsLastUsedTime[k]>n&&I.push(k);for(const k of I)this._stopModelSync(k)}_beginModelSync(E,I){let k=this._modelService.getModel(E);if(!k||!I&&k.isTooLargeForSyncing())return;let A=E.toString();this._proxy.acceptNewModel({url:k.uri.toString(),lines:k.getLinesContent(),EOL:k.getEOL(),versionId:k.getVersionId()});const P=new N.DisposableStore;P.add(k.onDidChangeContent(F=>{this._proxy.acceptModelChanged(A.toString(),F)})),P.add(k.onWillDispose(()=>{this._stopModelSync(A)})),P.add((0,N.toDisposable)(()=>{this._proxy.acceptRemovedModel(A)})),this._syncedModels[A]=P}_stopModelSync(E){let I=this._syncedModels[E];delete this._syncedModels[E],delete this._syncedModelsLastUsedTime[E],(0,N.dispose)(I)}}class _{constructor(E){this._instance=E,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class C{constructor(E){this._workerClient=E}fhr(E,I){return this._workerClient.fhr(E,I)}}e.EditorWorkerHost=C;class v extends N.Disposable{constructor(E,I,k){super();this._disposed=!1,this._modelService=E,this._keepIdleModels=I,this._workerFactory=new D.DefaultWorkerFactory(k),this._worker=null,this._modelManager=null}fhr(E,I){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new T.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new C(this)))}catch(E){(0,T.logOnceWebWorkerWarning)(E),this._worker=new _(new i.EditorSimpleWorker(new C(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,E=>((0,T.logOnceWebWorkerWarning)(E),this._worker=new _(new i.EditorSimpleWorker(new C(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(E){return this._modelManager||(this._modelManager=this._register(new w(E,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(E,I=!1){return Me(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,s.canceled)()):this._getProxy().then(k=>(this._getOrCreateModelManager(k).ensureSyncedResources(E,I),k))})}computeDiff(E,I,k,A){return this._withSyncedResources([E,I],!0).then(P=>P.computeDiff(E.toString(),I.toString(),k,A))}computeMoreMinimalEdits(E,I){return this._withSyncedResources([E]).then(k=>k.computeMoreMinimalEdits(E.toString(),I))}computeLinks(E){return this._withSyncedResources([E]).then(I=>I.computeLinks(E.toString()))}textualSuggest(E,I,k){return Me(this,void 0,void 0,function*(){const A=yield this._withSyncedResources(E),P=k.source,F=(0,o.regExpFlags)(k);return A.textualSuggest(E.map(M=>M.toString()),I,P,F)})}computeWordRanges(E,I){return this._withSyncedResources([E]).then(k=>{let A=this._modelService.getModel(E);if(!A)return Promise.resolve(null);let P=b.LanguageConfigurationRegistry.getWordDefinition(A.getLanguageIdentifier().id),F=P.source,M=(0,o.regExpFlags)(P);return k.computeWordRanges(E.toString(),I,F,M)})}navigateValueSet(E,I,k){return this._withSyncedResources([E]).then(A=>{let P=this._modelService.getModel(E);if(!P)return null;let F=b.LanguageConfigurationRegistry.getWordDefinition(P.getLanguageIdentifier().id),M=F.source,R=(0,o.regExpFlags)(F);return A.navigateValueSet(E.toString(),I,k,M,R)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=v}),define(te[264],ie([0,1,18,71,144]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;class D{constructor(f,r,o){this._legend=f,this._themeService=r,this._logService=o,this._hashTable=new b,this._hasWarnedOverlappingTokens=!1}getMetadata(f,r,o){const d=this._hashTable.get(f,r,o.id);let c;if(d)c=d.metadata,this._logService.getLevel()===N.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${f} / ${r}: foreground ${y.TokenMetadata.getForeground(c)}, fontStyle ${y.TokenMetadata.getFontStyle(c).toString(2)}`);else{let u=this._legend.tokenTypes[f];const s=[];if(u){let n=r;for(let t=0;n>0&&t<this._legend.tokenModifiers.length;t++)n&1&&s.push(this._legend.tokenModifiers[t]),n=n>>1;n>0&&this._logService.getLevel()===N.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${r.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),s.push("not-in-legend"));const a=this._themeService.getColorTheme().getTokenStyleMetadata(u,s,o.language);typeof a=="undefined"?c=2147483647:(c=0,typeof a.italic!="undefined"&&(c|=(a.italic?1:0)<<11|1),typeof a.bold!="undefined"&&(c|=(a.bold?2:0)<<11|2),typeof a.underline!="undefined"&&(c|=(a.underline?4:0)<<11|4),a.foreground&&(c|=a.foreground<<14|8),c===0&&(c=2147483647))}else this._logService.getLevel()===N.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${f} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),c=2147483647,u="not-in-legend";this._hashTable.add(f,r,o.id,c),this._logService.getLevel()===N.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${f} (${u}) / ${r} (${s.join(" ")}): foreground ${y.TokenMetadata.getForeground(c)}, fontStyle ${y.TokenMetadata.getFontStyle(c).toString(2)}`)}return c}warnOverlappingSemanticTokens(f,r){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${f}, column ${r}`))}}e.SemanticTokensProviderStyling=D;function S(i,f,r){const o=i.data,d=i.data.length/5|0,c=Math.max(Math.ceil(d/1024),400),u=[];let s=0,n=1,a=0;for(;s<d;){const t=s;let l=Math.min(t+c,d);if(l<d){let E=l;for(;E-1>t&&o[5*E]===0;)E--;if(E-1===t){let I=l;for(;I+1<d&&o[5*I]===0;)I++;l=I}else l=E}let h=new Uint32Array((l-t)*4),g=0,w=0,_=0,C=0,v=0;for(;s<l;){const E=5*s,I=o[E],k=o[E+1],A=n+I,P=I===0?a+k:k,F=o[E+2],M=o[E+3],R=o[E+4],O=f.getMetadata(M,R,r);O!==2147483647&&(w===0&&(w=A),_===A&&v>P&&(f.warnOverlappingSemanticTokens(A,P+1),C<P?h[g-4+2]=P:g-=4),h[g]=A-w,h[g+1]=P,h[g+2]=P+F,h[g+3]=O,g+=4,_=A,C=P,v=P+F),n=A,a=P,s++}g!==h.length&&(h=h.subarray(0,g));const m=new T.MultilineTokens2(w,new T.SparseEncodedTokens(h));u.push(m)}return u}e.toMultilineTokens2=S;class p{constructor(f,r,o,d){this.tokenTypeIndex=f,this.tokenModifierSet=r,this.languageId=o,this.metadata=d,this.next=null}}class b{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=b._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<b._SIZES.length?2/3*this._currentLength:0),this._elements=[],b._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(f,r){for(let o=0;o<r;o++)f[o]=null}_hash2(f,r){return(f<<5)-f+r|0}_hashFunc(f,r,o){return this._hash2(this._hash2(f,r),o)%this._currentLength}get(f,r,o){const d=this._hashFunc(f,r,o);let c=this._elements[d];for(;c;){if(c.tokenTypeIndex===f&&c.tokenModifierSet===r&&c.languageId===o)return c;c=c.next}return null}add(f,r,o,d){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const c=this._elements;this._currentLengthIndex++,this._currentLength=b._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<b._SIZES.length?2/3*this._currentLength:0),this._elements=[],b._nullOutEntries(this._elements,this._currentLength);for(const u of c){let s=u;for(;s;){const n=s.next;s.next=null,this._add(s),s=n}}}this._add(new p(f,r,o,d))}_add(f){const r=this._hashFunc(f.tokenTypeIndex,f.tokenModifierSet,f.languageId);f.next=this._elements[r],this._elements[r]=f}}b._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(te[573],ie([0,1,263,20]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function T(S,p){return new D(S,p)}e.createWebWorker=T;class D extends y.EditorWorkerClient{constructor(p,b){super(p,b.keepIdleModels||!1,b.label);this._foreignModuleId=b.moduleId,this._foreignModuleCreateData=b.createData||null,this._foreignModuleHost=b.host||null,this._foreignProxy=null}fhr(p,b){if(!this._foreignModuleHost||typeof this._foreignModuleHost[p]!="function")return Promise.reject(new Error("Missing method "+p+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[p].apply(this._foreignModuleHost,b))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(p=>{const b=this._foreignModuleHost?N.getAllMethodNames(this._foreignModuleHost):[];return p.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,b).then(i=>{this._foreignModuleCreateData=null;const f=(d,c)=>p.fmr(d,c),r=(d,c)=>function(){const u=Array.prototype.slice.call(arguments,0);return c(d,u)};let o={};for(const d of i)o[d]=r(d,f);return o})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(p){return this._withSyncedResources(p).then(b=>this.getProxy())}}}),define(te[89],ie([0,1,75,547,9]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var D;(function(p){p[p.Hint=1]="Hint",p[p.Info=2]="Info",p[p.Warning=4]="Warning",p[p.Error=8]="Error"})(D=e.MarkerSeverity||(e.MarkerSeverity={})),function(p){function b(d,c){return c-d}p.compare=b;const i=Object.create(null);i[p.Error]=(0,N.localize)(0,null),i[p.Warning]=(0,N.localize)(1,null),i[p.Info]=(0,N.localize)(2,null);function f(d){return i[d]||""}p.toString=f;function r(d){switch(d){case y.default.Error:return p.Error;case y.default.Warning:return p.Warning;case y.default.Info:return p.Info;case y.default.Ignore:return p.Hint}}p.fromSeverity=r;function o(d){switch(d){case p.Error:return y.default.Error;case p.Warning:return y.default.Warning;case p.Info:return y.default.Info;case p.Hint:return y.default.Ignore}}p.toSeverity=o}(D=e.MarkerSeverity||(e.MarkerSeverity={}));var S;(function(p){const b="";function i(r){return f(r,!0)}p.makeKey=i;function f(r,o){let d=[b];return r.source?d.push(r.source.replace("\xA6","\\\xA6")):d.push(b),r.code?typeof r.code=="string"?d.push(r.code.replace("\xA6","\\\xA6")):d.push(r.code.value.replace("\xA6","\\\xA6")):d.push(b),r.severity!==void 0&&r.severity!==null?d.push(D.toString(r.severity)):d.push(b),r.message&&o?d.push(r.message.replace("\xA6","\\\xA6")):d.push(b),r.startLineNumber!==void 0&&r.startLineNumber!==null?d.push(r.startLineNumber.toString()):d.push(b),r.startColumn!==void 0&&r.startColumn!==null?d.push(r.startColumn.toString()):d.push(b),r.endLineNumber!==void 0&&r.endLineNumber!==null?d.push(r.endLineNumber.toString()):d.push(b),r.endColumn!==void 0&&r.endColumn!==null?d.push(r.endColumn.toString()):d.push(b),d.push(b),d.join("\xA6")}p.makeKeyOptionalMessage=f})(S=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=(0,T.createDecorator)("markerService")}),define(te[574],ie([0,1,19,6,2,73,8,24,3,76,9,89]),function(q,e,y,N,T,D,S,p,b,i,f,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class o{constructor(s,n,a){this.marker=s,this.index=n,this.total=a}}e.MarkerCoordinate=o;let d=class gi{constructor(s,n){this._markerService=n,this._onDidChange=new N.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new T.DisposableStore,this._markers=[],this._nextIdx=-1,p.URI.isUri(s)?this._resourceFilter=t=>t.toString()===s.toString():s&&(this._resourceFilter=s);const a=()=>{this._markers=this._markerService.read({resource:p.URI.isUri(s)?s:void 0,severities:r.MarkerSeverity.Error|r.MarkerSeverity.Warning|r.MarkerSeverity.Info}),typeof s=="function"&&(this._markers=this._markers.filter(t=>this._resourceFilter(t.resource))),this._markers.sort(gi._compareMarker)};a(),this._dispoables.add(n.onMarkerChanged(t=>{(!this._resourceFilter||t.some(l=>this._resourceFilter(l)))&&(a(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(s){return!this._resourceFilter&&!s?!0:!this._resourceFilter||!s?!1:this._resourceFilter(s)}get selected(){const s=this._markers[this._nextIdx];return s&&new o(s,this._nextIdx+1,this._markers.length)}_initIdx(s,n,a){let t=!1,l=this._markers.findIndex(h=>h.resource.toString()===s.uri.toString());l<0&&(l=(0,y.binarySearch)(this._markers,{resource:s.uri},(h,g)=>(0,S.compare)(h.resource.toString(),g.resource.toString())),l<0&&(l=~l));for(let h=l;h<this._markers.length;h++){let g=b.Range.lift(this._markers[h]);if(g.isEmpty()){const w=s.getWordAtPosition(g.getStartPosition());w&&(g=new b.Range(g.startLineNumber,w.startColumn,g.startLineNumber,w.endColumn))}if(n&&(g.containsPosition(n)||n.isBeforeOrEqual(g.getStartPosition()))){this._nextIdx=h,t=!0;break}if(this._markers[h].resource.toString()!==s.uri.toString())break}t||(this._nextIdx=a?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(s,n,a){if(this._markers.length===0)return!1;let t=this._nextIdx;return this._nextIdx===-1?this._initIdx(n,a,s):s?this._nextIdx=(this._nextIdx+1)%this._markers.length:s||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),t!==this._nextIdx}find(s,n){let a=this._markers.findIndex(t=>t.resource.toString()===s.toString());if(!(a<0)){for(;a<this._markers.length;a++)if(b.Range.containsPosition(this._markers[a],n))return new o(this._markers[a],a+1,this._markers.length)}}static _compareMarker(s,n){let a=(0,S.compare)(s.resource.toString(),n.resource.toString());return a===0&&(a=r.MarkerSeverity.compare(s.severity,n.severity)),a===0&&(a=b.Range.compareRangesUsingStarts(s,n)),a}};d=Fe([Ce(1,r.IMarkerService)],d),e.MarkerList=d,e.IMarkerNavigationService=(0,f.createDecorator)("IMarkerNavigationService");let c=class{constructor(s){this._markerService=s,this._provider=new D.LinkedList}getMarkerList(s){for(let n of this._provider){const a=n.getMarkerList(s);if(a)return a}return new d(s,this._markerService)}};c=Fe([Ce(0,r.IMarkerService)],c),(0,i.registerSingleton)(e.IMarkerNavigationService,c,!0)}),define(te[575],ie([0,1,19,6,54,47,48,24,89]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=void 0;class i{constructor(){this._byResource=new D.ResourceMap,this._byOwner=new Map}set(d,c,u){let s=this._byResource.get(d);s||(s=new Map,this._byResource.set(d,s)),s.set(c,u);let n=this._byOwner.get(c);n||(n=new D.ResourceMap,this._byOwner.set(c,n)),n.set(d,u)}get(d,c){let u=this._byResource.get(d);return u==null?void 0:u.get(c)}delete(d,c){let u=!1,s=!1,n=this._byResource.get(d);n&&(u=n.delete(c));let a=this._byOwner.get(c);if(a&&(s=a.delete(d)),u!==s)throw new Error("illegal state");return u&&s}values(d){var c,u,s,n;return typeof d=="string"?(u=(c=this._byOwner.get(d))===null||c===void 0?void 0:c.values())!==null&&u!==void 0?u:T.Iterable.empty():p.URI.isUri(d)?(n=(s=this._byResource.get(d))===null||s===void 0?void 0:s.values())!==null&&n!==void 0?n:T.Iterable.empty():T.Iterable.map(T.Iterable.concat(...this._byOwner.values()),a=>a[1])}}class f{constructor(d){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new D.ResourceMap,this._service=d,this._subscription=d.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(d){for(const c of d){const u=this._data.get(c);u&&this._substract(u);const s=this._resourceStats(c);this._add(s),this._data.set(c,s)}}_resourceStats(d){const c={errors:0,warnings:0,infos:0,unknowns:0};if(d.scheme===S.Schemas.inMemory||d.scheme===S.Schemas.walkThrough||d.scheme===S.Schemas.walkThroughSnippet)return c;for(const{severity:u}of this._service.read({resource:d}))u===b.MarkerSeverity.Error?c.errors+=1:u===b.MarkerSeverity.Warning?c.warnings+=1:u===b.MarkerSeverity.Info?c.infos+=1:c.unknowns+=1;return c}_substract(d){this.errors-=d.errors,this.warnings-=d.warnings,this.infos-=d.infos,this.unknowns-=d.unknowns}_add(d){this.errors+=d.errors,this.warnings+=d.warnings,this.infos+=d.infos,this.unknowns+=d.unknowns}}class r{constructor(){this._onMarkerChanged=new N.DebounceEmitter({delay:0,merge:r._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new i,this._stats=new f(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(d,c){for(const u of c||[])this.changeOne(d,u,[])}changeOne(d,c,u){if((0,y.isFalsyOrEmpty)(u))this._data.delete(c,d)&&this._onMarkerChanged.fire([c]);else{const s=[];for(const n of u){const a=r._toMarker(d,c,n);a&&s.push(a)}this._data.set(c,d,s),this._onMarkerChanged.fire([c])}}static _toMarker(d,c,u){let{code:s,severity:n,message:a,source:t,startLineNumber:l,startColumn:h,endLineNumber:g,endColumn:w,relatedInformation:_,tags:C}=u;if(!!a)return l=l>0?l:1,h=h>0?h:1,g=g>=l?g:l,w=w>0?w:h,{resource:c,owner:d,code:s,severity:n,message:a,source:t,startLineNumber:l,startColumn:h,endLineNumber:g,endColumn:w,relatedInformation:_,tags:C}}read(d=Object.create(null)){let{owner:c,resource:u,severities:s,take:n}=d;if((!n||n<0)&&(n=-1),c&&u){const a=this._data.get(u,c);if(a){const t=[];for(const l of a)if(r._accept(l,s)){const h=t.push(l);if(n>0&&h===n)break}return t}else return[]}else if(!c&&!u){const a=[];for(let t of this._data.values())for(let l of t)if(r._accept(l,s)){const h=a.push(l);if(n>0&&h===n)return a}return a}else{const a=this._data.values(u??c),t=[];for(const l of a)for(const h of l)if(r._accept(h,s)){const g=t.push(h);if(n>0&&g===n)return t}return t}}static _accept(d,c){return c===void 0||(c&d.severity)===d.severity}static _merge(d){const c=new D.ResourceMap;for(let u of d)for(let s of u)c.set(s,!0);return Array.from(c.keys())}}e.MarkerService=r}),define(te[35],ie([0,1,75,9]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=y.default,e.INotificationService=(0,N.createDecorator)("notificationService");class T{}e.NoOpNotification=T}),define(te[57],ie([0,1,2,8,24,9]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesScheme=e.NullOpenerService=e.IOpenerService=void 0,e.IOpenerService=(0,D.createDecorator)("openerService"),e.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener(){return y.Disposable.None},registerValidator(){return y.Disposable.None},registerExternalUriResolver(){return y.Disposable.None},setDefaultExternalOpener(){},registerExternalOpener(){return y.Disposable.None},open(){return Me(this,void 0,void 0,function*(){return!1})},resolveExternalUri(p){return Me(this,void 0,void 0,function*(){return{resolved:p,dispose(){}}})}});function S(p,b){return T.URI.isUri(p)?(0,N.equalsIgnoreCase)(p.scheme,b):(0,N.startsWithIgnoreCase)(p,b+":")}e.matchesScheme=S}),define(te[125],ie([0,1,308,57,56,10,254,6,2,18]),function(q,e,y,N,T,D,S,p,b,i){"use strict";var f;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0;let r=class fi{constructor(d,c,u){this._options=d,this._modeService=c,this._openerService=u,this._onDidRenderAsync=new p.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(d,c,u){if(!d)return{element:document.createElement("span"),dispose:()=>{}};const s=new b.DisposableStore;return{element:s.add((0,y.renderMarkdown)(d,Object.assign(Object.assign({},this._getRenderOptions(d,s)),c),u)).element,dispose:()=>s.dispose()}}_getRenderOptions(d,c){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(u,s)=>Me(this,void 0,void 0,function*(){var n,a,t,l;let h;u?h=this._modeService.getModeIdForLanguageName(u):this._options.editor&&(h=(n=this._options.editor.getModel())===null||n===void 0?void 0:n.getLanguageIdentifier().language),h||(h="plaintext"),this._modeService.triggerMode(h);const g=(a=yield i.TokenizationRegistry.getPromise(h))!==null&&a!==void 0?a:void 0,w=document.createElement("span");w.innerHTML=(l=(t=fi._ttpTokenizer)===null||t===void 0?void 0:t.createHTML(s,g))!==null&&l!==void 0?l:(0,S.tokenizeToString)(s,g);let _=this._options.codeBlockFontFamily;return this._options.editor&&(_=this._options.editor.getOption(43).fontFamily),_&&(w.style.fontFamily=_),w}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:u=>this._openerService.open(u,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:d.isTrusted}).catch(D.onUnexpectedError),disposables:c}}}};r._ttpTokenizer=(f=window.trustedTypes)===null||f===void 0?void 0:f.createPolicy("tokenizeToString",{createHTML(o,d){return(0,S.tokenizeToString)(o,d)}}),r=Fe([Ce(1,T.IModeService),Ce(2,N.IOpenerService)],r),e.MarkdownRenderer=r}),define(te[576],ie([0,1,7,23,73,47,208,48,44,24,28,26,555,57]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let c=class{constructor(a){this._commandService=a}open(a,t){return Me(this,void 0,void 0,function*(){if(!(0,d.matchesScheme)(a,p.Schemas.command))return!1;if(!(t==null?void 0:t.allowCommands))return!0;typeof a=="string"&&(a=i.URI.parse(a));let l=[];try{l=(0,S.parse)(decodeURIComponent(a.query))}catch(h){try{l=(0,S.parse)(a.query)}catch(g){}}return Array.isArray(l)||(l=[l]),yield this._commandService.executeCommand(a.path,...l),!0})}};c=Fe([Ce(0,r.ICommandService)],c);let u=class{constructor(a){this._editorService=a}open(a,t){return Me(this,void 0,void 0,function*(){typeof a=="string"&&(a=i.URI.parse(a));let l;const h=/^L?(\d+)(?:,(\d+))?/.exec(a.fragment);return h&&(l={startLineNumber:parseInt(h[1]),startColumn:h[2]?parseInt(h[2]):1},a=a.with({fragment:""})),a.scheme===p.Schemas.file&&(a=(0,b.normalizePath)(a)),yield this._editorService.openCodeEditor({resource:a,options:Object.assign({selection:l,context:(t==null?void 0:t.fromUserGesture)?o.EditorOpenContext.USER:o.EditorOpenContext.API},t==null?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),t==null?void 0:t.openToSide),!0})}};u=Fe([Ce(0,f.ICodeEditorService)],u);let s=class{constructor(a,t){this._openers=new T.LinkedList,this._validators=new T.LinkedList,this._resolvers=new T.LinkedList,this._resolvedUriTargets=new D.ResourceMap(l=>l.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new T.LinkedList,this._defaultExternalOpener={openExternal:l=>Me(this,void 0,void 0,function*(){return(0,d.matchesScheme)(l,p.Schemas.http)||(0,d.matchesScheme)(l,p.Schemas.https)?y.windowOpenNoOpener(l):window.location.href=l,!0})},this._openers.push({open:(l,h)=>Me(this,void 0,void 0,function*(){return(h==null?void 0:h.openExternal)||(0,d.matchesScheme)(l,p.Schemas.mailto)||(0,d.matchesScheme)(l,p.Schemas.http)||(0,d.matchesScheme)(l,p.Schemas.https)?(yield this._doOpenExternal(l,h),!0):!1})}),this._openers.push(new c(t)),this._openers.push(new u(a))}registerOpener(a){return{dispose:this._openers.unshift(a)}}registerValidator(a){return{dispose:this._validators.push(a)}}registerExternalUriResolver(a){return{dispose:this._resolvers.push(a)}}setDefaultExternalOpener(a){this._defaultExternalOpener=a}registerExternalOpener(a){return{dispose:this._externalOpeners.push(a)}}open(a,t){var l;return Me(this,void 0,void 0,function*(){const h=typeof a=="string"?i.URI.parse(a):a,g=(l=this._resolvedUriTargets.get(h))!==null&&l!==void 0?l:a;for(const w of this._validators)if(!(yield w.shouldOpen(g)))return!1;for(const w of this._openers)if(yield w.open(a,t))return!0;return!1})}resolveExternalUri(a,t){return Me(this,void 0,void 0,function*(){for(const l of this._resolvers)try{const h=yield l.resolveExternalUri(a,t);if(h)return this._resolvedUriTargets.has(h.resolved)||this._resolvedUriTargets.set(h.resolved,a),h}catch(h){}throw new Error("Could not resolve external URI: "+a.toString())})}_doOpenExternal(a,t){return Me(this,void 0,void 0,function*(){const l=typeof a=="string"?i.URI.parse(a):a;let h;try{h=(yield this.resolveExternalUri(l,t)).resolved}catch(w){h=l}let g;if(typeof a=="string"&&l.toString()===h.toString()?g=a:g=encodeURI(h.toString(!0)),t==null?void 0:t.allowContributedOpeners){const w=typeof(t==null?void 0:t.allowContributedOpeners)=="string"?t==null?void 0:t.allowContributedOpeners:void 0;for(const _ of this._externalOpeners)if(yield _.openExternal(g,{sourceUri:l,preferredOpenerId:w},N.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(g,{sourceUri:l},N.CancellationToken.None)})}dispose(){this._validators.clear()}};s=Fe([Ce(0,f.ICodeEditorService),Ce(1,r.ICommandService)],s),e.OpenerService=s}),define(te[577],ie([0,1,7,19,68,2,125,239,53,57,218]),function(q,e,y,N,T,D,S,p,b,i,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesGlyphHoverWidget=void 0;const r=y.$;class o{constructor(u){this._editor=u,this._lineNumber=-1,this._result=[]}setLineNumber(u){this._lineNumber=u,this._result=[]}clearResult(){this._result=[]}computeSync(){const u=a=>({value:a}),s=this._editor.getLineDecorations(this._lineNumber),n=[];if(!s)return n;for(const a of s){if(!a.options.glyphMarginClassName)continue;const t=a.options.glyphMarginHoverMessage;!t||(0,T.isEmptyMarkdownString)(t)||n.push(...(0,N.asArray)(t).map(u))}return n}onResult(u,s){this._result=this._result.concat(u)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class d extends b.Widget{constructor(u,s,n=i.NullOpenerService){super();this._renderDisposeables=this._register(new D.DisposableStore),this._editor=u,this._hover=this._register(new f.HoverWidget),this._isVisible=!1,this._messages=[],this._lastLineNumber=-1,this._markdownRenderer=this._register(new S.MarkdownRenderer({editor:this._editor},s,n)),this._computer=new o(this._editor),this._hoverOperation=new p.HoverOperation(this._computer,a=>this._withResult(a),void 0,a=>this._withResult(a),300),this._register(this._editor.onDidChangeConfiguration(a=>{a.hasChanged(43)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._hoverOperation.cancel(),this._editor.removeOverlayWidget(this),super.dispose()}getId(){return d.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_showAt(u){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const s=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(u),a=this._editor.getScrollTop(),t=this._editor.getOption(58),l=this._hover.containerDomNode.clientHeight,h=n-a-(l-t)/2;this._hover.containerDomNode.style.left=`${s.glyphMarginLeft+s.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(h),0)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(s=>this._editor.applyFontInfo(s))}_updateContents(u){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(u),this._updateFont()}onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(u){this._lastLineNumber!==u&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=u,this._computer.setLineNumber(u),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),!!this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(u){this._messages=u,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(u,s){this._renderDisposeables.clear();const n=document.createDocumentFragment();for(const a of s){const t=r("div.hover-row.markdown-hover"),l=y.append(t,r("div.hover-contents")),h=this._renderDisposeables.add(this._markdownRenderer.render(a.value));l.appendChild(h.element),n.appendChild(t)}this._updateContents(n),this._showAt(u)}}e.ModesGlyphHoverWidget=d,d.ID="editor.contrib.modesGlyphHoverWidget"}),define(te[265],ie([0,1,7,62,27,6,68,2,125,245,532,9]),function(q,e,y,N,T,D,S,p,b,i,f,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function o(u){return!!u&&Boolean(u.completion.documentation||u.completion.detail&&u.completion.detail!==u.completion.label)}e.canExpandCompletionItem=o;let d=class{constructor(s,n){this._editor=s,this._onDidClose=new D.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new D.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new p.DisposableStore,this._renderDisposeable=new p.DisposableStore,this._borderWidth=1,this._size=new y.Dimension(330,0),this.domNode=y.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=n.createInstance(b.MarkdownRenderer,{editor:s}),this._body=y.$(".body"),this._scrollbar=new N.DomScrollableElement(this._body,{}),y.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=y.append(this._body,y.$(".header")),this._close=y.append(this._header,y.$("span"+T.Codicon.close.cssSelector)),this._close.title=f.localize(0,null),this._type=y.append(this._header,y.$("p.type")),this._docs=y.append(this._body,y.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(a=>{a.hasChanged(43)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const s=this._editor.getOptions(),n=s.get(43),a=n.fontFamily,t=s.get(106)||n.fontSize,l=s.get(107)||n.lineHeight,h=n.fontWeight,g=`${t}px`,w=`${l}px`;this.domNode.style.fontSize=g,this.domNode.style.lineHeight=w,this.domNode.style.fontWeight=h,this.domNode.style.fontFeatureSettings=n.fontFeatureSettings,this._type.style.fontFamily=a,this._close.style.height=w,this._close.style.width=w}getLayoutInfo(){const s=this._editor.getOption(107)||this._editor.getOption(43).lineHeight,n=this._borderWidth,a=n*2;return{lineHeight:s,borderWidth:n,borderHeight:a,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=f.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(s,n){var a,t;this._renderDisposeable.clear();let{detail:l,documentation:h}=s.completion;if(n){let g="";g+=`score: ${s.score[0]}
`,g+=`prefix: ${(a=s.word)!==null&&a!==void 0?a:"(no prefix)"}
`,g+=`word: ${s.completion.filterText?s.completion.filterText+" (filterText)":s.textLabel}
`,g+=`distance: ${s.distance} (localityBonus-setting)
`,g+=`index: ${s.idx}, based on ${s.completion.sortText&&`sortText: "${s.completion.sortText}"`||"label"}
`,g+=`commit_chars: ${(t=s.completion.commitCharacters)===null||t===void 0?void 0:t.join("")}
`,h=new S.MarkdownString().appendCodeblock("empty",g),l=`Provider: ${s.provider._debugDisplayName}`}if(!n&&!o(s)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),l){const g=l.length>1e5?`${l.substr(0,1e5)}\u2026`:l;this._type.textContent=g,this._type.title=g,y.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(g))}else y.clearNode(this._type),this._type.title="",y.hide(this._type),this.domNode.classList.add("no-type");if(y.clearNode(this._docs),typeof h=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=h;else if(h){this._docs.classList.add("markdown-docs"),y.clearNode(this._docs);const g=this._markdownRenderer.render(h);this._docs.appendChild(g.element),this._renderDisposeable.add(g),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=g=>{g.preventDefault(),g.stopPropagation()},this._close.onclick=g=>{g.preventDefault(),g.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(s,n){const a=new y.Dimension(s,n);y.Dimension.equals(a,this._size)||(this._size=a,y.size(this.domNode,s,n)),this._scrollbar.scanDomNode()}scrollDown(s=8){this._body.scrollTop+=s}scrollUp(s=8){this._body.scrollTop-=s}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(s){this._borderWidth=s}get borderWidth(){return this._borderWidth}};d=Fe([Ce(1,r.IInstantiationService)],d),e.SuggestDetailsWidget=d;class c{constructor(s,n){this.widget=s,this._editor=n,this._disposables=new p.DisposableStore,this._added=!1,this._resizable=new i.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(s.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let a,t,l=0,h=0;this._disposables.add(this._resizable.onDidWillResize(()=>{a=this._topLeft,t=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(g=>{if(a&&t){this.widget.layout(g.dimension.width,g.dimension.height);let w=!1;g.west&&(h=t.width-g.dimension.width,w=!0),g.north&&(l=t.height-g.dimension.height,w=!0),w&&this._applyTopLeft({top:a.top+l,left:a.left+h})}g.done&&(a=void 0,t=void 0,l=0,h=0,this._userSize=g.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var g;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(g=this._userSize)!==null&&g!==void 0?g:this.widget.size)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(s=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),s&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(s){var n;const a=y.getDomNodePagePosition(s);this._anchorBox=a,this._placeAtAnchor(this._anchorBox,(n=this._userSize)!==null&&n!==void 0?n:this.widget.size)}_placeAtAnchor(s,n){const a=y.getClientArea(document.body),t=this.widget.getLayoutInfo();let l,h,g=new y.Dimension(220,2*t.lineHeight),w=0,_=s.top,C=s.top+s.height-t.borderHeight,v,m,E=a.width-(s.left+s.width+t.borderWidth+t.horizontalPadding);w=-t.borderWidth+s.left+s.width,m=!0,l=new y.Dimension(E,a.height-s.top-t.borderHeight-t.verticalPadding),h=l.with(void 0,s.top+s.height-t.borderHeight-t.verticalPadding),n.width>E&&(s.left>E&&(E=s.left-t.borderWidth-t.horizontalPadding,m=!1,w=Math.max(t.horizontalPadding,s.left-n.width-t.borderWidth),l=l.with(E),h=l.with(void 0,h.height)),s.width>E*1.3&&a.height-(s.top+s.height)>s.height&&(E=s.width,w=s.left,_=-t.borderWidth+s.top+s.height,l=new y.Dimension(s.width-t.borderHeight,a.height-s.top-s.height-t.verticalPadding),h=l.with(void 0,s.top-t.verticalPadding),g=g.with(l.width)));let I=n.height,k=Math.max(l.height,h.height);I>k&&(I=k);let A;I<=l.height?(v=!0,A=l):(v=!1,A=h),this._applyTopLeft({left:w,top:v?_:C-I}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!v,m,v,!m),this._resizable.minSize=g,this._resizable.maxSize=A,this._resizable.layout(I,Math.min(A.width,n.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(s){this._topLeft=s,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=c}),define(te[61],ie([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=void 0;class N{constructor(D){this.callback=D}report(D){this._value=D,this.callback(this._value)}}e.Progress=N,N.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,y.createDecorator)("editorProgressService")}),define(te[578],ie([0,1,14,23,2]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var D;(function(i){i[i.NO_ACTION=0]="NO_ACTION",i[i.CLOSE_PICKER=1]="CLOSE_PICKER",i[i.REFRESH_PICKER=2]="REFRESH_PICKER",i[i.REMOVE_ITEM=3]="REMOVE_ITEM"})(D=e.TriggerAction||(e.TriggerAction={}));function S(i){const f=i;return Array.isArray(f.items)}function p(i){const f=i;return!!f.picks&&f.additionalPicks instanceof Promise}class b extends T.Disposable{constructor(f,r){super();this.prefix=f,this.options=r}provide(f,r){var o;const d=new T.DisposableStore;f.canAcceptInBackground=!!((o=this.options)===null||o===void 0?void 0:o.canAcceptInBackground),f.matchOnLabel=f.matchOnDescription=f.matchOnDetail=f.sortByLabel=!1;let c;const u=d.add(new T.MutableDisposable),s=()=>Me(this,void 0,void 0,function*(){const n=u.value=new T.DisposableStore;c==null||c.dispose(!0),f.busy=!1,c=new N.CancellationTokenSource(r);const a=c.token,t=f.value.substr(this.prefix.length).trim(),l=this._getPicks(t,n,a),h=(g,w)=>{var _;let C,v;if(S(g)?(C=g.items,v=g.active):C=g,C.length===0){if(w)return!1;t.length>0&&((_=this.options)===null||_===void 0?void 0:_.noResultsPick)&&(C=[this.options.noResultsPick])}return f.items=C,v&&(f.activeItems=[v]),!0};if(l!==null)if(p(l)){let g=!1,w=!1;yield Promise.all([(()=>Me(this,void 0,void 0,function*(){yield(0,y.timeout)(b.FAST_PICKS_RACE_DELAY),!a.isCancellationRequested&&(w||(g=h(l.picks,!0)))}))(),(()=>Me(this,void 0,void 0,function*(){f.busy=!0;try{const _=yield l.additionalPicks;if(a.isCancellationRequested)return;let C,v;S(l.picks)?(C=l.picks.items,v=l.picks.active):C=l.picks;let m,E;if(S(_)?(m=_.items,E=_.active):m=_,m.length>0||!g){let I;if(!v&&!E){const k=f.activeItems[0];k&&C.indexOf(k)!==-1&&(I=k)}h({items:[...C,...m],active:v||E||I})}}finally{a.isCancellationRequested||(f.busy=!1),w=!0}}))()])}else if(!(l instanceof Promise))h(l);else{f.busy=!0;try{const g=yield l;if(a.isCancellationRequested)return;h(g)}finally{a.isCancellationRequested||(f.busy=!1)}}});return d.add(f.onDidChangeValue(()=>s())),s(),d.add(f.onDidAccept(n=>{const[a]=f.selectedItems;typeof(a==null?void 0:a.accept)=="function"&&(n.inBackground||f.hide(),a.accept(f.keyMods,n))})),d.add(f.onDidTriggerItemButton(({button:n,item:a})=>Me(this,void 0,void 0,function*(){var t,l;if(typeof a.trigger=="function"){const h=(l=(t=a.buttons)===null||t===void 0?void 0:t.indexOf(n))!==null&&l!==void 0?l:-1;if(h>=0){const g=a.trigger(h,f.keyMods),w=typeof g=="number"?g:yield g;if(r.isCancellationRequested)return;switch(w){case D.NO_ACTION:break;case D.CLOSE_PICKER:f.hide();break;case D.REFRESH_PICKER:s();break;case D.REMOVE_ITEM:const _=f.items.indexOf(a);if(_!==-1){const C=f.items.slice(),v=C.splice(_,1),m=f.activeItems.filter(I=>I!==v[0]),E=f.keepScrollPosition;f.keepScrollPosition=!0,f.items=C,m&&(f.activeItems=m),f.keepScrollPosition=E}break}}}}))),d}}e.PickerQuickAccessProvider=b,b.FAST_PICKS_RACE_DELAY=200});var xt=this&&this.__createBinding||(Object.create?function(q,e,y,N){N===void 0&&(N=y),Object.defineProperty(q,N,{enumerable:!0,get:function(){return e[y]}})}:function(q,e,y,N){N===void 0&&(N=y),q[N]=e[y]}),Wt=this&&this.__exportStar||function(q,e){for(var y in q)y!=="default"&&!Object.prototype.hasOwnProperty.call(e,y)&&xt(e,q,y)};define(te[79],ie([0,1,9,211]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=void 0,Wt(N,e),e.IQuickInputService=(0,y.createDecorator)("quickInputService")}),define(te[32],ie([0,1,204,20]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class T{constructor(){this.data=new Map}add(S,p){y.ok(N.isString(S)),y.ok(N.isObject(p)),y.ok(!this.data.has(S),"There is already an extension with this id"),this.data.set(S,p)}as(S){return this.data.get(S)||null}}e.Registry=new T}),define(te[148],ie([0,1,477,6,18,38,32,108]),function(q,e,y,N,T,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_LANGUAGE_IDENTIFIER=e.PLAINTEXT_EXTENSION=e.PLAINTEXT_MODE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class b{constructor(){this._onDidChangeLanguages=new N.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(f){return this._languages.push(f),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let r=0,o=this._languages.length;r<o;r++)if(this._languages[r]===f){this._languages.splice(r,1);return}}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}}e.EditorModesRegistry=b,e.ModesRegistry=new b,S.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_MODE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.PLAINTEXT_LANGUAGE_IDENTIFIER=new T.LanguageIdentifier(e.PLAINTEXT_MODE_ID,1),e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_MODE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[y.localize(0,null),"text"],mimetypes:[p.Mimes.text]}),D.LanguageConfigurationRegistry.register(e.PLAINTEXT_LANGUAGE_IDENTIFIER,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0)}),define(te[579],ie([0,1,48,44,148,250]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssEscape=e.getIconClasses=void 0;function S(i,f,r,o){const d=o===D.FileKind.ROOT_FOLDER?["rootfolder-icon"]:o===D.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(r){let c;if(r.scheme===y.Schemas.data?c=N.DataUri.parseMetaData(r).get(N.DataUri.META_DATA_LABEL):c=b((0,N.basenameOrAuthority)(r).toLowerCase()),o===D.FileKind.FOLDER)d.push(`${c}-name-folder-icon`);else{if(c){if(d.push(`${c}-name-file-icon`),c.length<=255){const s=c.split(".");for(let n=1;n<s.length;n++)d.push(`${s.slice(n).join(".")}-ext-file-icon`)}d.push("ext-file-icon")}const u=p(i,f,r);u&&d.push(`${b(u)}-lang-file-icon`)}}return d}e.getIconClasses=S;function p(i,f,r){if(!r)return null;let o=null;if(r.scheme===y.Schemas.data){const c=N.DataUri.parseMetaData(r).get(N.DataUri.META_DATA_MIME);c&&(o=f.getModeId(c))}else{const d=i.getModel(r);d&&(o=d.getModeId())}return o&&o!==T.PLAINTEXT_MODE_ID?o:f.getModeIdByFilepathOrFirstLine(r)}function b(i){return i.replace(/[\11\12\14\15\40]/g,"/")}e.cssEscape=b}),define(te[190],ie([0,1,6,32]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function T(p){return p.length>0&&p.charAt(p.length-1)==="#"?p.substring(0,p.length-1):p}class D{constructor(){this._onDidChangeSchema=new y.Emitter,this.schemasById={}}registerSchema(b,i){this.schemasById[T(b)]=i,this._onDidChangeSchema.fire(b)}notifySchemaChanged(b){this._onDidChangeSchema.fire(b)}}const S=new D;N.Registry.add(e.Extensions.JSONContribution,S)}),define(te[99],ie([0,1,6,20,542,190,32]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifierFromKey=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const p=S.Registry.as(D.Extensions.JSONContribution);class b{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new y.Emitter,this._onDidUpdateConfiguration=new y.Emitter,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:T.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},p.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema)}registerConfiguration(u,s=!0){this.registerConfigurations([u],s)}registerConfigurations(u,s=!0){const n=this.doRegisterConfigurations(u,s);p.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(n)}registerOverrideIdentifiers(u){for(const s of u)this.overrideIdentifiers.add(s);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(u,s){const n=[];return u.forEach(a=>{n.push(...this.validateAndRegisterProperties(a,s,a.extensionInfo)),this.configurationContributors.push(a),this.registerJSONConfiguration(a)}),n}validateAndRegisterProperties(u,s=!0,n,a=3){var t;a=N.isUndefinedOrNull(u.scope)?a:u.scope;let l=[],h=u.properties;if(h)for(let w in h){if(s&&d(w)){delete h[w];continue}const _=h[w];if(this.updatePropertyDefaultValue(w,_),e.OVERRIDE_PROPERTY_PATTERN.test(w)?_.scope=void 0:(_.scope=N.isUndefinedOrNull(_.scope)?a:_.scope,_.restricted=N.isUndefinedOrNull(_.restricted)?!!((t=n==null?void 0:n.restrictedConfigurations)===null||t===void 0?void 0:t.includes(w)):_.restricted),h[w].hasOwnProperty("included")&&!h[w].included){this.excludedConfigurationProperties[w]=h[w],delete h[w];continue}else this.configurationProperties[w]=h[w];!h[w].deprecationMessage&&h[w].markdownDeprecationMessage&&(h[w].deprecationMessage=h[w].markdownDeprecationMessage),l.push(w)}let g=u.allOf;if(g)for(let w of g)l.push(...this.validateAndRegisterProperties(w,s,n,a));return l}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(u){const s=n=>{let a=n.properties;if(a)for(const l in a)this.updateSchema(l,a[l]);let t=n.allOf;t&&t.forEach(s)};s(u)}updateSchema(u,s){switch(e.allSettings.properties[u]=s,s.scope){case 1:e.applicationSettings.properties[u]=s;break;case 2:e.machineSettings.properties[u]=s;break;case 6:e.machineOverridableSettings.properties[u]=s;break;case 3:e.windowSettings.properties[u]=s;break;case 4:e.resourceSettings.properties[u]=s;break;case 5:e.resourceSettings.properties[u]=s,this.resourceLanguageSettingsSchema.properties[u]=s;break}}updateOverridePropertyPatternKey(){for(const u of this.overrideIdentifiers.values()){const s=`[${u}]`,n={type:"object",description:T.localize(1,null),errorMessage:T.localize(2,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(s,n),e.allSettings.properties[s]=n,e.applicationSettings.properties[s]=n,e.machineSettings.properties[s]=n,e.machineOverridableSettings.properties[s]=n,e.windowSettings.properties[s]=n,e.resourceSettings.properties[s]=n}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(u,s){let n=this.defaultValues[u];N.isUndefined(n)&&(n=s.default),N.isUndefined(n)&&(n=r(s.type)),s.default=n}}const i="\\[.*\\]$";e.OVERRIDE_PROPERTY_PATTERN=new RegExp(i);function f(c){return c.substring(1,c.length-1)}e.overrideIdentifierFromKey=f;function r(c){switch(Array.isArray(c)?c[0]:c){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=r;const o=new b;S.Registry.add(e.Extensions.Configuration,o);function d(c){return c.trim()?e.OVERRIDE_PROPERTY_PATTERN.test(c)?T.localize(4,null,c):o.getConfigurationProperties()[c]!==void 0?T.localize(5,null,c):null:T.localize(3,null)}e.validateProperty=d}),define(te[191],ie([0,1,471,6,2,37,19,34,136,171,99,32,205]),function(q,e,y,N,T,D,S,p,b,i,f,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=e.CommonEditorConfiguration=e.ComputedEditorOptions=e.TabFocus=void 0,e.TabFocus=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new N.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(m){this._tabFocus!==m&&(this._tabFocus=m,this._onDidChangeTabFocus.fire(this._tabFocus))}};const d=Object.hasOwnProperty;class c{constructor(){this._values=[]}_read(E){return this._values[E]}get(E){return this._values[E]}_write(E,I){this._values[E]=I}}e.ComputedEditorOptions=c;class u{constructor(){this._values=[]}_read(E){return this._values[E]}_write(E,I){this._values[E]=I}}class s{static readOptions(E){const I=E,k=new u;for(const A of p.editorOptionsRegistry){const P=A.name==="_never_"?void 0:I[A.name];k._write(A.id,P)}return k}static validateOptions(E){const I=new p.ValidatedEditorOptions;for(const k of p.editorOptionsRegistry)I._write(k.id,k.validate(E._read(k.id)));return I}static computeOptions(E,I){const k=new c;for(const A of p.editorOptionsRegistry)k._write(A.id,A.compute(I,k,E._read(A.id)));return k}static _deepEquals(E,I){if(typeof E!="object"||typeof I!="object")return E===I;if(Array.isArray(E)||Array.isArray(I))return Array.isArray(E)&&Array.isArray(I)?S.equals(E,I):!1;for(let k in E)if(!s._deepEquals(E[k],I[k]))return!1;return!0}static checkEquals(E,I){const k=[];let A=!1;for(const P of p.editorOptionsRegistry){const F=!s._deepEquals(E._read(P.id),I._read(P.id));k[P.id]=F,F&&(A=!0)}return A?new p.ConfigurationChangedEvent(k):null}}function n(m){const E=m.wordWrap;E===!0?m.wordWrap="on":E===!1&&(m.wordWrap="off");const I=m.lineNumbers;I===!0?m.lineNumbers="on":I===!1&&(m.lineNumbers="off"),m.autoClosingBrackets===!1&&(m.autoClosingBrackets="never",m.autoClosingQuotes="never",m.autoSurround="never"),m.cursorBlinking==="visible"&&(m.cursorBlinking="solid");const P=m.renderWhitespace;P===!0?m.renderWhitespace="boundary":P===!1&&(m.renderWhitespace="none");const F=m.renderLineHighlight;F===!0?m.renderLineHighlight="line":F===!1&&(m.renderLineHighlight="none");const M=m.acceptSuggestionOnEnter;M===!0?m.acceptSuggestionOnEnter="on":M===!1&&(m.acceptSuggestionOnEnter="off");const R=m.tabCompletion;R===!1?m.tabCompletion="off":R===!0&&(m.tabCompletion="onlySnippets");const O=m.suggest;if(O&&typeof O.filteredTypes=="object"&&O.filteredTypes){const Q={};Q.method="showMethods",Q.function="showFunctions",Q.constructor="showConstructors",Q.deprecated="showDeprecated",Q.field="showFields",Q.variable="showVariables",Q.class="showClasses",Q.struct="showStructs",Q.interface="showInterfaces",Q.module="showModules",Q.property="showProperties",Q.event="showEvents",Q.operator="showOperators",Q.unit="showUnits",Q.value="showValues",Q.constant="showConstants",Q.enum="showEnums",Q.enumMember="showEnumMembers",Q.keyword="showKeywords",Q.text="showWords",Q.color="showColors",Q.file="showFiles",Q.reference="showReferences",Q.folder="showFolders",Q.typeParameter="showTypeParameters",Q.snippet="showSnippets",(0,o.forEach)(Q,Y=>{const oe=O.filteredTypes[Y.key];oe===!1&&(O[Y.value]=oe)})}const L=m.hover;L===!0?m.hover={enabled:!0}:L===!1&&(m.hover={enabled:!1});const B=m.parameterHints;B===!0?m.parameterHints={enabled:!0}:B===!1&&(m.parameterHints={enabled:!1});const z=m.autoIndent;z===!0?m.autoIndent="full":z===!1&&(m.autoIndent="advanced");const $=m.matchBrackets;$===!0?m.matchBrackets="always":$===!1&&(m.matchBrackets="never");const{renderIndentGuides:j,highlightActiveIndentGuide:X}=m;m.guides||(m.guides={}),j!==void 0&&(m.guides.indentation=!!j),X!==void 0&&(m.guides.highlightActiveIndentation=!!X)}function a(m){const E=D.deepClone(m);return n(E),E}class t extends T.Disposable{constructor(E,I){super();this._onDidChange=this._register(new N.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new N.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=E,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new p.ComputeOptionsMemory,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=a(I),this._readOptions=s.readOptions(this._rawOptions),this._validatedOptions=s.validateOptions(this._readOptions),this._register(b.EditorZoom.onDidChangeZoomLevel(k=>this._recomputeOptions())),this._register(e.TabFocus.onDidChangeTabFocus(k=>this._recomputeOptions()))}observeReferenceElement(E){}updatePixelRatio(){}_recomputeOptions(){const E=this.options,I=this._computeInternalOptions();if(!E)this.options=I;else{const k=s.checkEquals(E,I);if(k===null)return;this.options=I,this._onDidChangeFast.fire(k),this._onDidChange.fire(k)}}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const E=this._getEnvConfiguration(),I=i.BareFontInfo.createFromValidatedSettings(this._validatedOptions,E.zoomLevel,E.pixelRatio,this.isSimpleWidget),k={memory:this._computeOptionsMemory,outerWidth:E.outerWidth,outerHeight:E.outerHeight,fontInfo:this.readConfiguration(I),extraEditorClassName:E.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:E.emptySelectionClipboard,pixelRatio:E.pixelRatio,tabFocusMode:e.TabFocus.getTabFocusMode(),accessibilitySupport:E.accessibilitySupport};return s.computeOptions(this._validatedOptions,k)}static _subsetEquals(E,I){for(const k in I)if(d.call(I,k)){const A=I[k],P=E[k];if(P===A)continue;if(Array.isArray(P)&&Array.isArray(A)){if(!S.equals(P,A))return!1;continue}if(P&&typeof P=="object"&&A&&typeof A=="object"){if(!this._subsetEquals(P,A))return!1;continue}return!1}return!0}updateOptions(E){if(typeof E=="undefined")return;const I=a(E);t._subsetEquals(this._rawOptions,I)||(this._rawOptions=D.mixin(this._rawOptions,I||{}),this._readOptions=s.readOptions(this._rawOptions),this._validatedOptions=s.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(E){this._isDominatedByLongLines=E,this._recomputeOptions()}setMaxLineNumber(E){const I=t._digitCount(E);this._lineNumbersDigitCount!==I&&(this._lineNumbersDigitCount=I,this._recomputeOptions())}setViewLineCount(E){this._viewLineCount!==E&&(this._viewLineCount=E,this._recomputeOptions())}static _digitCount(E){let I=0;for(;E;)E=Math.floor(E/10),I++;return I||1}}e.CommonEditorConfiguration=t,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:y.localize(0,null),scope:5});const l=r.Registry.as(f.Extensions.Configuration),h=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:p.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:y.localize(1,null)},"editor.insertSpaces":{type:"boolean",default:p.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:y.localize(2,null)},"editor.detectIndentation":{type:"boolean",default:p.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:y.localize(3,null)},"editor.trimAutoWhitespace":{type:"boolean",default:p.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:y.localize(4,null)},"editor.largeFileOptimizations":{type:"boolean",default:p.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:y.localize(5,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:y.localize(6,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[y.localize(7,null),y.localize(8,null),y.localize(9,null)],description:y.localize(10,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[y.localize(11,null),y.localize(12,null),y.localize(13,null)],default:"configuredByTheme",description:y.localize(14,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:y.localize(15,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:y.localize(16,null)},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:y.localize(17,null)},"diffEditor.maxFileSize":{type:"number",default:50,description:y.localize(18,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:y.localize(19,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:y.localize(20,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:y.localize(21,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:y.localize(22,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[y.localize(23,null),y.localize(24,null),y.localize(25,null)]}}});function g(m){return typeof m.type!="undefined"||typeof m.anyOf!="undefined"}for(const m of p.editorOptionsRegistry){const E=m.schema;if(typeof E!="undefined")if(g(E))h.properties[`editor.${m.name}`]=E;else for(let I in E)d.call(E,I)&&(h.properties[I]=E[I])}let w=null;function _(){return w===null&&(w=Object.create(null),Object.keys(h.properties).forEach(m=>{w[m]=!0})),w}function C(m){return _()[`editor.${m}`]||!1}e.isEditorConfigurationKey=C;function v(m){return _()[`diffEditor.${m}`]||!1}e.isDiffEditorConfigurationKey=v,l.registerConfiguration(h)}),define(te[65],ie([0,1,36,6,2,17,473,221,191,34,171]),function(q,e,y,N,T,D,S,p,b,i,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Configuration=e.clearAllFontInfos=void 0;class r{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(s){const n=s.getId();return!!this._values[n]}get(s){const n=s.getId();return this._values[n]}put(s,n){const a=s.getId();this._keys[a]=s,this._values[a]=n}remove(s){const n=s.getId();delete this._keys[n],delete this._values[n]}getValues(){return Object.keys(this._keys).map(s=>this._values[s])}}function o(){d.INSTANCE.clearCache()}e.clearAllFontInfos=o;class d extends T.Disposable{constructor(){super();this._onDidChange=this._register(new N.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new r,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new r,this._onDidChange.fire()}_writeToCache(s,n){this._cache.put(s,n),!n.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const s=this._cache.getValues();let n=!1;for(const a of s)a.isTrusted||(n=!0,this._cache.remove(a));n&&this._onDidChange.fire()}readConfiguration(s){if(!this._cache.has(s)){let n=d._actualReadConfiguration(s);(n.typicalHalfwidthCharacterWidth<=2||n.typicalFullwidthCharacterWidth<=2||n.spaceWidth<=2||n.maxDigitWidth<=2)&&(n=new f.FontInfo({zoomLevel:y.getZoomLevel(),pixelRatio:y.getPixelRatio(),fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:n.isMonospace,typicalHalfwidthCharacterWidth:Math.max(n.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(n.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:n.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(n.spaceWidth,5),middotWidth:Math.max(n.middotWidth,5),wsmiddotWidth:Math.max(n.wsmiddotWidth,5),maxDigitWidth:Math.max(n.maxDigitWidth,5)},!1)),this._writeToCache(s,n)}return this._cache.get(s)}static createRequest(s,n,a,t){const l=new S.CharWidthRequest(s,n);return a.push(l),t&&t.push(l),l}static _actualReadConfiguration(s){const n=[],a=[],t=this.createRequest("n",0,n,a),l=this.createRequest("\uFF4D",0,n,null),h=this.createRequest(" ",0,n,a),g=this.createRequest("0",0,n,a),w=this.createRequest("1",0,n,a),_=this.createRequest("2",0,n,a),C=this.createRequest("3",0,n,a),v=this.createRequest("4",0,n,a),m=this.createRequest("5",0,n,a),E=this.createRequest("6",0,n,a),I=this.createRequest("7",0,n,a),k=this.createRequest("8",0,n,a),A=this.createRequest("9",0,n,a),P=this.createRequest("\u2192",0,n,a),F=this.createRequest("\uFFEB",0,n,null),M=this.createRequest("\xB7",0,n,a),R=this.createRequest(String.fromCharCode(11825),0,n,null);this.createRequest("|",0,n,a),this.createRequest("/",0,n,a),this.createRequest("-",0,n,a),this.createRequest("_",0,n,a),this.createRequest("i",0,n,a),this.createRequest("l",0,n,a),this.createRequest("m",0,n,a),this.createRequest("|",1,n,a),this.createRequest("_",1,n,a),this.createRequest("i",1,n,a),this.createRequest("l",1,n,a),this.createRequest("m",1,n,a),this.createRequest("n",1,n,a),this.createRequest("|",2,n,a),this.createRequest("_",2,n,a),this.createRequest("i",2,n,a),this.createRequest("l",2,n,a),this.createRequest("m",2,n,a),this.createRequest("n",2,n,a),(0,S.readCharWidths)(s,n);const O=Math.max(g.width,w.width,_.width,C.width,v.width,m.width,E.width,I.width,k.width,A.width);let L=s.fontFeatureSettings===i.EditorFontLigatures.OFF;const B=a[0].width;for(let j=1,X=a.length;L&&j<X;j++){const Q=B-a[j].width;if(Q<-.001||Q>.001){L=!1;break}}let z=!0;L&&F.width!==B&&(z=!1),F.width>P.width&&(z=!1);const $=y.getTimeSinceLastZoomLevelChanged()>2e3;return new f.FontInfo({zoomLevel:y.getZoomLevel(),pixelRatio:y.getPixelRatio(),fontFamily:s.fontFamily,fontWeight:s.fontWeight,fontSize:s.fontSize,fontFeatureSettings:s.fontFeatureSettings,lineHeight:s.lineHeight,letterSpacing:s.letterSpacing,isMonospace:L,typicalHalfwidthCharacterWidth:t.width,typicalFullwidthCharacterWidth:l.width,canUseHalfwidthRightwardsArrow:z,spaceWidth:h.width,middotWidth:M.width,wsmiddotWidth:R.width,maxDigitWidth:O},$)}}d.INSTANCE=new d;class c extends b.CommonEditorConfiguration{constructor(s,n,a=null,t){super(s,n);this.accessibilityService=t,this._elementSizeObserver=this._register(new p.ElementSizeObserver(a,n.dimension,()=>this._recomputeOptions())),this._register(d.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(y.onDidChangeZoomLevel(l=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(s,n){s.style.fontFamily=n.getMassagedFontFamily(y.isSafari?i.EDITOR_FONT_DEFAULTS.fontFamily:null),s.style.fontWeight=n.fontWeight,s.style.fontSize=n.fontSize+"px",s.style.fontFeatureSettings=n.fontFeatureSettings,s.style.lineHeight=n.lineHeight+"px",s.style.letterSpacing=n.letterSpacing+"px"}static applyFontInfo(s,n){s.setFontFamily(n.getMassagedFontFamily(y.isSafari?i.EDITOR_FONT_DEFAULTS.fontFamily:null)),s.setFontWeight(n.fontWeight),s.setFontSize(n.fontSize),s.setFontFeatureSettings(n.fontFeatureSettings),s.setLineHeight(n.lineHeight),s.setLetterSpacing(n.letterSpacing)}observeReferenceElement(s){this._elementSizeObserver.observe(s)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let s="";return!y.isSafari&&!y.isWebkitWebView&&(s+="no-user-select "),y.isSafari&&(s+="no-minimap-shadow "),D.isMacintosh&&(s+="mac "),s}_getEnvConfiguration(){return{extraEditorClassName:c._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:y.isWebKit||y.isFirefox,pixelRatio:y.getPixelRatio(),zoomLevel:y.getZoomLevel(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(s){return d.INSTANCE.readConfiguration(s)}}e.Configuration=c}),define(te[580],ie([0,1,84,8,65,63,97]),function(q,e,y,N,T,D,S){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const b=(p=window.trustedTypes)===null||p===void 0?void 0:p.createPolicy("domLineBreaksComputer",{createHTML:u=>u});class i{static create(){return new i}constructor(){}createLineBreaksComputer(s,n,a,t){n=n|0,a=+a;let l=[],h=[];return{addRequest:(g,w,_)=>{l.push(g),h.push(w)},finalize:()=>f(l,s,n,a,t,h)}}}e.DOMLineBreaksComputerFactory=i;function f(u,s,n,a,t,l){var h;function g(O){const L=l[O];if(L){const B=S.LineInjectedText.applyInjectedText(u[O],L),z=L.map(j=>j.options),$=L.map(j=>j.column-1);return new D.LineBreakData([B.length],[],0,$,z)}else return null}if(a===-1){const O=[];for(let L=0,B=u.length;L<B;L++)O[L]=g(L);return O}const w=Math.round(a*s.typicalHalfwidthCharacterWidth);(t===2||t===3)&&(t=1);const _=document.createElement("div");T.Configuration.applyFontInfoSlow(_,s);const C=(0,y.createStringBuilder)(1e4),v=[],m=[],E=[],I=[],k=[];for(let O=0;O<u.length;O++){const L=S.LineInjectedText.applyInjectedText(u[O],l[O]);let B=0,z=0,$=w;if(t!==0)if(B=N.firstNonWhitespaceIndex(L),B===-1)B=0;else{for(let Y=0;Y<B;Y++)z+=L.charCodeAt(Y)===9?n-z%n:1;const Q=Math.ceil(s.spaceWidth*z);Q+s.typicalFullwidthCharacterWidth>w?(B=0,z=0):$=w-Q}const j=L.substr(B),X=r(j,z,n,$,C);v[O]=B,m[O]=z,E[O]=j,I[O]=X[0],k[O]=X[1]}const A=C.build(),P=(h=b==null?void 0:b.createHTML(A))!==null&&h!==void 0?h:A;_.innerHTML=P,_.style.position="absolute",_.style.top="10000",_.style.wordWrap="break-word",document.body.appendChild(_);let F=document.createRange();const M=Array.prototype.slice.call(_.children,0);let R=[];for(let O=0;O<u.length;O++){const L=M[O],B=o(F,L,E[O],I[O]);if(B===null){R[O]=g(O);continue}const z=v[O],$=m[O],j=k[O],X=[];for(let se=0,K=B.length;se<K;se++)X[se]=j[B[se]];if(z!==0)for(let se=0,K=B.length;se<K;se++)B[se]+=z;let Q,Y;const oe=l[O];oe?(Q=oe.map(se=>se.options),Y=oe.map(se=>se.column-1)):(Q=null,Y=null),R[O]=new D.LineBreakData(B,X,$,Y,Q)}return document.body.removeChild(_),R}function r(u,s,n,a,t){t.appendASCIIString('<div style="width:'),t.appendASCIIString(String(a)),t.appendASCIIString('px;">');const l=u.length;let h=s,g=0,w=[],_=[],C=0<l?u.charCodeAt(0):0;t.appendASCIIString("<span>");for(let v=0;v<l;v++){v!==0&&v%16384==0&&t.appendASCIIString("</span><span>"),w[v]=g,_[v]=h;const m=C;C=v+1<l?u.charCodeAt(v+1):0;let E=1,I=1;switch(m){case 9:E=n-h%n,I=E;for(let k=1;k<=E;k++)k<E?t.write1(160):t.appendASCII(32);break;case 32:C===32?t.write1(160):t.appendASCII(32);break;case 60:t.appendASCIIString("&lt;");break;case 62:t.appendASCIIString("&gt;");break;case 38:t.appendASCIIString("&amp;");break;case 0:t.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:t.write1(65533);break;default:N.isFullWidthCharacter(m)&&I++,m<32?t.write1(9216+m):t.write1(m)}g+=E,h+=I}return t.appendASCIIString("</span>"),w[u.length]=g,_[u.length]=h,t.appendASCIIString("</div>"),[w,_]}function o(u,s,n,a){if(n.length<=1)return null;const t=Array.prototype.slice.call(s.children,0),l=[];try{d(u,t,a,0,null,n.length-1,null,l)}catch(h){return console.log(h),null}return l.length===0?null:(l.push(n.length),l)}function d(u,s,n,a,t,l,h,g){if(a===l||(t=t||c(u,s,n[a],n[a+1]),h=h||c(u,s,n[l],n[l+1]),Math.abs(t[0].top-h[0].top)<=.1))return;if(a+1===l){g.push(l);return}const w=a+(l-a)/2|0,_=c(u,s,n[w],n[w+1]);d(u,s,n,a,t,w,_,g),d(u,s,n,w,_,l,h,g)}function c(u,s,n,a){return u.setStart(s[n/16384|0].firstChild,n%16384),u.setEnd(s[a/16384|0].firstChild,a%16384),u.getClientRects()}}),define(te[581],ie([0,1,30,65,173,50]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class S extends D.ViewPart{constructor(r){super(r);this._visibleLines=new T.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let r=0,o=this._dynamicOverlays.length;r<o;r++)if(this._dynamicOverlays[r].shouldRender())return!0;return!1}dispose(){super.dispose();for(let r=0,o=this._dynamicOverlays.length;r<o;r++)this._dynamicOverlays[r].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new p(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(r){this._dynamicOverlays.push(r)}onConfigurationChanged(r){this._visibleLines.onConfigurationChanged(r);const o=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let c=o;c<=d;c++)this._visibleLines.getVisibleLine(c).onConfigurationChanged(r);return!0}onFlushed(r){return this._visibleLines.onFlushed(r)}onFocusChanged(r){return this._isFocused=r.isFocused,!0}onLinesChanged(r){return this._visibleLines.onLinesChanged(r)}onLinesDeleted(r){return this._visibleLines.onLinesDeleted(r)}onLinesInserted(r){return this._visibleLines.onLinesInserted(r)}onScrollChanged(r){return this._visibleLines.onScrollChanged(r)||!0}onTokensChanged(r){return this._visibleLines.onTokensChanged(r)}onZonesChanged(r){return this._visibleLines.onZonesChanged(r)}prepareRender(r){const o=this._dynamicOverlays.filter(d=>d.shouldRender());for(let d=0,c=o.length;d<c;d++){const u=o[d];u.prepareRender(r),u.onDidRender()}}render(r){this._viewOverlaysRender(r),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(r){this._visibleLines.renderLines(r.viewportData)}}e.ViewOverlays=S;class p{constructor(r,o){this._configuration=r,this._lineHeight=this._configuration.options.get(58),this._dynamicOverlays=o,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(r){this._domNode=(0,y.createFastDomNode)(r)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(r){this._lineHeight=this._configuration.options.get(58)}renderLine(r,o,d,c){let u="";for(let s=0,n=this._dynamicOverlays.length;s<n;s++)u+=this._dynamicOverlays[s].render(d.startLineNumber,r);return this._renderedContent===u?!1:(this._renderedContent=u,c.appendASCIIString('<div style="position:absolute;top:'),c.appendASCIIString(String(o)),c.appendASCIIString("px;width:100%;height:"),c.appendASCIIString(String(this._lineHeight)),c.appendASCIIString('px;">'),c.appendASCIIString(u),c.appendASCIIString("</div>"),!0)}layoutLine(r,o){this._domNode&&(this._domNode.setTop(o),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=p;class b extends S{constructor(r){super(r);const d=this._context.configuration.options.get(129);this._contentWidth=d.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(r){const d=this._context.configuration.options.get(129);return this._contentWidth=d.contentWidth,super.onConfigurationChanged(r)||!0}onScrollChanged(r){return super.onScrollChanged(r)||r.scrollWidthChanged}_viewOverlaysRender(r){super._viewOverlaysRender(r),this.domNode.setWidth(Math.max(r.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=b;class i extends S{constructor(r){super(r);const o=this._context.configuration.options,d=o.get(129);this._contentLeft=d.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),N.Configuration.applyFontInfo(this.domNode,o.get(43))}onConfigurationChanged(r){const o=this._context.configuration.options;N.Configuration.applyFontInfo(this.domNode,o.get(43));const d=o.get(129);return this._contentLeft=d.contentLeft,super.onConfigurationChanged(r)||!0}onScrollChanged(r){return super.onScrollChanged(r)||r.scrollHeightChanged}_viewOverlaysRender(r){super._viewOverlaysRender(r);const o=Math.min(r.scrollHeight,1e6);this.domNode.setHeight(o),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=i}),define(te[582],ie([0,1,7,30,8,65,34,13,3,134]),function(q,e,y,N,T,D,S,p,b,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class f{constructor(d,c,u,s,n,a){this.top=d,this.left=c,this.width=u,this.height=s,this.textContent=n,this.textContentClassName=a}}class r{constructor(d){this._context=d;const c=this._context.configuration.options,u=c.get(43);this._cursorStyle=c.get(24),this._lineHeight=c.get(58),this._typicalHalfwidthCharacterWidth=u.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,N.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${i.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),D.Configuration.applyFontInfo(this._domNode,u),this._domNode.setDisplay("none"),this._position=new p.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(d){const c=this._context.configuration.options,u=c.get(43);return this._cursorStyle=c.get(24),this._lineHeight=c.get(58),this._typicalHalfwidthCharacterWidth=u.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(27),this._typicalHalfwidthCharacterWidth),D.Configuration.applyFontInfo(this._domNode,u),!0}onCursorPositionChanged(d){return this._position=d,!0}_prepareRender(d){let c="";if(this._cursorStyle===S.TextEditorCursorStyle.Line||this._cursorStyle===S.TextEditorCursorStyle.LineThin){const _=d.visibleRangeForPosition(this._position);if(!_||_.outsideRenderedLine)return null;let C;if(this._cursorStyle===S.TextEditorCursorStyle.Line){if(C=y.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),C>2){const E=this._context.model.getLineContent(this._position.lineNumber),I=T.nextCharLength(E,this._position.column-1);c=E.substr(this._position.column-1,I)}}else C=y.computeScreenAwareSize(1);let v=_.left;C>=2&&v>=1&&(v-=1);const m=d.getVerticalOffsetForLineNumber(this._position.lineNumber)-d.bigNumbersDelta;return new f(m,v,C,this._lineHeight,c,"")}const u=this._context.model.getLineContent(this._position.lineNumber),s=T.nextCharLength(u,this._position.column-1),n=d.linesVisibleRangesForRange(new b.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+s),!1);if(!n||n.length===0)return null;const a=n[0];if(a.outsideRenderedLine||a.ranges.length===0)return null;const t=a.ranges[0],l=t.width<1?this._typicalHalfwidthCharacterWidth:t.width;let h="";if(this._cursorStyle===S.TextEditorCursorStyle.Block){const _=this._context.model.getViewLineData(this._position.lineNumber);c=u.substr(this._position.column-1,s);const C=_.tokens.findTokenIndexAtOffset(this._position.column-1);h=_.tokens.getClassName(C)}let g=d.getVerticalOffsetForLineNumber(this._position.lineNumber)-d.bigNumbersDelta,w=this._lineHeight;return(this._cursorStyle===S.TextEditorCursorStyle.Underline||this._cursorStyle===S.TextEditorCursorStyle.UnderlineThin)&&(g+=this._lineHeight-2,w=2),new f(g,t.left,l,w,c,h)}prepareRender(d){this._renderData=this._prepareRender(d)}render(d){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${i.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=r}),define(te[583],ie([0,1,10,6,2,108,8,18,148,78,99,32]),function(q,e,y,N,T,D,S,p,b,i,f,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=void 0;const o=Object.prototype.hasOwnProperty;class d extends T.Disposable{constructor(u=!0,s=!1){super();this._onDidChange=this._register(new N.Emitter),this.onDidChange=this._onDidChange.event,this._warnOnOverwrite=s,this._nextLanguageId2=1,this._languageIdToLanguage=[],this._languageToLanguageId=Object.create(null),this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},u&&(this._initializeFromRegistry(),this._register(b.ModesRegistry.onDidChangeLanguages(n=>this._initializeFromRegistry())))}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};const u=b.ModesRegistry.getLanguages();this._registerLanguages(u)}_registerLanguages(u){for(const s of u)this._registerLanguage(s);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(s=>{let n=this._languages[s];n.name&&(this._nameMap[n.name]=n.identifier),n.aliases.forEach(a=>{this._lowercaseNameMap[a.toLowerCase()]=n.identifier}),n.mimetypes.forEach(a=>{this._mimeTypesMap[a]=n.identifier})}),r.Registry.as(f.Extensions.Configuration).registerOverrideIdentifiers(b.ModesRegistry.getLanguages().map(s=>s.id)),this._onDidChange.fire()}_getLanguageId(u){if(this._languageToLanguageId[u])return this._languageToLanguageId[u];const s=this._nextLanguageId2++;return this._languageIdToLanguage[s]=u,this._languageToLanguageId[u]=s,s}_registerLanguage(u){const s=u.id;let n;if(o.call(this._languages,s))n=this._languages[s];else{const a=this._getLanguageId(s);n={identifier:new p.LanguageIdentifier(s,a),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[s]=n}this._mergeLanguage(n,u)}_mergeLanguage(u,s){const n=s.id;let a=null;if(Array.isArray(s.mimetypes)&&s.mimetypes.length>0&&(u.mimetypes.push(...s.mimetypes),a=s.mimetypes[0]),a||(a=`text/x-${n}`,u.mimetypes.push(a)),Array.isArray(s.extensions)){s.configuration?u.extensions=s.extensions.concat(u.extensions):u.extensions=u.extensions.concat(s.extensions);for(let h of s.extensions)D.registerTextMime({id:n,mime:a,extension:h},this._warnOnOverwrite)}if(Array.isArray(s.filenames))for(let h of s.filenames)D.registerTextMime({id:n,mime:a,filename:h},this._warnOnOverwrite),u.filenames.push(h);if(Array.isArray(s.filenamePatterns))for(let h of s.filenamePatterns)D.registerTextMime({id:n,mime:a,filepattern:h},this._warnOnOverwrite);if(typeof s.firstLine=="string"&&s.firstLine.length>0){let h=s.firstLine;h.charAt(0)!=="^"&&(h="^"+h);try{let g=new RegExp(h);S.regExpLeadsToEndlessLoop(g)||D.registerTextMime({id:n,mime:a,firstline:g},this._warnOnOverwrite)}catch(g){(0,y.onUnexpectedError)(g)}}u.aliases.push(n);let t=null;if(typeof s.aliases!="undefined"&&Array.isArray(s.aliases)&&(s.aliases.length===0?t=[null]:t=s.aliases),t!==null)for(const h of t)!h||h.length===0||u.aliases.push(h);let l=t!==null&&t.length>0;if(!(l&&t[0]===null)){let h=(l?t[0]:null)||n;(l||!u.name)&&(u.name=h)}s.configuration&&u.configurationFiles.push(s.configuration)}isRegisteredMode(u){return o.call(this._mimeTypesMap,u)?!0:o.call(this._languages,u)}getModeIdForLanguageNameLowercase(u){return o.call(this._lowercaseNameMap,u)?this._lowercaseNameMap[u].language:null}extractModeIds(u){return u?u.split(",").map(s=>s.trim()).map(s=>o.call(this._mimeTypesMap,s)?this._mimeTypesMap[s].language:s).filter(s=>o.call(this._languages,s)):[]}getLanguageIdentifier(u){if(u===i.NULL_MODE_ID||u===0)return i.NULL_LANGUAGE_IDENTIFIER;let s;if(typeof u=="string")s=u;else if(s=this._languageIdToLanguage[u],!s)return null;return o.call(this._languages,s)?this._languages[s].identifier:null}getModeIdsFromFilepathOrFirstLine(u,s){if(!u&&!s)return[];let n=D.guessMimeTypes(u,s);return this.extractModeIds(n.join(","))}}e.LanguagesRegistry=d}),define(te[584],ie([0,1,6,2,78,583,19]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModeServiceImpl=void 0;class p{constructor(f,r){this._selector=r,this.languageIdentifier=this._selector();let o;this._onDidChange=new y.Emitter({onFirstListenerAdd:()=>{o=f(()=>this._evaluate())},onLastListenerRemove:()=>{o.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){let f=this._selector();f.id!==this.languageIdentifier.id&&(this.languageIdentifier=f,this._onDidChange.fire(this.languageIdentifier))}}class b extends N.Disposable{constructor(f=!1){super();this._onDidEncounterLanguage=this._register(new y.Emitter),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onLanguagesMaybeChanged=this._register(new y.Emitter({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._encounteredLanguages=new Set,this._registry=this._register(new D.LanguagesRegistry(!0,f)),this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}isRegisteredMode(f){return this._registry.isRegisteredMode(f)}getModeIdForLanguageName(f){return this._registry.getModeIdForLanguageNameLowercase(f)}getModeIdByFilepathOrFirstLine(f,r){const o=this._registry.getModeIdsFromFilepathOrFirstLine(f,r);return(0,S.firstOrDefault)(o,null)}getModeId(f){const r=this._registry.extractModeIds(f);return(0,S.firstOrDefault)(r,null)}getLanguageIdentifier(f){return this._registry.getLanguageIdentifier(f)}create(f){return new p(this.onLanguagesMaybeChanged,()=>{const r=this.getModeId(f);return this._createModeAndGetLanguageIdentifier(r)})}createByFilepathOrFirstLine(f,r){return new p(this.onLanguagesMaybeChanged,()=>{const o=this.getModeIdByFilepathOrFirstLine(f,r);return this._createModeAndGetLanguageIdentifier(o)})}_createModeAndGetLanguageIdentifier(f){const r=this.getLanguageIdentifier(f||"plaintext")||T.NULL_LANGUAGE_IDENTIFIER;return this._getOrCreateMode(r.language),r}triggerMode(f){const r=this.getModeId(f);this._getOrCreateMode(r||"plaintext")}_getOrCreateMode(f){if(!this._encounteredLanguages.has(f)){this._encounteredLanguages.add(f);const r=this.getLanguageIdentifier(f)||T.NULL_LANGUAGE_IDENTIFIER;this._onDidEncounterLanguage.fire(r)}}}e.ModeServiceImpl=b}),define(te[41],ie([0,1,99,9,32]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultValues=e.getConfigurationKeys=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,N.createDecorator)("configurationService");function D(o,d){const c=Object.create(null);for(let u in o)S(c,u,o[u],d);return c}e.toValuesTree=D;function S(o,d,c,u){const s=d.split("."),n=s.pop();let a=o;for(let t=0;t<s.length;t++){let l=s[t],h=a[l];switch(typeof h){case"undefined":h=a[l]=Object.create(null);break;case"object":break;default:u(`Ignoring ${d} as ${s.slice(0,t+1).join(".")} is ${JSON.stringify(h)}`);return}a=h}if(typeof a=="object"&&a!==null)try{a[n]=c}catch(t){u(`Ignoring ${d} as ${s.join(".")} is ${JSON.stringify(a)}`)}else u(`Ignoring ${d} as ${s.join(".")} is ${JSON.stringify(a)}`)}e.addToValueTree=S;function p(o,d){const c=d.split(".");b(o,c)}e.removeFromValueTree=p;function b(o,d){const c=d.shift();if(d.length===0){delete o[c];return}if(Object.keys(o).indexOf(c)!==-1){const u=o[c];typeof u=="object"&&!Array.isArray(u)&&(b(u,d),Object.keys(u).length===0&&delete o[c])}}function i(o,d,c){function u(a,t){let l=a;for(const h of t){if(typeof l!="object"||l===null)return;l=l[h]}return l}const s=d.split("."),n=u(o,s);return typeof n=="undefined"?c:n}e.getConfigurationValue=i;function f(){const o=T.Registry.as(y.Extensions.Configuration).getConfigurationProperties();return Object.keys(o)}e.getConfigurationKeys=f;function r(){const o=Object.create(null),d=T.Registry.as(y.Extensions.Configuration).getConfigurationProperties();for(let c in d){let u=d[c].default;S(o,c,u,s=>console.error(`Conflict in default settings: ${s}`))}return o}e.getDefaultValues=r}),define(te[585],ie([0,1,6,2,60,41,15]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let p=class extends N.Disposable{constructor(i,f){super();this._contextKeyService=i,this._configurationService=f,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new y.Emitter,this._accessibilityModeEnabledContext=T.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const r=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration("editor.accessibilitySupport")&&(r(),this._onDidChangeScreenReaderOptimized.fire())})),r(),this.onDidChangeScreenReaderOptimized(()=>r())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const i=this._configurationService.getValue("editor.accessibilitySupport");return i==="on"||i==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};p=Fe([Ce(0,S.IContextKeyService),Ce(1,D.IConfigurationService)],p),e.AccessibilityService=p}),define(te[586],ie([0,1,19,47,37,20,24,41,99]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.DefaultConfigurationModel=e.ConfigurationModel=void 0;class i{constructor(c={},u=[],s=[]){this._contents=c,this._keys=u,this._overrides=s,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(c){return c?(0,p.getConfigurationValue)(this.contents,c):this.contents}override(c){let u=this.overrideConfigurations.get(c);return u||(u=this.createOverrideConfigurationModel(c),this.overrideConfigurations.set(c,u)),u}merge(...c){const u=T.deepClone(this.contents),s=T.deepClone(this.overrides),n=[...this.keys];for(const a of c){this.mergeContents(u,a.contents);for(const t of a.overrides){const[l]=s.filter(h=>y.equals(h.identifiers,t.identifiers));l?this.mergeContents(l.contents,t.contents):s.push(T.deepClone(t))}for(const t of a.keys)n.indexOf(t)===-1&&n.push(t)}return new i(u,n,s)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(c){const u=this.getContentsForOverrideIdentifer(c);if(!u||typeof u!="object"||!Object.keys(u).length)return this;let s={};for(const n of y.distinct([...Object.keys(this.contents),...Object.keys(u)])){let a=this.contents[n],t=u[n];t&&(typeof a=="object"&&typeof t=="object"?(a=T.deepClone(a),this.mergeContents(a,t)):a=t),s[n]=a}return new i(s,this.keys,this.overrides)}mergeContents(c,u){for(const s of Object.keys(u)){if(s in c&&D.isObject(c[s])&&D.isObject(u[s])){this.mergeContents(c[s],u[s]);continue}c[s]=T.deepClone(u[s])}}checkAndFreeze(c){return this.isFrozen&&!Object.isFrozen(c)?T.deepFreeze(c):c}getContentsForOverrideIdentifer(c){for(const u of this.overrides)if(u.identifiers.indexOf(c)!==-1)return u.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(c,u){this.addKey(c),(0,p.addToValueTree)(this.contents,c,u,s=>{throw new Error(s)})}removeValue(c){this.removeKey(c)&&(0,p.removeFromValueTree)(this.contents,c)}addKey(c){let u=this.keys.length;for(let s=0;s<u;s++)c.indexOf(this.keys[s])===0&&(u=s);this.keys.splice(u,1,c)}removeKey(c){let u=this.keys.indexOf(c);return u!==-1?(this.keys.splice(u,1),!0):!1}}e.ConfigurationModel=i;class f extends i{constructor(){const c=(0,p.getDefaultValues)(),u=(0,p.getConfigurationKeys)(),s=[];for(const n of Object.keys(c))b.OVERRIDE_PROPERTY_PATTERN.test(n)&&s.push({identifiers:[(0,b.overrideIdentifierFromKey)(n).trim()],keys:Object.keys(c[n]),contents:(0,p.toValuesTree)(c[n],a=>console.error(`Conflict in default settings file: ${a}`))});super(c,u,s)}}e.DefaultConfigurationModel=f;class r{constructor(c,u,s=new i,n=new i,a=new N.ResourceMap,t=new i,l=new N.ResourceMap,h=!0){this._defaultConfiguration=c,this._localUserConfiguration=u,this._remoteUserConfiguration=s,this._workspaceConfiguration=n,this._folderConfigurations=a,this._memoryConfiguration=t,this._memoryConfigurationByResource=l,this._freeze=h,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new N.ResourceMap,this._userConfiguration=null}getValue(c,u,s){return this.getConsolidateConfigurationModel(u,s).getValue(c)}updateValue(c,u,s={}){let n;s.resource?(n=this._memoryConfigurationByResource.get(s.resource),n||(n=new i,this._memoryConfigurationByResource.set(s.resource,n))):n=this._memoryConfiguration,u===void 0?n.removeValue(c):n.setValue(c,u),s.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(c,u){let s=this.getConsolidatedConfigurationModelForResource(c,u);return c.overrideIdentifier?s.override(c.overrideIdentifier):s}getConsolidatedConfigurationModelForResource({resource:c},u){let s=this.getWorkspaceConsolidatedConfiguration();if(u&&c){const n=u.getFolder(c);n&&(s=this.getFolderConsolidatedConfiguration(n.uri)||s);const a=this._memoryConfigurationByResource.get(c);a&&(s=s.merge(a))}return s}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(c){let u=this._foldersConsolidatedConfigurations.get(c);if(!u){const s=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(c);n?(u=s.merge(n),this._freeze&&(u=u.freeze()),this._foldersConsolidatedConfigurations.set(c,u)):u=s}return u}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((c,u)=>{const{contents:s,overrides:n,keys:a}=this._folderConfigurations.get(u);return c.push([u,{contents:s,overrides:n,keys:a}]),c},[])}}static parse(c){const u=this.parseConfigurationModel(c.defaults),s=this.parseConfigurationModel(c.user),n=this.parseConfigurationModel(c.workspace),a=c.folders.reduce((t,l)=>(t.set(S.URI.revive(l[0]),this.parseConfigurationModel(l[1])),t),new N.ResourceMap);return new r(u,s,new i,n,a,new i,new N.ResourceMap,!1)}static parseConfigurationModel(c){return new i(c.contents,c.keys,c.overrides).freeze()}}e.Configuration=r;class o{constructor(c,u,s,n){this.change=c,this.previous=u,this.currentConfiguraiton=s,this.currentWorkspace=n,this._previousConfiguration=void 0;const a=new Set;c.keys.forEach(l=>a.add(l)),c.overrides.forEach(([,l])=>l.forEach(h=>a.add(h))),this.affectedKeys=[...a.values()];const t=new i;this.affectedKeys.forEach(l=>t.setValue(l,{})),this.affectedKeysTree=t.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=r.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(c,u){var s;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,c)){if(u){const n=this.previousConfiguration?this.previousConfiguration.getValue(c,u,(s=this.previous)===null||s===void 0?void 0:s.workspace):void 0,a=this.currentConfiguraiton.getValue(c,u,this.currentWorkspace);return!T.equals(n,a)}return!0}return!1}doesAffectedKeysTreeContains(c,u){let s=(0,p.toValuesTree)({[u]:!0},()=>{}),n;for(;typeof s=="object"&&(n=Object.keys(s)[0]);){if(c=c[n],!c)return!1;s=s[n]}return!0}}e.ConfigurationChangeEvent=o}),define(te[587],ie([0,1,6,54,2,47,543,26,41,15,262]),function(q,e,y,N,T,D,S,p,b,i,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const r="data-keybinding-context";class o{constructor(_,C){this._id=_,this._parent=C,this._value=Object.create(null),this._value._contextId=_}setValue(_,C){return this._value[_]!==C?(this._value[_]=C,!0):!1}removeValue(_){return _ in this._value?(delete this._value[_],!0):!1}getValue(_){const C=this._value[_];return typeof C=="undefined"&&this._parent?this._parent.getValue(_):C}}e.Context=o;class d extends o{constructor(){super(-1,null)}setValue(_,C){return!1}removeValue(_){return!1}getValue(_){}}d.INSTANCE=new d;class c extends o{constructor(_,C,v){super(_,null);this._configurationService=C,this._values=D.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(m=>{if(m.source===6){const E=Array.from(N.Iterable.map(this._values,([I])=>I));this._values.clear(),v.fire(new n(E))}else{const E=[];for(const I of m.affectedKeys){const k=`config.${I}`,A=this._values.findSuperstr(k);A!==void 0&&(E.push(...N.Iterable.map(A,([P])=>P)),this._values.deleteSuperstr(k)),this._values.has(k)&&(E.push(k),this._values.delete(k))}v.fire(new n(E))}})}dispose(){this._listener.dispose()}getValue(_){if(_.indexOf(c._keyPrefix)!==0)return super.getValue(_);if(this._values.has(_))return this._values.get(_);const C=_.substr(c._keyPrefix.length),v=this._configurationService.getValue(C);let m;switch(typeof v){case"number":case"boolean":case"string":m=v;break;default:Array.isArray(v)?m=JSON.stringify(v):m=v}return this._values.set(_,m),m}setValue(_,C){return super.setValue(_,C)}removeValue(_){return super.removeValue(_)}}c._keyPrefix="config.";class u{constructor(_,C,v){this._service=_,this._key=C,this._defaultValue=v,this.reset()}set(_){this._service.setContext(this._key,_)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class s{constructor(_){this.key=_}affectsSome(_){return _.has(this.key)}}class n{constructor(_){this.keys=_}affectsSome(_){for(const C of this.keys)if(_.has(C))return!0;return!1}}class a{constructor(_){this.events=_}affectsSome(_){for(const C of this.events)if(C.affectsSome(_))return!0;return!1}}class t{constructor(_){this._onDidChangeContext=new y.PauseableEmitter({merge:C=>new a(C)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=_}createKey(_,C){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new u(this,_,C)}bufferChangeEvents(_){this._onDidChangeContext.pause();try{_()}finally{this._onDidChangeContext.resume()}}createScoped(_){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new h(this,_)}contextMatchesRules(_){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const C=this.getContextValuesContainer(this._myContextId);return f.KeybindingResolver.contextMatchesRules(C,_)}getContextKeyValue(_){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(_)}setContext(_,C){if(this._isDisposed)return;const v=this.getContextValuesContainer(this._myContextId);!v||v.setValue(_,C)&&this._onDidChangeContext.fire(new s(_))}removeContext(_){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(_)&&this._onDidChangeContext.fire(new s(_))}getContext(_){return this._isDisposed?d.INSTANCE:this.getContextValuesContainer(g(_))}}e.AbstractContextKeyService=t;let l=class extends t{constructor(_){super(0);this._contexts=new Map,this._toDispose=new T.DisposableStore,this._lastContextId=0;const C=new c(this._myContextId,_,this._onDidChangeContext);this._contexts.set(this._myContextId,C),this._toDispose.add(C)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(_){return this._isDisposed?d.INSTANCE:this._contexts.get(_)||d.INSTANCE}createChildContext(_=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let C=++this._lastContextId;return this._contexts.set(C,new o(C,this.getContextValuesContainer(_))),C}disposeContext(_){this._isDisposed||this._contexts.delete(_)}};l=Fe([Ce(0,b.IConfigurationService)],l),e.ContextKeyService=l;class h extends t{constructor(_,C){super(_.createChildContext());if(this._parentChangeListener=new T.MutableDisposable,this._parent=_,this._updateParentChangeListener(),this._domNode=C,this._domNode.hasAttribute(r)){let v="";this._domNode.classList&&(v=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${v?": "+v:""}`)}this._domNode.setAttribute(r,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(r),this._isDisposed=!0)}getContextValuesContainer(_){return this._isDisposed?d.INSTANCE:this._parent.getContextValuesContainer(_)}createChildContext(_=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(_)}disposeContext(_){this._isDisposed||this._parent.disposeContext(_)}}function g(w){for(;w;){if(w.hasAttribute(r)){const _=w.getAttribute(r);return _?parseInt(_,10):NaN}w=w.parentElement}return 0}p.CommandsRegistry.registerCommand(i.SET_CONTEXT_COMMAND_ID,function(w,_,C){w.get(i.IContextKeyService).createKey(String(_),C)}),p.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...i.RawContextKey.all()].sort((w,_)=>w.key.localeCompare(_.key))},description:{description:(0,S.localize)(0,null),args:[]}}),p.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const w=[],_=new Set;for(let C of i.RawContextKey.all())_.has(C.key)||(_.add(C.key),w.push(C));w.sort((C,v)=>C.key.localeCompare(v.key)),console.log(JSON.stringify(w,void 0,2))})}),define(te[80],ie([0,1,43,17,26,32]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class S{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(i){if(N.OS===1){if(i&&i.win)return i.win}else if(N.OS===2){if(i&&i.mac)return i.mac}else if(i&&i.linux)return i.linux;return i}registerKeybindingRule(i){const f=S.bindToCurrentPlatform(i);if(f&&f.primary){const r=(0,y.createKeybinding)(f.primary,N.OS);r&&this._registerDefaultKeybinding(r,i.id,i.args,i.weight,0,i.when)}if(f&&Array.isArray(f.secondary))for(let r=0,o=f.secondary.length;r<o;r++){const d=f.secondary[r],c=(0,y.createKeybinding)(d,N.OS);c&&this._registerDefaultKeybinding(c,i.id,i.args,i.weight,-r-1,i.when)}}registerCommandAndKeybindingRule(i){this.registerKeybindingRule(i),T.CommandsRegistry.registerCommand(i)}static _mightProduceChar(i){return i>=21&&i<=30||i>=31&&i<=56?!0:i===80||i===81||i===82||i===83||i===84||i===85||i===86||i===110||i===111||i===87||i===88||i===89||i===90||i===91||i===92}_assertNoCtrlAlt(i,f){i.ctrlKey&&i.altKey&&!i.metaKey&&S._mightProduceChar(i.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",i," for ",f)}_registerDefaultKeybinding(i,f,r,o,d,c){N.OS===1&&this._assertNoCtrlAlt(i.parts[0],f),this._coreKeybindings.push({keybinding:i,command:f,commandArgs:r,when:c,weight1:o,weight2:d,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(p)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new S,e.Extensions={EditorModes:"platform.keybindingsRegistry"},D.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function p(b,i){return b.weight1!==i.weight1?b.weight1-i.weight1:b.command<i.command?-1:b.command>i.command?1:b.weight2-i.weight2}}),define(te[100],ie([0,1,19,2,32]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var D;(function(p){p[p.PRESERVE=0]="PRESERVE",p[p.LAST=1]="LAST"})(D=e.DefaultQuickAccessFilterValue||(e.DefaultQuickAccessFilterValue={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class S{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(b){return b.prefix.length===0?this.defaultProvider=b:this.providers.push(b),this.providers.sort((i,f)=>f.prefix.length-i.prefix.length),(0,N.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(b),1),this.defaultProvider===b&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,y.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(b){return b&&this.providers.find(f=>b.startsWith(f.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=S,T.Registry.add(e.Extensions.Quickaccess,new S)}),define(te[588],ie([0,1,2,549,100,79,32]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let p=class Dt{constructor(i){this.quickInputService=i,this.registry=S.Registry.as(T.Extensions.Quickaccess)}provide(i){const f=new y.DisposableStore;f.add(i.onDidAccept(()=>{const[d]=i.selectedItems;d&&this.quickInputService.quickAccess.show(d.prefix,{preserveValue:!0})})),f.add(i.onDidChangeValue(d=>{const c=this.registry.getQuickAccessProvider(d.substr(Dt.PREFIX.length));c&&c.prefix&&c.prefix!==Dt.PREFIX&&this.quickInputService.quickAccess.show(c.prefix,{preserveValue:!0})}));const{editorProviders:r,globalProviders:o}=this.getQuickAccessProviders();return i.items=r.length===0||o.length===0?[...r.length===0?o:r]:[{label:(0,N.localize)(0,null),type:"separator"},...o,{label:(0,N.localize)(1,null),type:"separator"},...r],f}getQuickAccessProviders(){const i=[],f=[];for(const r of this.registry.getQuickAccessProviders().sort((o,d)=>o.prefix.localeCompare(d.prefix)))if(r.prefix!==Dt.PREFIX)for(const o of r.helpEntries){const d=o.prefix||r.prefix,c=d||"\u2026";(o.needsEditor?f:i).push({prefix:d,label:c,ariaLabel:(0,N.localize)(2,null,c,o.description),description:o.description})}return{editorProviders:f,globalProviders:i}}};p.PREFIX="?",p=Fe([Ce(0,D.IQuickInputService)],p),e.HelpQuickAccessProvider=p}),define(te[589],ie([0,1,32,100,64,588]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),y.Registry.as(N.Extensions.Quickaccess).registerQuickAccessProvider({ctor:D.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:T.QuickHelpNLS.helpQuickAccessActionLabel,needsEditor:!0}]})}),define(te[590],ie([0,1,23,82,2,9,100,79,32]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let i=class extends T.Disposable{constructor(r,o){super();this.quickInputService=r,this.instantiationService=o,this.registry=b.Registry.as(S.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(r="",o){this.doShowOrPick(r,!1,o)}doShowOrPick(r,o,d){var c;const[u,s]=this.getOrInstantiateProvider(r),n=this.visibleQuickAccess,a=n==null?void 0:n.descriptor;if(n&&s&&a===s){r!==s.prefix&&!(d==null?void 0:d.preserveValue)&&(n.picker.value=r),this.adjustValueSelection(n.picker,s,d);return}if(s&&!(d==null?void 0:d.preserveValue)){let _;if(n&&a&&a!==s){const C=n.value.substr(a.prefix.length);C&&(_=`${s.prefix}${C}`)}if(!_){const C=u==null?void 0:u.defaultFilterValue;C===S.DefaultQuickAccessFilterValue.LAST?_=this.lastAcceptedPickerValues.get(s):typeof C=="string"&&(_=`${s.prefix}${C}`)}typeof _=="string"&&(r=_)}const t=new T.DisposableStore,l=t.add(this.quickInputService.createQuickPick());l.value=r,this.adjustValueSelection(l,s,d),l.placeholder=s==null?void 0:s.placeholder,l.quickNavigate=d==null?void 0:d.quickNavigateConfiguration,l.hideInput=!!l.quickNavigate&&!n,(typeof(d==null?void 0:d.itemActivation)=="number"||(d==null?void 0:d.quickNavigateConfiguration))&&(l.itemActivation=(c=d==null?void 0:d.itemActivation)!==null&&c!==void 0?c:p.ItemActivation.SECOND),l.contextKey=s==null?void 0:s.contextKey,l.filterValue=_=>_.substring(s?s.prefix.length:0),(s==null?void 0:s.placeholder)&&(l.ariaLabel=s==null?void 0:s.placeholder);let h,g;o&&(h=new Promise(_=>g=_),t.add((0,N.once)(l.onWillAccept)(_=>{_.veto(),l.hide()}))),t.add(this.registerPickerListeners(l,u,s,r));const w=t.add(new y.CancellationTokenSource);if(u&&t.add(u.provide(l,w.token)),(0,N.once)(l.onDidHide)(()=>{l.selectedItems.length===0&&w.cancel(),t.dispose(),g==null||g(l.selectedItems)}),l.show(),o)return h}adjustValueSelection(r,o,d){var c;let u;(d==null?void 0:d.preserveValue)?u=[r.value.length,r.value.length]:u=[(c=o==null?void 0:o.prefix.length)!==null&&c!==void 0?c:0,r.value.length],r.valueSelection=u}registerPickerListeners(r,o,d,c){const u=new T.DisposableStore,s=this.visibleQuickAccess={picker:r,descriptor:d,value:c};return u.add((0,T.toDisposable)(()=>{s===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),u.add(r.onDidChangeValue(n=>{const[a]=this.getOrInstantiateProvider(n);a!==o?this.show(n,{preserveValue:!0}):s.value=n})),d&&u.add(r.onDidAccept(()=>{this.lastAcceptedPickerValues.set(d,r.value)})),u}getOrInstantiateProvider(r){const o=this.registry.getQuickAccessProvider(r);if(!o)return[void 0,void 0];let d=this.mapProviderToDescriptor.get(o);return d||(d=this.instantiationService.createInstance(o.ctor),this.mapProviderToDescriptor.set(o,d)),[d,o]}};i=Fe([Ce(0,p.IQuickInputService),Ce(1,D.IInstantiationService)],i),e.QuickAccessController=i}),define(te[72],ie([0,1,6,2,20,310,9]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=void 0;const p="__$__targetStorageMarker";e.IStorageService=(0,S.createDecorator)("storageService");var b;(function(r){r[r.NONE=0]="NONE",r[r.SHUTDOWN=1]="SHUTDOWN"})(b=e.WillSaveStateReason||(e.WillSaveStateReason={}));class i extends N.Disposable{constructor(o={flushInterval:i.DEFAULT_FLUSH_INTERVAL}){super();this.options=o,this._onDidChangeValue=this._register(new y.PauseableEmitter),this._onDidChangeTarget=this._register(new y.PauseableEmitter),this._onWillSaveState=this._register(new y.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(o,d){d===p?(o===0?this._globalKeyTargets=void 0:o===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:o})):this._onDidChangeValue.fire({scope:o,key:d,target:this.getKeyTargets(o)[d]})}get(o,d,c){var u;return(u=this.getStorage(d))===null||u===void 0?void 0:u.get(o,c)}getBoolean(o,d,c){var u;return(u=this.getStorage(d))===null||u===void 0?void 0:u.getBoolean(o,c)}getNumber(o,d,c){var u;return(u=this.getStorage(d))===null||u===void 0?void 0:u.getNumber(o,c)}store(o,d,c,u){if((0,T.isUndefinedOrNull)(d)){this.remove(o,c);return}this.withPausedEmitters(()=>{var s;this.updateKeyTarget(o,c,u),(s=this.getStorage(c))===null||s===void 0||s.set(o,d)})}remove(o,d){this.withPausedEmitters(()=>{var c;this.updateKeyTarget(o,d,void 0),(c=this.getStorage(d))===null||c===void 0||c.delete(o)})}withPausedEmitters(o){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{o()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(o,d,c){var u,s;const n=this.getKeyTargets(d);typeof c=="number"?n[o]!==c&&(n[o]=c,(u=this.getStorage(d))===null||u===void 0||u.set(p,JSON.stringify(n))):typeof n[o]=="number"&&(delete n[o],(s=this.getStorage(d))===null||s===void 0||s.set(p,JSON.stringify(n)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(o){return o===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(o){const d=this.get(p,o);if(d)try{return JSON.parse(d)}catch(c){}return Object.create(null)}}e.AbstractStorageService=i,i.DEFAULT_FLUSH_INTERVAL=60*1e3;class f extends i{constructor(){super();this.globalStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase)),this.workspaceStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase)),this._register(this.workspaceStorage.onDidChangeStorage(o=>this.emitDidChangeValue(1,o))),this._register(this.globalStorage.onDidChangeStorage(o=>this.emitDidChangeValue(0,o)))}getStorage(o){return o===0?this.globalStorage:this.workspaceStorage}}e.InMemoryStorageService=f}),define(te[591],ie([0,1,14,82,47,3,259,76,9,72]),function(q,e,y,N,T,D,S,p,b,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,b.createDecorator)("ICodeLensCache");class f{constructor(d,c){this.lineCount=d,this.data=c}}let r=class{constructor(d){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new T.LRUCache(20,.75);const c="codelens/cache";(0,y.runWhenIdle)(()=>d.remove(c,1));const u="codelens/cache2",s=d.get(u,1,"{}");this._deserialize(s),(0,N.once)(d.onWillSaveState)(n=>{n.reason===i.WillSaveStateReason.SHUTDOWN&&d.store(u,this._serialize(),1,1)})}put(d,c){const u=c.lenses.map(a=>{var t;return{range:a.symbol.range,command:a.symbol.command&&{id:"",title:(t=a.symbol.command)===null||t===void 0?void 0:t.title}}}),s=new S.CodeLensModel;s.add({lenses:u,dispose:()=>{}},this._fakeProvider);const n=new f(d.getLineCount(),s);this._cache.set(d.uri.toString(),n)}get(d){const c=this._cache.get(d.uri.toString());return c&&c.lineCount===d.getLineCount()?c.data:void 0}delete(d){this._cache.delete(d.uri.toString())}_serialize(){const d=Object.create(null);for(const[c,u]of this._cache){const s=new Set;for(const n of u.data.lenses)s.add(n.symbol.range.startLineNumber);d[c]={lineCount:u.lineCount,lines:[...s.values()]}}return JSON.stringify(d)}_deserialize(d){try{const c=JSON.parse(d);for(const u in c){const s=c[u],n=[];for(const t of s.lines)n.push({range:new D.Range(t,1,t,11)});const a=new S.CodeLensModel;a.add({lenses:n,dispose(){}},this._fakeProvider),this._cache.set(u,new f(s.lineCount,a))}}catch(c){}}};r=Fe([Ce(0,i.IStorageService)],r),e.CodeLensCache=r,(0,p.registerSingleton)(e.ICodeLensCache,r)}),define(te[592],ie([0,1,14,2,47,18,56,41,76,9,72]),function(q,e,y,N,T,D,S,p,b,i,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class r{constructor(n){this.name=n}select(n,a,t){if(t.length===0)return 0;let l=t[0].score[0];for(let h=0;h<t.length;h++){const{score:g,completion:w}=t[h];if(g[0]!==l)break;if(w.preselect)return h}return 0}}e.Memory=r;class o extends r{constructor(){super("first")}memorize(n,a,t){}toJSON(){}fromJSON(){}}e.NoMemory=o;class d extends r{constructor(){super("recentlyUsed");this._cache=new T.LRUCache(300,.66),this._seq=0}memorize(n,a,t){const l=`${n.getLanguageIdentifier().language}/${t.textLabel}`;this._cache.set(l,{touch:this._seq++,type:t.completion.kind,insertText:t.completion.insertText})}select(n,a,t){if(t.length===0)return 0;const l=n.getLineContent(a.lineNumber).substr(a.column-10,a.column-1);if(/\s$/.test(l))return super.select(n,a,t);let h=t[0].score[0],g=-1,w=-1,_=-1;for(let C=0;C<t.length&&t[C].score[0]===h;C++){const v=`${n.getLanguageIdentifier().language}/${t[C].textLabel}`,m=this._cache.peek(v);if(m&&m.touch>_&&m.type===t[C].completion.kind&&m.insertText===t[C].completion.insertText&&(_=m.touch,w=C),t[C].completion.preselect&&g===-1)return g=C}return w!==-1?w:g!==-1?g:0}toJSON(){return this._cache.toJSON()}fromJSON(n){this._cache.clear();let a=0;for(const[t,l]of n)l.touch=a,l.type=typeof l.type=="number"?l.type:(0,D.completionKindFromString)(l.type),this._cache.set(t,l);this._seq=this._cache.size}}e.LRUMemory=d;class c extends r{constructor(){super("recentlyUsedByPrefix");this._trie=T.TernarySearchTree.forStrings(),this._seq=0}memorize(n,a,t){const{word:l}=n.getWordUntilPosition(a),h=`${n.getLanguageIdentifier().language}/${l}`;this._trie.set(h,{type:t.completion.kind,insertText:t.completion.insertText,touch:this._seq++})}select(n,a,t){let{word:l}=n.getWordUntilPosition(a);if(!l)return super.select(n,a,t);let h=`${n.getLanguageIdentifier().language}/${l}`,g=this._trie.get(h);if(g||(g=this._trie.findSubstr(h)),g)for(let w=0;w<t.length;w++){let{kind:_,insertText:C}=t[w].completion;if(_===g.type&&C===g.insertText)return w}return super.select(n,a,t)}toJSON(){let n=[];return this._trie.forEach((a,t)=>n.push([t,a])),n.sort((a,t)=>-(a[1].touch-t[1].touch)).forEach((a,t)=>a[1].touch=t),n.slice(0,200)}fromJSON(n){if(this._trie.clear(),n.length>0){this._seq=n[0][1].touch+1;for(const[a,t]of n)t.type=typeof t.type=="number"?t.type:(0,D.completionKindFromString)(t.type),this._trie.set(a,t)}}}e.PrefixMemory=c;let u=class It{constructor(n,a,t){this._storageService=n,this._modeService=a,this._configService=t,this._disposables=new N.DisposableStore,this._persistSoon=new y.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(n.onWillSaveState(l=>{l.reason===f.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(n,a,t){this._withStrategy(n,a).memorize(n,a,t),this._persistSoon.schedule()}select(n,a,t){return this._withStrategy(n,a).select(n,a,t)}_withStrategy(n,a){var t,l;const h=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:(t=this._modeService.getLanguageIdentifier(n.getLanguageIdAtPosition(a.lineNumber,a.column)))===null||t===void 0?void 0:t.language,resource:n.uri});if(((l=this._strategy)===null||l===void 0?void 0:l.name)!==h){this._saveState();const g=It._strategyCtors.get(h)||o;this._strategy=new g;try{const _=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,C=this._storageService.get(`${It._storagePrefix}/${h}`,_);C&&this._strategy.fromJSON(JSON.parse(C))}catch(w){}}return this._strategy}_saveState(){if(this._strategy){const a=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,t=JSON.stringify(this._strategy);this._storageService.store(`${It._storagePrefix}/${this._strategy.name}`,t,a,1)}}};u._strategyCtors=new Map([["recentlyUsedByPrefix",c],["recentlyUsed",d],["first",o]]),u._storagePrefix="suggest/memories",u=Fe([Ce(0,f.IStorageService),Ce(1,S.IModeService),Ce(2,p.IConfigurationService)],u),e.SuggestMemoryService=u,e.ISuggestMemoryService=(0,i.createDecorator)("ISuggestMemories"),(0,b.registerSingleton)(e.ISuggestMemoryService,u,!0)}),define(te[90],ie([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,y.createDecorator)("telemetryService")}),define(te[593],ie([0,1,455,10,67,2,47,75,20,548,26,41,123,9,40,578,72,90]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let a=class kt extends u.PickerQuickAccessProvider{constructor(h,g,w,_,C,v){super(kt.PREFIX,h);this.instantiationService=g,this.keybindingService=w,this.commandService=_,this.telemetryService=C,this.dialogService=v,this.commandsHistory=this._register(this.instantiationService.createInstance(t)),this.options=h}_getPicks(h,g,w){return Me(this,void 0,void 0,function*(){const _=yield this.getCommandPicks(g,w);if(w.isCancellationRequested)return[];const C=[];for(const I of _){const k=(0,b.withNullAsUndefined)(kt.WORD_FILTER(h,I.label)),A=I.commandAlias?(0,b.withNullAsUndefined)(kt.WORD_FILTER(h,I.commandAlias)):void 0;k||A?(I.highlights={label:k,detail:this.options.showAlias?A:void 0},C.push(I)):h===I.commandId&&C.push(I)}const v=new Map;for(const I of C){const k=v.get(I.label);k?(I.description=I.commandId,k.description=k.commandId):v.set(I.label,I)}C.sort((I,k)=>{const A=this.commandsHistory.peek(I.commandId),P=this.commandsHistory.peek(k.commandId);return A&&P?A>P?-1:1:A?-1:P?1:I.label.localeCompare(k.label)});const m=[];let E=!1;for(let I=0;I<C.length;I++){const k=C[I],A=this.keybindingService.lookupKeybinding(k.commandId),P=A?(0,i.localize)(0,null,k.label,A.getAriaLabel()):k.label;I===0&&this.commandsHistory.peek(k.commandId)&&(m.push({type:"separator",label:(0,i.localize)(1,null)}),E=!0),I!==0&&E&&!this.commandsHistory.peek(k.commandId)&&(m.push({type:"separator",label:(0,i.localize)(2,null)}),E=!1),m.push(Object.assign(Object.assign({},k),{ariaLabel:P,detail:this.options.showAlias&&k.commandAlias!==k.label?k.commandAlias:void 0,keybinding:A,accept:()=>Me(this,void 0,void 0,function*(){this.commandsHistory.push(k.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:k.commandId,from:"quick open"});try{yield this.commandService.executeCommand(k.commandId)}catch(F){(0,N.isPromiseCanceledError)(F)||this.dialogService.show(p.default.Error,(0,i.localize)(3,null,k.label,(0,y.toErrorMessage)(F)))}})}))}return m})}};a.PREFIX=">",a.WORD_FILTER=(0,T.or)(T.matchesPrefix,T.matchesWords,T.matchesContiguousSubString),a=Fe([Ce(1,d.IInstantiationService),Ce(2,c.IKeybindingService),Ce(3,f.ICommandService),Ce(4,n.ITelemetryService),Ce(5,o.IDialogService)],a),e.AbstractCommandsQuickAccessProvider=a;let t=class it extends D.Disposable{constructor(h,g){super();this.storageService=h,this.configurationService=g,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=it.getConfiguredCommandHistoryLength(this.configurationService),it.cache&&it.cache.limit!==this.configuredCommandsHistoryLength&&(it.cache.limit=this.configuredCommandsHistoryLength,it.saveState(this.storageService))}load(){const h=this.storageService.get(it.PREF_KEY_CACHE,0);let g;if(h)try{g=JSON.parse(h)}catch(_){}const w=it.cache=new S.LRUCache(this.configuredCommandsHistoryLength,1);if(g){let _;g.usesLRU?_=g.entries:_=g.entries.sort((C,v)=>C.value-v.value),_.forEach(C=>w.set(C.key,C.value))}it.counter=this.storageService.getNumber(it.PREF_KEY_COUNTER,0,it.counter)}push(h){!it.cache||(it.cache.set(h,it.counter++),it.saveState(this.storageService))}peek(h){var g;return(g=it.cache)===null||g===void 0?void 0:g.peek(h)}static saveState(h){if(!it.cache)return;const g={usesLRU:!0,entries:[]};it.cache.forEach((w,_)=>g.entries.push({key:_,value:w})),h.store(it.PREF_KEY_CACHE,JSON.stringify(g),0,0),h.store(it.PREF_KEY_COUNTER,it.counter,0,0)}static getConfiguredCommandHistoryLength(h){var g,w;const C=(w=(g=h.getValue().workbench)===null||g===void 0?void 0:g.commandPalette)===null||w===void 0?void 0:w.history;return typeof C=="number"?C:it.DEFAULT_COMMANDS_HISTORY_LENGTH}};t.DEFAULT_COMMANDS_HISTORY_LENGTH=50,t.PREF_KEY_CACHE="commandPalette.mru.cache",t.PREF_KEY_COUNTER="commandPalette.mru.counter",t.counter=1,t=Fe([Ce(0,s.IStorageService),Ce(1,r.IConfigurationService)],t),e.CommandsHistory=t}),define(te[594],ie([0,1,106,593]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class T extends N.AbstractCommandsQuickAccessProvider{constructor(S,p,b,i,f,r){super(S,p,b,i,f,r)}getCodeEditorCommandPicks(){const S=this.activeTextEditorControl;if(!S)return[];const p=[];for(const b of S.getSupportedActions())p.push({commandId:b.id,commandAlias:b.alias,label:(0,y.stripIcons)(b.label)||b.id});return p}}e.AbstractEditorCommandsQuickAccessProvider=T}),define(te[22],ie([0,1,14,29,6,20,550,190,32]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.ifDefinedThenElse=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapForegroundOpacity=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.toolbarHoverBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.tableColumnsBorder=e.treeIndentGuidesStroke=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorForeground=e.editorBackground=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonHoverBackground=e.buttonBackground=e.buttonForeground=e.selectForeground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetShadow=e.textCodeBlockBackground=e.textLinkActiveForeground=e.textLinkForeground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.errorForeground=e.foreground=e.registerColor=e.Extensions=void 0,e.Extensions={ColorContribution:"base.contributions.colors"};class i{constructor(){this._onDidChangeSchema=new T.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(w,_,C,v=!1,m){let E={id:w,description:C,defaults:_,needsTransparency:v,deprecationMessage:m};this.colorsById[w]=E;let I={type:"string",description:C,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return m&&(I.deprecationMessage=m),this.colorSchema.properties[w]=I,this.colorReferenceSchema.enum.push(w),this.colorReferenceSchema.enumDescriptions.push(C),this._onDidChangeSchema.fire(),w}resolveDefaultColor(w,_){const C=this.colorsById[w];if(C&&C.defaults){const v=C.defaults[_.type];return t(v,_)}}getColorSchema(){return this.colorSchema}toString(){let w=(_,C)=>{let v=_.indexOf(".")===-1?0:1,m=C.indexOf(".")===-1?0:1;return v!==m?v-m:_.localeCompare(C)};return Object.keys(this.colorsById).sort(w).map(_=>`- \`${_}\`: ${this.colorsById[_].description}`).join(`
`)}}const f=new i;b.Registry.add(e.Extensions.ColorContribution,f);function r(g,w,_,C,v){return f.registerColor(g,w,_,C,v)}e.registerColor=r,e.foreground=r("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},S.localize(0,null)),e.errorForeground=r("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},S.localize(1,null)),e.iconForeground=r("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},S.localize(2,null)),e.focusBorder=r("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},S.localize(3,null)),e.contrastBorder=r("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},S.localize(4,null)),e.activeContrastBorder=r("contrastActiveBorder",{light:null,dark:null,hc:e.focusBorder},S.localize(5,null)),e.textLinkForeground=r("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},S.localize(6,null)),e.textLinkActiveForeground=r("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},S.localize(7,null)),e.textCodeBlockBackground=r("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:N.Color.black},S.localize(8,null)),e.widgetShadow=r("widget.shadow",{dark:u(N.Color.black,.36),light:u(N.Color.black,.16),hc:null},S.localize(9,null)),e.inputBackground=r("input.background",{dark:"#3C3C3C",light:N.Color.white,hc:N.Color.black},S.localize(10,null)),e.inputForeground=r("input.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},S.localize(11,null)),e.inputBorder=r("input.border",{dark:null,light:null,hc:e.contrastBorder},S.localize(12,null)),e.inputActiveOptionBorder=r("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:e.contrastBorder},S.localize(13,null)),e.inputActiveOptionBackground=r("inputOption.activeBackground",{dark:u(e.focusBorder,.4),light:u(e.focusBorder,.2),hc:N.Color.transparent},S.localize(14,null)),e.inputActiveOptionForeground=r("inputOption.activeForeground",{dark:N.Color.white,light:N.Color.black,hc:null},S.localize(15,null)),e.inputValidationInfoBackground=r("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:N.Color.black},S.localize(16,null)),e.inputValidationInfoForeground=r("inputValidation.infoForeground",{dark:null,light:null,hc:null},S.localize(17,null)),e.inputValidationInfoBorder=r("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:e.contrastBorder},S.localize(18,null)),e.inputValidationWarningBackground=r("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:N.Color.black},S.localize(19,null)),e.inputValidationWarningForeground=r("inputValidation.warningForeground",{dark:null,light:null,hc:null},S.localize(20,null)),e.inputValidationWarningBorder=r("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:e.contrastBorder},S.localize(21,null)),e.inputValidationErrorBackground=r("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:N.Color.black},S.localize(22,null)),e.inputValidationErrorForeground=r("inputValidation.errorForeground",{dark:null,light:null,hc:null},S.localize(23,null)),e.inputValidationErrorBorder=r("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},S.localize(24,null)),e.selectBackground=r("dropdown.background",{dark:"#3C3C3C",light:N.Color.white,hc:N.Color.black},S.localize(25,null)),e.selectForeground=r("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:N.Color.white},S.localize(26,null)),e.buttonForeground=r("button.foreground",{dark:N.Color.white,light:N.Color.white,hc:N.Color.white},S.localize(27,null)),e.buttonBackground=r("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},S.localize(28,null)),e.buttonHoverBackground=r("button.hoverBackground",{dark:c(e.buttonBackground,.2),light:d(e.buttonBackground,.2),hc:null},S.localize(29,null)),e.badgeBackground=r("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:N.Color.black},S.localize(30,null)),e.badgeForeground=r("badge.foreground",{dark:N.Color.white,light:"#333",hc:N.Color.white},S.localize(31,null)),e.scrollbarShadow=r("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},S.localize(32,null)),e.scrollbarSliderBackground=r("scrollbarSlider.background",{dark:N.Color.fromHex("#797979").transparent(.4),light:N.Color.fromHex("#646464").transparent(.4),hc:u(e.contrastBorder,.6)},S.localize(33,null)),e.scrollbarSliderHoverBackground=r("scrollbarSlider.hoverBackground",{dark:N.Color.fromHex("#646464").transparent(.7),light:N.Color.fromHex("#646464").transparent(.7),hc:u(e.contrastBorder,.8)},S.localize(34,null)),e.scrollbarSliderActiveBackground=r("scrollbarSlider.activeBackground",{dark:N.Color.fromHex("#BFBFBF").transparent(.4),light:N.Color.fromHex("#000000").transparent(.6),hc:e.contrastBorder},S.localize(35,null)),e.progressBarBackground=r("progressBar.background",{dark:N.Color.fromHex("#0E70C0"),light:N.Color.fromHex("#0E70C0"),hc:e.contrastBorder},S.localize(36,null)),e.editorErrorBackground=r("editorError.background",{dark:null,light:null,hc:null},S.localize(37,null),!0),e.editorErrorForeground=r("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},S.localize(38,null)),e.editorErrorBorder=r("editorError.border",{dark:null,light:null,hc:N.Color.fromHex("#E47777").transparent(.8)},S.localize(39,null)),e.editorWarningBackground=r("editorWarning.background",{dark:null,light:null,hc:null},S.localize(40,null),!0),e.editorWarningForeground=r("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},S.localize(41,null)),e.editorWarningBorder=r("editorWarning.border",{dark:null,light:null,hc:N.Color.fromHex("#FFCC00").transparent(.8)},S.localize(42,null)),e.editorInfoBackground=r("editorInfo.background",{dark:null,light:null,hc:null},S.localize(43,null),!0),e.editorInfoForeground=r("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},S.localize(44,null)),e.editorInfoBorder=r("editorInfo.border",{dark:null,light:null,hc:N.Color.fromHex("#3794FF").transparent(.8)},S.localize(45,null)),e.editorHintForeground=r("editorHint.foreground",{dark:N.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},S.localize(46,null)),e.editorHintBorder=r("editorHint.border",{dark:null,light:null,hc:N.Color.fromHex("#eeeeee").transparent(.8)},S.localize(47,null)),e.editorBackground=r("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:N.Color.black},S.localize(48,null)),e.editorForeground=r("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:N.Color.white},S.localize(49,null)),e.editorWidgetBackground=r("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},S.localize(50,null)),e.editorWidgetForeground=r("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},S.localize(51,null)),e.editorWidgetBorder=r("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:e.contrastBorder},S.localize(52,null)),e.editorWidgetResizeBorder=r("editorWidget.resizeBorder",{light:null,dark:null,hc:null},S.localize(53,null)),e.quickInputBackground=r("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hc:e.editorWidgetBackground},S.localize(54,null)),e.quickInputForeground=r("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hc:e.editorWidgetForeground},S.localize(55,null)),e.quickInputTitleBackground=r("quickInputTitle.background",{dark:new N.Color(new N.RGBA(255,255,255,.105)),light:new N.Color(new N.RGBA(0,0,0,.06)),hc:"#000000"},S.localize(56,null)),e.pickerGroupForeground=r("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:N.Color.white},S.localize(57,null)),e.pickerGroupBorder=r("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:N.Color.white},S.localize(58,null)),e.keybindingLabelBackground=r("keybindingLabel.background",{dark:new N.Color(new N.RGBA(128,128,128,.17)),light:new N.Color(new N.RGBA(221,221,221,.4)),hc:N.Color.transparent},S.localize(59,null)),e.keybindingLabelForeground=r("keybindingLabel.foreground",{dark:N.Color.fromHex("#CCCCCC"),light:N.Color.fromHex("#555555"),hc:N.Color.white},S.localize(60,null)),e.keybindingLabelBorder=r("keybindingLabel.border",{dark:new N.Color(new N.RGBA(51,51,51,.6)),light:new N.Color(new N.RGBA(204,204,204,.4)),hc:new N.Color(new N.RGBA(111,195,223))},S.localize(61,null)),e.keybindingLabelBottomBorder=r("keybindingLabel.bottomBorder",{dark:new N.Color(new N.RGBA(68,68,68,.6)),light:new N.Color(new N.RGBA(187,187,187,.4)),hc:new N.Color(new N.RGBA(111,195,223))},S.localize(62,null)),e.editorSelectionBackground=r("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},S.localize(63,null)),e.editorSelectionForeground=r("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},S.localize(64,null)),e.editorInactiveSelection=r("editor.inactiveSelectionBackground",{light:u(e.editorSelectionBackground,.5),dark:u(e.editorSelectionBackground,.5),hc:u(e.editorSelectionBackground,.5)},S.localize(65,null),!0),e.editorSelectionHighlight=r("editor.selectionHighlightBackground",{light:a(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:a(e.editorSelectionBackground,e.editorBackground,.3,.6),hc:null},S.localize(66,null),!0),e.editorSelectionHighlightBorder=r("editor.selectionHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},S.localize(67,null)),e.editorFindMatch=r("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},S.localize(68,null)),e.editorFindMatchHighlight=r("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},S.localize(69,null),!0),e.editorFindRangeHighlight=r("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},S.localize(70,null),!0),e.editorFindMatchBorder=r("editor.findMatchBorder",{light:null,dark:null,hc:e.activeContrastBorder},S.localize(71,null)),e.editorFindMatchHighlightBorder=r("editor.findMatchHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},S.localize(72,null)),e.editorFindRangeHighlightBorder=r("editor.findRangeHighlightBorder",{dark:null,light:null,hc:u(e.activeContrastBorder,.4)},S.localize(73,null),!0),e.editorHoverHighlight=r("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},S.localize(74,null),!0),e.editorHoverBackground=r("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hc:e.editorWidgetBackground},S.localize(75,null)),e.editorHoverForeground=r("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hc:e.editorWidgetForeground},S.localize(76,null)),e.editorHoverBorder=r("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hc:e.editorWidgetBorder},S.localize(77,null)),e.editorHoverStatusBarBackground=r("editorHoverWidget.statusBarBackground",{dark:c(e.editorHoverBackground,.2),light:d(e.editorHoverBackground,.05),hc:e.editorWidgetBackground},S.localize(78,null)),e.editorActiveLinkForeground=r("editorLink.activeForeground",{dark:"#4E94CE",light:N.Color.blue,hc:N.Color.cyan},S.localize(79,null)),e.editorInlayHintForeground=r("editorInlayHint.foreground",{dark:u(e.badgeForeground,.8),light:u(e.badgeForeground,.8),hc:e.badgeForeground},S.localize(80,null)),e.editorInlayHintBackground=r("editorInlayHint.background",{dark:u(e.badgeBackground,.6),light:u(e.badgeBackground,.3),hc:e.badgeBackground},S.localize(81,null)),e.editorInlayHintTypeForeground=r("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hc:e.editorInlayHintForeground},S.localize(82,null)),e.editorInlayHintTypeBackground=r("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hc:e.editorInlayHintBackground},S.localize(83,null)),e.editorInlayHintParameterForeground=r("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hc:e.editorInlayHintForeground},S.localize(84,null)),e.editorInlayHintParameterBackground=r("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hc:e.editorInlayHintBackground},S.localize(85,null)),e.editorLightBulbForeground=r("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},S.localize(86,null)),e.editorLightBulbAutoFixForeground=r("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},S.localize(87,null)),e.defaultInsertColor=new N.Color(new N.RGBA(155,185,85,.2)),e.defaultRemoveColor=new N.Color(new N.RGBA(255,0,0,.2)),e.diffInserted=r("diffEditor.insertedTextBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hc:null},S.localize(88,null),!0),e.diffRemoved=r("diffEditor.removedTextBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hc:null},S.localize(89,null),!0),e.diffInsertedOutline=r("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},S.localize(90,null)),e.diffRemovedOutline=r("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},S.localize(91,null)),e.diffBorder=r("diffEditor.border",{dark:null,light:null,hc:e.contrastBorder},S.localize(92,null)),e.diffDiagonalFill=r("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},S.localize(93,null)),e.listFocusBackground=r("list.focusBackground",{dark:null,light:null,hc:null},S.localize(94,null)),e.listFocusForeground=r("list.focusForeground",{dark:null,light:null,hc:null},S.localize(95,null)),e.listFocusOutline=r("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hc:e.activeContrastBorder},S.localize(96,null)),e.listActiveSelectionBackground=r("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},S.localize(97,null)),e.listActiveSelectionForeground=r("list.activeSelectionForeground",{dark:N.Color.white,light:N.Color.white,hc:null},S.localize(98,null)),e.listActiveSelectionIconForeground=r("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},S.localize(99,null)),e.listInactiveSelectionBackground=r("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},S.localize(100,null)),e.listInactiveSelectionForeground=r("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},S.localize(101,null)),e.listInactiveSelectionIconForeground=r("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},S.localize(102,null)),e.listInactiveFocusBackground=r("list.inactiveFocusBackground",{dark:null,light:null,hc:null},S.localize(103,null)),e.listInactiveFocusOutline=r("list.inactiveFocusOutline",{dark:null,light:null,hc:null},S.localize(104,null)),e.listHoverBackground=r("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},S.localize(105,null)),e.listHoverForeground=r("list.hoverForeground",{dark:null,light:null,hc:null},S.localize(106,null)),e.listDropBackground=r("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},S.localize(107,null)),e.listHighlightForeground=r("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:e.focusBorder},S.localize(108,null)),e.listFocusHighlightForeground=r("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:n(e.listActiveSelectionBackground,e.listHighlightForeground,"#9DDDFF"),hc:e.listHighlightForeground},S.localize(109,null)),e.listFilterWidgetBackground=r("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:N.Color.black},S.localize(110,null)),e.listFilterWidgetOutline=r("listFilterWidget.outline",{dark:N.Color.transparent,light:N.Color.transparent,hc:"#f38518"},S.localize(111,null)),e.listFilterWidgetNoMatchesOutline=r("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},S.localize(112,null)),e.treeIndentGuidesStroke=r("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},S.localize(113,null)),e.tableColumnsBorder=r("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},S.localize(114,null)),e._deprecatedQuickInputListFocusBackground=r("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,S.localize(115,null)),e.quickInputListFocusForeground=r("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},S.localize(116,null)),e.quickInputListFocusIconForeground=r("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hc:e.listActiveSelectionIconForeground},S.localize(117,null)),e.quickInputListFocusBackground=r("quickInputList.focusBackground",{dark:s(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),light:s(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),hc:null},S.localize(118,null)),e.menuBorder=r("menu.border",{dark:null,light:null,hc:e.contrastBorder},S.localize(119,null)),e.menuForeground=r("menu.foreground",{dark:e.selectForeground,light:e.foreground,hc:e.selectForeground},S.localize(120,null)),e.menuBackground=r("menu.background",{dark:e.selectBackground,light:e.selectBackground,hc:e.selectBackground},S.localize(121,null)),e.menuSelectionForeground=r("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},S.localize(122,null)),e.menuSelectionBackground=r("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hc:e.listActiveSelectionBackground},S.localize(123,null)),e.menuSelectionBorder=r("menu.selectionBorder",{dark:null,light:null,hc:e.activeContrastBorder},S.localize(124,null)),e.menuSeparatorBackground=r("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:e.contrastBorder},S.localize(125,null)),e.toolbarHoverBackground=r("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},S.localize(126,null)),e.snippetTabstopHighlightBackground=r("editor.snippetTabstopHighlightBackground",{dark:new N.Color(new N.RGBA(124,124,124,.3)),light:new N.Color(new N.RGBA(10,50,100,.2)),hc:new N.Color(new N.RGBA(124,124,124,.3))},S.localize(127,null)),e.snippetTabstopHighlightBorder=r("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},S.localize(128,null)),e.snippetFinalTabstopHighlightBackground=r("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},S.localize(129,null)),e.snippetFinalTabstopHighlightBorder=r("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new N.Color(new N.RGBA(10,50,100,.5)),hc:"#525252"},S.localize(130,null)),e.overviewRulerFindMatchForeground=r("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},S.localize(131,null),!0),e.overviewRulerSelectionHighlightForeground=r("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},S.localize(132,null),!0),e.minimapFindMatch=r("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},S.localize(133,null),!0),e.minimapSelectionOccurrenceHighlight=r("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},S.localize(134,null),!0),e.minimapSelection=r("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},S.localize(135,null),!0),e.minimapError=r("minimap.errorHighlight",{dark:new N.Color(new N.RGBA(255,18,18,.7)),light:new N.Color(new N.RGBA(255,18,18,.7)),hc:new N.Color(new N.RGBA(255,50,50,1))},S.localize(136,null)),e.minimapWarning=r("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningBorder},S.localize(137,null)),e.minimapBackground=r("minimap.background",{dark:null,light:null,hc:null},S.localize(138,null)),e.minimapForegroundOpacity=r("minimap.foregroundOpacity",{dark:N.Color.fromHex("#000f"),light:N.Color.fromHex("#000f"),hc:N.Color.fromHex("#000f")},S.localize(139,null)),e.minimapSliderBackground=r("minimapSlider.background",{light:u(e.scrollbarSliderBackground,.5),dark:u(e.scrollbarSliderBackground,.5),hc:u(e.scrollbarSliderBackground,.5)},S.localize(140,null)),e.minimapSliderHoverBackground=r("minimapSlider.hoverBackground",{light:u(e.scrollbarSliderHoverBackground,.5),dark:u(e.scrollbarSliderHoverBackground,.5),hc:u(e.scrollbarSliderHoverBackground,.5)},S.localize(141,null)),e.minimapSliderActiveBackground=r("minimapSlider.activeBackground",{light:u(e.scrollbarSliderActiveBackground,.5),dark:u(e.scrollbarSliderActiveBackground,.5),hc:u(e.scrollbarSliderActiveBackground,.5)},S.localize(142,null)),e.problemsErrorIconForeground=r("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hc:e.editorErrorForeground},S.localize(143,null)),e.problemsWarningIconForeground=r("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningForeground},S.localize(144,null)),e.problemsInfoIconForeground=r("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hc:e.editorInfoForeground},S.localize(145,null));function o(g,w){var _,C,v;switch(g.op){case 0:return(_=t(g.value,w))===null||_===void 0?void 0:_.darken(g.factor);case 1:return(C=t(g.value,w))===null||C===void 0?void 0:C.lighten(g.factor);case 2:return(v=t(g.value,w))===null||v===void 0?void 0:v.transparent(g.factor);case 3:for(const I of g.values){const k=t(I,w);if(k)return k}return;case 5:return t(w.defines(g.if)?g.then:g.else,w);case 4:const m=t(g.value,w);if(!m)return;const E=t(g.background,w);return E?m.isDarkerThan(E)?N.Color.getLighterColor(m,E,g.factor).transparent(g.transparency):N.Color.getDarkerColor(m,E,g.factor).transparent(g.transparency):m.transparent(g.factor*g.transparency);default:throw(0,D.assertNever)(g)}}e.executeTransform=o;function d(g,w){return{op:0,value:g,factor:w}}e.darken=d;function c(g,w){return{op:1,value:g,factor:w}}e.lighten=c;function u(g,w){return{op:2,value:g,factor:w}}e.transparent=u;function s(...g){return{op:3,values:g}}e.oneOf=s;function n(g,w,_){return{op:5,if:g,then:w,else:_}}e.ifDefinedThenElse=n;function a(g,w,_,C){return{op:4,value:g,background:w,factor:_,transparency:C}}function t(g,w){if(g!==null){if(typeof g=="string")return g[0]==="#"?N.Color.fromHex(g):w.getColor(g);if(g instanceof N.Color)return g;if(typeof g=="object")return o(g,w)}}e.resolveColorValue=t,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";let l=b.Registry.as(p.Extensions.JSONContribution);l.registerSchema(e.workbenchColorsSchemaId,f.getColorSchema());const h=new y.RunOnceScheduler(()=>l.notifySchemaChanged(e.workbenchColorsSchemaId),200);f.onDidChangeSchema(()=>{h.isScheduled()||h.schedule()})}),define(te[126],ie([0,1,22]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachMenuStyler=e.defaultMenuStyles=e.defaultListStyles=e.attachListStyler=e.attachBadgeStyler=e.attachStyler=e.computeStyles=void 0;function N(b,i){const f=Object.create(null);for(let r in i){const o=i[r];o&&(f[r]=(0,y.resolveColorValue)(o,b))}return f}e.computeStyles=N;function T(b,i,f){function r(){const o=N(b.getColorTheme(),i);typeof f=="function"?f(o):f.style(o)}return r(),b.onDidColorThemeChange(r)}e.attachStyler=T;function D(b,i,f){return T(i,{badgeBackground:(f==null?void 0:f.badgeBackground)||y.badgeBackground,badgeForeground:(f==null?void 0:f.badgeForeground)||y.badgeForeground,badgeBorder:y.contrastBorder},b)}e.attachBadgeStyler=D;function S(b,i,f){return T(i,Object.assign(Object.assign({},e.defaultListStyles),f||{}),b)}e.attachListStyler=S,e.defaultListStyles={listFocusBackground:y.listFocusBackground,listFocusForeground:y.listFocusForeground,listFocusOutline:y.listFocusOutline,listActiveSelectionBackground:y.listActiveSelectionBackground,listActiveSelectionForeground:y.listActiveSelectionForeground,listActiveSelectionIconForeground:y.listActiveSelectionIconForeground,listFocusAndSelectionBackground:y.listActiveSelectionBackground,listFocusAndSelectionForeground:y.listActiveSelectionForeground,listInactiveSelectionBackground:y.listInactiveSelectionBackground,listInactiveSelectionIconForeground:y.listInactiveSelectionIconForeground,listInactiveSelectionForeground:y.listInactiveSelectionForeground,listInactiveFocusBackground:y.listInactiveFocusBackground,listInactiveFocusOutline:y.listInactiveFocusOutline,listHoverBackground:y.listHoverBackground,listHoverForeground:y.listHoverForeground,listDropBackground:y.listDropBackground,listSelectionOutline:y.activeContrastBorder,listHoverOutline:y.activeContrastBorder,listFilterWidgetBackground:y.listFilterWidgetBackground,listFilterWidgetOutline:y.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:y.listFilterWidgetNoMatchesOutline,listMatchesShadow:y.widgetShadow,treeIndentGuidesStroke:y.treeIndentGuidesStroke,tableColumnsBorder:y.tableColumnsBorder},e.defaultMenuStyles={shadowColor:y.widgetShadow,borderColor:y.menuBorder,foregroundColor:y.menuForeground,backgroundColor:y.menuBackground,selectionForegroundColor:y.menuSelectionForeground,selectionBackgroundColor:y.menuSelectionBackground,selectionBorderColor:y.menuSelectionBorder,separatorColor:y.menuSeparatorBackground};function p(b,i,f){return T(i,Object.assign(Object.assign({},e.defaultMenuStyles),f),b)}e.attachMenuStyler=p}),define(te[595],ie([0,1,7,55,452,51,10,2,126,378]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class i{constructor(r,o,d,c,u){this.contextViewService=r,this.telemetryService=o,this.notificationService=d,this.keybindingService=c,this.themeService=u,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(r){this.options=r}showContextMenu(r){const o=r.getActions();if(!o.length)return;this.focusToReturn=document.activeElement;let d,c=(0,y.isHTMLElement)(r.domForShadowRoot)?r.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>r.getAnchor(),canRelayout:!1,anchorAlignment:r.anchorAlignment,anchorAxisAlignment:r.anchorAxisAlignment,render:u=>{let s=r.getMenuClassName?r.getMenuClassName():"";s&&(u.className+=" "+s),this.options.blockMouse&&(this.block=u.appendChild((0,y.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,y.addDisposableListener)(this.block,y.EventType.MOUSE_DOWN,t=>t.stopPropagation()));const n=new p.DisposableStore,a=r.actionRunner||new D.ActionRunner;return a.onBeforeRun(this.onActionRun,this,n),a.onDidRun(this.onDidActionRun,this,n),d=new T.Menu(u,o,{actionViewItemProvider:r.getActionViewItem,context:r.getActionsContext?r.getActionsContext():null,actionRunner:a,getKeyBinding:r.getKeyBinding?r.getKeyBinding:t=>this.keybindingService.lookupKeybinding(t.id)}),n.add((0,b.attachMenuStyler)(d,this.themeService)),d.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,n),d.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,n),n.add((0,y.addDisposableListener)(window,y.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),n.add((0,y.addDisposableListener)(window,y.EventType.MOUSE_DOWN,t=>{if(t.defaultPrevented)return;let l=new N.StandardMouseEvent(t),h=l.target;if(!l.rightButton){for(;h;){if(h===u)return;h=h.parentElement}this.contextViewService.hideContextView(!0)}})),(0,p.combinedDisposable)(n,d)},focus:()=>{d&&d.focus(!!r.autoSelectFirstItem)},onHide:u=>{r.onHide&&r.onHide(!!u),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},c,!!c)}onActionRun(r){this.telemetryService.publicLog2("workbenchActionExecuted",{id:r.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(r){r.error&&!(0,S.isPromiseCanceledError)(r.error)&&this.notificationService.error(r.error)}}e.ContextMenuHandler=i}),define(te[101],ie([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0;var y;(function(N){N.DARK="dark",N.LIGHT="light",N.HIGH_CONTRAST="hc"})(y=e.ColorScheme||(e.ColorScheme={}))}),define(te[266],ie([0,1,36,30,17,402,116,140,117,101,34]),function(q,e,y,N,T,D,S,p,b,i,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=e.DomReadingContext=void 0;const r=function(){return T.isNative?!0:!(T.isLinux||y.isFirefox||y.isSafari)}();let o=!0;class d{constructor(w,_){this._domNode=w,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=_}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}e.DomReadingContext=d;class c{constructor(w,_){this.themeType=_;const C=w.options,v=C.get(43);this.renderWhitespace=C.get(87),this.renderControlCharacters=C.get(82),this.spaceWidth=v.spaceWidth,this.middotWidth=v.middotWidth,this.wsmiddotWidth=v.wsmiddotWidth,this.useMonospaceOptimizations=v.isMonospace&&!C.get(29),this.canUseHalfwidthRightwardsArrow=v.canUseHalfwidthRightwardsArrow,this.lineHeight=C.get(58),this.stopRenderingLineAfter=C.get(104),this.fontLigatures=C.get(44)}equals(w){return this.themeType===w.themeType&&this.renderWhitespace===w.renderWhitespace&&this.renderControlCharacters===w.renderControlCharacters&&this.spaceWidth===w.spaceWidth&&this.middotWidth===w.middotWidth&&this.wsmiddotWidth===w.wsmiddotWidth&&this.useMonospaceOptimizations===w.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===w.canUseHalfwidthRightwardsArrow&&this.lineHeight===w.lineHeight&&this.stopRenderingLineAfter===w.stopRenderingLineAfter&&this.fontLigatures===w.fontLigatures}}e.ViewLineOptions=c;class u{constructor(w){this._options=w,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(w){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,N.createFastDomNode)(w);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(w){this._isMaybeInvalid=!0,this._options=w}onSelectionChanged(){return this._options.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(w,_,C,v){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const m=C.getViewLineRenderingData(w),E=this._options,I=p.LineDecoration.filter(m.inlineDecorations,w,m.minColumn,m.maxColumn);let k=null;if(E.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const M=C.selections;for(const R of M){if(R.endLineNumber<w||R.startLineNumber>w)continue;const O=R.startLineNumber===w?R.startColumn:m.minColumn,L=R.endLineNumber===w?R.endColumn:m.maxColumn;O<L&&(E.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?I.push(new p.LineDecoration(O,L,"inline-selected-text",0)):(k||(k=[]),k.push(new b.LineRange(O-1,L-1))))}}const A=new b.RenderLineInput(E.useMonospaceOptimizations,E.canUseHalfwidthRightwardsArrow,m.content,m.continuesWithWrappedLine,m.isBasicASCII,m.containsRTL,m.minColumn-1,m.tokens,I,m.tabSize,m.startVisibleColumn,E.spaceWidth,E.middotWidth,E.wsmiddotWidth,E.stopRenderingLineAfter,E.renderWhitespace,E.renderControlCharacters,E.fontLigatures!==f.EditorFontLigatures.OFF,k);if(this._renderedViewLine&&this._renderedViewLine.input.equals(A))return!1;v.appendASCIIString('<div style="top:'),v.appendASCIIString(String(_)),v.appendASCIIString("px;height:"),v.appendASCIIString(String(this._options.lineHeight)),v.appendASCIIString('px;" class="'),v.appendASCIIString(u.CLASS_NAME),v.appendASCIIString('">');const P=(0,b.renderViewLine)(A,v);v.appendASCIIString("</div>");let F=null;return o&&r&&m.isBasicASCII&&E.useMonospaceOptimizations&&P.containsForeignElements===0&&m.content.length<300&&A.lineTokens.getCount()<100&&(F=new s(this._renderedViewLine?this._renderedViewLine.domNode:null,A,P.characterMapping)),F||(F=t(this._renderedViewLine?this._renderedViewLine.domNode:null,A,P.characterMapping,P.containsRTL,P.containsForeignElements)),this._renderedViewLine=F,!0}layoutLine(w,_){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(_),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof s:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof s?this._renderedViewLine.monospaceAssumptionsAreValid():o}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof s&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(w,_,C,v){if(!this._renderedViewLine)return null;_=_|0,C=C|0,_=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,_)),C=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,C));const m=this._renderedViewLine.input.stopRenderingLineAfter|0;let E=!1;m!==-1&&_>m+1&&C>m+1&&(E=!0),m!==-1&&_>m+1&&(_=m+1),m!==-1&&C>m+1&&(C=m+1);const I=this._renderedViewLine.getVisibleRangesForRange(w,_,C,v);return I&&I.length>0?new S.VisibleRanges(E,I):null}getColumnOfNodeOffset(w,_,C){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(w,_,C):1}}e.ViewLine=u,u.CLASS_NAME="view-line";class s{constructor(w,_,C){this.domNode=w,this.input=_,this._characterMapping=C,this._charWidth=_.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return o;const w=this.getWidth(),_=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(w-_)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),o=!1),o}toSlowRenderedLine(){return t(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(w,_,C,v){const m=this._getCharPosition(_),E=this._getCharPosition(C);return[new S.FloatHorizontalRange(m,E-m)]}_getCharPosition(w){const _=this._characterMapping.getAbsoluteOffset(w);return this._charWidth*_}getColumnOfNodeOffset(w,_,C){const v=_.textContent.length;let m=-1;for(;_;)_=_.previousSibling,m++;return this._characterMapping.getColumn(new b.DomPosition(m,C),v)}}class n{constructor(w,_,C,v,m){if(this.domNode=w,this.input=_,this._characterMapping=C,this._isWhitespaceOnly=/^\s*$/.test(_.lineContent),this._containsForeignElements=m,this._cachedWidth=-1,this._pixelOffsetCache=null,!v||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let E=0,I=this._characterMapping.length;E<=I;E++)this._pixelOffsetCache[E]=-1}}_getReadingTarget(w){return w.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(w,_,C,v){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const m=this._readPixelOffset(this.domNode,w,_,v);if(m===-1)return null;const E=this._readPixelOffset(this.domNode,w,C,v);return E===-1?null:[new S.FloatHorizontalRange(m,E-m)]}return this._readVisibleRangesForRange(this.domNode,w,_,C,v)}_readVisibleRangesForRange(w,_,C,v,m){if(C===v){const E=this._readPixelOffset(w,_,C,m);return E===-1?null:[new S.FloatHorizontalRange(E,0)]}else return this._readRawVisibleRangesForRange(w,C,v,m)}_readPixelOffset(w,_,C,v){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const m=this._getReadingTarget(w);return m.firstChild?m.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const m=this._pixelOffsetCache[C];if(m!==-1)return m;const E=this._actualReadPixelOffset(w,_,C,v);return this._pixelOffsetCache[C]=E,E}return this._actualReadPixelOffset(w,_,C,v)}_actualReadPixelOffset(w,_,C,v){if(this._characterMapping.length===0){const k=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(w),0,0,0,0,v.clientRectDeltaLeft,v.endNode);return!k||k.length===0?-1:k[0].left}if(C===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const m=this._characterMapping.getDomPosition(C),E=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(w),m.partIndex,m.charIndex,m.partIndex,m.charIndex,v.clientRectDeltaLeft,v.endNode);if(!E||E.length===0)return-1;const I=E[0].left;if(this.input.isBasicASCII){const k=this._characterMapping.getAbsoluteOffset(C),A=Math.round(this.input.spaceWidth*k);if(Math.abs(A-I)<=1)return A}return I}_readRawVisibleRangesForRange(w,_,C,v){if(_===1&&C===this._characterMapping.length)return[new S.FloatHorizontalRange(0,this.getWidth())];const m=this._characterMapping.getDomPosition(_),E=this._characterMapping.getDomPosition(C);return D.RangeUtil.readHorizontalRanges(this._getReadingTarget(w),m.partIndex,m.charIndex,E.partIndex,E.charIndex,v.clientRectDeltaLeft,v.endNode)}getColumnOfNodeOffset(w,_,C){const v=_.textContent.length;let m=-1;for(;_;)_=_.previousSibling,m++;return this._characterMapping.getColumn(new b.DomPosition(m,C),v)}}class a extends n{_readVisibleRangesForRange(w,_,C,v,m){const E=super._readVisibleRangesForRange(w,_,C,v,m);if(!E||E.length===0||C===v||C===1&&v===this._characterMapping.length)return E;if(!this.input.containsRTL){const I=this._readPixelOffset(w,_,v,m);if(I!==-1){const k=E[E.length-1];k.left<I&&(k.width=I-k.left)}}return E}}const t=function(){return y.isWebKit?l:h}();function l(g,w,_,C,v){return new a(g,w,_,C,v)}function h(g,w,_,C,v){return new n(g,w,_,C,v)}}),define(te[596],ie([0,1,17,14,65,173,50,266,13,3,116,134,340]),function(q,e,y,N,T,D,S,p,b,i,f,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class o{constructor(){this._currentVisibleRange=new i.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(n){this._currentVisibleRange=n}}class d{constructor(n,a,t,l,h,g){this.lineNumber=n,this.startColumn=a,this.endColumn=t,this.startScrollTop=l,this.stopScrollTop=h,this.scrollType=g,this.type="range",this.minLineNumber=n,this.maxLineNumber=n}}class c{constructor(n,a,t,l){this.selections=n,this.startScrollTop=a,this.stopScrollTop=t,this.scrollType=l,this.type="selections";let h=n[0].startLineNumber,g=n[0].endLineNumber;for(let w=1,_=n.length;w<_;w++){const C=n[w];h=Math.min(h,C.startLineNumber),g=Math.max(g,C.endLineNumber)}this.minLineNumber=h,this.maxLineNumber=g}}class u extends S.ViewPart{constructor(n,a){super(n);this._linesContent=a,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new D.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const t=this._context.configuration,l=this._context.configuration.options,h=l.get(43),g=l.get(130);this._lineHeight=l.get(58),this._typicalHalfwidthCharacterWidth=h.typicalHalfwidthCharacterWidth,this._isViewportWrapping=g.isViewportWrapping,this._revealHorizontalRightPadding=l.get(88),this._cursorSurroundingLines=l.get(25),this._cursorSurroundingLinesStyle=l.get(26),this._canUseLayerHinting=!l.get(28),this._viewLineOptions=new p.ViewLineOptions(t,this._context.theme.type),S.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${r.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),T.Configuration.applyFontInfo(this.domNode,h),this._maxLineWidth=0,this._asyncUpdateLineWidths=new N.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new N.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new o,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new p.ViewLine(this._viewLineOptions)}onConfigurationChanged(n){this._visibleLines.onConfigurationChanged(n),n.hasChanged(130)&&(this._maxLineWidth=0);const a=this._context.configuration.options,t=a.get(43),l=a.get(130);return this._lineHeight=a.get(58),this._typicalHalfwidthCharacterWidth=t.typicalHalfwidthCharacterWidth,this._isViewportWrapping=l.isViewportWrapping,this._revealHorizontalRightPadding=a.get(88),this._cursorSurroundingLines=a.get(25),this._cursorSurroundingLinesStyle=a.get(26),this._canUseLayerHinting=!a.get(28),T.Configuration.applyFontInfo(this.domNode,t),this._onOptionsMaybeChanged(),n.hasChanged(129)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const n=this._context.configuration,a=new p.ViewLineOptions(n,this._context.theme.type);if(!this._viewLineOptions.equals(a)){this._viewLineOptions=a;const t=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let h=t;h<=l;h++)this._visibleLines.getVisibleLine(h).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(n){const a=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();let l=!1;for(let h=a;h<=t;h++)l=this._visibleLines.getVisibleLine(h).onSelectionChanged()||l;return l}onDecorationsChanged(n){{const a=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let l=a;l<=t;l++)this._visibleLines.getVisibleLine(l).onDecorationsChanged()}return!0}onFlushed(n){const a=this._visibleLines.onFlushed(n);return this._maxLineWidth=0,a}onLinesChanged(n){return this._visibleLines.onLinesChanged(n)}onLinesDeleted(n){return this._visibleLines.onLinesDeleted(n)}onLinesInserted(n){return this._visibleLines.onLinesInserted(n)}onRevealRangeRequest(n){const a=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),n.source,n.range,n.selections,n.verticalType);if(a===-1)return!1;let t=this._context.viewLayout.validateScrollPosition({scrollTop:a});n.revealHorizontal?n.range&&n.range.startLineNumber!==n.range.endLineNumber?t={scrollTop:t.scrollTop,scrollLeft:0}:n.range?this._horizontalRevealRequest=new d(n.range.startLineNumber,n.range.startColumn,n.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),t.scrollTop,n.scrollType):n.selections&&n.selections.length>0&&(this._horizontalRevealRequest=new c(n.selections,this._context.viewLayout.getCurrentScrollTop(),t.scrollTop,n.scrollType)):this._horizontalRevealRequest=null;const h=Math.abs(this._context.viewLayout.getCurrentScrollTop()-t.scrollTop)<=this._lineHeight?1:n.scrollType;return this._context.model.setScrollPosition(t,h),!0}onScrollChanged(n){if(this._horizontalRevealRequest&&n.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&n.scrollTopChanged){const a=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),t=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(n.scrollTop<a||n.scrollTop>t)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(n.scrollWidth),this._visibleLines.onScrollChanged(n)||!0}onTokensChanged(n){return this._visibleLines.onTokensChanged(n)}onZonesChanged(n){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(n)}onThemeChanged(n){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(n,a){const t=this._getViewLineDomNode(n);if(t===null)return null;const l=this._getLineNumberFor(t);if(l===-1||l<1||l>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(l)===1)return new b.Position(l,1);const h=this._visibleLines.getStartLineNumber(),g=this._visibleLines.getEndLineNumber();if(l<h||l>g)return null;let w=this._visibleLines.getVisibleLine(l).getColumnOfNodeOffset(l,n,a);const _=this._context.model.getLineMinColumn(l);return w<_&&(w=_),new b.Position(l,w)}_getViewLineDomNode(n){for(;n&&n.nodeType===1;){if(n.className===p.ViewLine.CLASS_NAME)return n;n=n.parentElement}return null}_getLineNumberFor(n){const a=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let l=a;l<=t;l++){const h=this._visibleLines.getVisibleLine(l);if(n===h.getDomNode())return l}return-1}getLineWidth(n){const a=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();return n<a||n>t?-1:this._visibleLines.getVisibleLine(n).getWidth()}linesVisibleRangesForRange(n,a){if(this.shouldRender())return null;const t=n.endLineNumber,l=i.Range.intersectRanges(n,this._lastRenderedData.getCurrentVisibleRange());if(!l)return null;let h=[],g=0;const w=new p.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let _=0;a&&(_=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new b.Position(l.startLineNumber,1)).lineNumber);const C=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();for(let m=l.startLineNumber;m<=l.endLineNumber;m++){if(m<C||m>v)continue;const E=m===l.startLineNumber?l.startColumn:1,I=m===l.endLineNumber?l.endColumn:this._context.model.getLineMaxColumn(m),k=this._visibleLines.getVisibleLine(m).getVisibleRangesForRange(m,E,I,w);if(!!k){if(a&&m<t){const A=_;_=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new b.Position(m+1,1)).lineNumber,A!==_&&(k.ranges[k.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}h[g++]=new f.LineVisibleRanges(k.outsideRenderedLine,m,f.HorizontalRange.from(k.ranges))}}return g===0?null:h}_visibleRangesForLineRange(n,a,t){return this.shouldRender()||n<this._visibleLines.getStartLineNumber()||n>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(n).getVisibleRangesForRange(n,a,t,new p.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(n){const a=this._visibleRangesForLineRange(n.lineNumber,n.column,n.column);return a?new f.HorizontalPosition(a.outsideRenderedLine,a.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(n){const a=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();let l=1,h=!0;for(let g=a;g<=t;g++){const w=this._visibleLines.getVisibleLine(g);if(n&&!w.getWidthIsFast()){h=!1;continue}l=Math.max(l,w.getWidth())}return h&&a===1&&t===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(l),h}_checkMonospaceFontAssumptions(){let n=-1,a=-1;const t=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let h=t;h<=l;h++){const g=this._visibleLines.getVisibleLine(h);if(g.needsMonospaceFontCheck()){const w=g.getWidth();w>a&&(a=w,n=h)}}if(n!==-1&&!this._visibleLines.getVisibleLine(n).monospaceAssumptionsAreValid())for(let h=t;h<=l;h++)this._visibleLines.getVisibleLine(h).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(n){if(this._visibleLines.renderLines(n),this._lastRenderedData.setCurrentVisibleRange(n.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const t=this._horizontalRevealRequest;if(n.startLineNumber<=t.minLineNumber&&t.maxLineNumber<=n.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const l=this._computeScrollLeftToReveal(t);l&&(this._isViewportWrapping||this._ensureMaxLineWidth(l.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:l.scrollLeft},t.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),y.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const t=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let h=t;h<=l;h++)if(this._visibleLines.getVisibleLine(h).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const a=this._context.viewLayout.getCurrentScrollTop()-n.bigNumbersDelta;this._linesContent.setTop(-a),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(n){const a=Math.ceil(n);this._maxLineWidth<a&&(this._maxLineWidth=a,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(n,a,t,l,h){const g=n.top,w=n.height,_=g+w;let C,v,m;if(l&&l.length>0){let k=l[0].startLineNumber,A=l[0].endLineNumber;for(let P=1,F=l.length;P<F;P++){const M=l[P];k=Math.min(k,M.startLineNumber),A=Math.max(A,M.endLineNumber)}C=!1,v=this._context.viewLayout.getVerticalOffsetForLineNumber(k),m=this._context.viewLayout.getVerticalOffsetForLineNumber(A)+this._lineHeight}else if(t)C=!0,v=this._context.viewLayout.getVerticalOffsetForLineNumber(t.startLineNumber),m=this._context.viewLayout.getVerticalOffsetForLineNumber(t.endLineNumber)+this._lineHeight;else return-1;if(!(a==="mouse"&&this._cursorSurroundingLinesStyle==="default")){const k=Math.min(w/this._lineHeight/2,this._cursorSurroundingLines);v-=k*this._lineHeight,m+=Math.max(0,k-1)*this._lineHeight}(h===0||h===4)&&(m+=this._lineHeight);let I;if(m-v>w){if(!C)return-1;I=v}else if(h===5||h===6)if(h===6&&g<=v&&m<=_)I=g;else{const k=Math.max(5*this._lineHeight,w*.2),A=v-k,P=m-w;I=Math.max(P,A)}else if(h===1||h===2)if(h===2&&g<=v&&m<=_)I=g;else{const k=(v+m)/2;I=Math.max(0,k-w/2)}else I=this._computeMinimumScrolling(g,_,v,m,h===3,h===4);return I}_computeScrollLeftToReveal(n){const a=this._context.viewLayout.getCurrentViewport(),t=a.left,l=t+a.width;let h=1073741824,g=0;if(n.type==="range"){const _=this._visibleRangesForLineRange(n.lineNumber,n.startColumn,n.endColumn);if(!_)return null;for(const C of _.ranges)h=Math.min(h,Math.round(C.left)),g=Math.max(g,Math.round(C.left+C.width))}else for(const _ of n.selections){if(_.startLineNumber!==_.endLineNumber)return null;const C=this._visibleRangesForLineRange(_.startLineNumber,_.startColumn,_.endColumn);if(!C)return null;for(const v of C.ranges)h=Math.min(h,Math.round(v.left)),g=Math.max(g,Math.round(v.left+v.width))}return h=Math.max(0,h-u.HORIZONTAL_EXTRA_PX),g+=this._revealHorizontalRightPadding,n.type==="selections"&&g-h>a.width?null:{scrollLeft:this._computeMinimumScrolling(t,l,h,g),maxHorizontalOffset:g}}_computeMinimumScrolling(n,a,t,l,h,g){n=n|0,a=a|0,t=t|0,l=l|0,h=!!h,g=!!g;const w=a-n;if(l-t<w){if(h)return t;if(g)return Math.max(0,l-w);if(t<n)return t;if(l>a)return Math.max(0,l-w)}else return t;return n}}e.ViewLines=u,u.HORIZONTAL_EXTRA_PX=30}),define(te[12],ie([0,1,27,6,2,9,32,101]),function(q,e,y,N,T,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=(0,D.createDecorator)("themeService");var b;(function(s){function n(a){return a&&typeof a=="object"&&typeof a.id=="string"}s.isThemeColor=n})(b=e.ThemeColor||(e.ThemeColor={}));function i(s){return{id:s}}e.themeColorFromId=i;var f;(function(s){function n(w){return w&&typeof w=="object"&&typeof w.id=="string"&&(typeof w.color=="undefined"||b.isThemeColor(w.color))}s.isThemeIcon=n;const a=new RegExp(`^\\$\\((${y.CSSIcon.iconNameExpression}(?:${y.CSSIcon.iconModifierExpression})?)\\)$`);function t(w){const _=a.exec(w);if(!_)return;let[,C]=_;return{id:C}}s.fromString=t;function l(w,_){let C=w.id;const v=C.lastIndexOf("~");return v!==-1&&(C=C.substring(0,v)),_&&(C=`${C}~${_}`),{id:C}}s.modify=l;function h(w,_){var C,v;return w.id===_.id&&((C=w.color)===null||C===void 0?void 0:C.id)===((v=_.color)===null||v===void 0?void 0:v.id)}s.isEqual=h;function g(w,_){return{id:w.id,color:_?i(_):void 0}}s.asThemeIcon=g,s.asClassNameArray=y.CSSIcon.asClassNameArray,s.asClassName=y.CSSIcon.asClassName,s.asCSSSelector=y.CSSIcon.asCSSSelector})(f=e.ThemeIcon||(e.ThemeIcon={}));function r(s){switch(s){case p.ColorScheme.DARK:return"vs-dark";case p.ColorScheme.HIGH_CONTRAST:return"hc-black";default:return"vs"}}e.getThemeTypeSelector=r,e.Extensions={ThemingContribution:"base.contributions.theming"};class o{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new N.Emitter}onColorThemeChange(n){return this.themingParticipants.push(n),this.onThemingParticipantAddedEmitter.fire(n),(0,T.toDisposable)(()=>{const a=this.themingParticipants.indexOf(n);this.themingParticipants.splice(a,1)})}getThemingParticipants(){return this.themingParticipants}}let d=new o;S.Registry.add(e.Extensions.ThemingContribution,d);function c(s){return d.onColorThemeChange(s)}e.registerThemingParticipant=c;class u extends T.Disposable{constructor(n){super();this.themeService=n,this.theme=n.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(a=>this.onThemeChange(a)))}onThemeChange(n){this.theme=n,this.updateStyles()}updateStyles(){}}e.Themable=u}),define(te[597],ie([0,1,7,2,8,24,379,112,49,12]),function(q,e,y,N,T,D,S,p,b,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._CSS_MAP=e.DecorationTypeOptionsProvider=e.DecorationSubTypeOptionsProvider=e.CodeEditorServiceImpl=e.GlobalStyleSheet=e.RefCountedStyleSheet=void 0;class f{constructor(a,t,l){this._parent=a,this._editorId=t,this._styleSheet=l,this._refCount=0}ref(){this._refCount++}unref(){var a;this._refCount--,this._refCount===0&&((a=this._styleSheet.parentNode)===null||a===void 0||a.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(a,t){this._styleSheet.sheet.insertRule(a,t)}removeRulesContainingSelector(a){y.removeCSSRulesContainingSelector(a,this._styleSheet)}}e.RefCountedStyleSheet=f;class r{constructor(a){this._styleSheet=a}ref(){}unref(){}insertRule(a,t){this._styleSheet.sheet.insertRule(a,t)}removeRulesContainingSelector(a){y.removeCSSRulesContainingSelector(a,this._styleSheet)}}e.GlobalStyleSheet=r;let o=class extends S.AbstractCodeEditorService{constructor(a,t){super();this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=a||null,this._themeService=t}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new r(y.createStyleSheet())),this._globalStyleSheet}_getOrCreateStyleSheet(a){if(!a)return this._getOrCreateGlobalStyleSheet();const t=a.getContainerDomNode();if(!y.isInShadowDOM(t))return this._getOrCreateGlobalStyleSheet();const l=a.getId();if(!this._editorStyleSheets.has(l)){const h=new f(this,l,y.createStyleSheet(t));this._editorStyleSheets.set(l,h)}return this._editorStyleSheets.get(l)}_removeEditorStyleSheets(a){this._editorStyleSheets.delete(a)}registerDecorationType(a,t,l,h,g){let w=this._decorationOptionProviders.get(t);if(!w){const _=this._getOrCreateStyleSheet(g),C={styleSheet:_,key:t,parentTypeKey:h,options:l||Object.create(null)};h?w=new d(this._themeService,_,C):w=new c(a,this._themeService,_,C),this._decorationOptionProviders.set(t,w),this._onDecorationTypeRegistered.fire(t)}w.refCount++}removeDecorationType(a){const t=this._decorationOptionProviders.get(a);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(a),t.dispose(),this.listCodeEditors().forEach(l=>l.removeDecorations(a))))}resolveDecorationOptions(a,t){const l=this._decorationOptionProviders.get(a);if(!l)throw new Error("Unknown decoration type key: "+a);return l.getOptions(this,t)}};o=Fe([Ce(1,i.IThemeService)],o),e.CodeEditorServiceImpl=o;class d{constructor(a,t,l){this._styleSheet=t,this._styleSheet.ref(),this._parentTypeKey=l.parentTypeKey,this.refCount=0,this._beforeContentRules=new u(3,l,a),this._afterContentRules=new u(4,l,a)}getOptions(a,t){const l=a.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(l.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(l.afterContentClassName=this._afterContentRules.className),l}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}e.DecorationSubTypeOptionsProvider=d;class c{constructor(a,t,l,h){this._disposables=new N.DisposableStore,this.description=a,this._styleSheet=l,this._styleSheet.ref(),this.refCount=0;const g=E=>{const I=new u(E,h,t);if(this._disposables.add(I),I.hasContent)return I.className},w=E=>{const I=new u(E,h,t);return this._disposables.add(I),I.hasContent?{className:I.className,hasLetterSpacing:I.hasLetterSpacing}:null};this.className=g(0);const _=w(1);if(_&&(this.inlineClassName=_.className,this.inlineClassNameAffectsLetterSpacing=_.hasLetterSpacing),this.beforeContentClassName=g(3),this.afterContentClassName=g(4),h.options.beforeInjectedText&&h.options.beforeInjectedText.contentText){const E=w(5);this.beforeInjectedText={content:h.options.beforeInjectedText.contentText,inlineClassName:E==null?void 0:E.className,inlineClassNameAffectsLetterSpacing:(E==null?void 0:E.hasLetterSpacing)||h.options.beforeInjectedText.affectsLetterSpacing}}if(h.options.afterInjectedText&&h.options.afterInjectedText.contentText){const E=w(6);this.afterInjectedText={content:h.options.afterInjectedText.contentText,inlineClassName:E==null?void 0:E.className,inlineClassNameAffectsLetterSpacing:(E==null?void 0:E.hasLetterSpacing)||h.options.afterInjectedText.affectsLetterSpacing}}this.glyphMarginClassName=g(2);const C=h.options;this.isWholeLine=Boolean(C.isWholeLine),this.stickiness=C.rangeBehavior;const v=C.light&&C.light.overviewRulerColor||C.overviewRulerColor,m=C.dark&&C.dark.overviewRulerColor||C.overviewRulerColor;(typeof v!="undefined"||typeof m!="undefined")&&(this.overviewRuler={color:v||m,darkColor:m||v,position:C.overviewRulerLane||b.OverviewRulerLane.Center})}getOptions(a,t){return t?{description:this.description,inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness,before:this.beforeInjectedText,after:this.afterInjectedText}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}e.DecorationTypeOptionsProvider=c,e._CSS_MAP={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};",verticalAlign:"vertical-align:{0};"};class u{constructor(a,t,l){this._theme=l.getColorTheme(),this._ruleType=a,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let h=s.getClassName(this._providerArgs.key,a);this._providerArgs.parentTypeKey&&(h=h+" "+s.getClassName(this._providerArgs.parentTypeKey,a)),this._className=h,this._unThemedSelector=s.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,a),this._buildCSS(),this._usesThemeColors?this._themeListener=l.onDidColorThemeChange(g=>{this._theme=l.getColorTheme(),this._removeCSS(),this._buildCSS()}):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const a=this._providerArgs.options;let t,l,h;switch(this._ruleType){case 0:t=this.getCSSTextForModelDecorationClassName(a),l=this.getCSSTextForModelDecorationClassName(a.light),h=this.getCSSTextForModelDecorationClassName(a.dark);break;case 1:t=this.getCSSTextForModelDecorationInlineClassName(a),l=this.getCSSTextForModelDecorationInlineClassName(a.light),h=this.getCSSTextForModelDecorationInlineClassName(a.dark);break;case 2:t=this.getCSSTextForModelDecorationGlyphMarginClassName(a),l=this.getCSSTextForModelDecorationGlyphMarginClassName(a.light),h=this.getCSSTextForModelDecorationGlyphMarginClassName(a.dark);break;case 3:t=this.getCSSTextForModelDecorationContentClassName(a.before),l=this.getCSSTextForModelDecorationContentClassName(a.light&&a.light.before),h=this.getCSSTextForModelDecorationContentClassName(a.dark&&a.dark.before);break;case 4:t=this.getCSSTextForModelDecorationContentClassName(a.after),l=this.getCSSTextForModelDecorationContentClassName(a.light&&a.light.after),h=this.getCSSTextForModelDecorationContentClassName(a.dark&&a.dark.after);break;case 5:t=this.getCSSTextForModelDecorationContentClassName(a.beforeInjectedText),l=this.getCSSTextForModelDecorationContentClassName(a.light&&a.light.beforeInjectedText),h=this.getCSSTextForModelDecorationContentClassName(a.dark&&a.dark.beforeInjectedText);break;case 6:t=this.getCSSTextForModelDecorationContentClassName(a.afterInjectedText),l=this.getCSSTextForModelDecorationContentClassName(a.light&&a.light.afterInjectedText),h=this.getCSSTextForModelDecorationContentClassName(a.dark&&a.dark.afterInjectedText);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const g=this._providerArgs.styleSheet;let w=!1;t.length>0&&(g.insertRule(`${this._unThemedSelector} {${t}}`,0),w=!0),l.length>0&&(g.insertRule(`.vs${this._unThemedSelector} {${l}}`,0),w=!0),h.length>0&&(g.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${h}}`,0),w=!0),this._hasContent=w}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(a){if(!a)return"";const t=[];return this.collectCSSText(a,["backgroundColor"],t),this.collectCSSText(a,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(a,t),t.join("")}getCSSTextForModelDecorationInlineClassName(a){if(!a)return"";const t=[];return this.collectCSSText(a,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),a.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")}getCSSTextForModelDecorationContentClassName(a){if(!a)return"";const t=[];if(typeof a!="undefined"){if(this.collectBorderSettingsCSSText(a,t),typeof a.contentIconPath!="undefined"&&t.push(T.format(e._CSS_MAP.contentIconPath,y.asCSSUrl(D.URI.revive(a.contentIconPath)))),typeof a.contentText=="string"){const h=a.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push(T.format(e._CSS_MAP.contentText,h))}this.collectCSSText(a,["verticalAlign","fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],t),this.collectCSSText(a,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")}getCSSTextForModelDecorationGlyphMarginClassName(a){if(!a)return"";const t=[];return typeof a.gutterIconPath!="undefined"&&(t.push(T.format(e._CSS_MAP.gutterIconPath,y.asCSSUrl(D.URI.revive(a.gutterIconPath)))),typeof a.gutterIconSize!="undefined"&&t.push(T.format(e._CSS_MAP.gutterIconSize,a.gutterIconSize))),t.join("")}collectBorderSettingsCSSText(a,t){return this.collectCSSText(a,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)?(t.push(T.format("box-sizing: border-box;")),!0):!1}collectCSSText(a,t,l){const h=l.length;for(let g of t){const w=this.resolveValue(a[g]);typeof w=="string"&&l.push(T.format(e._CSS_MAP[g],w))}return l.length!==h}resolveValue(a){if((0,p.isThemeColor)(a)){this._usesThemeColors=!0;const t=this._theme.getColor(a.id);return t?t.toString():"transparent"}return a}}class s{static getClassName(a,t){return"ced-"+a+"-"+t}static getSelector(a,t,l){let h=".monaco-editor ."+this.getClassName(a,l);return t&&(h=h+"."+this.getClassName(t,l)),l===3?h+="::before":l===4&&(h+="::after"),h}}}),define(te[598],ie([0,1,7,30,62,50,12]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class p extends D.ViewPart{constructor(i,f,r,o){super(i);const d=this._context.configuration.options,c=d.get(91),u=d.get(66),s=d.get(34),n=d.get(94),a={listenOnDomNode:r.domNode,className:"editor-scrollable "+(0,S.getThemeTypeSelector)(i.theme.type),useShadows:!1,lazyRender:!0,vertical:c.vertical,horizontal:c.horizontal,verticalHasArrows:c.verticalHasArrows,horizontalHasArrows:c.horizontalHasArrows,verticalScrollbarSize:c.verticalScrollbarSize,verticalSliderSize:c.verticalSliderSize,horizontalScrollbarSize:c.horizontalScrollbarSize,horizontalSliderSize:c.horizontalSliderSize,handleMouseWheel:c.handleMouseWheel,alwaysConsumeMouseWheel:c.alwaysConsumeMouseWheel,arrowSize:c.arrowSize,mouseWheelScrollSensitivity:u,fastScrollSensitivity:s,scrollPredominantAxis:n,scrollByPage:c.scrollByPage};this.scrollbar=this._register(new T.SmoothScrollableElement(f.domNode,a,this._context.viewLayout.getScrollable())),D.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,N.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const t=(l,h,g)=>{const w={};if(h){const _=l.scrollTop;_&&(w.scrollTop=this._context.viewLayout.getCurrentScrollTop()+_,l.scrollTop=0)}if(g){const _=l.scrollLeft;_&&(w.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+_,l.scrollLeft=0)}this._context.model.setScrollPosition(w,1)};this._register(y.addDisposableListener(r.domNode,"scroll",l=>t(r.domNode,!0,!0))),this._register(y.addDisposableListener(f.domNode,"scroll",l=>t(f.domNode,!0,!1))),this._register(y.addDisposableListener(o.domNode,"scroll",l=>t(o.domNode,!0,!1))),this._register(y.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",l=>t(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const i=this._context.configuration.options,f=i.get(129);this.scrollbarDomNode.setLeft(f.contentLeft),i.get(64).side==="right"?this.scrollbarDomNode.setWidth(f.contentWidth+f.minimap.minimapWidth):this.scrollbarDomNode.setWidth(f.contentWidth),this.scrollbarDomNode.setHeight(f.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(i){this.scrollbar.delegateVerticalScrollbarMouseDown(i)}onConfigurationChanged(i){if(i.hasChanged(91)||i.hasChanged(66)||i.hasChanged(34)){const f=this._context.configuration.options,r=f.get(91),o=f.get(66),d=f.get(34),c=f.get(94),u={vertical:r.vertical,horizontal:r.horizontal,verticalScrollbarSize:r.verticalScrollbarSize,horizontalScrollbarSize:r.horizontalScrollbarSize,scrollByPage:r.scrollByPage,handleMouseWheel:r.handleMouseWheel,mouseWheelScrollSensitivity:o,fastScrollSensitivity:d,scrollPredominantAxis:c};this.scrollbar.updateOptions(u)}return i.hasChanged(129)&&this._setLayout(),!0}onScrollChanged(i){return!0}onThemeChanged(i){return this.scrollbar.updateClassName("editor-scrollable "+(0,S.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(i){}render(i){this.scrollbar.renderNow()}}e.EditorScrollbar=p}),define(te[599],ie([0,1,7,30,94,2,17,8,173,50,34,3,226,255,63,22,12,21,58,382,49,82,343]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const g=140,w=2;class _{constructor(M,R,O){const L=M.options,B=L.get(127),z=L.get(129),$=z.minimap,j=L.get(43),X=L.get(64);this.renderMinimap=$.renderMinimap,this.size=X.size,this.minimapHeightIsEditorHeight=$.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=L.get(93),this.showSlider=X.showSlider,this.pixelRatio=B,this.typicalHalfwidthCharacterWidth=j.typicalHalfwidthCharacterWidth,this.lineHeight=L.get(58),this.minimapLeft=$.minimapLeft,this.minimapWidth=$.minimapWidth,this.minimapHeight=z.height,this.canvasInnerWidth=$.minimapCanvasInnerWidth,this.canvasInnerHeight=$.minimapCanvasInnerHeight,this.canvasOuterWidth=$.minimapCanvasOuterWidth,this.canvasOuterHeight=$.minimapCanvasOuterHeight,this.isSampling=$.minimapIsSampling,this.editorHeight=z.height,this.fontScale=$.minimapScale,this.minimapLineHeight=$.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,h.once)(()=>t.MinimapCharRendererFactory.create(this.fontScale,j.fontFamily)),this.defaultBackgroundColor=O.getColor(2),this.backgroundColor=_._getMinimapBackground(R,this.defaultBackgroundColor),this.foregroundAlpha=_._getMinimapForegroundOpacity(R)}static _getMinimapBackground(M,R){const O=M.getColor(u.minimapBackground);return O?new o.RGBA8(O.rgba.r,O.rgba.g,O.rgba.b,Math.round(255*O.rgba.a)):R}static _getMinimapForegroundOpacity(M){const R=M.getColor(u.minimapForegroundOpacity);return R?o.RGBA8._clamp(Math.round(255*R.rgba.a)):255}equals(M){return this.renderMinimap===M.renderMinimap&&this.size===M.size&&this.minimapHeightIsEditorHeight===M.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===M.scrollBeyondLastLine&&this.showSlider===M.showSlider&&this.pixelRatio===M.pixelRatio&&this.typicalHalfwidthCharacterWidth===M.typicalHalfwidthCharacterWidth&&this.lineHeight===M.lineHeight&&this.minimapLeft===M.minimapLeft&&this.minimapWidth===M.minimapWidth&&this.minimapHeight===M.minimapHeight&&this.canvasInnerWidth===M.canvasInnerWidth&&this.canvasInnerHeight===M.canvasInnerHeight&&this.canvasOuterWidth===M.canvasOuterWidth&&this.canvasOuterHeight===M.canvasOuterHeight&&this.isSampling===M.isSampling&&this.editorHeight===M.editorHeight&&this.fontScale===M.fontScale&&this.minimapLineHeight===M.minimapLineHeight&&this.minimapCharWidth===M.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(M.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(M.backgroundColor)&&this.foregroundAlpha===M.foregroundAlpha}}class C{constructor(M,R,O,L,B,z,$,j){this.scrollTop=M,this.scrollHeight=R,this.sliderNeeded=O,this._computedSliderRatio=L,this.sliderTop=B,this.sliderHeight=z,this.startLineNumber=$,this.endLineNumber=j}getDesiredScrollTopFromDelta(M){return Math.round(this.scrollTop+M/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(M){return Math.round((M-this.sliderHeight/2)/this._computedSliderRatio)}static create(M,R,O,L,B,z,$,j,X,Q,Y){const oe=M.pixelRatio,se=M.minimapLineHeight,K=Math.floor(M.canvasInnerHeight/se),x=M.lineHeight;if(M.minimapHeightIsEditorHeight){const pe=j*M.lineHeight+(M.scrollBeyondLastLine?B-M.lineHeight:0),ge=Math.max(1,Math.floor(B*B/pe)),W=Math.max(0,M.minimapHeight-ge),G=W/(Q-B),re=X*G,ee=W>0,de=Math.floor(M.canvasInnerHeight/M.minimapLineHeight);return new C(X,Q,ee,G,re,ge,1,Math.min($,de))}let U;if(z&&O!==$){const pe=O-R+1;U=Math.floor(pe*se/oe)}else{const pe=B/x;U=Math.floor(pe*se/oe)}let H;M.scrollBeyondLastLine?H=($-1)*se/oe:H=Math.max(0,$*se/oe-U),H=Math.min(M.minimapHeight-U,H);const V=H/(Q-B),ne=X*V;let ue=0;if(M.scrollBeyondLastLine&&(ue=B/x-1),K>=$+ue){const pe=1,ge=$,W=H>0;return new C(X,Q,W,V,ne,U,pe,ge)}else{let pe=Math.max(1,Math.floor(R-ne*oe/se));Y&&Y.scrollHeight===Q&&(Y.scrollTop>X&&(pe=Math.min(pe,Y.startLineNumber)),Y.scrollTop<X&&(pe=Math.max(pe,Y.startLineNumber)));const ge=Math.min($,pe+K-1),W=(X-L)/x,G=(R-pe+W)*se/oe;return new C(X,Q,!0,V,G,U,pe,ge)}}}class v{constructor(M){this.dy=M}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}v.INVALID=new v(-1);class m{constructor(M,R,O){this.renderedLayout=M,this._imageData=R,this._renderedLines=new b.RenderedLinesCollection(()=>v.INVALID),this._renderedLines._set(M.startLineNumber,O)}linesEquals(M){if(!this.scrollEquals(M))return!1;const O=this._renderedLines._get().lines;for(let L=0,B=O.length;L<B;L++)if(O[L].dy===-1)return!1;return!0}scrollEquals(M){return this.renderedLayout.startLineNumber===M.startLineNumber&&this.renderedLayout.endLineNumber===M.endLineNumber}_get(){const M=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:M.rendLineNumberStart,lines:M.lines}}onLinesChanged(M,R){return this._renderedLines.onLinesChanged(M,R)}onLinesDeleted(M,R){this._renderedLines.onLinesDeleted(M,R)}onLinesInserted(M,R){this._renderedLines.onLinesInserted(M,R)}onTokensChanged(M){return this._renderedLines.onTokensChanged(M)}}class E{constructor(M,R,O,L){this._backgroundFillData=E._createBackgroundFillData(R,O,L),this._buffers=[M.createImageData(R,O),M.createImageData(R,O)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const M=this._buffers[this._lastUsedBuffer];return M.data.set(this._backgroundFillData),M}static _createBackgroundFillData(M,R,O){const L=O.r,B=O.g,z=O.b,$=O.a,j=new Uint8ClampedArray(M*R*4);let X=0;for(let Q=0;Q<R;Q++)for(let Y=0;Y<M;Y++)j[X]=L,j[X+1]=B,j[X+2]=z,j[X+3]=$,X+=4;return j}}class I{constructor(M,R){this.samplingRatio=M,this.minimapLines=R}static compute(M,R,O){if(M.renderMinimap===0||!M.isSampling)return[null,[]];const L=M.pixelRatio,B=M.lineHeight,z=M.scrollBeyondLastLine,{minimapLineCount:$}=f.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:R,scrollBeyondLastLine:z,height:M.editorHeight,lineHeight:B,pixelRatio:L}),j=R/$,X=j/2;if(!O||O.minimapLines.length===0){let ne=[];if(ne[0]=1,$>1){for(let ue=0,pe=$-1;ue<pe;ue++)ne[ue]=Math.round(ue*j+X);ne[$-1]=R}return[new I(j,ne),[]]}const Q=O.minimapLines,Y=Q.length;let oe=[],se=0,K=0,x=1;const U=10;let H=[],V=null;for(let ne=0;ne<$;ne++){const ue=Math.max(x,Math.round(ne*j)),pe=Math.max(ue,Math.round((ne+1)*j));for(;se<Y&&Q[se]<ue;){if(H.length<U){const W=se+1+K;V&&V.type==="deleted"&&V._oldIndex===se-1?V.deleteToLineNumber++:(V={type:"deleted",_oldIndex:se,deleteFromLineNumber:W,deleteToLineNumber:W},H.push(V)),K--}se++}let ge;if(se<Y&&Q[se]<=pe)ge=Q[se],se++;else if(ne===0?ge=1:ne+1===$?ge=R:ge=Math.round(ne*j+X),H.length<U){const W=se+1+K;V&&V.type==="inserted"&&V._i===ne-1?V.insertToLineNumber++:(V={type:"inserted",_i:ne,insertFromLineNumber:W,insertToLineNumber:W},H.push(V)),K++}oe[ne]=ge,x=ge}if(H.length<U)for(;se<Y;){const ne=se+1+K;V&&V.type==="deleted"&&V._oldIndex===se-1?V.deleteToLineNumber++:(V={type:"deleted",_oldIndex:se,deleteFromLineNumber:ne,deleteToLineNumber:ne},H.push(V)),K--,se++}else H=[{type:"flush"}];return[new I(j,oe),H]}modelLineToMinimapLine(M){return Math.min(this.minimapLines.length,Math.max(1,Math.round(M/this.samplingRatio)))}modelLineRangeToMinimapLineRange(M,R){let O=this.modelLineToMinimapLine(M)-1;for(;O>0&&this.minimapLines[O-1]>=M;)O--;let L=this.modelLineToMinimapLine(R)-1;for(;L+1<this.minimapLines.length&&this.minimapLines[L+1]<=R;)L++;if(O===L){const B=this.minimapLines[O];if(B<M||B>R)return null}return[O+1,L+1]}decorationLineRangeToMinimapLineRange(M,R){let O=this.modelLineToMinimapLine(M),L=this.modelLineToMinimapLine(R);return M!==R&&L===O&&(L===this.minimapLines.length?O>1&&O--:L++),[O,L]}onLinesDeleted(M){const R=M.toLineNumber-M.fromLineNumber+1;let O=this.minimapLines.length,L=0;for(let B=this.minimapLines.length-1;B>=0&&!(this.minimapLines[B]<M.fromLineNumber);B--)this.minimapLines[B]<=M.toLineNumber?(this.minimapLines[B]=Math.max(1,M.fromLineNumber-1),O=Math.min(O,B),L=Math.max(L,B)):this.minimapLines[B]-=R;return[O,L]}onLinesInserted(M){const R=M.toLineNumber-M.fromLineNumber+1;for(let O=this.minimapLines.length-1;O>=0&&!(this.minimapLines[O]<M.fromLineNumber);O--)this.minimapLines[O]+=R}}class k extends i.ViewPart{constructor(M){super(M);this.tokensColorTracker=d.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new _(this._context.configuration,this._context.theme,this.tokensColorTracker);const[R]=I.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=R,this._shouldCheckSampling=!1,this._actual=new A(M.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const M=new _(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(M)?!1:(this.options=M,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(M){return this._onOptionsMaybeChanged()}onCursorStateChanged(M){return this._selections=M.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(M){return M.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(M){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(M){if(this._samplingState){const R=this._samplingState.modelLineRangeToMinimapLineRange(M.fromLineNumber,M.toLineNumber);return R?this._actual.onLinesChanged(R[0],R[1]):!1}else return this._actual.onLinesChanged(M.fromLineNumber,M.toLineNumber)}onLinesDeleted(M){if(this._samplingState){const[R,O]=this._samplingState.onLinesDeleted(M);return R<=O&&this._actual.onLinesChanged(R+1,O+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(M.fromLineNumber,M.toLineNumber)}onLinesInserted(M){return this._samplingState?(this._samplingState.onLinesInserted(M),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(M.fromLineNumber,M.toLineNumber)}onScrollChanged(M){return this._actual.onScrollChanged()}onThemeChanged(M){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(M){if(this._samplingState){let R=[];for(const O of M.ranges){const L=this._samplingState.modelLineRangeToMinimapLineRange(O.fromLineNumber,O.toLineNumber);L&&R.push({fromLineNumber:L[0],toLineNumber:L[1]})}return R.length?this._actual.onTokensChanged(R):!1}else return this._actual.onTokensChanged(M.ranges)}onTokensColorsChanged(M){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(M){return this._actual.onZonesChanged()}prepareRender(M){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(M){let R=M.visibleRange.startLineNumber,O=M.visibleRange.endLineNumber;this._samplingState&&(R=this._samplingState.modelLineToMinimapLine(R),O=this._samplingState.modelLineToMinimapLine(O));const L={viewportContainsWhitespaceGaps:M.viewportData.whitespaceViewportData.length>0,scrollWidth:M.scrollWidth,scrollHeight:M.scrollHeight,viewportStartLineNumber:R,viewportEndLineNumber:O,viewportStartLineNumberVerticalOffset:M.getVerticalOffsetForLineNumber(R),scrollTop:M.scrollTop,scrollLeft:M.scrollLeft,viewportWidth:M.viewportWidth,viewportHeight:M.viewportHeight};this._actual.render(L)}_recreateLineSampling(){this._minimapSelections=null;const M=Boolean(this._samplingState),[R,O]=I.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=R,M&&this._samplingState)for(const L of O)switch(L.type){case"deleted":this._actual.onLinesDeleted(L.deleteFromLineNumber,L.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(L.insertFromLineNumber,L.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(M){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[M-1]):this._context.model.getLineContent(M)}getLineMaxColumn(M){return this._samplingState?this._context.model.getLineMaxColumn(this._samplingState.minimapLines[M-1]):this._context.model.getLineMaxColumn(M)}getMinimapLinesRenderingData(M,R,O){if(this._samplingState){let L=[];for(let B=0,z=R-M+1;B<z;B++)O[B]?L[B]=this._context.model.getViewLineData(this._samplingState.minimapLines[M+B-1]):L[B]=null;return L}return this._context.model.getMinimapLinesRenderingData(M,R,O).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const M of this._selections){const[R,O]=this._samplingState.decorationLineRangeToMinimapLineRange(M.startLineNumber,M.endLineNumber);this._minimapSelections.push(new n.Selection(R,M.startColumn,O,M.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(M,R){let O;if(this._samplingState){const B=this._samplingState.minimapLines[M-1],z=this._samplingState.minimapLines[R-1];O=new r.Range(B,1,z,this._context.model.getLineMaxColumn(z))}else O=new r.Range(M,1,R,this._context.model.getLineMaxColumn(R));const L=this._context.model.getDecorationsInViewport(O);if(this._samplingState){let B=[];for(const z of L){if(!z.options.minimap)continue;const $=z.range,j=this._samplingState.modelLineToMinimapLine($.startLineNumber),X=this._samplingState.modelLineToMinimapLine($.endLineNumber);B.push(new c.ViewModelDecoration(new r.Range(j,$.startColumn,X,$.endColumn),z.options))}return B}return L}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(M){this._samplingState&&(M=this._samplingState.minimapLines[M-1]),this._context.model.revealRange("mouse",!1,new r.Range(M,1,M,1),1,0)}setScrollTop(M){this._context.model.setScrollPosition({scrollTop:M},1)}}e.Minimap=k;class A extends D.Disposable{constructor(M,R){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=M,this._model=R,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(u.minimapSelection),this._domNode=(0,N.createFastDomNode)(document.createElement("div")),i.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,N.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,N.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,N.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,N.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,N.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=y.addStandardDisposableListener(this._domNode.domNode,"mousedown",O=>{if(O.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(O.leftButton&&this._lastRenderData){const X=y.getDomNodePagePosition(this._slider.domNode),Q=X.top+X.height/2;this._startSliderDragging(O.buttons,O.posx,Q,O.posy,this._lastRenderData.renderedLayout)}return}const B=this._model.options.minimapLineHeight,z=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*O.browserEvent.offsetY;let j=Math.floor(z/B)+this._lastRenderData.renderedLayout.startLineNumber;j=Math.min(j,this._model.getLineCount()),this._model.revealLineNumber(j)}),this._sliderMouseMoveMonitor=new T.GlobalMouseMoveMonitor,this._sliderMouseDownListener=y.addStandardDisposableListener(this._slider.domNode,"mousedown",O=>{O.preventDefault(),O.stopPropagation(),O.leftButton&&this._lastRenderData&&this._startSliderDragging(O.buttons,O.posx,O.posy,O.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=a.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=y.addDisposableListener(this._domNode.domNode,a.EventType.Start,O=>{O.preventDefault(),O.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(O))},{passive:!1}),this._sliderTouchMoveListener=y.addDisposableListener(this._domNode.domNode,a.EventType.Change,O=>{O.preventDefault(),O.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(O)},{passive:!1}),this._sliderTouchEndListener=y.addStandardDisposableListener(this._domNode.domNode,a.EventType.End,O=>{O.preventDefault(),O.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(M,R,O,L,B){this._slider.toggleClassName("active",!0);const z=($,j)=>{const X=Math.abs(j-R);if(S.isWindows&&X>g){this._model.setScrollTop(B.scrollTop);return}const Q=$-O;this._model.setScrollTop(B.getDesiredScrollTopFromDelta(Q))};L!==O&&z(L,R),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,M,T.standardMouseMoveMerger,$=>z($.posy,$.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(M){const R=this._domNode.domNode.getBoundingClientRect().top,O=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(M.pageY-R);this._model.setScrollTop(O)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new E(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(M,R){return this._lastRenderData?this._lastRenderData.onLinesChanged(M,R):!1}onLinesDeleted(M,R){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(M,R),!0}onLinesInserted(M,R){return this._lastRenderData&&this._lastRenderData.onLinesInserted(M,R),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(u.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(M){return this._lastRenderData?this._lastRenderData.onTokensChanged(M):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(M){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}M.scrollLeft+M.viewportWidth>=M.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const O=C.create(this._model.options,M.viewportStartLineNumber,M.viewportEndLineNumber,M.viewportStartLineNumberVerticalOffset,M.viewportHeight,M.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),M.scrollTop,M.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(O.sliderNeeded?"block":"none"),this._slider.setTop(O.sliderTop),this._slider.setHeight(O.sliderHeight);const L=M.scrollLeft/this._model.options.typicalHalfwidthCharacterWidth,B=Math.min(this._model.options.minimapWidth,Math.round(L*this._model.options.minimapCharWidth/this._model.options.pixelRatio));this._sliderHorizontal.setLeft(B),this._sliderHorizontal.setWidth(this._model.options.minimapWidth-B),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(O.sliderHeight),this.renderDecorations(O),this._lastRenderData=this.renderLines(O)}renderDecorations(M){if(this._renderDecorations){this._renderDecorations=!1;const R=this._model.getSelections();R.sort(r.Range.compareRangesUsingStarts);const O=this._model.getMinimapDecorationsInViewport(M.startLineNumber,M.endLineNumber);O.sort((oe,se)=>(oe.options.zIndex||0)-(se.options.zIndex||0));const{canvasInnerWidth:L,canvasInnerHeight:B}=this._model.options,z=this._model.options.minimapLineHeight,$=this._model.options.minimapCharWidth,j=this._model.getOptions().tabSize,X=this._decorationsCanvas.domNode.getContext("2d");X.clearRect(0,0,L,B);const Q=new P(M.startLineNumber,M.endLineNumber,!1);this._renderSelectionLineHighlights(X,R,Q,M,z),this._renderDecorationsLineHighlights(X,O,Q,M,z);const Y=new P(M.startLineNumber,M.endLineNumber,null);this._renderSelectionsHighlights(X,R,Y,M,z,j,$,L),this._renderDecorationsHighlights(X,O,Y,M,z,j,$,L)}}_renderSelectionLineHighlights(M,R,O,L,B){if(!this._selectionColor||this._selectionColor.isTransparent())return;M.fillStyle=this._selectionColor.transparent(.5).toString();let z=0,$=0;for(const j of R){const X=Math.max(L.startLineNumber,j.startLineNumber),Q=Math.min(L.endLineNumber,j.endLineNumber);if(X>Q)continue;for(let se=X;se<=Q;se++)O.set(se,!0);const Y=(X-L.startLineNumber)*B,oe=(Q-L.startLineNumber)*B+B;$>=Y||($>z&&M.fillRect(f.MINIMAP_GUTTER_WIDTH,z,M.canvas.width,$-z),z=Y),$=oe}$>z&&M.fillRect(f.MINIMAP_GUTTER_WIDTH,z,M.canvas.width,$-z)}_renderDecorationsLineHighlights(M,R,O,L,B){const z=new Map;for(let $=R.length-1;$>=0;$--){const j=R[$],X=j.options.minimap;if(!X||X.position!==l.MinimapPosition.Inline)continue;const Q=Math.max(L.startLineNumber,j.range.startLineNumber),Y=Math.min(L.endLineNumber,j.range.endLineNumber);if(Q>Y)continue;const oe=X.getColor(this._theme);if(!oe||oe.isTransparent())continue;let se=z.get(oe.toString());se||(se=oe.transparent(.5).toString(),z.set(oe.toString(),se)),M.fillStyle=se;for(let K=Q;K<=Y;K++){if(O.has(K))continue;O.set(K,!0);const x=(Q-L.startLineNumber)*B;M.fillRect(f.MINIMAP_GUTTER_WIDTH,x,M.canvas.width,B)}}}_renderSelectionsHighlights(M,R,O,L,B,z,$,j){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const X of R){const Q=Math.max(L.startLineNumber,X.startLineNumber),Y=Math.min(L.endLineNumber,X.endLineNumber);if(!(Q>Y))for(let oe=Q;oe<=Y;oe++)this.renderDecorationOnLine(M,O,X,this._selectionColor,L,oe,B,B,z,$,j)}}_renderDecorationsHighlights(M,R,O,L,B,z,$,j){for(const X of R){const Q=X.options.minimap;if(!Q)continue;const Y=Math.max(L.startLineNumber,X.range.startLineNumber),oe=Math.min(L.endLineNumber,X.range.endLineNumber);if(Y>oe)continue;const se=Q.getColor(this._theme);if(!(!se||se.isTransparent()))for(let K=Y;K<=oe;K++)switch(Q.position){case l.MinimapPosition.Inline:this.renderDecorationOnLine(M,O,X.range,se,L,K,B,B,z,$,j);continue;case l.MinimapPosition.Gutter:const x=(K-L.startLineNumber)*B,U=2;this.renderDecoration(M,se,U,x,w,B);continue}}}renderDecorationOnLine(M,R,O,L,B,z,$,j,X,Q,Y){const oe=(z-B.startLineNumber)*j;if(oe+$<0||oe>this._model.options.canvasInnerHeight)return;const{startLineNumber:se,endLineNumber:K}=O,x=se===z?O.startColumn:1,U=K===z?O.endColumn:this._model.getLineMaxColumn(z),H=this.getXOffsetForPosition(R,z,x,X,Q,Y),V=this.getXOffsetForPosition(R,z,U,X,Q,Y);this.renderDecoration(M,L,H,oe,V-H,$)}getXOffsetForPosition(M,R,O,L,B,z){if(O===1)return f.MINIMAP_GUTTER_WIDTH;if((O-1)*B>=z)return z;let j=M.get(R);if(!j){const X=this._model.getLineContent(R);j=[f.MINIMAP_GUTTER_WIDTH];let Q=f.MINIMAP_GUTTER_WIDTH;for(let Y=1;Y<X.length+1;Y++){const oe=X.charCodeAt(Y-1),se=oe===9?L*B:p.isFullWidthCharacter(oe)?2*B:B,K=Q+se;if(K>=z){j[Y]=z;break}j[Y]=K,Q=K}M.set(R,j)}return O-1<j.length?j[O-1]:z}renderDecoration(M,R,O,L,B,z){M.fillStyle=R&&R.toString()||"",M.fillRect(O,L,B,z)}renderLines(M){const R=M.startLineNumber,O=M.endLineNumber,L=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(M)){const Z=this._lastRenderData._get();return new m(M,Z.imageData,Z.lines)}const B=this._getBuffer();if(!B)return null;let[z,$,j]=A._renderUntouchedLines(B,R,O,L,this._lastRenderData);const X=this._model.getMinimapLinesRenderingData(R,O,j),Q=this._model.getOptions().tabSize,Y=this._model.options.defaultBackgroundColor,oe=this._model.options.backgroundColor,se=this._model.options.foregroundAlpha,K=this._model.tokensColorTracker,x=K.backgroundIsLight(),U=this._model.options.renderMinimap,H=this._model.options.charRenderer(),V=this._model.options.fontScale,ne=this._model.options.minimapCharWidth,pe=(U===1?2:2+1)*V,ge=L>pe?Math.floor((L-pe)/2):0,W=oe.a/255,G=new o.RGBA8(Math.round((oe.r-Y.r)*W+Y.r),Math.round((oe.g-Y.g)*W+Y.g),Math.round((oe.b-Y.b)*W+Y.b),255);let re=0;const ee=[];for(let Z=0,le=O-R+1;Z<le;Z++)j[Z]&&A._renderLine(B,G,oe.a,x,U,ne,K,se,H,re,ge,Q,X[Z],V,L),ee[Z]=new v(re),re+=L;const de=z===-1?0:z,ce=($===-1?B.height:$)-de;return this._canvas.domNode.getContext("2d").putImageData(B,0,0,0,de,B.width,ce),new m(M,B,ee)}static _renderUntouchedLines(M,R,O,L,B){const z=[];if(!B){for(let G=0,re=O-R+1;G<re;G++)z[G]=!0;return[-1,-1,z]}const $=B._get(),j=$.imageData.data,X=$.rendLineNumberStart,Q=$.lines,Y=Q.length,oe=M.width,se=M.data,K=(O-R+1)*L*oe*4;let x=-1,U=-1,H=-1,V=-1,ne=-1,ue=-1,pe=0;for(let G=R;G<=O;G++){const re=G-R,ee=G-X,de=ee>=0&&ee<Y?Q[ee].dy:-1;if(de===-1){z[re]=!0,pe+=L;continue}const ae=de*oe*4,ce=(de+L)*oe*4,J=pe*oe*4,Z=(pe+L)*oe*4;V===ae&&ue===J?(V=ce,ue=Z):(H!==-1&&(se.set(j.subarray(H,V),ne),x===-1&&H===0&&H===ne&&(x=V),U===-1&&V===K&&H===ne&&(U=H)),H=ae,V=ce,ne=J,ue=Z),z[re]=!1,pe+=L}H!==-1&&(se.set(j.subarray(H,V),ne),x===-1&&H===0&&H===ne&&(x=V),U===-1&&V===K&&H===ne&&(U=H));const ge=x===-1?-1:x/(oe*4),W=U===-1?-1:U/(oe*4);return[ge,W,z]}static _renderLine(M,R,O,L,B,z,$,j,X,Q,Y,oe,se,K,x){const U=se.content,H=se.tokens,V=M.width-z,ne=x===1;let ue=f.MINIMAP_GUTTER_WIDTH,pe=0,ge=0;for(let W=0,G=H.getCount();W<G;W++){const re=H.getEndOffset(W),ee=H.getForeground(W),de=$.getColor(ee);for(;pe<re;pe++){if(ue>V)return;const ae=U.charCodeAt(pe);if(ae===9){const ce=oe-(pe+ge)%oe;ge+=ce-1,ue+=ce*z}else if(ae===32)ue+=z;else{const ce=p.isFullWidthCharacter(ae)?2:1;for(let J=0;J<ce;J++)if(B===2?X.blockRenderChar(M,ue,Q+Y,de,j,R,O,ne):X.renderChar(M,ue,Q+Y,ae,de,j,R,O,K,L,ne),ue+=z,ue>V)return}}}}}class P{constructor(M,R,O){this._startLineNumber=M,this._endLineNumber=R,this._defaultValue=O,this._values=[];for(let L=0,B=this._endLineNumber-this._startLineNumber+1;L<B;L++)this._values[L]=O}has(M){return this.get(M)!==this._defaultValue}set(M,R){M<this._startLineNumber||M>this._endLineNumber||(this._values[M-this._startLineNumber]=R)}get(M){return M<this._startLineNumber||M>this._endLineNumber?this._defaultValue:this._values[M-this._startLineNumber]}}(0,s.registerThemingParticipant)((F,M)=>{const R=F.getColor(u.minimapSliderBackground);R&&M.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${R}; }`);const O=F.getColor(u.minimapSliderHoverBackground);O&&M.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${O}; }`);const L=F.getColor(u.minimapSliderActiveBackground);L&&M.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${L}; }`);const B=F.getColor(u.scrollbarShadow);B&&M.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${B} -6px 0 6px -6px inset; }`)})}),define(te[600],ie([0,1,30,50,22,12,346]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class S extends N.ViewPart{constructor(b){super(b);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const f=this._context.configuration.options.get(91);this._useShadows=f.useShadows,this._domNode=(0,y.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const b=this._useShadows&&this._scrollTop>0;return this._shouldShow!==b?(this._shouldShow=b,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const i=this._context.configuration.options.get(129);i.minimap.renderMinimap===0||i.minimap.minimapWidth>0&&i.minimap.minimapLeft===0?this._width=i.width:this._width=i.width-i.minimap.minimapWidth-i.verticalScrollbarWidth}onConfigurationChanged(b){const f=this._context.configuration.options.get(91);return this._useShadows=f.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(b){return this._scrollTop=b.scrollTop,this._updateShouldShow()}prepareRender(b){}render(b){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=S,(0,D.registerThemingParticipant)((p,b)=>{const i=p.getColor(T.scrollbarShadow);i&&b.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${i} 0 6px 6px -6px inset; }`)})}),define(te[601],ie([0,1,98,22,12,347]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class D{constructor(o){this.left=o.left,this.width=o.width,this.startStyle=null,this.endStyle=null}}class S{constructor(o,d){this.lineNumber=o,this.ranges=d}}function p(r){return new D(r)}function b(r){return new S(r.lineNumber,r.ranges.map(p))}class i extends y.DynamicViewOverlay{constructor(o){super();this._previousFrameVisibleRangesWithStyle=[],this._context=o;const d=this._context.configuration.options;this._lineHeight=d.get(58),this._roundedSelection=d.get(89),this._typicalHalfwidthCharacterWidth=d.get(43).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(o){const d=this._context.configuration.options;return this._lineHeight=d.get(58),this._roundedSelection=d.get(89),this._typicalHalfwidthCharacterWidth=d.get(43).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(o){return this._selections=o.selections.slice(0),!0}onDecorationsChanged(o){return!0}onFlushed(o){return!0}onLinesChanged(o){return!0}onLinesDeleted(o){return!0}onLinesInserted(o){return!0}onScrollChanged(o){return o.scrollTopChanged}onZonesChanged(o){return!0}_visibleRangesHaveGaps(o){for(let d=0,c=o.length;d<c;d++)if(o[d].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(o,d,c){const u=this._typicalHalfwidthCharacterWidth/4;let s=null,n=null;if(c&&c.length>0&&d.length>0){const a=d[0].lineNumber;if(a===o.startLineNumber)for(let l=0;!s&&l<c.length;l++)c[l].lineNumber===a&&(s=c[l].ranges[0]);const t=d[d.length-1].lineNumber;if(t===o.endLineNumber)for(let l=c.length-1;!n&&l>=0;l--)c[l].lineNumber===t&&(n=c[l].ranges[0]);s&&!s.startStyle&&(s=null),n&&!n.startStyle&&(n=null)}for(let a=0,t=d.length;a<t;a++){const l=d[a].ranges[0],h=l.left,g=l.left+l.width,w={top:0,bottom:0},_={top:0,bottom:0};if(a>0){const C=d[a-1].ranges[0].left,v=d[a-1].ranges[0].left+d[a-1].ranges[0].width;f(h-C)<u?w.top=2:h>C&&(w.top=1),f(g-v)<u?_.top=2:C<g&&g<v&&(_.top=1)}else s&&(w.top=s.startStyle.top,_.top=s.endStyle.top);if(a+1<t){const C=d[a+1].ranges[0].left,v=d[a+1].ranges[0].left+d[a+1].ranges[0].width;f(h-C)<u?w.bottom=2:C<h&&h<v&&(w.bottom=1),f(g-v)<u?_.bottom=2:g<v&&(_.bottom=1)}else n&&(w.bottom=n.startStyle.bottom,_.bottom=n.endStyle.bottom);l.startStyle=w,l.endStyle=_}}_getVisibleRangesWithStyle(o,d,c){const s=(d.linesVisibleRangesForRange(o,!0)||[]).map(b);return!this._visibleRangesHaveGaps(s)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(d.visibleRange,s,c),s}_createSelectionPiece(o,d,c,u,s){return'<div class="cslr '+c+'" style="top:'+o.toString()+"px;left:"+u.toString()+"px;width:"+s.toString()+"px;height:"+d+'px;"></div>'}_actualRenderOneSelection(o,d,c,u){if(u.length===0)return;const s=!!u[0].ranges[0].startStyle,n=this._lineHeight.toString(),a=(this._lineHeight-1).toString(),t=u[0].lineNumber,l=u[u.length-1].lineNumber;for(let h=0,g=u.length;h<g;h++){const w=u[h],_=w.lineNumber,C=_-d,v=c&&(_===l||_===t)?a:n,m=c&&_===t?1:0;let E="",I="";for(let k=0,A=w.ranges.length;k<A;k++){const P=w.ranges[k];if(s){const M=P.startStyle,R=P.endStyle;if(M.top===1||M.bottom===1){E+=this._createSelectionPiece(m,v,i.SELECTION_CLASS_NAME,P.left-i.ROUNDED_PIECE_WIDTH,i.ROUNDED_PIECE_WIDTH);let O=i.EDITOR_BACKGROUND_CLASS_NAME;M.top===1&&(O+=" "+i.SELECTION_TOP_RIGHT),M.bottom===1&&(O+=" "+i.SELECTION_BOTTOM_RIGHT),E+=this._createSelectionPiece(m,v,O,P.left-i.ROUNDED_PIECE_WIDTH,i.ROUNDED_PIECE_WIDTH)}if(R.top===1||R.bottom===1){E+=this._createSelectionPiece(m,v,i.SELECTION_CLASS_NAME,P.left+P.width,i.ROUNDED_PIECE_WIDTH);let O=i.EDITOR_BACKGROUND_CLASS_NAME;R.top===1&&(O+=" "+i.SELECTION_TOP_LEFT),R.bottom===1&&(O+=" "+i.SELECTION_BOTTOM_LEFT),E+=this._createSelectionPiece(m,v,O,P.left+P.width,i.ROUNDED_PIECE_WIDTH)}}let F=i.SELECTION_CLASS_NAME;if(s){const M=P.startStyle,R=P.endStyle;M.top===0&&(F+=" "+i.SELECTION_TOP_LEFT),M.bottom===0&&(F+=" "+i.SELECTION_BOTTOM_LEFT),R.top===0&&(F+=" "+i.SELECTION_TOP_RIGHT),R.bottom===0&&(F+=" "+i.SELECTION_BOTTOM_RIGHT)}I+=this._createSelectionPiece(m,v,F,P.left,P.width)}o[C][0]+=E,o[C][1]+=I}}prepareRender(o){const d=[],c=o.visibleRange.startLineNumber,u=o.visibleRange.endLineNumber;for(let n=c;n<=u;n++){const a=n-c;d[a]=["",""]}const s=[];for(let n=0,a=this._selections.length;n<a;n++){const t=this._selections[n];if(t.isEmpty()){s[n]=null;continue}const l=this._getVisibleRangesWithStyle(t,o,this._previousFrameVisibleRangesWithStyle[n]);s[n]=l,this._actualRenderOneSelection(d,c,this._selections.length>1,l)}this._previousFrameVisibleRangesWithStyle=s,this._renderResult=d.map(([n,a])=>n+a)}render(o,d){if(!this._renderResult)return"";const c=d-o;return c<0||c>=this._renderResult.length?"":this._renderResult[c]}}e.SelectionsOverlay=i,i.SELECTION_CLASS_NAME="selected-text",i.SELECTION_TOP_LEFT="top-left-radius",i.SELECTION_BOTTOM_LEFT="bottom-left-radius",i.SELECTION_TOP_RIGHT="top-right-radius",i.SELECTION_BOTTOM_RIGHT="bottom-right-radius",i.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",i.ROUNDED_PIECE_WIDTH=10,(0,T.registerThemingParticipant)((r,o)=>{const d=r.getColor(N.editorSelectionBackground);d&&o.addRule(`.monaco-editor .focused .selected-text { background-color: ${d}; }`);const c=r.getColor(N.editorInactiveSelection);c&&o.addRule(`.monaco-editor .selected-text { background-color: ${c}; }`);const u=r.getColor(N.editorSelectionForeground);u&&!u.isTransparent()&&o.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${u}; }`)});function f(r){return r<0?-r:r}}),define(te[46],ie([0,1,479,29,22,12]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,T.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},y.localize(0,null)),e.editorLineHighlightBorder=(0,T.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},y.localize(1,null)),e.editorRangeHighlight=(0,T.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},y.localize(2,null),!0),e.editorRangeHighlightBorder=(0,T.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hc:T.activeContrastBorder},y.localize(3,null),!0),e.editorSymbolHighlight=(0,T.registerColor)("editor.symbolHighlightBackground",{dark:T.editorFindMatchHighlight,light:T.editorFindMatchHighlight,hc:null},y.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,T.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hc:T.activeContrastBorder},y.localize(5,null),!0),e.editorCursorForeground=(0,T.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:N.Color.black,hc:N.Color.white},y.localize(6,null)),e.editorCursorBackground=(0,T.registerColor)("editorCursor.background",null,y.localize(7,null)),e.editorWhitespaces=(0,T.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},y.localize(8,null)),e.editorIndentGuides=(0,T.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},y.localize(9,null)),e.editorActiveIndentGuides=(0,T.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},y.localize(10,null)),e.editorLineNumbers=(0,T.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:N.Color.white},y.localize(11,null));const S=(0,T.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:T.activeContrastBorder},y.localize(12,null),!1,y.localize(13,null));e.editorActiveLineNumber=(0,T.registerColor)("editorLineNumber.activeForeground",{dark:S,light:S,hc:S},y.localize(14,null)),e.editorRuler=(0,T.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:N.Color.lightgrey,hc:N.Color.white},y.localize(15,null)),e.editorCodeLensForeground=(0,T.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},y.localize(16,null)),e.editorBracketMatchBackground=(0,T.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},y.localize(17,null)),e.editorBracketMatchBorder=(0,T.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:T.contrastBorder},y.localize(18,null)),e.editorOverviewRulerBorder=(0,T.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},y.localize(19,null)),e.editorOverviewRulerBackground=(0,T.registerColor)("editorOverviewRuler.background",null,y.localize(20,null)),e.editorGutter=(0,T.registerColor)("editorGutter.background",{dark:T.editorBackground,light:T.editorBackground,hc:T.editorBackground},y.localize(21,null)),e.editorUnnecessaryCodeBorder=(0,T.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hc:N.Color.fromHex("#fff").transparent(.8)},y.localize(22,null)),e.editorUnnecessaryCodeOpacity=(0,T.registerColor)("editorUnnecessaryCode.opacity",{dark:N.Color.fromHex("#000a"),light:N.Color.fromHex("#0007"),hc:null},y.localize(23,null)),e.ghostTextBorder=(0,T.registerColor)("editorGhostText.border",{dark:null,light:null,hc:N.Color.fromHex("#fff").transparent(.8)},y.localize(24,null)),e.ghostTextForeground=(0,T.registerColor)("editorGhostText.foreground",{dark:N.Color.fromHex("#ffffff56"),light:N.Color.fromHex("#0007"),hc:null},y.localize(25,null));const p=new N.Color(new N.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,T.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:p,light:p,hc:p},y.localize(26,null),!0),e.overviewRulerError=(0,T.registerColor)("editorOverviewRuler.errorForeground",{dark:new N.Color(new N.RGBA(255,18,18,.7)),light:new N.Color(new N.RGBA(255,18,18,.7)),hc:new N.Color(new N.RGBA(255,50,50,1))},y.localize(27,null)),e.overviewRulerWarning=(0,T.registerColor)("editorOverviewRuler.warningForeground",{dark:T.editorWarningForeground,light:T.editorWarningForeground,hc:T.editorWarningBorder},y.localize(28,null)),e.overviewRulerInfo=(0,T.registerColor)("editorOverviewRuler.infoForeground",{dark:T.editorInfoForeground,light:T.editorInfoForeground,hc:T.editorInfoBorder},y.localize(29,null)),e.editorBracketHighlightingForeground1=(0,T.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},y.localize(30,null)),e.editorBracketHighlightingForeground2=(0,T.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},y.localize(31,null)),e.editorBracketHighlightingForeground3=(0,T.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},y.localize(32,null)),e.editorBracketHighlightingForeground4=(0,T.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(33,null)),e.editorBracketHighlightingForeground5=(0,T.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(34,null)),e.editorBracketHighlightingForeground6=(0,T.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(35,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,T.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new N.Color(new N.RGBA(255,18,18,.8)),light:new N.Color(new N.RGBA(255,18,18,.8)),hc:new N.Color(new N.RGBA(255,50,50,1))},y.localize(36,null)),(0,D.registerThemingParticipant)((b,i)=>{const f=b.getColor(T.editorBackground);f&&i.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${f}; }`);const r=b.getColor(T.editorForeground);r&&i.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${r}; }`);const o=b.getColor(e.editorGutter);o&&i.addRule(`.monaco-editor .margin { background-color: ${o}; }`);const d=b.getColor(e.editorRangeHighlight);d&&i.addRule(`.monaco-editor .rangeHighlight { background-color: ${d}; }`);const c=b.getColor(e.editorRangeHighlightBorder);c&&i.addRule(`.monaco-editor .rangeHighlight { border: 1px ${b.type==="hc"?"dotted":"solid"} ${c}; }`);const u=b.getColor(e.editorSymbolHighlight);u&&i.addRule(`.monaco-editor .symbolHighlight { background-color: ${u}; }`);const s=b.getColor(e.editorSymbolHighlightBorder);s&&i.addRule(`.monaco-editor .symbolHighlight { border: 1px ${b.type==="hc"?"dotted":"solid"} ${s}; }`);const n=b.getColor(e.editorWhitespaces);n&&(i.addRule(`.monaco-editor .mtkw { color: ${n} !important; }`),i.addRule(`.monaco-editor .mtkz { color: ${n} !important; }`))})}),define(te[602],ie([0,1,98,46,19,12,21,335]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;let p=!0;class b extends y.DynamicViewOverlay{constructor(o){super();this._context=o;const d=this._context.configuration.options,c=d.get(129);this._lineHeight=d.get(58),this._renderLineHighlight=d.get(84),this._renderLineHighlightOnlyWhenFocus=d.get(85),this._contentLeft=c.contentLeft,this._contentWidth=c.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new S.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let o=!1;const d=p?this._selections.slice(0,1):this._selections,c=d.map(s=>s.positionLineNumber);c.sort((s,n)=>s-n),T.equals(this._cursorLineNumbers,c)||(this._cursorLineNumbers=c,o=!0);const u=d.every(s=>s.isEmpty());return this._selectionIsEmpty!==u&&(this._selectionIsEmpty=u,o=!0),o}onThemeChanged(o){return this._readFromSelections()}onConfigurationChanged(o){const d=this._context.configuration.options,c=d.get(129);return this._lineHeight=d.get(58),this._renderLineHighlight=d.get(84),this._renderLineHighlightOnlyWhenFocus=d.get(85),this._contentLeft=c.contentLeft,this._contentWidth=c.contentWidth,!0}onCursorStateChanged(o){return this._selections=o.selections,this._readFromSelections()}onFlushed(o){return!0}onLinesDeleted(o){return!0}onLinesInserted(o){return!0}onScrollChanged(o){return o.scrollWidthChanged||o.scrollTopChanged}onZonesChanged(o){return!0}onFocusChanged(o){return this._renderLineHighlightOnlyWhenFocus?(this._focused=o.isFocused,!0):!1}prepareRender(o){if(!this._shouldRenderThis()){this._renderData=null;return}const d=this._renderOne(o),c=o.visibleRange.startLineNumber,u=o.visibleRange.endLineNumber,s=this._cursorLineNumbers.length;let n=0;const a=[];for(let t=c;t<=u;t++){const l=t-c;for(;n<s&&this._cursorLineNumbers[n]<t;)n++;n<s&&this._cursorLineNumbers[n]===t?a[l]=d:a[l]=""}this._renderData=a}render(o,d){if(!this._renderData)return"";const c=d-o;return c>=this._renderData.length?"":this._renderData[c]}}e.AbstractLineHighlightOverlay=b;class i extends b{_renderOne(o){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(o.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineHighlightOverlay=i;class f extends b{_renderOne(o){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineMarginHighlightOverlay=f,(0,D.registerThemingParticipant)((r,o)=>{p=!1;const d=r.getColor(N.editorLineHighlight);if(d&&(o.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${d}; }`),o.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${d}; border: none; }`)),!d||d.isTransparent()||r.defines(N.editorLineHighlightBorder)){const c=r.getColor(N.editorLineHighlightBorder);c&&(p=!0,o.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${c}; }`),o.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${c}; }`),r.type==="hc"&&(o.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),o.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(te[267],ie([0,1,17,98,13,46,12,339]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class p extends N.DynamicViewOverlay{constructor(i){super();this._context=i,this._readConfig(),this._lastCursorModelPosition=new T.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const i=this._context.configuration.options;this._lineHeight=i.get(58);const f=i.get(59);this._renderLineNumbers=f.renderType,this._renderCustomLineNumbers=f.renderFn,this._renderFinalNewline=i.get(83);const r=i.get(129);this._lineNumbersLeft=r.lineNumbersLeft,this._lineNumbersWidth=r.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){return this._readConfig(),!0}onCursorStateChanged(i){const f=i.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(f);let r=!1;return this._activeLineNumber!==f.lineNumber&&(this._activeLineNumber=f.lineNumber,r=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(r=!0),r}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getLineRenderLineNumber(i){const f=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new T.Position(i,1));if(f.column!==1)return"";const r=f.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(r);if(this._renderLineNumbers===2){const o=Math.abs(this._lastCursorModelPosition.lineNumber-r);return o===0?'<span class="relative-current-line-number">'+r+"</span>":String(o)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===r||r%10==0?String(r):"":String(r)}prepareRender(i){if(this._renderLineNumbers===0){this._renderResult=null;return}const f=y.isLinux?this._lineHeight%2==0?" lh-even":" lh-odd":"",r=i.visibleRange.startLineNumber,o=i.visibleRange.endLineNumber,d='<div class="'+p.CLASS_NAME+f+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',c=this._context.model.getLineCount(),u=[];for(let s=r;s<=o;s++){const n=s-r;if(!this._renderFinalNewline&&s===c&&this._context.model.getLineLength(s)===0){u[n]="";continue}const a=this._getLineRenderLineNumber(s);a?s===this._activeLineNumber?u[n]='<div class="active-line-number '+p.CLASS_NAME+f+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+a+"</div>":u[n]=d+a+"</div>":u[n]=""}this._renderResult=u}render(i,f){if(!this._renderResult)return"";const r=f-i;return r<0||r>=this._renderResult.length?"":this._renderResult[r]}}e.LineNumbersOverlay=p,p.CLASS_NAME="line-numbers",(0,S.registerThemingParticipant)((b,i)=>{const f=b.getColor(D.editorLineNumbers);f&&i.addRule(`.monaco-editor .line-numbers { color: ${f}; }`);const r=b.getColor(D.editorActiveLineNumber);r&&i.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${r}; }`)})}),define(te[603],ie([0,1,463,36,30,17,8,65,172,224,50,267,234,34,111,13,3,21,134,334]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class t{constructor(v,m,E){this._visibleTextAreaBrand=void 0,this.top=v,this.left=m,this.width=E}setWidth(v){return new t(this.top,this.left,v)}}const l=N.isFirefox;class h extends f.ViewPart{constructor(v,m,E){super(v);this._primaryCursorPosition=new u.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=m,this._viewHelper=E,this._scrollLeft=0,this._scrollTop=0;const I=this._context.configuration.options,k=I.get(129);this._setAccessibilityOptions(I),this._contentLeft=k.contentLeft,this._contentWidth=k.contentWidth,this._contentHeight=k.height,this._fontInfo=I.get(43),this._lineHeight=I.get(58),this._emptySelectionClipboard=I.get(32),this._copyWithSyntaxHighlighting=I.get(21),this._visibleTextArea=null,this._selections=[new n.Selection(1,1,1,1)],this._modelSelections=[new n.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,T.createFastDomNode)(document.createElement("textarea")),f.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${a.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(I)),this.textArea.setAttribute("tabindex",String(I.get(111))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",y.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),I.get(30)&&I.get(80)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,T.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const A={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:F=>this._context.model.getLineMaxColumn(F),getValueInRange:(F,M)=>this._context.model.getValueInRange(F,M)},P={getDataToCopy:F=>{const M=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,D.isWindows),R=this._context.model.getEOL(),O=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),L=Array.isArray(M)?M:null,B=Array.isArray(M)?M.join(R):M;let z,$=null;if(F&&(b.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&B.length<65536)){const j=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);j&&(z=j.html,$=j.mode)}return{isFromEmptySelection:O,multicursorText:L,text:B,html:z,mode:$}},getScreenReaderContent:F=>{if(this._accessibilitySupport===1){if(D.isMacintosh){const M=this._selections[0];if(M.isEmpty()){const R=M.getStartPosition();let O=this._getWordBeforePosition(R);if(O.length===0&&(O=this._getCharacterBeforePosition(R)),O.length>0)return new i.TextAreaState(O,O.length,O.length,R,R)}}return i.TextAreaState.EMPTY}if(N.isAndroid){const M=this._selections[0];if(M.isEmpty()){const R=M.getStartPosition(),[O,L]=this._getAndroidWordAtPosition(R);if(O.length>0)return new i.TextAreaState(O,L,L,R,R)}return i.TextAreaState.EMPTY}return i.PagedScreenReaderStrategy.fromEditorSelection(F,A,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(F,M,R)=>this._context.model.deduceModelPositionRelativeToViewPosition(F,M,R)};this._textAreaInput=this._register(new b.TextAreaInput(P,this.textArea)),this._register(this._textAreaInput.onKeyDown(F=>{this._viewController.emitKeyDown(F)})),this._register(this._textAreaInput.onKeyUp(F=>{this._viewController.emitKeyUp(F)})),this._register(this._textAreaInput.onPaste(F=>{let M=!1,R=null,O=null;F.metadata&&(M=this._emptySelectionClipboard&&!!F.metadata.isFromEmptySelection,R=typeof F.metadata.multicursorText!="undefined"?F.metadata.multicursorText:null,O=F.metadata.mode),this._viewController.paste(F.text,M,R,O)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(F=>{F.replacePrevCharCnt||F.replaceNextCharCnt||F.positionDelta?(i._debugComposition&&console.log(` => compositionType: <<${F.text}>>, ${F.replacePrevCharCnt}, ${F.replaceNextCharCnt}, ${F.positionDelta}`),this._viewController.compositionType(F.text,F.replacePrevCharCnt,F.replaceNextCharCnt,F.positionDelta)):(i._debugComposition&&console.log(` => type: <<${F.text}>>`),this._viewController.type(F.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(F=>{this._viewController.setSelection(F)})),this._register(this._textAreaInput.onCompositionStart(F=>{const M=this._selections[0].startLineNumber,R=this._selections[0].startColumn+F.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new s.Range(M,R,M,R),0,1);const O=this._viewHelper.visibleRangeForPositionRelativeToEditor(M,R);O&&(this._visibleTextArea=new t(this._context.viewLayout.getVerticalOffsetForLineNumber(M),O.left,l?0:1),this._render()),this.textArea.setClassName(`inputarea ${a.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(F=>{!this._visibleTextArea||(this._visibleTextArea=this._visibleTextArea.setWidth(g(F.data,this._fontInfo)),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${a.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(v){const m='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',E=this._context.model.getLineContent(v.lineNumber),I=(0,c.getMapForWordSeparators)(m);let k=!0,A=v.column,P=!0,F=v.column,M=0;for(;M<50&&(k||P);){if(k&&A<=1&&(k=!1),k){const R=E.charCodeAt(A-2);I.get(R)!==0?k=!1:A--}if(P&&F>E.length&&(P=!1),P){const R=E.charCodeAt(F-1);I.get(R)!==0?P=!1:F++}M++}return[E.substring(A-1,F-1),v.column-A]}_getWordBeforePosition(v){const m=this._context.model.getLineContent(v.lineNumber),E=(0,c.getMapForWordSeparators)(this._context.configuration.options.get(115));let I=v.column,k=0;for(;I>1;){const A=m.charCodeAt(I-2);if(E.get(A)!==0||k>50)return m.substring(I-1,v.column-1);k++,I--}return m.substring(0,v.column-1)}_getCharacterBeforePosition(v){if(v.column>1){const E=this._context.model.getLineContent(v.lineNumber).charAt(v.column-2);if(!S.isHighSurrogate(E.charCodeAt(0)))return E}return""}_getAriaLabel(v){return v.get(2)===1?y.localize(1,null,D.isLinux?"Shift+Alt+F1":"Alt+F1"):v.get(4)}_setAccessibilityOptions(v){this._accessibilitySupport=v.get(2);const m=v.get(3);this._accessibilitySupport===2&&m===d.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=m}onConfigurationChanged(v){const m=this._context.configuration.options,E=m.get(129);return this._setAccessibilityOptions(m),this._contentLeft=E.contentLeft,this._contentWidth=E.contentWidth,this._contentHeight=E.height,this._fontInfo=m.get(43),this._lineHeight=m.get(58),this._emptySelectionClipboard=m.get(32),this._copyWithSyntaxHighlighting=m.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(m)),this.textArea.setAttribute("tabindex",String(m.get(111))),(v.hasChanged(30)||v.hasChanged(80))&&(m.get(30)&&m.get(80)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),v.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(v){return this._selections=v.selections.slice(0),this._modelSelections=v.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(v){return!0}onFlushed(v){return!0}onLinesChanged(v){return!0}onLinesDeleted(v){return!0}onLinesInserted(v){return!0}onScrollChanged(v){return this._scrollLeft=v.scrollLeft,this._scrollTop=v.scrollTop,!0}onZonesChanged(v){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(v){v.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",v.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),v.role&&this.textArea.setAttribute("role",v.role)}prepareRender(v){this._primaryCursorPosition=new u.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=v.visibleRangeForPosition(this._primaryCursorPosition)}render(v){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const v=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(v<this._contentLeft||v>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const m=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(m<0||m>this._contentHeight){this._renderAtTopLeft();return}if(D.isMacintosh){this._renderInsideEditor(this._primaryCursorPosition,m,v,l?0:1,this._lineHeight);return}this._renderInsideEditor(this._primaryCursorPosition,m,v,l?0:1,l?0:1)}_renderInsideEditor(v,m,E,I,k){this._lastRenderPosition=v;const A=this.textArea,P=this.textAreaCover;p.Configuration.applyFontInfo(A,this._fontInfo),A.setTop(m),A.setLeft(E),A.setWidth(I),A.setHeight(k),P.setTop(0),P.setLeft(0),P.setWidth(0),P.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const v=this.textArea,m=this.textAreaCover;if(p.Configuration.applyFontInfo(v,this._fontInfo),v.setTop(0),v.setLeft(0),m.setTop(0),m.setLeft(0),l){v.setWidth(0),v.setHeight(0),m.setWidth(0),m.setHeight(0);return}v.setWidth(1),v.setHeight(1),m.setWidth(1),m.setHeight(1);const E=this._context.configuration.options;E.get(49)?m.setClassName("monaco-editor-background textAreaCover "+o.Margin.OUTER_CLASS_NAME):E.get(59).renderType!==0?m.setClassName("monaco-editor-background textAreaCover "+r.LineNumbersOverlay.CLASS_NAME):m.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=h;function g(C,v){const E=document.createElement("canvas").getContext("2d");E.font=w(v);const I=E.measureText(C);return N.isFirefox?I.width+2:I.width}function w(C){return _("normal",C.fontWeight,C.fontSize,C.lineHeight,C.fontFamily)}function _(C,v,m,E,I){return`${C} normal ${v} ${m}px / ${E}px ${I}`}}),define(te[604],ie([0,1,30,29,50,13,18,46]),function(q,e,y,N,T,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class b{constructor(r,o){const d=r.options;this.lineHeight=d.get(58),this.pixelRatio=d.get(127),this.overviewRulerLanes=d.get(73),this.renderBorder=d.get(72);const c=o.getColor(p.editorOverviewRulerBorder);this.borderColor=c?c.toString():null,this.hideCursor=d.get(51);const u=o.getColor(p.editorCursorForeground);this.cursorColor=u?u.transparent(.7).toString():null,this.themeType=o.type;const s=d.get(64),n=s.enabled,a=s.side,t=n?o.getColor(p.editorOverviewRulerBackground)||S.TokenizationRegistry.getDefaultBackground():null;t===null||a==="left"?this.backgroundColor=null:this.backgroundColor=N.Color.Format.CSS.formatHex(t);const h=d.get(129).overviewRuler;this.top=h.top,this.right=h.right,this.domWidth=h.width,this.domHeight=h.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[g,w]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=g,this.w=w}_initLanes(r,o,d){const c=o-r;if(d>=3){const u=Math.floor(c/3),s=Math.floor(c/3),n=c-u-s,a=r,t=a+u,l=a+u+n;return[[0,a,t,a,l,a,t,a],[0,u,n,u+n,s,u+n+s,n+s,u+n+s]]}else if(d===2){const u=Math.floor(c/2),s=c-u,n=r,a=n+u;return[[0,n,n,n,a,n,n,n],[0,u,u,u,s,u+s,u+s,u+s]]}else{const u=r,s=c;return[[0,u,u,u,u,u,u,u],[0,s,s,s,s,s,s,s]]}}equals(r){return this.lineHeight===r.lineHeight&&this.pixelRatio===r.pixelRatio&&this.overviewRulerLanes===r.overviewRulerLanes&&this.renderBorder===r.renderBorder&&this.borderColor===r.borderColor&&this.hideCursor===r.hideCursor&&this.cursorColor===r.cursorColor&&this.themeType===r.themeType&&this.backgroundColor===r.backgroundColor&&this.top===r.top&&this.right===r.right&&this.domWidth===r.domWidth&&this.domHeight===r.domHeight&&this.canvasWidth===r.canvasWidth&&this.canvasHeight===r.canvasHeight}}class i extends T.ViewPart{constructor(r){super(r);this._domNode=(0,y.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=S.TokenizationRegistry.onDidChange(o=>{o.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(r){const o=new b(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(o)?!1:(this._settings=o,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,r&&this._render(),!0)}onConfigurationChanged(r){return this._updateSettings(!1)}onCursorStateChanged(r){this._cursorPositions=[];for(let o=0,d=r.selections.length;o<d;o++)this._cursorPositions[o]=r.selections[o].getPosition();return this._cursorPositions.sort(D.Position.compare),!0}onDecorationsChanged(r){return!!r.affectsOverviewRuler}onFlushed(r){return!0}onScrollChanged(r){return r.scrollHeightChanged}onZonesChanged(r){return!0}onThemeChanged(r){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(r){}render(r){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}const r=this._settings.canvasWidth,o=this._settings.canvasHeight,d=this._settings.lineHeight,c=this._context.viewLayout,u=this._context.viewLayout.getScrollHeight(),s=o/u,n=this._context.model.getAllOverviewRulerDecorations(this._context.theme),a=6*this._settings.pixelRatio|0,t=a/2|0,l=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?l.clearRect(0,0,r,o):(l.fillStyle=this._settings.backgroundColor,l.fillRect(0,0,r,o));const h=this._settings.x,g=this._settings.w,w=Object.keys(n);w.sort();for(let _=0,C=w.length;_<C;_++){const v=w[_],m=n[v];l.fillStyle=v;let E=0,I=0,k=0;for(let A=0,P=m.length;A<P;A++){const F=m[3*A],M=m[3*A+1],R=m[3*A+2];let O=c.getVerticalOffsetForLineNumber(M)*s|0,L=(c.getVerticalOffsetForLineNumber(R)+d)*s|0;if(L-O<a){let z=(O+L)/2|0;z<t?z=t:z+t>o&&(z=o-t),O=z-t,L=z+t}O>k+1||F!==E?(A!==0&&l.fillRect(h[E],I,g[E],k-I),E=F,I=O,k=L):L>k&&(k=L)}l.fillRect(h[E],I,g[E],k-I)}if(!this._settings.hideCursor&&this._settings.cursorColor){const _=2*this._settings.pixelRatio|0,C=_/2|0,v=this._settings.x[7],m=this._settings.w[7];l.fillStyle=this._settings.cursorColor;let E=-100,I=-100;for(let k=0,A=this._cursorPositions.length;k<A;k++){const P=this._cursorPositions[k];let F=c.getVerticalOffsetForLineNumber(P.lineNumber)*s|0;F<C?F=C:F+C>o&&(F=o-C);const M=F-C,R=M+_;M>I+1?(k!==0&&l.fillRect(v,E,m,I-E),E=M,I=R):R>I&&(I=R)}l.fillRect(v,E,m,I-E)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(l.beginPath(),l.lineWidth=1,l.strokeStyle=this._settings.borderColor,l.moveTo(0,0),l.lineTo(0,o),l.stroke(),l.moveTo(0,0),l.lineTo(r,0),l.stroke())}}e.DecorationsOverviewRuler=i}),define(te[605],ie([0,1,30,50,46,12,345]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class S extends N.ViewPart{constructor(b){super(b);this.domNode=(0,y.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const i=this._context.configuration.options;this._rulers=i.get(90),this._typicalHalfwidthCharacterWidth=i.get(43).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(b){const i=this._context.configuration.options;return this._rulers=i.get(90),this._typicalHalfwidthCharacterWidth=i.get(43).typicalHalfwidthCharacterWidth,!0}onScrollChanged(b){return b.scrollHeightChanged}prepareRender(b){}_ensureRulersCount(){const b=this._renderedRulers.length,i=this._rulers.length;if(b===i)return;if(b<i){const{tabSize:r}=this._context.model.getTextModelOptions(),o=r;let d=i-b;for(;d>0;){const c=(0,y.createFastDomNode)(document.createElement("div"));c.setClassName("view-ruler"),c.setWidth(o),this.domNode.appendChild(c),this._renderedRulers.push(c),d--}return}let f=b-i;for(;f>0;){const r=this._renderedRulers.pop();this.domNode.removeChild(r),f--}}render(b){this._ensureRulersCount();for(let i=0,f=this._rulers.length;i<f;i++){const r=this._renderedRulers[i],o=this._rulers[i];r.setBoxShadow(o.color?`1px 0 0 0 ${o.color} inset`:""),r.setHeight(Math.min(b.scrollHeight,1e6)),r.setLeft(o.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=S,(0,D.registerThemingParticipant)((p,b)=>{const i=p.getColor(T.editorRuler);i&&b.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${i} inset; }`)})}),define(te[606],ie([0,1,30,14,50,582,34,46,12,348]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class i extends T.ViewPart{constructor(r){super(r);const o=this._context.configuration.options;this._readOnly=o.get(80),this._cursorBlinking=o.get(22),this._cursorStyle=o.get(24),this._cursorSmoothCaretAnimation=o.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new D.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,y.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new N.TimeoutTimer,this._cursorFlatBlinkInterval=new N.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(r){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(r){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(r){const o=this._context.configuration.options;this._readOnly=o.get(80),this._cursorBlinking=o.get(22),this._cursorStyle=o.get(24),this._cursorSmoothCaretAnimation=o.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(r);for(let d=0,c=this._secondaryCursors.length;d<c;d++)this._secondaryCursors[d].onConfigurationChanged(r);return!0}_onCursorPositionChanged(r,o){if(this._primaryCursor.onCursorPositionChanged(r),this._updateBlinking(),this._secondaryCursors.length<o.length){const d=o.length-this._secondaryCursors.length;for(let c=0;c<d;c++){const u=new D.ViewCursor(this._context);this._domNode.domNode.insertBefore(u.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(u)}}else if(this._secondaryCursors.length>o.length){const d=this._secondaryCursors.length-o.length;for(let c=0;c<d;c++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let d=0;d<o.length;d++)this._secondaryCursors[d].onCursorPositionChanged(o[d])}onCursorStateChanged(r){const o=[];for(let c=0,u=r.selections.length;c<u;c++)o[c]=r.selections[c].getPosition();this._onCursorPositionChanged(o[0],o.slice(1));const d=r.selections[0].isEmpty();return this._selectionIsEmpty!==d&&(this._selectionIsEmpty=d,this._updateDomClassName()),!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onFocusChanged(r){return this._editorHasFocus=r.isFocused,this._updateBlinking(),!1}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return!0}onTokensChanged(r){const o=d=>{for(let c=0,u=r.ranges.length;c<u;c++)if(r.ranges[c].fromLineNumber<=d.lineNumber&&d.lineNumber<=r.ranges[c].toLineNumber)return!0;return!1};if(o(this._primaryCursor.getPosition()))return!0;for(const d of this._secondaryCursors)if(o(d.getPosition()))return!0;return!1}onZonesChanged(r){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const r=this._getCursorBlinking(),o=r===0,d=r===5;o?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!o&&!d&&(r===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},i.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},i.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let r="cursors-layer";switch(this._selectionIsEmpty||(r+=" has-selection"),this._cursorStyle){case S.TextEditorCursorStyle.Line:r+=" cursor-line-style";break;case S.TextEditorCursorStyle.Block:r+=" cursor-block-style";break;case S.TextEditorCursorStyle.Underline:r+=" cursor-underline-style";break;case S.TextEditorCursorStyle.LineThin:r+=" cursor-line-thin-style";break;case S.TextEditorCursorStyle.BlockOutline:r+=" cursor-block-outline-style";break;case S.TextEditorCursorStyle.UnderlineThin:r+=" cursor-underline-thin-style";break;default:r+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:r+=" cursor-blink";break;case 2:r+=" cursor-smooth";break;case 3:r+=" cursor-phase";break;case 4:r+=" cursor-expand";break;case 5:r+=" cursor-solid";break;default:r+=" cursor-solid"}else r+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(r+=" cursor-smooth-caret-animation"),r}_show(){this._primaryCursor.show();for(let r=0,o=this._secondaryCursors.length;r<o;r++)this._secondaryCursors[r].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let r=0,o=this._secondaryCursors.length;r<o;r++)this._secondaryCursors[r].hide();this._isVisible=!1}prepareRender(r){this._primaryCursor.prepareRender(r);for(let o=0,d=this._secondaryCursors.length;o<d;o++)this._secondaryCursors[o].prepareRender(r)}render(r){let o=[],d=0;const c=this._primaryCursor.render(r);c&&(o[d++]=c);for(let u=0,s=this._secondaryCursors.length;u<s;u++){const n=this._secondaryCursors[u].render(r);n&&(o[d++]=n)}this._renderData=o}getLastRenderData(){return this._renderData}}e.ViewCursors=i,i.BLINK_INTERVAL=500,(0,b.registerThemingParticipant)((f,r)=>{const o=f.getColor(p.editorCursorForeground);if(o){let d=f.getColor(p.editorCursorBackground);d||(d=o.opposite()),r.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${o}; border-color: ${o}; color: ${d}; }`),f.type==="hc"&&r.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${d}; border-right: 1px solid ${d}; }`)}})}),define(te[607],ie([0,1,6,2,3,49,114,38,46,12,228,558,85,388,252]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketInfo=e.BracketPairColorizer=void 0;class u extends N.Disposable{constructor(w){super();this.textModel=w,this.didChangeDecorationsEmitter=new y.Emitter,this.cache=this._register(new N.MutableDisposable),this.bracketsRequested=!1,this.options=w.getOptions().bracketPairColorizationOptions,this._register(p.LanguageConfigurationRegistry.onDidChange(_=>{var C;((C=this.cache.value)===null||C===void 0?void 0:C.object.didLanguageChange(_.languageIdentifier.id))&&(this.cache.clear(),this.updateCache())})),this._register(w.onDidChangeOptions(_=>{this.options=w.getOptions().bracketPairColorizationOptions,this.cache.clear(),this.updateCache()})),this._register(w.onDidChangeLanguage(_=>{this.cache.clear(),this.updateCache()})),this._register(w.onDidChangeAttached(()=>{this.updateCache()}))}get isDocumentSupported(){const w=5e4*100;return this.textModel.getValueLength()<=w}updateCache(){if(this.bracketsRequested||this.textModel.isAttachedToEditor()&&this.isDocumentSupported&&this.options.enabled){if(!this.cache.value){const w=new N.DisposableStore;this.cache.value=s(w.add(new n(this.textModel)),w),w.add(this.cache.value.object.onDidChangeDecorations(_=>this.didChangeDecorationsEmitter.fire(_))),this.didChangeDecorationsEmitter.fire()}}else this.cache.clear(),this.didChangeDecorationsEmitter.fire()}handleContentChanged(w){var _;(_=this.cache.value)===null||_===void 0||_.object.handleContentChanged(w)}getDecorationsInRange(w,_,C){var v;return _===void 0?[]:this.options.enabled?((v=this.cache.value)===null||v===void 0?void 0:v.object.getDecorationsInRange(w,_,C))||[]:[]}getAllDecorations(w,_){var C;return w===void 0?[]:this.options.enabled?((C=this.cache.value)===null||C===void 0?void 0:C.object.getAllDecorations(w,_))||[]:[]}onDidChangeDecorations(w){return this.didChangeDecorationsEmitter.event(w)}getBracketPairsInRange(w){var _;return this.bracketsRequested=!0,this.updateCache(),((_=this.cache.value)===null||_===void 0?void 0:_.object.getBracketPairsInRange(w))||[]}}e.BracketPairColorizer=u;function s(g,w){return{object:g,dispose:()=>w==null?void 0:w.dispose()}}class n extends N.Disposable{constructor(w){super();if(this.textModel=w,this.didChangeDecorationsEmitter=new y.Emitter,this.colorProvider=new h,this.denseKeyProvider=new S.DenseKeyProvider,this.brackets=new r.LanguageAgnosticBracketTokens(this.denseKeyProvider),this.onDidChangeDecorations=this.didChangeDecorationsEmitter.event,this._register(w.onBackgroundTokenizationStateChanged(()=>{if(w.backgroundTokenizationState===2){const _=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,_||this.didChangeDecorationsEmitter.fire()}})),this._register(w.onDidChangeTokens(({ranges:_})=>{const C=_.map(v=>new f.TextEditInfo((0,o.toLength)(v.fromLineNumber-1,0),(0,o.toLength)(v.toLineNumber,0),(0,o.toLength)(v.toLineNumber-v.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(C,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeDecorationsEmitter.fire()})),w.backgroundTokenizationState===0){const _=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageIdentifier().id),C=new c.FastTokenizer(this.textModel.getValue(),_);this.initialAstWithoutTokens=(0,d.parseDocument)(C,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else w.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):w.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(w){return this.brackets.didLanguageChange(w)}handleContentChanged(w){const _=w.changes.map(C=>{const v=T.Range.lift(C.range);return new f.TextEditInfo((0,o.positionToLength)(v.getStartPosition()),(0,o.positionToLength)(v.getEndPosition()),(0,o.lengthOfString)(C.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(_,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(_,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(w,_,C){const m=!1?_==null?void 0:_.deepClone():_,E=new c.TextBufferTokenizer(this.textModel,this.brackets);return(0,d.parseDocument)(E,w,m,C)}getBracketsInRange(w){const _=(0,o.toLength)(w.startLineNumber-1,w.startColumn-1),C=(0,o.toLength)(w.endLineNumber-1,w.endColumn-1),v=new Array,m=this.initialAstWithoutTokens||this.astWithTokens;return a(m,o.lengthZero,m.length,_,C,v),v}getDecorationsInRange(w,_,C){const v=new Array,m=this.getBracketsInRange(w);for(const E of m)v.push({id:`bracket${E.hash()}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(E)},ownerId:0,range:E.range});return v}getAllDecorations(w,_){return this.getDecorationsInRange(new T.Range(1,1,this.textModel.getLineCount(),1),w,_)}getBracketPairsInRange(w){const _=new Array,C=(0,o.positionToLength)(w.getStartPosition()),v=(0,o.positionToLength)(w.getEndPosition()),m=this.initialAstWithoutTokens||this.astWithTokens;return t(m,o.lengthZero,m.length,C,v,_),_}}function a(g,w,_,C,v,m,E=0){if(g.kind===1){const I=(0,o.lengthsToRange)(w,_);m.push(new l(I,E-1,!1))}else if(g.kind===3){const I=(0,o.lengthsToRange)(w,_);m.push(new l(I,E-1,!0))}else if(g.kind===4)for(const I of g.children)_=(0,o.lengthAdd)(w,I.length),(0,o.lengthLessThanEqual)(w,v)&&(0,o.lengthGreaterThanEqual)(_,C)&&a(I,w,_,C,v,m,E),w=_;else if(g.kind===2){E++;{const I=g.openingBracket;_=(0,o.lengthAdd)(w,I.length),(0,o.lengthLessThanEqual)(w,v)&&(0,o.lengthGreaterThanEqual)(_,C)&&a(I,w,_,C,v,m,E),w=_}if(g.child){const I=g.child;_=(0,o.lengthAdd)(w,I.length),(0,o.lengthLessThanEqual)(w,v)&&(0,o.lengthGreaterThanEqual)(_,C)&&a(I,w,_,C,v,m,E),w=_}if(g.closingBracket){const I=g.closingBracket;_=(0,o.lengthAdd)(w,I.length),(0,o.lengthLessThanEqual)(w,v)&&(0,o.lengthGreaterThanEqual)(_,C)&&a(I,w,_,C,v,m,E),w=_}}}function t(g,w,_,C,v,m,E=0){var I;if(g.kind===2){const A=(0,o.lengthAdd)(w,g.openingBracket.length);m.push(new D.BracketPair((0,o.lengthsToRange)(w,_),(0,o.lengthsToRange)(w,A),g.closingBracket?(0,o.lengthsToRange)((0,o.lengthAdd)(A,((I=g.child)===null||I===void 0?void 0:I.length)||o.lengthZero),_):void 0,E)),E++}let k=w;for(const A of g.children){const P=k;k=(0,o.lengthAdd)(k,A.length),(0,o.lengthLessThanEqual)(P,v)&&(0,o.lengthLessThanEqual)(C,k)&&t(A,P,k,C,v,m,E)}}class l{constructor(w,_,C){this.range=w,this.level=_,this.isInvalid=C}hash(){return`${this.range.toString()}-${this.level}`}}e.BracketInfo=l;class h{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(w){return w.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(w.level)}getInlineClassNameOfLevel(w){return`bracket-highlighting-${w%30}`}}(0,i.registerThemingParticipant)((g,w)=>{const _=[b.editorBracketHighlightingForeground1,b.editorBracketHighlightingForeground2,b.editorBracketHighlightingForeground3,b.editorBracketHighlightingForeground4,b.editorBracketHighlightingForeground5,b.editorBracketHighlightingForeground6],C=new h;w.addRule(`.monaco-editor .${C.unexpectedClosingBracketClassName} { color: ${g.getColor(b.editorBracketHighlightingUnexpectedBracketForeground)}; }`);let v=_.map(m=>g.getColor(m)).filter(m=>!!m).filter(m=>!m.isTransparent());for(let m=0;m<30;m++){const E=v[m%v.length];w.addRule(`.monaco-editor .${C.getInlineClassNameOfLevel(m)} { color: ${E}; }`)}})}),define(te[31],ie([0,1,10,6,2,8,24,34,13,3,21,49,249,389,390,559,97,174,560,139,38,78,175,176,144,29,253,19,607,223]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h,g,w,_,C,v,m,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeContentEmitter=e.DidChangeDecorationsEmitter=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationOverviewRulerOptions=e.BracketPairGuidesClassNames=e.TextModel=e.LONG_LINE_BOUNDARY=e.createTextBuffer=e.createTextBufferFactory=void 0;function k(){return new u.PieceTreeTextBufferBuilder}function A(ge){const W=k();return W.acceptChunk(ge),W.finish()}e.createTextBufferFactory=A;function P(ge,W){return(typeof ge=="string"?A(ge):ge).create(W)}e.createTextBuffer=P;let F=0;const M=999;e.LONG_LINE_BOUNDARY=1e4;class R{constructor(W){this._source=W,this._eos=!1}read(){if(this._eos)return null;let W=[],G=0,re=0;do{let ee=this._source.read();if(ee===null)return this._eos=!0,G===0?null:W.join("");if(ee.length>0&&(W[G++]=ee,re+=ee.length),re>=64*1024)return W.join("")}while(!0)}}const O=()=>{throw new Error("Invalid change accessor")};class L{constructor(){this._searchCanceledBrand=void 0}}L.INSTANCE=new L;function B(ge){return ge instanceof L?null:ge}class z extends T.Disposable{constructor(W,G,re,ee=null,de){super();this._onWillDispose=this._register(new N.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new ue(le=>this.handleBeforeFireDecorationsChangedEvent(le))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new N.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new N.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new N.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new N.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new N.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new N.Emitter),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new pe),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new N.Emitter),this.onBackgroundTokenizationStateChanged=this._onBackgroundTokenizationStateChanged.event,this._register(this._eventEmitter.fastEvent(le=>{this._onDidChangeContentOrInjectedText.fire(le.rawContentChangedEvent)})),F++,this.id="$model"+F,this.isForSimpleWidget=G.isForSimpleWidget,typeof ee=="undefined"||ee===null?this._associatedResource=S.URI.parse("inmemory://model/"+F):this._associatedResource=ee,this._undoRedoService=de,this._attachedEditorCount=0;const{textBuffer:ae,disposable:ce}=P(W,G.defaultEOL);this._buffer=ae,this._bufferDisposable=ce,this._options=z.resolveOptions(this._buffer,G);const J=this._buffer.getLineCount(),Z=this._buffer.getValueLengthInRange(new i.Range(1,1,J,this._buffer.getLineLength(J)+1),0);G.largeFileOptimizations?this._isTooLargeForTokenization=Z>z.LARGE_FILE_SIZE_THRESHOLD||J>z.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=Z>z.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageIdentifier=re||h.NULL_LANGUAGE_IDENTIFIER,this._languageRegistryListener=l.LanguageConfigurationRegistry.onDidChange(le=>{le.languageIdentifier.id===this._languageIdentifier.id&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=D.singleLetterHash(F),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Y,this._commandManager=new o.EditStack(this,de),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new _.TokensStore,this._tokens2=new _.TokensStore2,this._tokenization=new a.TextModelTokenization(this),this._bracketPairColorizer=this._register(new E.BracketPairColorizer(this)),this._decorationProvider=this._bracketPairColorizer,this._register(this._decorationProvider.onDidChangeDecorations(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(W,G){if(G.detectIndentation){const re=(0,d.guessIndentation)(W,G.tabSize,G.insertSpaces);return new r.TextModelResolvedOptions({tabSize:re.tabSize,indentSize:re.tabSize,insertSpaces:re.insertSpaces,trimAutoWhitespace:G.trimAutoWhitespace,defaultEOL:G.defaultEOL,bracketPairColorizationOptions:G.bracketPairColorizationOptions})}return new r.TextModelResolvedOptions({tabSize:G.tabSize,indentSize:G.indentSize,insertSpaces:G.insertSpaces,trimAutoWhitespace:G.trimAutoWhitespace,defaultEOL:G.defaultEOL,bracketPairColorizationOptions:G.bracketPairColorizationOptions})}onDidChangeContentFast(W){return this._eventEmitter.fastEvent(G=>W(G.contentChangedEvent))}onDidChangeContent(W){return this._eventEmitter.slowEvent(G=>W(G.contentChangedEvent))}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(W){if(this._backgroundTokenizationState===2)return;const G=W?2:1;this._backgroundTokenizationState!==G&&(this._backgroundTokenizationState=G,this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const W=new v.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);W.dispose(),this._buffer=W}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(W,G){this._bracketPairColorizer.handleContentChanged(G),!this._isDisposing&&this._eventEmitter.fire(new s.InternalModelContentChangeEvent(W,G))}setValue(W){if(this._assertNotDisposed(),W===null)return;const{textBuffer:G,disposable:re}=P(W,this._options.defaultEOL);this._setValueFromTextBuffer(G,re)}_createContentChanged2(W,G,re,ee,de,ae,ce){return{changes:[{range:W,rangeOffset:G,rangeLength:re,text:ee}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:de,isRedoing:ae,isFlush:ce}}_setValueFromTextBuffer(W,G){this._assertNotDisposed();const re=this.getFullModelRange(),ee=this.getValueLengthInRange(re),de=this.getLineCount(),ae=this.getLineMaxColumn(de);this._buffer=W,this._bufferDisposable.dispose(),this._bufferDisposable=G,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new Y,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new s.ModelRawContentChangedEvent([new s.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,de,ae),0,ee,this.getValue(),!1,!1,!0))}setEOL(W){this._assertNotDisposed();const G=W===1?`\r
`:`
`;if(this._buffer.getEOL()===G)return;const re=this.getFullModelRange(),ee=this.getValueLengthInRange(re),de=this.getLineCount(),ae=this.getLineMaxColumn(de);this._onBeforeEOLChange(),this._buffer.setEOL(G),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new s.ModelRawContentChangedEvent([new s.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,de,ae),0,ee,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const W=this.getVersionId(),G=this._decorationsTree.collectNodesPostOrder();for(let re=0,ee=G.length;re<ee;re++){const de=G[re],ae=de.range,ce=de.cachedAbsoluteStart-de.start,J=this._buffer.getOffsetAt(ae.startLineNumber,ae.startColumn),Z=this._buffer.getOffsetAt(ae.endLineNumber,ae.endColumn);de.cachedAbsoluteStart=J,de.cachedAbsoluteEnd=Z,de.cachedVersionId=W,de.start=J-ce,de.end=Z-ce,(0,c.recomputeMaxEnd)(de)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let W=0,G=0;const re=this._buffer.getLineCount();for(let ee=1;ee<=re;ee++){const de=this._buffer.getLineLength(ee);de>=e.LONG_LINE_BOUNDARY?G+=de:W+=de}return G>W}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(W){this._assertNotDisposed();let G=typeof W.tabSize!="undefined"?W.tabSize:this._options.tabSize,re=typeof W.indentSize!="undefined"?W.indentSize:this._options.indentSize,ee=typeof W.insertSpaces!="undefined"?W.insertSpaces:this._options.insertSpaces,de=typeof W.trimAutoWhitespace!="undefined"?W.trimAutoWhitespace:this._options.trimAutoWhitespace,ae=typeof W.bracketColorizationOptions!="undefined"?W.bracketColorizationOptions:this._options.bracketPairColorizationOptions,ce=new r.TextModelResolvedOptions({tabSize:G,indentSize:re,insertSpaces:ee,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:de,bracketPairColorizationOptions:ae});if(this._options.equals(ce))return;let J=this._options.createChangeEvent(ce);this._options=ce,this._onDidChangeOptions.fire(J)}detectIndentation(W,G){this._assertNotDisposed();let re=(0,d.guessIndentation)(this._buffer,G,W);this.updateOptions({insertSpaces:re.insertSpaces,tabSize:re.tabSize,indentSize:re.tabSize})}static _normalizeIndentationFromWhitespace(W,G,re){let ee=0;for(let ae=0;ae<W.length;ae++)W.charAt(ae)==="	"?ee+=G:ee++;let de="";if(!re){let ae=Math.floor(ee/G);ee=ee%G;for(let ce=0;ce<ae;ce++)de+="	"}for(let ae=0;ae<ee;ae++)de+=" ";return de}static normalizeIndentation(W,G,re){let ee=D.firstNonWhitespaceIndex(W);return ee===-1&&(ee=W.length),z._normalizeIndentationFromWhitespace(W.substring(0,ee),G,re)+W.substring(ee)}normalizeIndentation(W){return this._assertNotDisposed(),z.normalizeIndentation(W,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(W=null){const G=this.findMatches(D.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(W,G.map(re=>({range:re.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(W){this._assertNotDisposed();let G=this._validatePosition(W.lineNumber,W.column,0);return this._buffer.getOffsetAt(G.lineNumber,G.column)}getPositionAt(W){this._assertNotDisposed();let G=Math.min(this._buffer.getLength(),Math.max(0,W));return this._buffer.getPositionAt(G)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(W){this._versionId=W}_overwriteAlternativeVersionId(W){this._alternativeVersionId=W}_overwriteInitialUndoRedoSnapshot(W){this._initialUndoRedoSnapshot=W}getValue(W,G=!1){this._assertNotDisposed();const re=this.getFullModelRange(),ee=this.getValueInRange(re,W);return G?this._buffer.getBOM()+ee:ee}createSnapshot(W=!1){return new R(this._buffer.createSnapshot(W))}getValueLength(W,G=!1){this._assertNotDisposed();const re=this.getFullModelRange(),ee=this.getValueLengthInRange(re,W);return G?this._buffer.getBOM().length+ee:ee}getValueInRange(W,G=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(W),G)}getValueLengthInRange(W,G=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(W),G)}getCharacterCountInRange(W,G=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(W),G)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(W){if(this._assertNotDisposed(),W<1||W>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(W)}getLineLength(W){if(this._assertNotDisposed(),W<1||W>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(W)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(W){return this._assertNotDisposed(),1}getLineMaxColumn(W){if(this._assertNotDisposed(),W<1||W>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(W)+1}getLineFirstNonWhitespaceColumn(W){if(this._assertNotDisposed(),W<1||W>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(W)}getLineLastNonWhitespaceColumn(W){if(this._assertNotDisposed(),W<1||W>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(W)}_validateRangeRelaxedNoAllocations(W){const G=this._buffer.getLineCount(),re=W.startLineNumber,ee=W.startColumn;let de=Math.floor(typeof re=="number"&&!isNaN(re)?re:1),ae=Math.floor(typeof ee=="number"&&!isNaN(ee)?ee:1);if(de<1)de=1,ae=1;else if(de>G)de=G,ae=this.getLineMaxColumn(de);else if(ae<=1)ae=1;else{const he=this.getLineMaxColumn(de);ae>=he&&(ae=he)}const ce=W.endLineNumber,J=W.endColumn;let Z=Math.floor(typeof ce=="number"&&!isNaN(ce)?ce:1),le=Math.floor(typeof J=="number"&&!isNaN(J)?J:1);if(Z<1)Z=1,le=1;else if(Z>G)Z=G,le=this.getLineMaxColumn(Z);else if(le<=1)le=1;else{const he=this.getLineMaxColumn(Z);le>=he&&(le=he)}return re===de&&ee===ae&&ce===Z&&J===le&&W instanceof i.Range&&!(W instanceof f.Selection)?W:new i.Range(de,ae,Z,le)}_isValidPosition(W,G,re){if(typeof W!="number"||typeof G!="number"||isNaN(W)||isNaN(G)||W<1||G<1||(W|0)!==W||(G|0)!==G)return!1;const ee=this._buffer.getLineCount();if(W>ee)return!1;if(G===1)return!0;const de=this.getLineMaxColumn(W);if(G>de)return!1;if(re===1){const ae=this._buffer.getLineCharCode(W,G-2);if(D.isHighSurrogate(ae))return!1}return!0}_validatePosition(W,G,re){const ee=Math.floor(typeof W=="number"&&!isNaN(W)?W:1),de=Math.floor(typeof G=="number"&&!isNaN(G)?G:1),ae=this._buffer.getLineCount();if(ee<1)return new b.Position(1,1);if(ee>ae)return new b.Position(ae,this.getLineMaxColumn(ae));if(de<=1)return new b.Position(ee,1);const ce=this.getLineMaxColumn(ee);if(de>=ce)return new b.Position(ee,ce);if(re===1){const J=this._buffer.getLineCharCode(ee,de-2);if(D.isHighSurrogate(J))return new b.Position(ee,de-1)}return new b.Position(ee,de)}validatePosition(W){const G=1;return this._assertNotDisposed(),W instanceof b.Position&&this._isValidPosition(W.lineNumber,W.column,G)?W:this._validatePosition(W.lineNumber,W.column,G)}_isValidRange(W,G){const re=W.startLineNumber,ee=W.startColumn,de=W.endLineNumber,ae=W.endColumn;if(!this._isValidPosition(re,ee,0)||!this._isValidPosition(de,ae,0))return!1;if(G===1){const ce=ee>1?this._buffer.getLineCharCode(re,ee-2):0,J=ae>1&&ae<=this._buffer.getLineLength(de)?this._buffer.getLineCharCode(de,ae-2):0,Z=D.isHighSurrogate(ce),le=D.isHighSurrogate(J);return!Z&&!le}return!0}validateRange(W){const G=1;if(this._assertNotDisposed(),W instanceof i.Range&&!(W instanceof f.Selection)&&this._isValidRange(W,G))return W;const re=this._validatePosition(W.startLineNumber,W.startColumn,0),ee=this._validatePosition(W.endLineNumber,W.endColumn,0),de=re.lineNumber,ae=re.column,ce=ee.lineNumber,J=ee.column;if(G===1){const Z=ae>1?this._buffer.getLineCharCode(de,ae-2):0,le=J>1&&J<=this._buffer.getLineLength(ce)?this._buffer.getLineCharCode(ce,J-2):0,he=D.isHighSurrogate(Z),ve=D.isHighSurrogate(le);return!he&&!ve?new i.Range(de,ae,ce,J):de===ce&&ae===J?new i.Range(de,ae-1,ce,J-1):he&&ve?new i.Range(de,ae-1,ce,J+1):he?new i.Range(de,ae-1,ce,J):new i.Range(de,ae,ce,J+1)}return new i.Range(de,ae,ce,J)}modifyPosition(W,G){this._assertNotDisposed();let re=this.getOffsetAt(W)+G;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,re)))}getFullModelRange(){this._assertNotDisposed();const W=this.getLineCount();return new i.Range(1,1,W,this.getLineMaxColumn(W))}findMatchesLineByLine(W,G,re,ee){return this._buffer.findMatchesLineByLine(W,G,re,ee)}findMatches(W,G,re,ee,de,ae,ce=M){this._assertNotDisposed();let J=null;G!==null&&(Array.isArray(G)||(G=[G]),G.every(he=>i.Range.isIRange(he))&&(J=G.map(he=>this.validateRange(he)))),J===null&&(J=[this.getFullModelRange()]),J=J.sort((he,ve)=>he.startLineNumber-ve.startLineNumber||he.startColumn-ve.startColumn);const Z=[];Z.push(J.reduce((he,ve)=>i.Range.areIntersecting(he,ve)?he.plusRange(ve):(Z.push(he),ve)));let le;if(!re&&W.indexOf(`
`)<0){const ve=new n.SearchParams(W,re,ee,de).parseSearchRequest();if(!ve)return[];le=be=>this.findMatchesLineByLine(be,ve,ae,ce)}else le=he=>n.TextModelSearch.findMatches(this,new n.SearchParams(W,re,ee,de),he,ae,ce);return Z.map(le).reduce((he,ve)=>he.concat(ve),[])}findNextMatch(W,G,re,ee,de,ae){this._assertNotDisposed();const ce=this.validatePosition(G);if(!re&&W.indexOf(`
`)<0){const Z=new n.SearchParams(W,re,ee,de).parseSearchRequest();if(!Z)return null;const le=this.getLineCount();let he=new i.Range(ce.lineNumber,ce.column,le,this.getLineMaxColumn(le)),ve=this.findMatchesLineByLine(he,Z,ae,1);return n.TextModelSearch.findNextMatch(this,new n.SearchParams(W,re,ee,de),ce,ae),ve.length>0||(he=new i.Range(1,1,ce.lineNumber,this.getLineMaxColumn(ce.lineNumber)),ve=this.findMatchesLineByLine(he,Z,ae,1),ve.length>0)?ve[0]:null}return n.TextModelSearch.findNextMatch(this,new n.SearchParams(W,re,ee,de),ce,ae)}findPreviousMatch(W,G,re,ee,de,ae){this._assertNotDisposed();const ce=this.validatePosition(G);return n.TextModelSearch.findPreviousMatch(this,new n.SearchParams(W,re,ee,de),ce,ae)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(W){if((this.getEOL()===`
`?0:1)!==W)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(W)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(W){return W instanceof r.ValidAnnotatedEditOperation?W:new r.ValidAnnotatedEditOperation(W.identifier||null,this.validateRange(W.range),W.text,W.forceMoveMarkers||!1,W.isAutoWhitespaceEdit||!1,W._isTracked||!1)}_validateEditOperations(W){const G=[];for(let re=0,ee=W.length;re<ee;re++)G[re]=this._validateEditOperation(W[re]);return G}pushEditOperations(W,G,re){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(W,this._validateEditOperations(G),re)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(W,G,re){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let ee=G.map(ae=>({range:this.validateRange(ae.range),text:ae.text})),de=!0;if(W)for(let ae=0,ce=W.length;ae<ce;ae++){let J=W[ae],Z=!1;for(let le=0,he=ee.length;le<he;le++){let ve=ee[le].range,be=ve.startLineNumber>J.endLineNumber,we=J.startLineNumber>ve.endLineNumber;if(!be&&!we){Z=!0;break}}if(!Z){de=!1;break}}if(de)for(let ae=0,ce=this._trimAutoWhitespaceLines.length;ae<ce;ae++){let J=this._trimAutoWhitespaceLines[ae],Z=this.getLineMaxColumn(J),le=!0;for(let he=0,ve=ee.length;he<ve;he++){let be=ee[he].range,we=ee[he].text;if(!(J<be.startLineNumber||J>be.endLineNumber)&&!(J===be.startLineNumber&&be.startColumn===Z&&be.isEmpty()&&we&&we.length>0&&we.charAt(0)===`
`)&&!(J===be.startLineNumber&&be.startColumn===1&&be.isEmpty()&&we&&we.length>0&&we.charAt(we.length-1)===`
`)){le=!1;break}}if(le){const he=new i.Range(J,1,J,Z);G.push(new r.ValidAnnotatedEditOperation(null,he,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(W,G,re)}_applyUndo(W,G,re,ee){const de=W.map(ae=>{const ce=this.getPositionAt(ae.newPosition),J=this.getPositionAt(ae.newEnd);return{range:new i.Range(ce.lineNumber,ce.column,J.lineNumber,J.column),text:ae.oldText}});this._applyUndoRedoEdits(de,G,!0,!1,re,ee)}_applyRedo(W,G,re,ee){const de=W.map(ae=>{const ce=this.getPositionAt(ae.oldPosition),J=this.getPositionAt(ae.oldEnd);return{range:new i.Range(ce.lineNumber,ce.column,J.lineNumber,J.column),text:ae.newText}});this._applyUndoRedoEdits(de,G,!1,!0,re,ee)}_applyUndoRedoEdits(W,G,re,ee,de,ae){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=re,this._isRedoing=ee,this.applyEdits(W,!1),this.setEOL(G),this._overwriteAlternativeVersionId(de)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(ae),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(W,G=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const re=this._validateEditOperations(W);return this._doApplyEdits(re,G)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(W,G){const re=this._buffer.getLineCount(),ee=this._buffer.applyEdits(W,this._options.trimAutoWhitespace,G),de=this._buffer.getLineCount(),ae=ee.changes;if(this._trimAutoWhitespaceLines=ee.trimAutoWhitespaceLineNumbers,ae.length!==0){for(let Z=0,le=ae.length;Z<le;Z++){const he=ae[Z],[ve,be,we]=(0,_.countEOL)(he.text);this._tokens.acceptEdit(he.range,ve,be),this._tokens2.acceptEdit(he.range,ve,be,we,he.text.length>0?he.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(he.rangeOffset,he.rangeLength,he.text.length,he.forceMoveMarkers)}let ce=[];this._increaseVersionId();let J=re;for(let Z=0,le=ae.length;Z<le;Z++){const he=ae[Z],[ve]=(0,_.countEOL)(he.text);this._onDidChangeDecorations.fire();const be=he.range.startLineNumber,we=he.range.endLineNumber,Te=we-be,Pe=ve,Oe=Math.min(Te,Pe),Ve=Pe-Te,Be=de-J-Ve+be,He=Be,je=Be+Pe,Le=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new b.Position(He,1)),this.getOffsetAt(new b.Position(je,this.getLineMaxColumn(je))),0),Ee=s.LineInjectedText.fromDecorations(Le),Re=new m.ArrayQueue(Ee);for(let ze=Oe;ze>=0;ze--){const We=be+ze,Ze=Be+ze;Re.takeFromEndWhile(De=>De.lineNumber>Ze);const ke=Re.takeFromEndWhile(De=>De.lineNumber===Ze);ce.push(new s.ModelRawLineChanged(We,this.getLineContent(Ze),ke))}if(Oe<Te){const ze=be+Oe;ce.push(new s.ModelRawLinesDeleted(ze+1,we))}if(Oe<Pe){const ze=new m.ArrayQueue(Ee),We=be+Oe,Ze=Pe-Oe,ke=de-J-Ze+We+1;let De=[],Ne=[];for(let fe=0;fe<Ze;fe++){let me=ke+fe;Ne[fe]=this.getLineContent(me),ze.takeWhile(ye=>ye.lineNumber<me),De[fe]=ze.takeWhile(ye=>ye.lineNumber===me)}ce.push(new s.ModelRawLinesInserted(We+1,be+Pe,Ne,De))}J+=Ve}this._emitContentChangedEvent(new s.ModelRawContentChangedEvent(ce,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:ae,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return ee.reverseEdits===null?void 0:ee.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(W){if(W===null||W.size===0)return;const re=[...W].map(ee=>new s.ModelRawLineChanged(ee,this.getLineContent(ee),this._getInjectedTextInLine(ee)));this._onDidChangeContentOrInjectedText.fire(new s.ModelInjectedTextChangedEvent(re))}changeDecorations(W,G=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(G,W)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(W,G){let re={addDecoration:(de,ae)=>this._deltaDecorationsImpl(W,[],[{range:de,options:ae}])[0],changeDecoration:(de,ae)=>{this._changeDecorationImpl(de,ae)},changeDecorationOptions:(de,ae)=>{this._changeDecorationOptionsImpl(de,ne(ae))},removeDecoration:de=>{this._deltaDecorationsImpl(W,[de],[])},deltaDecorations:(de,ae)=>de.length===0&&ae.length===0?[]:this._deltaDecorationsImpl(W,de,ae)},ee=null;try{ee=G(re)}catch(de){(0,y.onUnexpectedError)(de)}return re.addDecoration=O,re.changeDecoration=O,re.changeDecorationOptions=O,re.removeDecoration=O,re.deltaDecorations=O,ee}deltaDecorations(W,G,re=0){if(this._assertNotDisposed(),W||(W=[]),W.length===0&&G.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(re,W,G)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(W){return this.getDecorationRange(W)}_setTrackedRange(W,G,re){const ee=W?this._decorations[W]:null;if(!ee)return G?this._deltaDecorationsImpl(0,[],[{range:G,options:V[re]}])[0]:null;if(!G)return this._decorationsTree.delete(ee),delete this._decorations[ee.id],null;const de=this._validateRangeRelaxedNoAllocations(G),ae=this._buffer.getOffsetAt(de.startLineNumber,de.startColumn),ce=this._buffer.getOffsetAt(de.endLineNumber,de.endColumn);return this._decorationsTree.delete(ee),ee.reset(this.getVersionId(),ae,ce,de),ee.setOptions(V[re]),this._decorationsTree.insert(ee),ee.id}removeAllDecorationsWithOwnerId(W){if(this._isDisposed)return;const G=this._decorationsTree.collectNodesFromOwner(W);for(let re=0,ee=G.length;re<ee;re++){const de=G[re];this._decorationsTree.delete(de),delete this._decorations[de.id]}}getDecorationOptions(W){const G=this._decorations[W];return G?G.options:null}getDecorationRange(W){const G=this._decorations[W];return G?this._decorationsTree.getNodeRange(this,G):null}getLineDecorations(W,G=0,re=!1){return W<1||W>this.getLineCount()?[]:this.getLinesDecorations(W,W,G,re)}getLinesDecorations(W,G,re=0,ee=!1){let de=this.getLineCount(),ae=Math.min(de,Math.max(1,W)),ce=Math.min(de,Math.max(1,G)),J=this.getLineMaxColumn(ce);const Z=new i.Range(ae,1,ce,J),le=this._getDecorationsInRange(Z,re,ee);return le.push(...this._decorationProvider.getDecorationsInRange(Z,re,ee)),le}getDecorationsInRange(W,G=0,re=!1){let ee=this.validateRange(W);const de=this._getDecorationsInRange(ee,G,re);return de.push(...this._decorationProvider.getDecorationsInRange(ee,G,re)),de}getOverviewRulerDecorations(W=0,G=!1){return this._decorationsTree.getAll(this,W,G,!0)}getInjectedTextDecorations(W=0){return this._decorationsTree.getAllInjectedText(this,W)}_getInjectedTextInLine(W){const G=this._buffer.getOffsetAt(W,1),re=G+this._buffer.getLineLength(W),ee=this._decorationsTree.getInjectedTextInInterval(this,G,re,0);return s.LineInjectedText.fromDecorations(ee).filter(de=>de.lineNumber===W)}getAllDecorations(W=0,G=!1){let re=this._decorationsTree.getAll(this,W,G,!1);return re=re.concat(this._decorationProvider.getAllDecorations(W,G)),re}_getDecorationsInRange(W,G,re){const ee=this._buffer.getOffsetAt(W.startLineNumber,W.startColumn),de=this._buffer.getOffsetAt(W.endLineNumber,W.endColumn);return this._decorationsTree.getAllInInterval(this,ee,de,G,re)}getRangeAt(W,G){return this._buffer.getRangeAt(W,G-W)}_changeDecorationImpl(W,G){const re=this._decorations[W];if(!re)return;if(re.options.after){const ce=this.getDecorationRange(W);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ce.endLineNumber)}if(re.options.before){const ce=this.getDecorationRange(W);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ce.startLineNumber)}const ee=this._validateRangeRelaxedNoAllocations(G),de=this._buffer.getOffsetAt(ee.startLineNumber,ee.startColumn),ae=this._buffer.getOffsetAt(ee.endLineNumber,ee.endColumn);this._decorationsTree.delete(re),re.reset(this.getVersionId(),de,ae,ee),this._decorationsTree.insert(re),this._onDidChangeDecorations.checkAffectedAndFire(re.options),re.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ee.endLineNumber),re.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ee.startLineNumber)}_changeDecorationOptionsImpl(W,G){const re=this._decorations[W];if(!re)return;const ee=!!(re.options.overviewRuler&&re.options.overviewRuler.color),de=!!(G.overviewRuler&&G.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(re.options),this._onDidChangeDecorations.checkAffectedAndFire(G),re.options.after||G.after){const ae=this._decorationsTree.getNodeRange(this,re);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ae.endLineNumber)}if(re.options.before||G.before){const ae=this._decorationsTree.getNodeRange(this,re);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ae.startLineNumber)}ee!==de?(this._decorationsTree.delete(re),re.setOptions(G),this._decorationsTree.insert(re)):re.setOptions(G)}_deltaDecorationsImpl(W,G,re){const ee=this.getVersionId(),de=G.length;let ae=0;const ce=re.length;let J=0,Z=new Array(ce);for(;ae<de||J<ce;){let le=null;if(ae<de){do le=this._decorations[G[ae++]];while(!le&&ae<de);if(le){if(le.options.after){const he=this._decorationsTree.getNodeRange(this,le);this._onDidChangeDecorations.recordLineAffectedByInjectedText(he.endLineNumber)}if(le.options.before){const he=this._decorationsTree.getNodeRange(this,le);this._onDidChangeDecorations.recordLineAffectedByInjectedText(he.startLineNumber)}this._decorationsTree.delete(le),this._onDidChangeDecorations.checkAffectedAndFire(le.options)}}if(J<ce){if(!le){const Pe=++this._lastDecorationId,Oe=`${this._instanceId};${Pe}`;le=new c.IntervalNode(Oe,0,0),this._decorations[Oe]=le}const he=re[J],ve=this._validateRangeRelaxedNoAllocations(he.range),be=ne(he.options),we=this._buffer.getOffsetAt(ve.startLineNumber,ve.startColumn),Te=this._buffer.getOffsetAt(ve.endLineNumber,ve.endColumn);le.ownerId=W,le.reset(ee,we,Te,ve),le.setOptions(be),le.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.endLineNumber),le.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(be),this._decorationsTree.insert(le),Z[J]=le.id,J++}else le&&delete this._decorations[le.id]}return Z}setTokens(W,G=!1){if(W.length!==0){let re=[];for(let ee=0,de=W.length;ee<de;ee++){const ae=W[ee];let ce=0,J=0,Z=!1;for(let le=0,he=ae.tokens.length;le<he;le++){const ve=ae.startLineNumber+le;Z?(this._tokens.setTokens(this._languageIdentifier.id,ve-1,this._buffer.getLineLength(ve),ae.tokens[le],!1),J=ve):this._tokens.setTokens(this._languageIdentifier.id,ve-1,this._buffer.getLineLength(ve),ae.tokens[le],!0)&&(Z=!0,ce=ve,J=ve)}Z&&re.push({fromLineNumber:ce,toLineNumber:J})}re.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:re})}this.handleTokenizationProgress(G)}setSemanticTokens(W,G){this._tokens2.set(W,G),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:W!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(W,G){if(this.hasCompleteSemanticTokens())return;const re=this._tokens2.setPartial(W,G);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:re.startLineNumber,toLineNumber:re.endLineNumber}]})}tokenizeViewport(W,G){W=Math.max(1,W),G=Math.min(this._buffer.getLineCount(),G),this._tokenization.tokenizeViewport(W,G)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(W){this._isDisposing||this._onDidChangeTokens.fire(W)}resetTokenization(){this._tokenization.reset()}forceTokenization(W){if(W<1||W>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(W)}isCheapToTokenize(W){return this._tokenization.isCheapToTokenize(W)}tokenizeIfCheap(W){this.isCheapToTokenize(W)&&this.forceTokenization(W)}getLineTokens(W){if(W<1||W>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(W)}_getLineTokens(W){const G=this.getLineContent(W),re=this._tokens.getTokens(this._languageIdentifier.id,W-1,G);return this._tokens2.addSemanticTokens(W,re)}getLanguageIdentifier(){return this._languageIdentifier}getModeId(){return this._languageIdentifier.language}setMode(W){if(this._languageIdentifier.id===W.id)return;let G={oldLanguage:this._languageIdentifier.language,newLanguage:W.language};this._languageIdentifier=W,this._onDidChangeLanguage.fire(G),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(W,G){const re=this.validatePosition(new b.Position(W,G)),ee=this.getLineTokens(re.lineNumber);return ee.getLanguageId(ee.findTokenIndexAtOffset(re.column-1))}getWordAtPosition(W){this._assertNotDisposed();const G=this.validatePosition(W),re=this.getLineContent(G.lineNumber),ee=this._getLineTokens(G.lineNumber),de=ee.findTokenIndexAtOffset(G.column-1),[ae,ce]=z._findLanguageBoundaries(ee,de),J=(0,t.getWordAtText)(G.column,l.LanguageConfigurationRegistry.getWordDefinition(ee.getLanguageId(de)),re.substring(ae,ce),ae);if(J&&J.startColumn<=W.column&&W.column<=J.endColumn)return J;if(de>0&&ae===G.column-1){const[Z,le]=z._findLanguageBoundaries(ee,de-1),he=(0,t.getWordAtText)(G.column,l.LanguageConfigurationRegistry.getWordDefinition(ee.getLanguageId(de-1)),re.substring(Z,le),Z);if(he&&he.startColumn<=W.column&&W.column<=he.endColumn)return he}return null}static _findLanguageBoundaries(W,G){const re=W.getLanguageId(G);let ee=0;for(let ae=G;ae>=0&&W.getLanguageId(ae)===re;ae--)ee=W.getStartOffset(ae);let de=W.getLineContent().length;for(let ae=G,ce=W.getCount();ae<ce&&W.getLanguageId(ae)===re;ae++)de=W.getEndOffset(ae);return[ee,de]}getWordUntilPosition(W){const G=this.getWordAtPosition(W);return G?{word:G.word.substr(0,W.column-G.startColumn),startColumn:G.startColumn,endColumn:W.column}:{word:"",startColumn:W.column,endColumn:W.column}}findMatchingBracketUp(W,G){let re=W.toLowerCase(),ee=this.validatePosition(G),de=this._getLineTokens(ee.lineNumber),ae=de.getLanguageId(de.findTokenIndexAtOffset(ee.column-1)),ce=l.LanguageConfigurationRegistry.getBracketsSupport(ae);if(!ce)return null;let J=ce.textIsBracket[re];return J?B(this._findMatchingBracketUp(J,ee,null)):null}matchBracket(W){return this._matchBracket(this.validatePosition(W))}_establishBracketSearchOffsets(W,G,re,ee){const de=G.getCount(),ae=G.getLanguageId(ee);let ce=Math.max(0,W.column-1-re.maxBracketLength);for(let Z=ee-1;Z>=0;Z--){const le=G.getEndOffset(Z);if(le<=ce)break;if((0,g.ignoreBracketsInToken)(G.getStandardTokenType(Z))||G.getLanguageId(Z)!==ae){ce=le;break}}let J=Math.min(G.getLineContent().length,W.column-1+re.maxBracketLength);for(let Z=ee+1;Z<de;Z++){const le=G.getStartOffset(Z);if(le>=J)break;if((0,g.ignoreBracketsInToken)(G.getStandardTokenType(Z))||G.getLanguageId(Z)!==ae){J=le;break}}return{searchStartOffset:ce,searchEndOffset:J}}_matchBracket(W){const G=W.lineNumber,re=this._getLineTokens(G),ee=this._buffer.getLineContent(G),de=re.findTokenIndexAtOffset(W.column-1);if(de<0)return null;const ae=l.LanguageConfigurationRegistry.getBracketsSupport(re.getLanguageId(de));if(ae&&!(0,g.ignoreBracketsInToken)(re.getStandardTokenType(de))){let{searchStartOffset:ce,searchEndOffset:J}=this._establishBracketSearchOffsets(W,re,ae,de),Z=null;for(;;){const le=w.BracketsUtils.findNextBracketInRange(ae.forwardRegex,G,ee,ce,J);if(!le)break;if(le.startColumn<=W.column&&W.column<=le.endColumn){const he=ee.substring(le.startColumn-1,le.endColumn-1).toLowerCase(),ve=this._matchFoundBracket(le,ae.textIsBracket[he],ae.textIsOpenBracket[he],null);if(ve){if(ve instanceof L)return null;Z=ve}}ce=le.endColumn-1}if(Z)return Z}if(de>0&&re.getStartOffset(de)===W.column-1){const ce=de-1,J=l.LanguageConfigurationRegistry.getBracketsSupport(re.getLanguageId(ce));if(J&&!(0,g.ignoreBracketsInToken)(re.getStandardTokenType(ce))){let{searchStartOffset:Z,searchEndOffset:le}=this._establishBracketSearchOffsets(W,re,J,ce);const he=w.BracketsUtils.findPrevBracketInRange(J.reversedRegex,G,ee,Z,le);if(he&&he.startColumn<=W.column&&W.column<=he.endColumn){const ve=ee.substring(he.startColumn-1,he.endColumn-1).toLowerCase(),be=this._matchFoundBracket(he,J.textIsBracket[ve],J.textIsOpenBracket[ve],null);if(be)return be instanceof L?null:be}}}return null}_matchFoundBracket(W,G,re,ee){if(!G)return null;const de=re?this._findMatchingBracketDown(G,W.getEndPosition(),ee):this._findMatchingBracketUp(G,W.getStartPosition(),ee);return de?de instanceof L?de:[W,de]:null}_findMatchingBracketUp(W,G,re){const ee=W.languageIdentifier.id,de=W.reversedRegex;let ae=-1,ce=0;const J=(Z,le,he,ve)=>{for(;;){if(re&&++ce%100==0&&!re())return L.INSTANCE;const be=w.BracketsUtils.findPrevBracketInRange(de,Z,le,he,ve);if(!be)break;const we=le.substring(be.startColumn-1,be.endColumn-1).toLowerCase();if(W.isOpen(we)?ae++:W.isClose(we)&&ae--,ae===0)return be;ve=be.startColumn-1}return null};for(let Z=G.lineNumber;Z>=1;Z--){const le=this._getLineTokens(Z),he=le.getCount(),ve=this._buffer.getLineContent(Z);let be=he-1,we=ve.length,Te=ve.length;Z===G.lineNumber&&(be=le.findTokenIndexAtOffset(G.column-1),we=G.column-1,Te=G.column-1);let Pe=!0;for(;be>=0;be--){const Oe=le.getLanguageId(be)===ee&&!(0,g.ignoreBracketsInToken)(le.getStandardTokenType(be));if(Oe)Pe?we=le.getStartOffset(be):(we=le.getStartOffset(be),Te=le.getEndOffset(be));else if(Pe&&we!==Te){const Ve=J(Z,ve,we,Te);if(Ve)return Ve}Pe=Oe}if(Pe&&we!==Te){const Oe=J(Z,ve,we,Te);if(Oe)return Oe}}return null}_findMatchingBracketDown(W,G,re){const ee=W.languageIdentifier.id,de=W.forwardRegex;let ae=1,ce=0;const J=(le,he,ve,be)=>{for(;;){if(re&&++ce%100==0&&!re())return L.INSTANCE;const we=w.BracketsUtils.findNextBracketInRange(de,le,he,ve,be);if(!we)break;const Te=he.substring(we.startColumn-1,we.endColumn-1).toLowerCase();if(W.isOpen(Te)?ae++:W.isClose(Te)&&ae--,ae===0)return we;ve=we.endColumn-1}return null},Z=this.getLineCount();for(let le=G.lineNumber;le<=Z;le++){const he=this._getLineTokens(le),ve=he.getCount(),be=this._buffer.getLineContent(le);let we=0,Te=0,Pe=0;le===G.lineNumber&&(we=he.findTokenIndexAtOffset(G.column-1),Te=G.column-1,Pe=G.column-1);let Oe=!0;for(;we<ve;we++){const Ve=he.getLanguageId(we)===ee&&!(0,g.ignoreBracketsInToken)(he.getStandardTokenType(we));if(Ve)Oe||(Te=he.getStartOffset(we)),Pe=he.getEndOffset(we);else if(Oe&&Te!==Pe){const Be=J(le,be,Te,Pe);if(Be)return Be}Oe=Ve}if(Oe&&Te!==Pe){const Ve=J(le,be,Te,Pe);if(Ve)return Ve}}return null}findPrevBracket(W){const G=this.validatePosition(W);let re=-1,ee=null;for(let de=G.lineNumber;de>=1;de--){const ae=this._getLineTokens(de),ce=ae.getCount(),J=this._buffer.getLineContent(de);let Z=ce-1,le=J.length,he=J.length;if(de===G.lineNumber){Z=ae.findTokenIndexAtOffset(G.column-1),le=G.column-1,he=G.column-1;const be=ae.getLanguageId(Z);re!==be&&(re=be,ee=l.LanguageConfigurationRegistry.getBracketsSupport(re))}let ve=!0;for(;Z>=0;Z--){const be=ae.getLanguageId(Z);if(re!==be){if(ee&&ve&&le!==he){const Te=w.BracketsUtils.findPrevBracketInRange(ee.reversedRegex,de,J,le,he);if(Te)return this._toFoundBracket(ee,Te);ve=!1}re=be,ee=l.LanguageConfigurationRegistry.getBracketsSupport(re)}const we=!!ee&&!(0,g.ignoreBracketsInToken)(ae.getStandardTokenType(Z));if(we)ve?le=ae.getStartOffset(Z):(le=ae.getStartOffset(Z),he=ae.getEndOffset(Z));else if(ee&&ve&&le!==he){const Te=w.BracketsUtils.findPrevBracketInRange(ee.reversedRegex,de,J,le,he);if(Te)return this._toFoundBracket(ee,Te)}ve=we}if(ee&&ve&&le!==he){const be=w.BracketsUtils.findPrevBracketInRange(ee.reversedRegex,de,J,le,he);if(be)return this._toFoundBracket(ee,be)}}return null}findNextBracket(W){const G=this.validatePosition(W),re=this.getLineCount();let ee=-1,de=null;for(let ae=G.lineNumber;ae<=re;ae++){const ce=this._getLineTokens(ae),J=ce.getCount(),Z=this._buffer.getLineContent(ae);let le=0,he=0,ve=0;if(ae===G.lineNumber){le=ce.findTokenIndexAtOffset(G.column-1),he=G.column-1,ve=G.column-1;const we=ce.getLanguageId(le);ee!==we&&(ee=we,de=l.LanguageConfigurationRegistry.getBracketsSupport(ee))}let be=!0;for(;le<J;le++){const we=ce.getLanguageId(le);if(ee!==we){if(de&&be&&he!==ve){const Pe=w.BracketsUtils.findNextBracketInRange(de.forwardRegex,ae,Z,he,ve);if(Pe)return this._toFoundBracket(de,Pe);be=!1}ee=we,de=l.LanguageConfigurationRegistry.getBracketsSupport(ee)}const Te=!!de&&!(0,g.ignoreBracketsInToken)(ce.getStandardTokenType(le));if(Te)be||(he=ce.getStartOffset(le)),ve=ce.getEndOffset(le);else if(de&&be&&he!==ve){const Pe=w.BracketsUtils.findNextBracketInRange(de.forwardRegex,ae,Z,he,ve);if(Pe)return this._toFoundBracket(de,Pe)}be=Te}if(de&&be&&he!==ve){const we=w.BracketsUtils.findNextBracketInRange(de.forwardRegex,ae,Z,he,ve);if(we)return this._toFoundBracket(de,we)}}return null}findEnclosingBrackets(W,G){let re;if(typeof G=="undefined")re=null;else{const be=Date.now();re=()=>Date.now()-be<=G}const ee=this.validatePosition(W),de=this.getLineCount(),ae=new Map;let ce=[];const J=(be,we)=>{if(!ae.has(be)){let Te=[];for(let Pe=0,Oe=we?we.brackets.length:0;Pe<Oe;Pe++)Te[Pe]=0;ae.set(be,Te)}ce=ae.get(be)};let Z=0;const le=(be,we,Te,Pe,Oe)=>{for(;;){if(re&&++Z%100==0&&!re())return L.INSTANCE;const Ve=w.BracketsUtils.findNextBracketInRange(be.forwardRegex,we,Te,Pe,Oe);if(!Ve)break;const Be=Te.substring(Ve.startColumn-1,Ve.endColumn-1).toLowerCase(),He=be.textIsBracket[Be];if(He&&(He.isOpen(Be)?ce[He.index]++:He.isClose(Be)&&ce[He.index]--,ce[He.index]===-1))return this._matchFoundBracket(Ve,He,!1,re);Pe=Ve.endColumn-1}return null};let he=-1,ve=null;for(let be=ee.lineNumber;be<=de;be++){const we=this._getLineTokens(be),Te=we.getCount(),Pe=this._buffer.getLineContent(be);let Oe=0,Ve=0,Be=0;if(be===ee.lineNumber){Oe=we.findTokenIndexAtOffset(ee.column-1),Ve=ee.column-1,Be=ee.column-1;const je=we.getLanguageId(Oe);he!==je&&(he=je,ve=l.LanguageConfigurationRegistry.getBracketsSupport(he),J(he,ve))}let He=!0;for(;Oe<Te;Oe++){const je=we.getLanguageId(Oe);if(he!==je){if(ve&&He&&Ve!==Be){const Ee=le(ve,be,Pe,Ve,Be);if(Ee)return B(Ee);He=!1}he=je,ve=l.LanguageConfigurationRegistry.getBracketsSupport(he),J(he,ve)}const Le=!!ve&&!(0,g.ignoreBracketsInToken)(we.getStandardTokenType(Oe));if(Le)He||(Ve=we.getStartOffset(Oe)),Be=we.getEndOffset(Oe);else if(ve&&He&&Ve!==Be){const Ee=le(ve,be,Pe,Ve,Be);if(Ee)return B(Ee)}He=Le}if(ve&&He&&Ve!==Be){const je=le(ve,be,Pe,Ve,Be);if(je)return B(je)}}return null}_toFoundBracket(W,G){if(!G)return null;let re=this.getValueInRange(G);re=re.toLowerCase();let ee=W.textIsBracket[re];return ee?{range:G,open:ee.open,close:ee.close,isOpen:W.textIsOpenBracket[re]}:null}static computeIndentLevel(W,G){let re=0,ee=0,de=W.length;for(;ee<de;){let ae=W.charCodeAt(ee);if(ae===32)re++;else if(ae===9)re=re-re%G+G;else break;ee++}return ee===de?-1:re}_computeIndentLevel(W){return z.computeIndentLevel(this._buffer.getLineContent(W+1),this._options.tabSize)}getActiveIndentGuide(W,G,re){this._assertNotDisposed();const ee=this.getLineCount();if(W<1||W>ee)throw new Error("Illegal value for lineNumber");const de=l.LanguageConfigurationRegistry.getFoldingRules(this._languageIdentifier.id),ae=Boolean(de&&de.offSide);let ce=-2,J=-1,Z=-2,le=-1;const he=Ee=>{if(ce!==-1&&(ce===-2||ce>Ee-1)){ce=-1,J=-1;for(let Re=Ee-2;Re>=0;Re--){let ze=this._computeIndentLevel(Re);if(ze>=0){ce=Re,J=ze;break}}}if(Z===-2){Z=-1,le=-1;for(let Re=Ee;Re<ee;Re++){let ze=this._computeIndentLevel(Re);if(ze>=0){Z=Re,le=ze;break}}}};let ve=-2,be=-1,we=-2,Te=-1;const Pe=Ee=>{if(ve===-2){ve=-1,be=-1;for(let Re=Ee-2;Re>=0;Re--){let ze=this._computeIndentLevel(Re);if(ze>=0){ve=Re,be=ze;break}}}if(we!==-1&&(we===-2||we<Ee-1)){we=-1,Te=-1;for(let Re=Ee;Re<ee;Re++){let ze=this._computeIndentLevel(Re);if(ze>=0){we=Re,Te=ze;break}}}};let Oe=0,Ve=!0,Be=0,He=!0,je=0,Le=0;for(let Ee=0;Ve||He;Ee++){const Re=W-Ee,ze=W+Ee;Ee>1&&(Re<1||Re<G)&&(Ve=!1),Ee>1&&(ze>ee||ze>re)&&(He=!1),Ee>5e4&&(Ve=!1,He=!1);let We=-1;if(Ve){const ke=this._computeIndentLevel(Re-1);ke>=0?(Z=Re-1,le=ke,We=Math.ceil(ke/this._options.indentSize)):(he(Re),We=this._getIndentLevelForWhitespaceLine(ae,J,le))}let Ze=-1;if(He){const ke=this._computeIndentLevel(ze-1);ke>=0?(ve=ze-1,be=ke,Ze=Math.ceil(ke/this._options.indentSize)):(Pe(ze),Ze=this._getIndentLevelForWhitespaceLine(ae,be,Te))}if(Ee===0){Le=We;continue}if(Ee===1){if(ze<=ee&&Ze>=0&&Le+1===Ze){Ve=!1,Oe=ze,Be=ze,je=Ze;continue}if(Re>=1&&We>=0&&We-1===Le){He=!1,Oe=Re,Be=Re,je=We;continue}if(Oe=W,Be=W,je=Le,je===0)return{startLineNumber:Oe,endLineNumber:Be,indent:je}}Ve&&(We>=je?Oe=Re:Ve=!1),He&&(Ze>=je?Be=ze:He=!1)}return{startLineNumber:Oe,endLineNumber:Be,indent:je}}getLinesBracketGuides(W,G,re,ee,de){var ae,ce,J;const Z=[],le=this._bracketPairColorizer.getBracketPairsInRange(new i.Range(W,1,G,this.getLineMaxColumn(G)));let he;if(re&&le.length>0){const Te=W<=re.lineNumber&&re.lineNumber<=G?le.filter(Pe=>Pe.range.containsPosition(re)):this._bracketPairColorizer.getBracketPairsInRange(i.Range.fromPositions(re));he=(ae=(0,m.findLast)(Te,Pe=>Pe.range.startLineNumber!==Pe.range.endLineNumber))===null||ae===void 0?void 0:ae.range}const ve=new m.ArrayQueue(le),be=new Array,we=new j;for(let Te=W;Te<=G;Te++){const Pe=new Array;Z.push(Pe);for(const Ve of ve.takeWhile(Be=>Be.openingBracketRange.startLineNumber<Te)||[])be[Ve.nestingLevel]=Ve;let Oe=Number.MAX_SAFE_INTEGER;for(let Ve=be.length-1;Ve>=0;Ve--){const Be=be[Ve];if(Be.range.endLineNumber<=Te)continue;const He=Math.min(this.getVisibleColumnFromPosition(Be.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition((J=(ce=Be.closingBracketRange)===null||ce===void 0?void 0:ce.getStartPosition())!==null&&J!==void 0?J:Be.range.getEndPosition()));if(He>Oe)continue;Oe=He;const je=ee&&he&&Be.range.equalsRange(he),Le=we.getInlineClassNameOfLevel(Be.nestingLevel)+(je?" "+we.activeClassName:"");(je||de)&&Pe.push(new r.IndentGuide(He,Le))}Pe.reverse()}return Z}getVisibleColumnFromPosition(W){return I.CursorColumns.visibleColumnFromColumn(this.getLineContent(W.lineNumber),W.column,this._options.tabSize)+1}getLinesIndentGuides(W,G){this._assertNotDisposed();const re=this.getLineCount();if(W<1||W>re)throw new Error("Illegal value for startLineNumber");if(G<1||G>re)throw new Error("Illegal value for endLineNumber");const ee=l.LanguageConfigurationRegistry.getFoldingRules(this._languageIdentifier.id),de=Boolean(ee&&ee.offSide);let ae=new Array(G-W+1),ce=-2,J=-1,Z=-2,le=-1;for(let he=W;he<=G;he++){let ve=he-W;const be=this._computeIndentLevel(he-1);if(be>=0){ce=he-1,J=be,ae[ve]=Math.ceil(be/this._options.indentSize);continue}if(ce===-2){ce=-1,J=-1;for(let we=he-2;we>=0;we--){let Te=this._computeIndentLevel(we);if(Te>=0){ce=we,J=Te;break}}}if(Z!==-1&&(Z===-2||Z<he-1)){Z=-1,le=-1;for(let we=he;we<re;we++){let Te=this._computeIndentLevel(we);if(Te>=0){Z=we,le=Te;break}}}ae[ve]=this._getIndentLevelForWhitespaceLine(de,J,le)}return ae}_getIndentLevelForWhitespaceLine(W,G,re){return G===-1||re===-1?0:G<re?1+Math.floor(G/this._options.indentSize):G===re?Math.ceil(re/this._options.indentSize):W?Math.ceil(re/this._options.indentSize):1+Math.floor(re/this._options.indentSize)}normalizePosition(W,G){return W}getLineIndentColumn(W){return $(this.getLineContent(W))+1}}e.TextModel=z,z.MODEL_SYNC_LIMIT=50*1024*1024,z.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,z.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,z.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:p.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:p.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:p.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:p.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:p.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:p.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions};function $(ge){let W=0;for(const G of ge)if(G===" "||G==="	")W++;else break;return W}class j{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(W){return`bracket-indent-guide lvl-${W%30}`}}e.BracketPairGuidesClassNames=j;function X(ge){return!!(ge.options.overviewRuler&&ge.options.overviewRuler.color)}function Q(ge){return!!ge.options.after||!!ge.options.before}class Y{constructor(){this._decorationsTree0=new c.IntervalTree,this._decorationsTree1=new c.IntervalTree,this._injectedTextDecorationsTree=new c.IntervalTree}ensureAllNodesHaveRanges(W){this.getAll(W,0,!1,!1)}_ensureNodesHaveRanges(W,G){for(const re of G)re.range===null&&(re.range=W.getRangeAt(re.cachedAbsoluteStart,re.cachedAbsoluteEnd));return G}getAllInInterval(W,G,re,ee,de){const ae=W.getVersionId(),ce=this._intervalSearch(G,re,ee,de,ae);return this._ensureNodesHaveRanges(W,ce)}_intervalSearch(W,G,re,ee,de){const ae=this._decorationsTree0.intervalSearch(W,G,re,ee,de),ce=this._decorationsTree1.intervalSearch(W,G,re,ee,de),J=this._injectedTextDecorationsTree.intervalSearch(W,G,re,ee,de);return ae.concat(ce).concat(J)}getInjectedTextInInterval(W,G,re,ee){const de=W.getVersionId(),ae=this._injectedTextDecorationsTree.intervalSearch(G,re,ee,!1,de);return this._ensureNodesHaveRanges(W,ae).filter(ce=>ce.options.showIfCollapsed||!ce.range.isEmpty())}getAllInjectedText(W,G){const re=W.getVersionId(),ee=this._injectedTextDecorationsTree.search(G,!1,re);return this._ensureNodesHaveRanges(W,ee).filter(de=>de.options.showIfCollapsed||!de.range.isEmpty())}getAll(W,G,re,ee){const de=W.getVersionId(),ae=this._search(G,re,ee,de);return this._ensureNodesHaveRanges(W,ae)}_search(W,G,re,ee){if(re)return this._decorationsTree1.search(W,G,ee);{const de=this._decorationsTree0.search(W,G,ee),ae=this._decorationsTree1.search(W,G,ee),ce=this._injectedTextDecorationsTree.search(W,G,ee);return de.concat(ae).concat(ce)}}collectNodesFromOwner(W){const G=this._decorationsTree0.collectNodesFromOwner(W),re=this._decorationsTree1.collectNodesFromOwner(W),ee=this._injectedTextDecorationsTree.collectNodesFromOwner(W);return G.concat(re).concat(ee)}collectNodesPostOrder(){const W=this._decorationsTree0.collectNodesPostOrder(),G=this._decorationsTree1.collectNodesPostOrder(),re=this._injectedTextDecorationsTree.collectNodesPostOrder();return W.concat(G).concat(re)}insert(W){Q(W)?this._injectedTextDecorationsTree.insert(W):X(W)?this._decorationsTree1.insert(W):this._decorationsTree0.insert(W)}delete(W){Q(W)?this._injectedTextDecorationsTree.delete(W):X(W)?this._decorationsTree1.delete(W):this._decorationsTree0.delete(W)}getNodeRange(W,G){const re=W.getVersionId();return G.cachedVersionId!==re&&this._resolveNode(G,re),G.range===null&&(G.range=W.getRangeAt(G.cachedAbsoluteStart,G.cachedAbsoluteEnd)),G.range}_resolveNode(W,G){Q(W)?this._injectedTextDecorationsTree.resolveNode(W,G):X(W)?this._decorationsTree1.resolveNode(W,G):this._decorationsTree0.resolveNode(W,G)}acceptReplace(W,G,re,ee){this._decorationsTree0.acceptReplace(W,G,re,ee),this._decorationsTree1.acceptReplace(W,G,re,ee),this._injectedTextDecorationsTree.acceptReplace(W,G,re,ee)}}function oe(ge){return ge.replace(/[^a-z0-9\-_]/gi," ")}class se{constructor(W){this.color=W.color||"",this.darkColor=W.darkColor||""}}class K extends se{constructor(W){super(W);this._resolvedColor=null,this.position=typeof W.position=="number"?W.position:r.OverviewRulerLane.Center}getColor(W){return this._resolvedColor||(W.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,W):this._resolvedColor=this._resolveColor(this.color,W)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(W,G){if(typeof W=="string")return W;let re=W?G.getColor(W.id):null;return re?re.toString():""}}e.ModelDecorationOverviewRulerOptions=K;class x extends se{constructor(W){super(W);this.position=W.position}getColor(W){return this._resolvedColor||(W.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,W):this._resolvedColor=this._resolveColor(this.color,W)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(W,G){return typeof W=="string"?C.Color.fromHex(W):G.getColor(W.id)}}e.ModelDecorationMinimapOptions=x;class U{constructor(W){this.content=W.content||"",this.inlineClassName=W.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=W.inlineClassNameAffectsLetterSpacing||!1}static from(W){return W instanceof U?W:new U(W)}}e.ModelDecorationInjectedTextOptions=U;class H{constructor(W){this.description=W.description,this.stickiness=W.stickiness||0,this.zIndex=W.zIndex||0,this.className=W.className?oe(W.className):null,this.hoverMessage=W.hoverMessage||null,this.glyphMarginHoverMessage=W.glyphMarginHoverMessage||null,this.isWholeLine=W.isWholeLine||!1,this.showIfCollapsed=W.showIfCollapsed||!1,this.collapseOnReplaceEdit=W.collapseOnReplaceEdit||!1,this.overviewRuler=W.overviewRuler?new K(W.overviewRuler):null,this.minimap=W.minimap?new x(W.minimap):null,this.glyphMarginClassName=W.glyphMarginClassName?oe(W.glyphMarginClassName):null,this.linesDecorationsClassName=W.linesDecorationsClassName?oe(W.linesDecorationsClassName):null,this.firstLineDecorationClassName=W.firstLineDecorationClassName?oe(W.firstLineDecorationClassName):null,this.marginClassName=W.marginClassName?oe(W.marginClassName):null,this.inlineClassName=W.inlineClassName?oe(W.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=W.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=W.beforeContentClassName?oe(W.beforeContentClassName):null,this.afterContentClassName=W.afterContentClassName?oe(W.afterContentClassName):null,this.after=W.after?U.from(W.after):null,this.before=W.before?U.from(W.before):null}static register(W){return new H(W)}static createDynamic(W){return new H(W)}}e.ModelDecorationOptions=H,H.EMPTY=H.register({description:"empty"});const V=[H.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),H.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),H.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),H.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function ne(ge){return ge instanceof H?ge:H.createDynamic(ge)}class ue extends T.Disposable{constructor(W){super();this.handleBeforeFire=W,this._actual=this._register(new N.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var W;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const G={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(G)}(W=this._affectedInjectedTextLines)===null||W===void 0||W.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(W){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(W)}checkAffectedAndFire(W){this._affectsMinimap||(this._affectsMinimap=!!(W.minimap&&W.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(W.overviewRuler&&W.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}e.DidChangeDecorationsEmitter=ue;class pe extends T.Disposable{constructor(){super();this._fastEmitter=this._register(new N.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new N.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(W=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=W;const G=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(G),this._slowEmitter.fire(G)}}fire(W){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(W):this._deferredEvent=W;return}this._fastEmitter.fire(W),this._slowEmitter.fire(W)}}e.DidChangeContentEmitter=pe}),define(te[608],ie([0,1,98,46,12,13,49,19,31,338]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class i extends y.DynamicViewOverlay{constructor(r){super();this._context=r,this._primaryPosition=null;const o=this._context.configuration.options,d=o.get(130),c=o.get(43);this._lineHeight=o.get(58),this._spaceWidth=c.spaceWidth,this._maxIndentLeft=d.wrappingColumn===-1?-1:d.wrappingColumn*c.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const o=this._context.configuration.options,d=o.get(130),c=o.get(43);return this._lineHeight=o.get(58),this._spaceWidth=c.spaceWidth,this._maxIndentLeft=d.wrappingColumn===-1?-1:d.wrappingColumn*c.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(13),!0}onCursorStateChanged(r){var o;const c=r.selections[0].getPosition();return((o=this._primaryPosition)===null||o===void 0?void 0:o.equals(c))?!1:(this._primaryPosition=c,!0)}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}onLanguageConfigurationChanged(r){return!0}prepareRender(r){var o,d;if(!this._bracketPairGuideOptions.indentation&&!this._bracketPairGuideOptions.bracketPairs){this._renderResult=null;return}const c=r.visibleRange.startLineNumber,u=r.visibleRange.endLineNumber,s=r.scrollWidth,n=this._lineHeight,a=this._primaryPosition,t=this.getGuidesByLine(c,u,a),l=[];for(let h=c;h<=u;h++){const g=h-c,w=t[g];let _="";const C=(d=(o=r.visibleRangeForPosition(new D.Position(h,1)))===null||o===void 0?void 0:o.left)!==null&&d!==void 0?d:0;for(const v of w){const m=C+(v.visibleColumn-1)*this._spaceWidth;if(m>s||this._maxIndentLeft>0&&m>this._maxIndentLeft)break;_+=`<div class="core-guide ${v.className}" style="left:${m}px;height:${n}px;width:${this._spaceWidth}px"></div>`}l[g]=_}this._renderResult=l}getGuidesByLine(r,o,d){var c;const u=this._bracketPairGuideOptions.bracketPairs?this._context.model.getBracketGuidesInRangeByLine(r,o,d,!0,!0):null,s=this._bracketPairGuideOptions.indentation?this._context.model.getLinesIndentGuides(r,o):null;let n=0,a=0,t=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&d){const g=this._context.model.getActiveIndentGuide(d.lineNumber,r,o);n=g.startLineNumber,a=g.endLineNumber,t=g.indent}const{indentSize:l}=this._context.model.getTextModelOptions(),h=[];for(let g=r;g<=o;g++){const w=new Array;h.push(w);const _=u?u[g-r]:[],C=new p.ArrayQueue(_),v=s?s[g-r]:[];for(let m=1;m<=v;m++){const E=(m-1)*l+1,I=_.length===0&&n<=g&&g<=a&&m===t;w.push(...C.takeWhile(k=>k.visibleColumn<E)||[]),((c=C.peek())===null||c===void 0?void 0:c.visibleColumn)!==E&&w.push(new S.IndentGuide(E,I?"core-guide-indent-active":"core-guide-indent"))}w.push(...C.takeWhile(m=>!0)||[])}return h}render(r,o){if(!this._renderResult)return"";const d=o-r;return d<0||d>=this._renderResult.length?"":this._renderResult[d]}}e.IndentGuidesOverlay=i,(0,T.registerThemingParticipant)((f,r)=>{const o=f.getColor(N.editorIndentGuides);o&&r.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${o} inset; }`);const d=f.getColor(N.editorActiveIndentGuides)||o;d&&r.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${d} inset; }`);const c=[N.editorBracketHighlightingForeground1,N.editorBracketHighlightingForeground2,N.editorBracketHighlightingForeground3,N.editorBracketHighlightingForeground4,N.editorBracketHighlightingForeground5,N.editorBracketHighlightingForeground6],u=new b.BracketPairGuidesClassNames;let s=c.map(n=>f.getColor(n)).filter(n=>!!n).filter(n=>!n.isTransparent());for(let n=0;n<30;n++){const a=s[n%s.length];r.addRule(`.monaco-editor .${u.getInlineClassNameOfLevel(n).replace(/ /g,".")} { opacity: 0.3; box-shadow: 1px 0 0 0 ${a} inset; }`)}r.addRule(`.monaco-editor .${u.activeClassName} { opacity: 1 !important; }`)})}),define(te[42],ie([0,1,10,13,3,21,31,38,223]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.EditOperationResult=e.CursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorContext=e.SingleCursorState=e.CursorConfiguration=e.CursorColumns=void 0,Object.defineProperty(e,"CursorColumns",{enumerable:!0,get:function(){return b.CursorColumns}});const i=()=>!0,f=()=>!1,r=l=>l===" "||l==="	";class o{constructor(h,g,w){this._cursorMoveConfigurationBrand=void 0,this._languageIdentifier=h;const _=w.options,C=_.get(129);this.readOnly=_.get(80),this.tabSize=g.tabSize,this.indentSize=g.indentSize,this.insertSpaces=g.insertSpaces,this.stickyTabStops=_.get(103),this.lineHeight=_.get(58),this.pageSize=Math.max(1,Math.floor(C.height/this.lineHeight)-2),this.useTabStops=_.get(114),this.wordSeparators=_.get(115),this.emptySelectionClipboard=_.get(32),this.copyWithSyntaxHighlighting=_.get(21),this.multiCursorMergeOverlapping=_.get(68),this.multiCursorPaste=_.get(70),this.autoClosingBrackets=_.get(5),this.autoClosingQuotes=_.get(8),this.autoClosingDelete=_.get(6),this.autoClosingOvertype=_.get(7),this.autoSurround=_.get(11),this.autoIndent=_.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:o._getShouldAutoClose(h,this.autoClosingQuotes),bracket:o._getShouldAutoClose(h,this.autoClosingBrackets)},this.autoClosingPairs=p.LanguageConfigurationRegistry.getAutoClosingPairs(h.id);let v=o._getSurroundingPairs(h);if(v)for(const m of v)this.surroundingPairs[m.open]=m.close}static shouldRecreate(h){return h.hasChanged(129)||h.hasChanged(115)||h.hasChanged(32)||h.hasChanged(68)||h.hasChanged(70)||h.hasChanged(5)||h.hasChanged(8)||h.hasChanged(6)||h.hasChanged(7)||h.hasChanged(11)||h.hasChanged(114)||h.hasChanged(58)||h.hasChanged(80)}get electricChars(){if(!this._electricChars){this._electricChars={};let h=o._getElectricCharacters(this._languageIdentifier);if(h)for(const g of h)this._electricChars[g]=!0}return this._electricChars}normalizeIndentation(h){return S.TextModel.normalizeIndentation(h,this.indentSize,this.insertSpaces)}static _getElectricCharacters(h){try{return p.LanguageConfigurationRegistry.getElectricCharacters(h.id)}catch(g){return(0,y.onUnexpectedError)(g),null}}static _getShouldAutoClose(h,g){switch(g){case"beforeWhitespace":return r;case"languageDefined":return o._getLanguageDefinedShouldAutoClose(h);case"always":return i;case"never":return f}}static _getLanguageDefinedShouldAutoClose(h){try{const g=p.LanguageConfigurationRegistry.getAutoCloseBeforeSet(h.id);return w=>g.indexOf(w)!==-1}catch(g){return(0,y.onUnexpectedError)(g),f}}static _getSurroundingPairs(h){try{return p.LanguageConfigurationRegistry.getSurroundingPairs(h.id)}catch(g){return(0,y.onUnexpectedError)(g),null}}}e.CursorConfiguration=o;class d{constructor(h,g,w,_){this._singleCursorStateBrand=void 0,this.selectionStart=h,this.selectionStartLeftoverVisibleColumns=g,this.position=w,this.leftoverVisibleColumns=_,this.selection=d._computeSelection(this.selectionStart,this.position)}equals(h){return this.selectionStartLeftoverVisibleColumns===h.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===h.leftoverVisibleColumns&&this.position.equals(h.position)&&this.selectionStart.equalsRange(h.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(h,g,w,_){return h?new d(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new N.Position(g,w),_):new d(new T.Range(g,w,g,w),_,new N.Position(g,w),_)}static _computeSelection(h,g){let w,_,C,v;return h.isEmpty()?(w=h.startLineNumber,_=h.startColumn,C=g.lineNumber,v=g.column):g.isBeforeOrEqual(h.getStartPosition())?(w=h.endLineNumber,_=h.endColumn,C=g.lineNumber,v=g.column):(w=h.startLineNumber,_=h.startColumn,C=g.lineNumber,v=g.column),new D.Selection(w,_,C,v)}}e.SingleCursorState=d;class c{constructor(h,g,w,_){this._cursorContextBrand=void 0,this.model=h,this.viewModel=g,this.coordinatesConverter=w,this.cursorConfig=_}}e.CursorContext=c;class u{constructor(h){this.modelState=h,this.viewState=null}}e.PartialModelCursorState=u;class s{constructor(h){this.modelState=null,this.viewState=h}}e.PartialViewCursorState=s;class n{constructor(h,g){this._cursorStateBrand=void 0,this.modelState=h,this.viewState=g}static fromModelState(h){return new u(h)}static fromViewState(h){return new s(h)}static fromModelSelection(h){const g=h.selectionStartLineNumber,w=h.selectionStartColumn,_=h.positionLineNumber,C=h.positionColumn,v=new d(new T.Range(g,w,g,w),0,new N.Position(_,C),0);return n.fromModelState(v)}static fromModelSelections(h){let g=[];for(let w=0,_=h.length;w<_;w++)g[w]=this.fromModelSelection(h[w]);return g}equals(h){return this.viewState.equals(h.viewState)&&this.modelState.equals(h.modelState)}}e.CursorState=n;class a{constructor(h,g,w){this._editOperationResultBrand=void 0,this.type=h,this.commands=g,this.shouldPushStackElementBefore=w.shouldPushStackElementBefore,this.shouldPushStackElementAfter=w.shouldPushStackElementAfter}}e.EditOperationResult=a;function t(l){return l==="'"||l==='"'||l==="`"}e.isQuote=t}),define(te[192],ie([0,1,8,42,3,21,38]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=e.cachedStringRepeat=void 0;const p=Object.create(null);function b(f,r){if(r<=0)return"";p[f]||(p[f]=["",f]);const o=p[f];for(let d=o.length;d<=r;d++)o[d]=o[d-1]+f;return o[r]}e.cachedStringRepeat=b;class i{constructor(r,o){this._opts=o,this._selection=r,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(r,o,d,c,u){const s=N.CursorColumns.visibleColumnFromColumn(r,o,d);if(u){const n=b(" ",c),t=N.CursorColumns.prevIndentTabStop(s,c)/c;return b(n,t)}else{const n="	",t=N.CursorColumns.prevRenderTabStop(s,d)/d;return b(n,t)}}static shiftIndent(r,o,d,c,u){const s=N.CursorColumns.visibleColumnFromColumn(r,o,d);if(u){const n=b(" ",c),t=N.CursorColumns.nextIndentTabStop(s,c)/c;return b(n,t)}else{const n="	",t=N.CursorColumns.nextRenderTabStop(s,d)/d;return b(n,t)}}_addEditOperation(r,o,d){this._useLastEditRangeForCursorEndPosition?r.addTrackedEditOperation(o,d):r.addEditOperation(o,d)}getEditOperations(r,o){const d=this._selection.startLineNumber;let c=this._selection.endLineNumber;this._selection.endColumn===1&&d!==c&&(c=c-1);const{tabSize:u,indentSize:s,insertSpaces:n}=this._opts,a=d===c;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(r.getLineContent(d))&&(this._useLastEditRangeForCursorEndPosition=!0);let t=0,l=0;for(let h=d;h<=c;h++,t=l){l=0;let g=r.getLineContent(h),w=y.firstNonWhitespaceIndex(g);if(this._opts.isUnshift&&(g.length===0||w===0)||!a&&!this._opts.isUnshift&&g.length===0)continue;if(w===-1&&(w=g.length),h>1&&N.CursorColumns.visibleColumnFromColumn(g,w+1,u)%s!=0&&r.isCheapToTokenize(h-1)){let v=S.LanguageConfigurationRegistry.getEnterAction(this._opts.autoIndent,r,new T.Range(h-1,r.getLineMaxColumn(h-1),h-1,r.getLineMaxColumn(h-1)));if(v){if(l=t,v.appendText)for(let m=0,E=v.appendText.length;m<E&&l<s&&v.appendText.charCodeAt(m)===32;m++)l++;v.removeText&&(l=Math.max(0,l-v.removeText));for(let m=0;m<l&&!(w===0||g.charCodeAt(w-1)!==32);m++)w--}}if(this._opts.isUnshift&&w===0)continue;let _;this._opts.isUnshift?_=i.unshiftIndent(g,w+1,u,s,n):_=i.shiftIndent(g,w+1,u,s,n),this._addEditOperation(o,new T.Range(h,1,h,w+1),_),h===d&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=w+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&r.getLineLength(d)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const t=n?b(" ",s):"	";for(let l=d;l<=c;l++){const h=r.getLineContent(l);let g=y.firstNonWhitespaceIndex(h);if(!(this._opts.isUnshift&&(h.length===0||g===0))&&!(!a&&!this._opts.isUnshift&&h.length===0)&&(g===-1&&(g=h.length),!(this._opts.isUnshift&&g===0)))if(this._opts.isUnshift){g=Math.min(g,s);for(let w=0;w<g;w++)if(h.charCodeAt(w)===9){g=w+1;break}this._addEditOperation(o,new T.Range(l,1,l,g+1),"")}else this._addEditOperation(o,new T.Range(l,1,l,1),t),l===d&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=o.trackSelection(this._selection)}computeCursorState(r,o){if(this._useLastEditRangeForCursorEndPosition){let c=o.getInverseEditOperations()[0];return new D.Selection(c.range.endLineNumber,c.range.endColumn,c.range.endLineNumber,c.range.endColumn)}const d=o.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let c=this._selection.startColumn;return d.startColumn<=c?d:d.getDirection()===0?new D.Selection(d.startLineNumber,c,d.endLineNumber,d.endColumn):new D.Selection(d.endLineNumber,d.endColumn,d.startLineNumber,c)}return d}}e.ShiftCommand=i}),define(te[268],ie([0,1,42]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class N{static whitespaceVisibleColumn(D,S,p){const b=D.length;let i=0,f=-1,r=-1;for(let o=0;o<b;o++){if(o===S)return[f,r,i];switch(i%p==0&&(f=o,r=i),D.charCodeAt(o)){case 32:i+=1;break;case 9:i=y.CursorColumns.nextRenderTabStop(i,p);break;default:return[-1,-1,-1]}}return S===b?[f,r,i]:[-1,-1,-1]}static atomicPosition(D,S,p,b){const i=D.length,[f,r,o]=N.whitespaceVisibleColumn(D,S,p);if(o===-1)return-1;let d;switch(b){case 0:d=!0;break;case 1:d=!1;break;case 2:if(o%p==0)return S;d=o%p<=p/2;break}if(d){if(f===-1)return-1;let s=r;for(let n=f;n<i;++n){if(s===r+p)return f;switch(D.charCodeAt(n)){case 32:s+=1;break;case 9:s=y.CursorColumns.nextRenderTabStop(s,p);break;default:return-1}}return s===r+p?f:-1}const c=y.CursorColumns.nextRenderTabStop(o,p);let u=o;for(let s=S;s<i;s++){if(u===c)return s;switch(D.charCodeAt(s)){case 32:u+=1;break;case 9:u=y.CursorColumns.nextRenderTabStop(u,p);break;default:return-1}}return u===c?i:-1}}e.AtomicTabMoveOperations=N}),define(te[193],ie([0,1,170,50,266,13,3,42,7,268]),function(q,e,y,N,T,D,S,p,b,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shadowCaretRangeFromPoint=e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class f{constructor(C=null){this.hitTarget=C,this.type=0}}class r{constructor(C,v,m){this.position=C,this.spanNode=v,this.injectedText=m,this.type=1}}var o;(function(_){function C(v,m,E){const I=v.getPositionFromDOMInfo(m,E);return I?new r(I,m,null):new f(m)}_.createFromDOMInfo=C})(o||(o={}));class d{constructor(C,v){this.lastViewCursorsRenderData=C,this.lastTextareaPosition=v}}e.PointerHandlerLastRenderData=d;class c{constructor(C,v,m=0,E=null,I=null,k=null){this.element=C,this.type=v,this.mouseColumn=m,this.position=E,!I&&E&&(I=new S.Range(E.lineNumber,E.column,E.lineNumber,E.column)),this.range=I,this.detail=k}static _typeToString(C){return C===1?"TEXTAREA":C===2?"GUTTER_GLYPH_MARGIN":C===3?"GUTTER_LINE_NUMBERS":C===4?"GUTTER_LINE_DECORATIONS":C===5?"GUTTER_VIEW_ZONE":C===6?"CONTENT_TEXT":C===7?"CONTENT_EMPTY":C===8?"CONTENT_VIEW_ZONE":C===9?"CONTENT_WIDGET":C===10?"OVERVIEW_RULER":C===11?"SCROLLBAR":C===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(C){return this._typeToString(C.type)+": "+C.position+" - "+C.range+" - "+C.detail}toString(){return c.toString(this)}}e.MouseTarget=c;class u{static isTextArea(C){return C.length===2&&C[0]===3&&C[1]===6}static isChildOfViewLines(C){return C.length>=4&&C[0]===3&&C[3]===7}static isStrictChildOfViewLines(C){return C.length>4&&C[0]===3&&C[3]===7}static isChildOfScrollableElement(C){return C.length>=2&&C[0]===3&&C[1]===5}static isChildOfMinimap(C){return C.length>=2&&C[0]===3&&C[1]===8}static isChildOfContentWidgets(C){return C.length>=4&&C[0]===3&&C[3]===1}static isChildOfOverflowingContentWidgets(C){return C.length>=1&&C[0]===2}static isChildOfOverlayWidgets(C){return C.length>=2&&C[0]===3&&C[1]===4}}class s{constructor(C,v,m){this.model=C.model;const E=C.configuration.options;this.layoutInfo=E.get(129),this.viewDomNode=v.viewDomNode,this.lineHeight=E.get(58),this.stickyTabStops=E.get(103),this.typicalHalfwidthCharacterWidth=E.get(43).typicalHalfwidthCharacterWidth,this.lastRenderData=m,this._context=C,this._viewHelper=v}getZoneAtCoord(C){return s.getZoneAtCoord(this._context,C)}static getZoneAtCoord(C,v){const m=C.viewLayout.getWhitespaceAtVerticalOffset(v);if(m){const E=m.verticalOffset+m.height/2,I=C.model.getLineCount();let k=null,A,P=null;return m.afterLineNumber!==I&&(P=new D.Position(m.afterLineNumber+1,1)),m.afterLineNumber>0&&(k=new D.Position(m.afterLineNumber,C.model.getLineMaxColumn(m.afterLineNumber))),P===null?A=k:k===null?A=P:v<E?A=k:A=P,{viewZoneId:m.id,afterLineNumber:m.afterLineNumber,positionBefore:k,positionAfter:P,position:A}}return null}getFullLineRangeAtCoord(C){if(this._context.viewLayout.isAfterLines(C)){const E=this._context.model.getLineCount(),I=this._context.model.getLineMaxColumn(E);return{range:new S.Range(E,I,E,I),isAfterLines:!0}}const v=this._context.viewLayout.getLineNumberAtVerticalOffset(C),m=this._context.model.getLineMaxColumn(v);return{range:new S.Range(v,1,v,m),isAfterLines:!1}}getLineNumberAtVerticalOffset(C){return this._context.viewLayout.getLineNumberAtVerticalOffset(C)}isAfterLines(C){return this._context.viewLayout.isAfterLines(C)}isInTopPadding(C){return this._context.viewLayout.isInTopPadding(C)}isInBottomPadding(C){return this._context.viewLayout.isInBottomPadding(C)}getVerticalOffsetForLineNumber(C){return this._context.viewLayout.getVerticalOffsetForLineNumber(C)}findAttribute(C,v){return s._findAttribute(C,v,this._viewHelper.viewDomNode)}static _findAttribute(C,v,m){for(;C&&C!==document.body;){if(C.hasAttribute&&C.hasAttribute(v))return C.getAttribute(v);if(C===m)return null;C=C.parentNode}return null}getLineWidth(C){return this._viewHelper.getLineWidth(C)}visibleRangeForPosition(C,v){return this._viewHelper.visibleRangeForPosition(C,v)}getPositionFromDOMInfo(C,v){return this._viewHelper.getPositionFromDOMInfo(C,v)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=s;class n{constructor(C,v,m){this.editorPos=v,this.pos=m,this.mouseVerticalOffset=Math.max(0,C.getCurrentScrollTop()+m.y-v.y),this.mouseContentHorizontalOffset=C.getCurrentScrollLeft()+m.x-v.x-C.layoutInfo.contentLeft,this.isInMarginArea=m.x-v.x<C.layoutInfo.contentLeft&&m.x-v.x>=C.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,h._getMouseColumn(this.mouseContentHorizontalOffset,C.typicalHalfwidthCharacterWidth))}}class a extends n{constructor(C,v,m,E){super(C,v,m);this._ctx=C,E?(this.target=E,this.targetPath=N.PartFingerprints.collect(E,C.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}fulfill(C,v=null,m=null,E=null){let I=this.mouseColumn;return v&&v.column<this._ctx.model.getLineMaxColumn(v.lineNumber)&&(I=p.CursorColumns.visibleColumnFromColumn(this._ctx.model.getLineContent(v.lineNumber),v.column,this._ctx.model.getTextModelOptions().tabSize)+1),new c(this.target,C,I,v,m,E)}withTarget(C){return new a(this._ctx,this.editorPos,this.pos,C)}}const t={isAfterLines:!0};function l(_){return{isAfterLines:!1,horizontalDistanceToText:_}}class h{constructor(C,v){this._context=C,this._viewHelper=v}mouseTargetIsWidget(C){const v=C.target,m=N.PartFingerprints.collect(v,this._viewHelper.viewDomNode);return!!(u.isChildOfContentWidgets(m)||u.isChildOfOverflowingContentWidgets(m)||u.isChildOfOverlayWidgets(m))}createMouseTarget(C,v,m,E){const I=new s(this._context,this._viewHelper,C),k=new a(I,v,m,E);try{return h._createMouseTarget(I,k,!1)}catch(A){return k.fulfill(0)}}static _createMouseTarget(C,v,m){if(v.target===null){if(m)return v.fulfill(0);const k=h._doHitTest(C,v);return k.type===1?h.createMouseTargetFromHitTestPosition(C,v,k.spanNode,k.position,k.injectedText):this._createMouseTarget(C,v.withTarget(k.hitTarget),!0)}const E=v;let I=null;return I=I||h._hitTestContentWidget(C,E),I=I||h._hitTestOverlayWidget(C,E),I=I||h._hitTestMinimap(C,E),I=I||h._hitTestScrollbarSlider(C,E),I=I||h._hitTestViewZone(C,E),I=I||h._hitTestMargin(C,E),I=I||h._hitTestViewCursor(C,E),I=I||h._hitTestTextArea(C,E),I=I||h._hitTestViewLines(C,E,m),I=I||h._hitTestScrollbar(C,E),I||v.fulfill(0)}static _hitTestContentWidget(C,v){if(u.isChildOfContentWidgets(v.targetPath)||u.isChildOfOverflowingContentWidgets(v.targetPath)){const m=C.findAttribute(v.target,"widgetId");return m?v.fulfill(9,null,null,m):v.fulfill(0)}return null}static _hitTestOverlayWidget(C,v){if(u.isChildOfOverlayWidgets(v.targetPath)){const m=C.findAttribute(v.target,"widgetId");return m?v.fulfill(12,null,null,m):v.fulfill(0)}return null}static _hitTestViewCursor(C,v){if(v.target){const m=C.lastRenderData.lastViewCursorsRenderData;for(const E of m)if(v.target===E.domNode)return v.fulfill(6,E.position,null,{mightBeForeignElement:!1})}if(v.isInContentArea){const m=C.lastRenderData.lastViewCursorsRenderData,E=v.mouseContentHorizontalOffset,I=v.mouseVerticalOffset;for(const k of m){if(E<k.contentLeft||E>k.contentLeft+k.width)continue;const A=C.getVerticalOffsetForLineNumber(k.position.lineNumber);if(A<=I&&I<=A+k.height)return v.fulfill(6,k.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(C,v){const m=C.getZoneAtCoord(v.mouseVerticalOffset);if(m){const E=v.isInContentArea?8:5;return v.fulfill(E,m.position,null,m)}return null}static _hitTestTextArea(C,v){return u.isTextArea(v.targetPath)?C.lastRenderData.lastTextareaPosition?v.fulfill(6,C.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):v.fulfill(1,C.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(C,v){if(v.isInMarginArea){const m=C.getFullLineRangeAtCoord(v.mouseVerticalOffset),E=m.range.getStartPosition();let I=Math.abs(v.pos.x-v.editorPos.x);const k={isAfterLines:m.isAfterLines,glyphMarginLeft:C.layoutInfo.glyphMarginLeft,glyphMarginWidth:C.layoutInfo.glyphMarginWidth,lineNumbersWidth:C.layoutInfo.lineNumbersWidth,offsetX:I};return I-=C.layoutInfo.glyphMarginLeft,I<=C.layoutInfo.glyphMarginWidth?v.fulfill(2,E,m.range,k):(I-=C.layoutInfo.glyphMarginWidth,I<=C.layoutInfo.lineNumbersWidth?v.fulfill(3,E,m.range,k):(I-=C.layoutInfo.lineNumbersWidth,v.fulfill(4,E,m.range,k)))}return null}static _hitTestViewLines(C,v,m){if(!u.isChildOfViewLines(v.targetPath))return null;if(C.isInTopPadding(v.mouseVerticalOffset))return v.fulfill(7,new D.Position(1,1),null,t);if(C.isAfterLines(v.mouseVerticalOffset)||C.isInBottomPadding(v.mouseVerticalOffset)){const I=C.model.getLineCount(),k=C.model.getLineMaxColumn(I);return v.fulfill(7,new D.Position(I,k),null,t)}if(m){if(u.isStrictChildOfViewLines(v.targetPath)){const I=C.getLineNumberAtVerticalOffset(v.mouseVerticalOffset);if(C.model.getLineLength(I)===0){const A=C.getLineWidth(I),P=l(v.mouseContentHorizontalOffset-A);return v.fulfill(7,new D.Position(I,1),null,P)}const k=C.getLineWidth(I);if(v.mouseContentHorizontalOffset>=k){const A=l(v.mouseContentHorizontalOffset-k),P=new D.Position(I,C.model.getLineMaxColumn(I));return v.fulfill(7,P,null,A)}}return v.fulfill(0)}const E=h._doHitTest(C,v);return E.type===1?h.createMouseTargetFromHitTestPosition(C,v,E.spanNode,E.position,E.injectedText):this._createMouseTarget(C,v.withTarget(E.hitTarget),!0)}static _hitTestMinimap(C,v){if(u.isChildOfMinimap(v.targetPath)){const m=C.getLineNumberAtVerticalOffset(v.mouseVerticalOffset),E=C.model.getLineMaxColumn(m);return v.fulfill(11,new D.Position(m,E))}return null}static _hitTestScrollbarSlider(C,v){if(u.isChildOfScrollableElement(v.targetPath)&&v.target&&v.target.nodeType===1){const m=v.target.className;if(m&&/\b(slider|scrollbar)\b/.test(m)){const E=C.getLineNumberAtVerticalOffset(v.mouseVerticalOffset),I=C.model.getLineMaxColumn(E);return v.fulfill(11,new D.Position(E,I))}}return null}static _hitTestScrollbar(C,v){if(u.isChildOfScrollableElement(v.targetPath)){const m=C.getLineNumberAtVerticalOffset(v.mouseVerticalOffset),E=C.model.getLineMaxColumn(m);return v.fulfill(11,new D.Position(m,E))}return null}getMouseColumn(C,v){const m=this._context.configuration.options,E=m.get(129),I=this._context.viewLayout.getCurrentScrollLeft()+v.x-C.x-E.contentLeft;return h._getMouseColumn(I,m.get(43).typicalHalfwidthCharacterWidth)}static _getMouseColumn(C,v){return C<0?1:Math.round(C/v)+1}static createMouseTargetFromHitTestPosition(C,v,m,E,I){const k=E.lineNumber,A=E.column,P=C.getLineWidth(k);if(v.mouseContentHorizontalOffset>P){const $=l(v.mouseContentHorizontalOffset-P);return v.fulfill(7,E,null,$)}const F=C.visibleRangeForPosition(k,A);if(!F)return v.fulfill(0,E);const M=F.left;if(v.mouseContentHorizontalOffset===M)return v.fulfill(6,E,null,{mightBeForeignElement:!!I});const R=[];if(R.push({offset:F.left,column:A}),A>1){const $=C.visibleRangeForPosition(k,A-1);$&&R.push({offset:$.left,column:A-1})}const O=C.model.getLineMaxColumn(k);if(A<O){const $=C.visibleRangeForPosition(k,A+1);$&&R.push({offset:$.left,column:A+1})}R.sort(($,j)=>$.offset-j.offset);const L=v.pos.toClientCoordinates(),B=m.getBoundingClientRect(),z=B.left<=L.clientX&&L.clientX<=B.right;for(let $=1;$<R.length;$++){const j=R[$-1],X=R[$];if(j.offset<=v.mouseContentHorizontalOffset&&v.mouseContentHorizontalOffset<=X.offset){const Q=new S.Range(k,j.column,k,X.column);return v.fulfill(6,E,Q,{mightBeForeignElement:!z||!!I})}}return v.fulfill(6,E,null,{mightBeForeignElement:!z||!!I})}static _doHitTestWithCaretRangeFromPoint(C,v){const m=C.getLineNumberAtVerticalOffset(v.mouseVerticalOffset),I=C.getVerticalOffsetForLineNumber(m)+Math.floor(C.lineHeight/2);let k=v.pos.y+(I-v.mouseVerticalOffset);k<=v.editorPos.y&&(k=v.editorPos.y+1),k>=v.editorPos.y+C.layoutInfo.height&&(k=v.editorPos.y+C.layoutInfo.height-1);const A=new y.PageCoordinates(v.pos.x,k),P=this._actualDoHitTestWithCaretRangeFromPoint(C,A.toClientCoordinates());return P.type===1?P:this._actualDoHitTestWithCaretRangeFromPoint(C,v.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(C,v){const m=b.getShadowRoot(C.viewDomNode);let E;if(m?typeof m.caretRangeFromPoint=="undefined"?E=g(m,v.clientX,v.clientY):E=m.caretRangeFromPoint(v.clientX,v.clientY):E=document.caretRangeFromPoint(v.clientX,v.clientY),!E||!E.startContainer)return new f;const I=E.startContainer;if(I.nodeType===I.TEXT_NODE){const k=I.parentNode,A=k?k.parentNode:null,P=A?A.parentNode:null;return(P&&P.nodeType===P.ELEMENT_NODE?P.className:null)===T.ViewLine.CLASS_NAME?o.createFromDOMInfo(C,k,E.startOffset):new f(I.parentNode)}else if(I.nodeType===I.ELEMENT_NODE){const k=I.parentNode,A=k?k.parentNode:null;return(A&&A.nodeType===A.ELEMENT_NODE?A.className:null)===T.ViewLine.CLASS_NAME?o.createFromDOMInfo(C,I,I.textContent.length):new f(I)}return new f}static _doHitTestWithCaretPositionFromPoint(C,v){const m=document.caretPositionFromPoint(v.clientX,v.clientY);if(m.offsetNode.nodeType===m.offsetNode.TEXT_NODE){const E=m.offsetNode.parentNode,I=E?E.parentNode:null,k=I?I.parentNode:null;return(k&&k.nodeType===k.ELEMENT_NODE?k.className:null)===T.ViewLine.CLASS_NAME?o.createFromDOMInfo(C,m.offsetNode.parentNode,m.offset):new f(m.offsetNode.parentNode)}if(m.offsetNode.nodeType===m.offsetNode.ELEMENT_NODE){const E=m.offsetNode.parentNode,I=E&&E.nodeType===E.ELEMENT_NODE?E.className:null,k=E?E.parentNode:null,A=k&&k.nodeType===k.ELEMENT_NODE?k.className:null;if(I===T.ViewLine.CLASS_NAME){const P=m.offsetNode.childNodes[Math.min(m.offset,m.offsetNode.childNodes.length-1)];if(P)return o.createFromDOMInfo(C,P,0)}else if(A===T.ViewLine.CLASS_NAME)return o.createFromDOMInfo(C,m.offsetNode,0)}return new f(m.offsetNode)}static _snapToSoftTabBoundary(C,v){const m=v.getLineContent(C.lineNumber),{tabSize:E}=v.getTextModelOptions(),I=i.AtomicTabMoveOperations.atomicPosition(m,C.column-1,E,2);return I!==-1?new D.Position(C.lineNumber,I+1):C}static _doHitTest(C,v){let m=new f;if(typeof document.caretRangeFromPoint=="function"?m=this._doHitTestWithCaretRangeFromPoint(C,v):document.caretPositionFromPoint&&(m=this._doHitTestWithCaretPositionFromPoint(C,v.pos.toClientCoordinates())),m.type===1){const E=C.model.getInjectedTextAt(m.position),I=C.model.normalizePosition(m.position,2);(E||!I.equals(m.position))&&(m=new r(I,m.spanNode,E))}return m.type===1&&C.stickyTabStops&&(m=new r(this._snapToSoftTabBoundary(m.position,C.model),m.spanNode,m.injectedText)),m}}e.MouseTargetFactory=h;function g(_,C,v){const m=document.createRange();let E=_.elementFromPoint(C,v);if(E!==null){for(;E&&E.firstChild&&E.firstChild.nodeType!==E.firstChild.TEXT_NODE&&E.lastChild&&E.lastChild.firstChild;)E=E.lastChild;const I=E.getBoundingClientRect(),k=window.getComputedStyle(E,null).getPropertyValue("font"),A=E.innerText;let P=I.left,F=0,M;if(C>I.left+I.width)F=A.length;else{const R=w.getInstance();for(let O=0;O<A.length+1;O++){if(M=R.getCharWidth(A.charAt(O),k)/2,P+=M,C<P){F=O;break}P+=M}}m.setStart(E.firstChild,F),m.setEnd(E.firstChild,F)}return m}e.shadowCaretRangeFromPoint=g;class w{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return w._INSTANCE||(w._INSTANCE=new w),w._INSTANCE}getCharWidth(C,v){const m=C+v;if(this._cache[m])return this._cache[m];const E=this._canvas.getContext("2d");E.font=v;const k=E.measureText(C).width;return this._cache[m]=k,k}}w._INSTANCE=null}),define(te[609],ie([0,1,7,55,14,2,17,193,170,136,13,21,118]),function(q,e,y,N,T,D,S,p,b,i,f,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=e.createMouseMoveEventMerger=void 0;function d(n){return function(a,t){let l=!1;return n&&(l=n.mouseTargetIsWidget(t)),l||t.preventDefault(),t}}e.createMouseMoveEventMerger=d;class c extends o.ViewEventHandler{constructor(a,t,l){super();this._context=a,this.viewController=t,this.viewHelper=l,this.mouseTargetFactory=new p.MouseTargetFactory(this._context,l),this._mouseDownOperation=this._register(new u(this._context,this.viewController,this.viewHelper,(w,_)=>this._createMouseTarget(w,_),w=>this._getMouseColumn(w))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(129).height;const h=new b.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(h.onContextMenu(this.viewHelper.viewDomNode,w=>this._onContextMenu(w,!0))),this._register(h.onMouseMoveThrottled(this.viewHelper.viewDomNode,w=>this._onMouseMove(w),d(this.mouseTargetFactory),c.MOUSE_MOVE_MINIMUM_TIME)),this._register(h.onMouseUp(this.viewHelper.viewDomNode,w=>this._onMouseUp(w))),this._register(h.onMouseLeave(this.viewHelper.viewDomNode,w=>this._onMouseLeave(w))),this._register(h.onMouseDown(this.viewHelper.viewDomNode,w=>this._onMouseDown(w)));const g=w=>{if(this.viewController.emitMouseWheel(w),!this._context.configuration.options.get(67))return;const _=new N.StandardWheelEvent(w);if(S.isMacintosh?(w.metaKey||w.ctrlKey)&&!w.shiftKey&&!w.altKey:w.ctrlKey&&!w.metaKey&&!w.shiftKey&&!w.altKey){const v=i.EditorZoom.getZoomLevel(),m=_.deltaY>0?1:-1;i.EditorZoom.setZoomLevel(v+m),_.preventDefault(),_.stopPropagation()}};this._register(y.addDisposableListener(this.viewHelper.viewDomNode,y.EventType.MOUSE_WHEEL,g,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(a){if(a.hasChanged(129)){const t=this._context.configuration.options.get(129).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(a){return this._mouseDownOperation.onCursorStateChanged(a),!1}onFocusChanged(a){return!1}onScrollChanged(a){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(a,t){const h=new b.ClientCoordinates(a,t).toPageCoordinates(),g=(0,b.createEditorPagePosition)(this.viewHelper.viewDomNode);return h.y<g.y||h.y>g.y+g.height||h.x<g.x||h.x>g.x+g.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),g,h,null)}_createMouseTarget(a,t){let l=a.target;if(!this.viewHelper.viewDomNode.contains(l)){const h=y.getShadowRoot(this.viewHelper.viewDomNode);h&&(l=h.elementsFromPoint(a.posx,a.posy).find(g=>this.viewHelper.viewDomNode.contains(g)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),a.editorPos,a.pos,t?l:null)}_getMouseColumn(a){return this.mouseTargetFactory.getMouseColumn(a.editorPos,a.pos)}_onContextMenu(a,t){this.viewController.emitContextMenu({event:a,target:this._createMouseTarget(a,t)})}_onMouseMove(a){this._mouseDownOperation.isActive()||a.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:a,target:this._createMouseTarget(a,!0)})}_onMouseLeave(a){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:a,target:null})}_onMouseUp(a){this.viewController.emitMouseUp({event:a,target:this._createMouseTarget(a,!0)})}_onMouseDown(a){const t=this._createMouseTarget(a,!0),l=t.type===6||t.type===7,h=t.type===2||t.type===3||t.type===4,g=t.type===3,w=this._context.configuration.options.get(97),_=t.type===8||t.type===5,C=t.type===9;let v=a.leftButton||a.middleButton;S.isMacintosh&&a.leftButton&&a.ctrlKey&&(v=!1);const m=()=>{a.preventDefault(),this.viewHelper.focusTextArea()};if(v&&(l||g&&w))m(),this._mouseDownOperation.start(t.type,a);else if(h)a.preventDefault();else if(_){const E=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(E.viewZoneId)&&(m(),this._mouseDownOperation.start(t.type,a),a.preventDefault())}else C&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(m(),a.preventDefault());this.viewController.emitMouseDown({event:a,target:t})}}e.MouseHandler=c,c.MOUSE_MOVE_MINIMUM_TIME=100;class u extends D.Disposable{constructor(a,t,l,h,g){super();this._context=a,this._viewController=t,this._viewHelper=l,this._createMouseTarget=h,this._getMouseColumn=g,this._mouseMoveMonitor=this._register(new b.GlobalEditorMouseMoveMonitor(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new T.TimeoutTimer),this._mouseState=new s,this._currentSelection=new r.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(a){this._lastMouseEvent=a,this._mouseState.setModifiers(a);const t=this._findMousePosition(a,!0);!t||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:a,target:t}):this._dispatchMouse(t,!0))}start(a,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(a===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const l=this._findMousePosition(t,!0);if(!l||!l.position)return;this._mouseState.trySetCount(t.detail,l.position),t.detail=this._mouseState.count;const h=this._context.configuration.options;if(!h.get(80)&&h.get(31)&&!h.get(18)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&l.type===6&&l.position&&this._currentSelection.containsPosition(l.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,d(null),g=>this._onMouseDownThenMove(g),g=>{const w=this._findMousePosition(this._lastMouseEvent,!0);g&&g instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:w?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(l,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,d(null),g=>this._onMouseDownThenMove(g),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const a=this._findMousePosition(this._lastMouseEvent,!1);!a||this._mouseState.isDragAndDrop||this._dispatchMouse(a,!0)},10)}onCursorStateChanged(a){this._currentSelection=a.selections[0]}_getPositionOutsideEditor(a){const t=a.editorPos,l=this._context.model,h=this._context.viewLayout,g=this._getMouseColumn(a);if(a.posy<t.y){const _=Math.max(h.getCurrentScrollTop()-(t.y-a.posy),0),C=p.HitTestContext.getZoneAtCoord(this._context,_);if(C){const m=this._helpPositionJumpOverViewZone(C);if(m)return new p.MouseTarget(null,13,g,m)}const v=h.getLineNumberAtVerticalOffset(_);return new p.MouseTarget(null,13,g,new f.Position(v,1))}if(a.posy>t.y+t.height){const _=h.getCurrentScrollTop()+(a.posy-t.y),C=p.HitTestContext.getZoneAtCoord(this._context,_);if(C){const m=this._helpPositionJumpOverViewZone(C);if(m)return new p.MouseTarget(null,13,g,m)}const v=h.getLineNumberAtVerticalOffset(_);return new p.MouseTarget(null,13,g,new f.Position(v,l.getLineMaxColumn(v)))}const w=h.getLineNumberAtVerticalOffset(h.getCurrentScrollTop()+(a.posy-t.y));return a.posx<t.x?new p.MouseTarget(null,13,g,new f.Position(w,1)):a.posx>t.x+t.width?new p.MouseTarget(null,13,g,new f.Position(w,l.getLineMaxColumn(w))):null}_findMousePosition(a,t){const l=this._getPositionOutsideEditor(a);if(l)return l;const h=this._createMouseTarget(a,t);if(!h.position)return null;if(h.type===8||h.type===5){const w=this._helpPositionJumpOverViewZone(h.detail);if(w)return new p.MouseTarget(h.element,h.type,h.mouseColumn,w,null,h.detail)}return h}_helpPositionJumpOverViewZone(a){const t=new f.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),l=a.positionBefore,h=a.positionAfter;return l&&h?l.isBefore(t)?l:h:null}_dispatchMouse(a,t){!a.position||this._viewController.dispatchMouse({position:a.position,mouseColumn:a.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class s{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(a){this._altKey=a.altKey,this._ctrlKey=a.ctrlKey,this._metaKey=a.metaKey,this._shiftKey=a.shiftKey}setStartButtons(a){this._leftButton=a.leftButton,this._middleButton=a.middleButton}setStartedOnLineNumbers(a){this._startedOnLineNumbers=a}trySetCount(a,t){const l=new Date().getTime();l-this._lastSetMouseDownCountTime>s.CLEAR_MOUSE_DOWN_COUNT_TIME&&(a=1),this._lastSetMouseDownCountTime=l,a>this._lastMouseDownCount+1&&(a=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(a,this._lastMouseDownPositionEqualCount)}}s.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(te[610],ie([0,1,7,17,58,2,609,170,159,172]),function(q,e,y,N,T,D,S,p,b,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class f extends S.MouseHandler{constructor(c,u,s){super(c,u,s);this._register(T.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,T.EventType.Tap,a=>this.onTap(a))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,T.EventType.Change,a=>this.onChange(a))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,T.EventType.Contextmenu,a=>this._onContextMenu(new p.EditorMouseEvent(a,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",a=>{const t=a.pointerType;if(t==="mouse"){this._lastPointerType="mouse";return}else t==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const n=new p.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(n.onPointerMoveThrottled(this.viewHelper.viewDomNode,a=>this._onMouseMove(a),(0,S.createMouseMoveEventMerger)(this.mouseTargetFactory),S.MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onPointerUp(this.viewHelper.viewDomNode,a=>this._onMouseUp(a))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,a=>this._onMouseLeave(a))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,a=>this._onMouseDown(a)))}onTap(c){if(!c.initialTarget||!this.viewHelper.linesContentDomNode.contains(c.initialTarget))return;c.preventDefault(),this.viewHelper.focusTextArea();const u=this._createMouseTarget(new p.EditorMouseEvent(c,this.viewHelper.viewDomNode),!1);u.position&&this.viewController.dispatchMouse({position:u.position,mouseColumn:u.position.column,startedOnLineNumbers:!1,mouseDownCount:c.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(c){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-c.translationX,-c.translationY)}_onMouseDown(c){c.browserEvent.pointerType!=="touch"&&super._onMouseDown(c)}}e.PointerEventHandler=f;class r extends S.MouseHandler{constructor(c,u,s){super(c,u,s);this._register(T.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,T.EventType.Tap,n=>this.onTap(n))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,T.EventType.Change,n=>this.onChange(n))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,T.EventType.Contextmenu,n=>this._onContextMenu(new p.EditorMouseEvent(n,this.viewHelper.viewDomNode),!1)))}onTap(c){c.preventDefault(),this.viewHelper.focusTextArea();const u=this._createMouseTarget(new p.EditorMouseEvent(c,this.viewHelper.viewDomNode),!1);if(u.position){const s=document.createEvent("CustomEvent");s.initEvent(i.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(s),this.viewController.moveTo(u.position)}}onChange(c){this._context.model.deltaScrollNow(-c.translationX,-c.translationY)}}class o extends D.Disposable{constructor(c,u,s){super();N.isIOS&&b.BrowserFeatures.pointerEvents?this.handler=this._register(new f(c,u,s)):window.TouchEvent?this.handler=this._register(new r(c,u,s)):this.handler=this._register(new S.MouseHandler(c,u,s))}getTargetAtClientPoint(c,u){return this.handler.getTargetAtClientPoint(c,u)}}e.PointerHandler=o}),define(te[269],ie([0,1,193]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class N{constructor(S){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=S}emitKeyDown(S){this.onKeyDown&&this.onKeyDown(S)}emitKeyUp(S){this.onKeyUp&&this.onKeyUp(S)}emitContextMenu(S){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(S))}emitMouseMove(S){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(S))}emitMouseLeave(S){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(S))}emitMouseDown(S){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(S))}emitMouseUp(S){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(S))}emitMouseDrag(S){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(S))}emitMouseDrop(S){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(S))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(S){this.onMouseWheel&&this.onMouseWheel(S)}_convertViewToModelMouseEvent(S){return S.target?{event:S.event,target:this._convertViewToModelMouseTarget(S.target)}:S}_convertViewToModelMouseTarget(S){return N.convertViewToModelMouseTarget(S,this._coordinatesConverter)}static convertViewToModelMouseTarget(S,p){return new T(S.element,S.type,S.mouseColumn,S.position?p.convertViewPositionToModelPosition(S.position):null,S.range?p.convertViewRangeToModelRange(S.range):null,S.detail)}}e.ViewUserInputEvents=N;class T{constructor(S,p,b,i,f,r){this.element=S,this.type=p,this.mouseColumn=b,this.position=i,this.range=f,this.detail=r}toString(){return y.MouseTarget.toString(this)}}}),define(te[611],ie([0,1,42,13,3]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class D{static columnSelect(p,b,i,f,r,o){let d=Math.abs(r-i)+1,c=i>r,u=f>o,s=f<o,n=[];for(let a=0;a<d;a++){let t=i+(c?-a:a),l=y.CursorColumns.columnFromVisibleColumn2(p,b,t,f),h=y.CursorColumns.columnFromVisibleColumn2(p,b,t,o),g=y.CursorColumns.visibleColumnFromColumn2(p,b,new N.Position(t,l)),w=y.CursorColumns.visibleColumnFromColumn2(p,b,new N.Position(t,h));s&&(g>o||w<f)||u&&(w>f||g<o)||n.push(new y.SingleCursorState(new T.Range(t,l,t,l),0,new N.Position(t,h),0))}if(n.length===0)for(let a=0;a<d;a++){const t=i+(c?-a:a),l=b.getLineMaxColumn(t);n.push(new y.SingleCursorState(new T.Range(t,l,t,l),0,new N.Position(t,l),0))}return{viewStates:n,reversed:c,fromLineNumber:i,fromVisualColumn:f,toLineNumber:r,toVisualColumn:o}}static columnSelectLeft(p,b,i){let f=i.toViewVisualColumn;return f>0&&f--,D.columnSelect(p,b,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,f)}static columnSelectRight(p,b,i){let f=0;const r=Math.min(i.fromViewLineNumber,i.toViewLineNumber),o=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let c=r;c<=o;c++){const u=b.getLineMaxColumn(c),s=y.CursorColumns.visibleColumnFromColumn2(p,b,new N.Position(c,u));f=Math.max(f,s)}let d=i.toViewVisualColumn;return d<f&&d++,this.columnSelect(p,b,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,d)}static columnSelectUp(p,b,i,f){const r=f?p.pageSize:1,o=Math.max(1,i.toViewLineNumber-r);return this.columnSelect(p,b,i.fromViewLineNumber,i.fromViewVisualColumn,o,i.toViewVisualColumn)}static columnSelectDown(p,b,i,f){const r=f?p.pageSize:1,o=Math.min(b.getLineCount(),i.toViewLineNumber+r);return this.columnSelect(p,b,i.fromViewLineNumber,i.fromViewVisualColumn,o,i.toViewVisualColumn)}}e.ColumnSelection=D}),define(te[194],ie([0,1,42,13,3,8,268]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class p{constructor(f,r,o){this._cursorPositionBrand=void 0,this.lineNumber=f,this.column=r,this.leftoverVisibleColumns=o}}e.CursorPosition=p;class b{static leftPosition(f,r){if(r.column>f.getLineMinColumn(r.lineNumber))return r.delta(void 0,-D.prevCharLength(f.getLineContent(r.lineNumber),r.column-1));if(r.lineNumber>1){const o=r.lineNumber-1;return new N.Position(o,f.getLineMaxColumn(o))}else return r}static leftPositionAtomicSoftTabs(f,r,o){if(r.column<=f.getLineIndentColumn(r.lineNumber)){const d=f.getLineMinColumn(r.lineNumber),c=f.getLineContent(r.lineNumber),u=S.AtomicTabMoveOperations.atomicPosition(c,r.column-1,o,0);if(u!==-1&&u+1>=d)return new N.Position(r.lineNumber,u+1)}return this.leftPosition(f,r)}static left(f,r,o){const d=f.stickyTabStops?b.leftPositionAtomicSoftTabs(r,o,f.tabSize):b.leftPosition(r,o);return new p(d.lineNumber,d.column,0)}static moveLeft(f,r,o,d,c){let u,s;if(o.hasSelection()&&!d)u=o.selection.startLineNumber,s=o.selection.startColumn;else{const n=o.position.delta(void 0,-(c-1)),a=r.normalizePosition(b.clipPositionColumn(n,r),0),t=b.left(f,r,a);u=t.lineNumber,s=t.column}return o.move(d,u,s,0)}static clipPositionColumn(f,r){return new N.Position(f.lineNumber,b.clipRange(f.column,r.getLineMinColumn(f.lineNumber),r.getLineMaxColumn(f.lineNumber)))}static clipRange(f,r,o){return f<r?r:f>o?o:f}static rightPosition(f,r,o){return o<f.getLineMaxColumn(r)?o=o+D.nextCharLength(f.getLineContent(r),o-1):r<f.getLineCount()&&(r=r+1,o=f.getLineMinColumn(r)),new N.Position(r,o)}static rightPositionAtomicSoftTabs(f,r,o,d,c){if(o<f.getLineIndentColumn(r)){const u=f.getLineContent(r),s=S.AtomicTabMoveOperations.atomicPosition(u,o-1,d,1);if(s!==-1)return new N.Position(r,s+1)}return this.rightPosition(f,r,o)}static right(f,r,o){const d=f.stickyTabStops?b.rightPositionAtomicSoftTabs(r,o.lineNumber,o.column,f.tabSize,f.indentSize):b.rightPosition(r,o.lineNumber,o.column);return new p(d.lineNumber,d.column,0)}static moveRight(f,r,o,d,c){let u,s;if(o.hasSelection()&&!d)u=o.selection.endLineNumber,s=o.selection.endColumn;else{const n=o.position.delta(void 0,c-1),a=r.normalizePosition(b.clipPositionColumn(n,r),1),t=b.right(f,r,a);u=t.lineNumber,s=t.column}return o.move(d,u,s,0)}static vertical(f,r,o,d,c,u,s){const n=y.CursorColumns.visibleColumnFromColumn(r.getLineContent(o),d,f.tabSize)+c,a=r.getLineCount(),t=o===1&&d===1,l=o===a&&d===r.getLineMaxColumn(o),h=u<o?t:l;return o=u,o<1?(o=1,s?d=r.getLineMinColumn(o):d=Math.min(r.getLineMaxColumn(o),d)):o>a?(o=a,s?d=r.getLineMaxColumn(o):d=Math.min(r.getLineMaxColumn(o),d)):d=y.CursorColumns.columnFromVisibleColumn2(f,r,o,n),h?c=0:c=n-y.CursorColumns.visibleColumnFromColumn(r.getLineContent(o),d,f.tabSize),new p(o,d,c)}static down(f,r,o,d,c,u,s){return this.vertical(f,r,o,d,c,o+u,s)}static moveDown(f,r,o,d,c){let u,s;o.hasSelection()&&!d?(u=o.selection.endLineNumber,s=o.selection.endColumn):(u=o.position.lineNumber,s=o.position.column);let n=b.down(f,r,u,s,o.leftoverVisibleColumns,c,!0);return o.move(d,n.lineNumber,n.column,n.leftoverVisibleColumns)}static translateDown(f,r,o){let d=o.selection,c=b.down(f,r,d.selectionStartLineNumber,d.selectionStartColumn,o.selectionStartLeftoverVisibleColumns,1,!1),u=b.down(f,r,d.positionLineNumber,d.positionColumn,o.leftoverVisibleColumns,1,!1);return new y.SingleCursorState(new T.Range(c.lineNumber,c.column,c.lineNumber,c.column),c.leftoverVisibleColumns,new N.Position(u.lineNumber,u.column),u.leftoverVisibleColumns)}static up(f,r,o,d,c,u,s){return this.vertical(f,r,o,d,c,o-u,s)}static moveUp(f,r,o,d,c){let u,s;o.hasSelection()&&!d?(u=o.selection.startLineNumber,s=o.selection.startColumn):(u=o.position.lineNumber,s=o.position.column);let n=b.up(f,r,u,s,o.leftoverVisibleColumns,c,!0);return o.move(d,n.lineNumber,n.column,n.leftoverVisibleColumns)}static translateUp(f,r,o){let d=o.selection,c=b.up(f,r,d.selectionStartLineNumber,d.selectionStartColumn,o.selectionStartLeftoverVisibleColumns,1,!1),u=b.up(f,r,d.positionLineNumber,d.positionColumn,o.leftoverVisibleColumns,1,!1);return new y.SingleCursorState(new T.Range(c.lineNumber,c.column,c.lineNumber,c.column),c.leftoverVisibleColumns,new N.Position(u.lineNumber,u.column),u.leftoverVisibleColumns)}static _isBlankLine(f,r){return f.getLineFirstNonWhitespaceColumn(r)===0}static moveToPrevBlankLine(f,r,o,d){let c=o.position.lineNumber;for(;c>1&&this._isBlankLine(r,c);)c--;for(;c>1&&!this._isBlankLine(r,c);)c--;return o.move(d,c,r.getLineMinColumn(c),0)}static moveToNextBlankLine(f,r,o,d){const c=r.getLineCount();let u=o.position.lineNumber;for(;u<c&&this._isBlankLine(r,u);)u++;for(;u<c&&!this._isBlankLine(r,u);)u++;return o.move(d,u,r.getLineMinColumn(u),0)}static moveToBeginningOfLine(f,r,o,d){let c=o.position.lineNumber,u=r.getLineMinColumn(c),s=r.getLineFirstNonWhitespaceColumn(c)||u,n;return o.position.column===s?n=u:n=s,o.move(d,c,n,0)}static moveToEndOfLine(f,r,o,d,c){let u=o.position.lineNumber,s=r.getLineMaxColumn(u);return o.move(d,u,s,c?1073741824-s:0)}static moveToBeginningOfBuffer(f,r,o,d){return o.move(d,1,1,0)}static moveToEndOfBuffer(f,r,o,d){let c=r.getLineCount(),u=r.getLineMaxColumn(c);return o.move(d,c,u,0)}}e.MoveOperations=b}),define(te[195],ie([0,1,8,96,42,194,3,13]),function(q,e,y,N,T,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class b{static deleteRight(f,r,o,d){let c=[],u=f!==3;for(let s=0,n=d.length;s<n;s++){const a=d[s];let t=a;if(t.isEmpty()){let l=a.getPosition(),h=D.MoveOperations.right(r,o,l);t=new S.Range(h.lineNumber,h.column,l.lineNumber,l.column)}if(t.isEmpty()){c[s]=null;continue}t.startLineNumber!==t.endLineNumber&&(u=!0),c[s]=new N.ReplaceCommand(t,"")}return[u,c]}static isAutoClosingPairDelete(f,r,o,d,c,u,s){if(r==="never"&&o==="never"||f==="never")return!1;for(let n=0,a=u.length;n<a;n++){const t=u[n],l=t.getPosition();if(!t.isEmpty())return!1;const h=c.getLineContent(l.lineNumber);if(l.column<2||l.column>=h.length+1)return!1;const g=h.charAt(l.column-2),w=d.get(g);if(!w)return!1;if((0,T.isQuote)(g)){if(o==="never")return!1}else if(r==="never")return!1;const _=h.charAt(l.column-1);let C=!1;for(const v of w)v.open===g&&v.close===_&&(C=!0);if(!C)return!1;if(f==="auto"){let v=!1;for(let m=0,E=s.length;m<E;m++){const I=s[m];if(l.lineNumber===I.startLineNumber&&l.column===I.startColumn){v=!0;break}}if(!v)return!1}}return!0}static _runAutoClosingPairDelete(f,r,o){let d=[];for(let c=0,u=o.length;c<u;c++){const s=o[c].getPosition(),n=new S.Range(s.lineNumber,s.column-1,s.lineNumber,s.column+1);d[c]=new N.ReplaceCommand(n,"")}return[!0,d]}static deleteLeft(f,r,o,d,c){if(this.isAutoClosingPairDelete(r.autoClosingDelete,r.autoClosingBrackets,r.autoClosingQuotes,r.autoClosingPairs.autoClosingPairsOpenByEnd,o,d,c))return this._runAutoClosingPairDelete(r,o,d);const u=[];let s=f!==2;for(let n=0,a=d.length;n<a;n++){let t=b.getDeleteRange(d[n],o,r);if(t.isEmpty()){u[n]=null;continue}t.startLineNumber!==t.endLineNumber&&(s=!0),u[n]=new N.ReplaceCommand(t,"")}return[s,u]}static getDeleteRange(f,r,o){if(!f.isEmpty())return f;const d=f.getPosition();if(o.useTabStops&&d.column>1){const c=r.getLineContent(d.lineNumber),u=y.firstNonWhitespaceIndex(c),s=u===-1?c.length+1:u+1;if(d.column<=s){const n=T.CursorColumns.visibleColumnFromColumn2(o,r,d),a=T.CursorColumns.prevIndentTabStop(n,o.indentSize),t=T.CursorColumns.columnFromVisibleColumn2(o,r,d.lineNumber,a);return new S.Range(d.lineNumber,t,d.lineNumber,d.column)}}return S.Range.fromPositions(b.getPositionAfterDeleteLeft(d,r),d)}static getPositionAfterDeleteLeft(f,r){if(f.column>1){const o=y.getLeftDeleteOffset(f.column-1,r.getLineContent(f.lineNumber));return f.with(void 0,o+1)}else if(f.lineNumber>1){const o=f.lineNumber-1;return new p.Position(o,r.getLineMaxColumn(o))}else return f}static cut(f,r,o){let d=[];for(let c=0,u=o.length;c<u;c++){const s=o[c];if(s.isEmpty())if(f.emptySelectionClipboard){let n=s.getPosition(),a,t,l,h;n.lineNumber<r.getLineCount()?(a=n.lineNumber,t=1,l=n.lineNumber+1,h=1):n.lineNumber>1?(a=n.lineNumber-1,t=r.getLineMaxColumn(n.lineNumber-1),l=n.lineNumber,h=r.getLineMaxColumn(n.lineNumber)):(a=n.lineNumber,t=1,l=n.lineNumber,h=r.getLineMaxColumn(n.lineNumber));let g=new S.Range(a,t,l,h);g.isEmpty()?d[c]=null:d[c]=new N.ReplaceCommand(g,"")}else d[c]=null;else d[c]=new N.ReplaceCommand(s,"")}return new T.EditOperationResult(0,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=b}),define(te[196],ie([0,1,10,8,96,192,384,42,111,3,21,115,38]),function(q,e,y,N,T,D,S,p,b,i,f,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class d{static indent(l,h,g){if(h===null||g===null)return[];let w=[];for(let _=0,C=g.length;_<C;_++)w[_]=new D.ShiftCommand(g[_],{isUnshift:!1,tabSize:l.tabSize,indentSize:l.indentSize,insertSpaces:l.insertSpaces,useTabStops:l.useTabStops,autoIndent:l.autoIndent});return w}static outdent(l,h,g){let w=[];for(let _=0,C=g.length;_<C;_++)w[_]=new D.ShiftCommand(g[_],{isUnshift:!0,tabSize:l.tabSize,indentSize:l.indentSize,insertSpaces:l.insertSpaces,useTabStops:l.useTabStops,autoIndent:l.autoIndent});return w}static shiftIndent(l,h,g){return g=g||1,D.ShiftCommand.shiftIndent(h,h.length+g,l.tabSize,l.indentSize,l.insertSpaces)}static unshiftIndent(l,h,g){return g=g||1,D.ShiftCommand.unshiftIndent(h,h.length+g,l.tabSize,l.indentSize,l.insertSpaces)}static _distributedPaste(l,h,g,w){let _=[];for(let C=0,v=g.length;C<v;C++)_[C]=new T.ReplaceCommand(g[C],w[C]);return new p.EditOperationResult(0,_,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(l,h,g,w,_){let C=[];for(let v=0,m=g.length;v<m;v++){const E=g[v];let I=E.getPosition();if(_&&!E.isEmpty()&&(_=!1),_&&w.indexOf(`
`)!==w.length-1&&(_=!1),_){let k=new i.Range(I.lineNumber,1,I.lineNumber,1);C[v]=new T.ReplaceCommandThatPreservesSelection(k,w,E,!0)}else C[v]=new T.ReplaceCommand(E,w)}return new p.EditOperationResult(0,C,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(l,h,g,w,_){if(w||h.length===1)return null;if(_&&_.length===h.length)return _;if(l.multiCursorPaste==="spread"){g.charCodeAt(g.length-1)===10&&(g=g.substr(0,g.length-1)),g.charCodeAt(g.length-1)===13&&(g=g.substr(0,g.length-1));let C=N.splitLines(g);if(C.length===h.length)return C}return null}static paste(l,h,g,w,_,C){const v=this._distributePasteToCursors(l,g,w,_,C);return v?(g=g.sort(i.Range.compareRangesUsingStarts),this._distributedPaste(l,h,g,v)):this._simplePaste(l,h,g,w,_)}static _goodIndentForLine(l,h,g){let w=null,_="";const C=o.LanguageConfigurationRegistry.getInheritIndentForLine(l.autoIndent,h,g,!1);if(C)w=C.action,_=C.indentation;else if(g>1){let v;for(v=g-1;v>=1;v--){const I=h.getLineContent(v);if(N.lastNonWhitespaceIndex(I)>=0)break}if(v<1)return null;const m=h.getLineMaxColumn(v),E=o.LanguageConfigurationRegistry.getEnterAction(l.autoIndent,h,new i.Range(v,m,v,m));E&&(_=E.indentation+E.appendText)}return w&&(w===r.IndentAction.Indent&&(_=d.shiftIndent(l,_)),w===r.IndentAction.Outdent&&(_=d.unshiftIndent(l,_)),_=l.normalizeIndentation(_)),_||null}static _replaceJumpToNextIndent(l,h,g,w){let _="",C=g.getStartPosition();if(l.insertSpaces){let v=p.CursorColumns.visibleColumnFromColumn2(l,h,C),m=l.indentSize,E=m-v%m;for(let I=0;I<E;I++)_+=" "}else _="	";return new T.ReplaceCommand(g,_,w)}static tab(l,h,g){let w=[];for(let _=0,C=g.length;_<C;_++){const v=g[_];if(v.isEmpty()){let m=h.getLineContent(v.startLineNumber);if(/^\s*$/.test(m)&&h.isCheapToTokenize(v.startLineNumber)){let E=this._goodIndentForLine(l,h,v.startLineNumber);E=E||"	";let I=l.normalizeIndentation(E);if(!m.startsWith(I)){w[_]=new T.ReplaceCommand(new i.Range(v.startLineNumber,1,v.startLineNumber,m.length+1),I,!0);continue}}w[_]=this._replaceJumpToNextIndent(l,h,v,!0)}else{if(v.startLineNumber===v.endLineNumber){let m=h.getLineMaxColumn(v.startLineNumber);if(v.startColumn!==1||v.endColumn!==m){w[_]=this._replaceJumpToNextIndent(l,h,v,!1);continue}}w[_]=new D.ShiftCommand(v,{isUnshift:!1,tabSize:l.tabSize,indentSize:l.indentSize,insertSpaces:l.insertSpaces,useTabStops:l.useTabStops,autoIndent:l.autoIndent})}}return w}static compositionType(l,h,g,w,_,C,v,m){const E=w.map(I=>this._compositionType(g,I,_,C,v,m));return new p.EditOperationResult(4,E,{shouldPushStackElementBefore:s(l,4),shouldPushStackElementAfter:!1})}static _compositionType(l,h,g,w,_,C){if(!h.isEmpty())return null;const v=h.getPosition(),m=Math.max(1,v.column-w),E=Math.min(l.getLineMaxColumn(v.lineNumber),v.column+_),I=new i.Range(v.lineNumber,m,v.lineNumber,E);return l.getValueInRange(I)===g&&C===0?null:new T.ReplaceCommandWithOffsetCursorState(I,g,0,C)}static _typeCommand(l,h,g){return g?new T.ReplaceCommandWithoutChangingPosition(l,h,!0):new T.ReplaceCommand(l,h,!0)}static _enter(l,h,g,w){if(l.autoIndent===0)return d._typeCommand(w,`
`,g);if(!h.isCheapToTokenize(w.getStartPosition().lineNumber)||l.autoIndent===1){let m=h.getLineContent(w.startLineNumber),E=N.getLeadingWhitespace(m).substring(0,w.startColumn-1);return d._typeCommand(w,`
`+l.normalizeIndentation(E),g)}const _=o.LanguageConfigurationRegistry.getEnterAction(l.autoIndent,h,w);if(_){if(_.indentAction===r.IndentAction.None)return d._typeCommand(w,`
`+l.normalizeIndentation(_.indentation+_.appendText),g);if(_.indentAction===r.IndentAction.Indent)return d._typeCommand(w,`
`+l.normalizeIndentation(_.indentation+_.appendText),g);if(_.indentAction===r.IndentAction.IndentOutdent){const m=l.normalizeIndentation(_.indentation),E=l.normalizeIndentation(_.indentation+_.appendText),I=`
`+E+`
`+m;return g?new T.ReplaceCommandWithoutChangingPosition(w,I,!0):new T.ReplaceCommandWithOffsetCursorState(w,I,-1,E.length-m.length,!0)}else if(_.indentAction===r.IndentAction.Outdent){const m=d.unshiftIndent(l,_.indentation);return d._typeCommand(w,`
`+l.normalizeIndentation(m+_.appendText),g)}}const C=h.getLineContent(w.startLineNumber),v=N.getLeadingWhitespace(C).substring(0,w.startColumn-1);if(l.autoIndent>=4){const m=o.LanguageConfigurationRegistry.getIndentForEnter(l.autoIndent,h,w,{unshiftIndent:E=>d.unshiftIndent(l,E),shiftIndent:E=>d.shiftIndent(l,E),normalizeIndentation:E=>l.normalizeIndentation(E)});if(m){let E=p.CursorColumns.visibleColumnFromColumn2(l,h,w.getEndPosition());const I=w.endColumn,k=h.getLineContent(w.endLineNumber),A=N.firstNonWhitespaceIndex(k);if(A>=0?w=w.setEndPosition(w.endLineNumber,Math.max(w.endColumn,A+1)):w=w.setEndPosition(w.endLineNumber,h.getLineMaxColumn(w.endLineNumber)),g)return new T.ReplaceCommandWithoutChangingPosition(w,`
`+l.normalizeIndentation(m.afterEnter),!0);{let P=0;return I<=A+1&&(l.insertSpaces||(E=Math.ceil(E/l.indentSize)),P=Math.min(E+1-l.normalizeIndentation(m.afterEnter).length-1,0)),new T.ReplaceCommandWithOffsetCursorState(w,`
`+l.normalizeIndentation(m.afterEnter),0,P,!0)}}}return d._typeCommand(w,`
`+l.normalizeIndentation(v),g)}static _isAutoIndentType(l,h,g){if(l.autoIndent<4)return!1;for(let w=0,_=g.length;w<_;w++)if(!h.isCheapToTokenize(g[w].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(l,h,g,w){const _=o.LanguageConfigurationRegistry.getIndentationAtPosition(h,g.startLineNumber,g.startColumn),C=o.LanguageConfigurationRegistry.getIndentActionForType(l.autoIndent,h,g,w,{shiftIndent:v=>d.shiftIndent(l,v),unshiftIndent:v=>d.unshiftIndent(l,v)});if(C===null)return null;if(C!==l.normalizeIndentation(_)){const v=h.getLineFirstNonWhitespaceColumn(g.startLineNumber);return v===0?d._typeCommand(new i.Range(g.startLineNumber,1,g.endLineNumber,g.endColumn),l.normalizeIndentation(C)+w,!1):d._typeCommand(new i.Range(g.startLineNumber,1,g.endLineNumber,g.endColumn),l.normalizeIndentation(C)+h.getLineContent(g.startLineNumber).substring(v-1,g.startColumn-1)+w,!1)}return null}static _isAutoClosingOvertype(l,h,g,w,_){if(l.autoClosingOvertype==="never"||!l.autoClosingPairs.autoClosingPairsCloseSingleChar.has(_))return!1;for(let C=0,v=g.length;C<v;C++){const m=g[C];if(!m.isEmpty())return!1;const E=m.getPosition(),I=h.getLineContent(E.lineNumber);if(I.charAt(E.column-1)!==_)return!1;const A=(0,p.isQuote)(_);if((E.column>2?I.charCodeAt(E.column-2):0)===92&&A)return!1;if(l.autoClosingOvertype==="auto"){let F=!1;for(let M=0,R=w.length;M<R;M++){const O=w[M];if(E.lineNumber===O.startLineNumber&&E.column===O.startColumn){F=!0;break}}if(!F)return!1}}return!0}static _runAutoClosingOvertype(l,h,g,w,_){let C=[];for(let v=0,m=w.length;v<m;v++){const I=w[v].getPosition(),k=new i.Range(I.lineNumber,I.column,I.lineNumber,I.column+1);C[v]=new T.ReplaceCommand(k,_)}return new p.EditOperationResult(4,C,{shouldPushStackElementBefore:s(l,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(l,h){const g=h.charAt(0),w=l.autoClosingPairs.autoClosingPairsOpenByStart.get(g)||[],_=l.autoClosingPairs.autoClosingPairsCloseByStart.get(g)||[],C=w.some(m=>h.startsWith(m.open)),v=_.some(m=>h.startsWith(m.close));return!C&&v}static _findAutoClosingPairOpen(l,h,g,w){const _=l.autoClosingPairs.autoClosingPairsOpenByEnd.get(w);if(!_)return null;let C=null;for(const v of _)if(C===null||v.open.length>C.open.length){let m=!0;for(const E of g)if(h.getValueInRange(new i.Range(E.lineNumber,E.column-v.open.length+1,E.lineNumber,E.column))+w!==v.open){m=!1;break}m&&(C=v)}return C}static _findSubAutoClosingPairClose(l,h){if(h.open.length<=1)return"";const g=h.close.charAt(h.close.length-1),w=l.autoClosingPairs.autoClosingPairsCloseByEnd.get(g)||[];let _=null;for(const C of w)C.open!==h.open&&h.open.includes(C.open)&&h.close.endsWith(C.close)&&(!_||C.open.length>_.open.length)&&(_=C);return _?_.close:""}static _getAutoClosingPairClose(l,h,g,w,_){const C=(0,p.isQuote)(w),v=C?l.autoClosingQuotes:l.autoClosingBrackets;if(v==="never")return null;const m=this._findAutoClosingPairOpen(l,h,g.map(A=>A.getPosition()),w);if(!m)return null;const E=this._findSubAutoClosingPairClose(l,m);let I=!0;const k=C?l.shouldAutoCloseBefore.quote:l.shouldAutoCloseBefore.bracket;for(let A=0,P=g.length;A<P;A++){const F=g[A];if(!F.isEmpty())return null;const M=F.getPosition(),R=h.getLineContent(M.lineNumber),O=R.substring(M.column-1);if(O.startsWith(E)||(I=!1),R.length>M.column-1){const z=R.charAt(M.column-1);if(!d._isBeforeClosingBrace(l,O)&&!k(z))return null}if(!h.isCheapToTokenize(M.lineNumber))return null;if(m.open.length===1&&C&&v!=="always"){const z=(0,b.getMapForWordSeparators)(l.wordSeparators);if(_&&M.column>1&&z.get(R.charCodeAt(M.column-2))===0||!_&&M.column>2&&z.get(R.charCodeAt(M.column-3))===0)return null}h.forceTokenization(M.lineNumber);const L=h.getLineTokens(M.lineNumber);let B=!1;try{B=o.LanguageConfigurationRegistry.shouldAutoClosePair(m,L,_?M.column:M.column-1)}catch(z){(0,y.onUnexpectedError)(z)}if(!B)return null}return I?m.close.substring(0,m.close.length-E.length):m.close}static _runAutoClosingOpenCharType(l,h,g,w,_,C,v){let m=[];for(let E=0,I=w.length;E<I;E++){const k=w[E];m[E]=new c(k,_,C,v)}return new p.EditOperationResult(4,m,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(l,h){return(0,p.isQuote)(h)?l.autoSurround==="quotes"||l.autoSurround==="languageDefined":l.autoSurround==="brackets"||l.autoSurround==="languageDefined"}static _isSurroundSelectionType(l,h,g,w){if(!d._shouldSurroundChar(l,w)||!l.surroundingPairs.hasOwnProperty(w))return!1;const _=(0,p.isQuote)(w);for(let C=0,v=g.length;C<v;C++){const m=g[C];if(m.isEmpty())return!1;let E=!0;for(let I=m.startLineNumber;I<=m.endLineNumber;I++){const k=h.getLineContent(I),A=I===m.startLineNumber?m.startColumn-1:0,P=I===m.endLineNumber?m.endColumn-1:k.length,F=k.substring(A,P);if(/[^ \t]/.test(F)){E=!1;break}}if(E)return!1;if(_&&m.startLineNumber===m.endLineNumber&&m.startColumn+1===m.endColumn){const I=h.getValueInRange(m);if((0,p.isQuote)(I))return!1}}return!0}static _runSurroundSelectionType(l,h,g,w,_){let C=[];for(let v=0,m=w.length;v<m;v++){const E=w[v],I=h.surroundingPairs[_];C[v]=new S.SurroundSelectionCommand(E,_,I)}return new p.EditOperationResult(0,C,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(l,h,g){return!!(g.length===1&&h.isCheapToTokenize(g[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(l,h,g,w,_){if(!h.electricChars.hasOwnProperty(_)||!w.isEmpty())return null;let C=w.getPosition();g.forceTokenization(C.lineNumber);let v=g.getLineTokens(C.lineNumber),m;try{m=o.LanguageConfigurationRegistry.onElectricCharacter(_,v,C.column)}catch(E){return(0,y.onUnexpectedError)(E),null}if(!m)return null;if(m.matchOpenBracket){let E=(v.getLineContent()+_).lastIndexOf(m.matchOpenBracket)+1,I=g.findMatchingBracketUp(m.matchOpenBracket,{lineNumber:C.lineNumber,column:E});if(I){if(I.startLineNumber===C.lineNumber)return null;let k=g.getLineContent(I.startLineNumber),A=N.getLeadingWhitespace(k),P=h.normalizeIndentation(A),F=g.getLineContent(C.lineNumber),M=g.getLineFirstNonWhitespaceColumn(C.lineNumber)||C.column,R=F.substring(M-1,C.column-1),O=P+R+_,L=new i.Range(C.lineNumber,1,C.lineNumber,C.column);const B=new T.ReplaceCommand(L,O);return new p.EditOperationResult(u(O,l),[B],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(l,h,g,w,_,C){if(!w||f.Selection.selectionsArrEqual(w,_))return null;let v=null;for(const E of _){if(!E.isEmpty())return null;const I=E.getPosition(),k=g.getValueInRange(new i.Range(I.lineNumber,I.column-1,I.lineNumber,I.column));if(v===null)v=k;else if(v!==k)return null}if(!v)return null;if(this._isAutoClosingOvertype(h,g,_,C,v)){const E=_.map(I=>new T.ReplaceCommand(new i.Range(I.positionLineNumber,I.positionColumn,I.positionLineNumber,I.positionColumn+1),"",!1));return new p.EditOperationResult(4,E,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const m=this._getAutoClosingPairClose(h,g,_,v,!1);return m!==null?this._runAutoClosingOpenCharType(l,h,g,_,v,!1,m):null}static typeWithInterceptors(l,h,g,w,_,C,v){if(!l&&v===`
`){let I=[];for(let k=0,A=_.length;k<A;k++)I[k]=d._enter(g,w,!1,_[k]);return new p.EditOperationResult(4,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!l&&this._isAutoIndentType(g,w,_)){let I=[],k=!1;for(let A=0,P=_.length;A<P;A++)if(I[A]=this._runAutoIndentType(g,w,_[A],v),!I[A]){k=!0;break}if(!k)return new p.EditOperationResult(4,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!l&&this._isAutoClosingOvertype(g,w,_,C,v))return this._runAutoClosingOvertype(h,g,w,_,v);if(!l){const I=this._getAutoClosingPairClose(g,w,_,v,!0);if(I)return this._runAutoClosingOpenCharType(h,g,w,_,v,!0,I)}if(this._isSurroundSelectionType(g,w,_,v))return this._runSurroundSelectionType(h,g,w,_,v);if(!l&&this._isTypeInterceptorElectricChar(g,w,_)){const I=this._typeInterceptorElectricChar(h,g,w,_[0],v);if(I)return I}let m=[];for(let I=0,k=_.length;I<k;I++)m[I]=new T.ReplaceCommand(_[I],v);const E=u(v,h);return new p.EditOperationResult(E,m,{shouldPushStackElementBefore:s(h,E),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(l,h,g,w,_){let C=[];for(let m=0,E=w.length;m<E;m++)C[m]=new T.ReplaceCommand(w[m],_);const v=u(_,l);return new p.EditOperationResult(v,C,{shouldPushStackElementBefore:s(l,v),shouldPushStackElementAfter:!1})}static lineInsertBefore(l,h,g){if(h===null||g===null)return[];let w=[];for(let _=0,C=g.length;_<C;_++){let v=g[_].positionLineNumber;if(v===1)w[_]=new T.ReplaceCommandWithoutChangingPosition(new i.Range(1,1,1,1),`
`);else{v--;let m=h.getLineMaxColumn(v);w[_]=this._enter(l,h,!1,new i.Range(v,m,v,m))}}return w}static lineInsertAfter(l,h,g){if(h===null||g===null)return[];let w=[];for(let _=0,C=g.length;_<C;_++){const v=g[_].positionLineNumber;let m=h.getLineMaxColumn(v);w[_]=this._enter(l,h,!1,new i.Range(v,m,v,m))}return w}static lineBreakInsert(l,h,g){let w=[];for(let _=0,C=g.length;_<C;_++)w[_]=this._enter(l,h,!0,g[_]);return w}}e.TypeOperations=d;class c extends T.ReplaceCommandWithOffsetCursorState{constructor(l,h,g,w){super(l,(g?h:"")+w,0,-w.length);this._openCharacter=h,this._closeCharacter=w,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(l,h){let w=h.getInverseEditOperations()[0].range;return this.closeCharacterRange=new i.Range(w.startLineNumber,w.endColumn-this._closeCharacter.length,w.endLineNumber,w.endColumn),this.enclosingRange=new i.Range(w.startLineNumber,w.endColumn-this._openCharacter.length-this._closeCharacter.length,w.endLineNumber,w.endColumn),super.computeCursorState(l,h)}}e.TypeWithAutoClosingCommand=c;function u(t,l){return t===" "?l===5||l===6?6:5:4}function s(t,l){return a(t)&&!a(l)?!0:t===5?!1:n(t)!==n(l)}function n(t){return t===6||t===5?"space":t}function a(t){return t===4||t===5||t===6}}),define(te[149],ie([0,1,8,42,195,111,13,3]),function(q,e,y,N,T,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class b{static _createWord(o,d,c,u,s){return{start:u,end:s,wordType:d,nextCharClass:c}}static _findPreviousWordOnLine(o,d,c){let u=d.getLineContent(c.lineNumber);return this._doFindPreviousWordOnLine(u,o,c)}static _doFindPreviousWordOnLine(o,d,c){let u=0;for(let s=c.column-2;s>=0;s--){let n=o.charCodeAt(s),a=d.get(n);if(a===0){if(u===2)return this._createWord(o,u,a,s+1,this._findEndOfWord(o,d,u,s+1));u=1}else if(a===2){if(u===1)return this._createWord(o,u,a,s+1,this._findEndOfWord(o,d,u,s+1));u=2}else if(a===1&&u!==0)return this._createWord(o,u,a,s+1,this._findEndOfWord(o,d,u,s+1))}return u!==0?this._createWord(o,u,1,0,this._findEndOfWord(o,d,u,0)):null}static _findEndOfWord(o,d,c,u){let s=o.length;for(let n=u;n<s;n++){let a=o.charCodeAt(n),t=d.get(a);if(t===1||c===1&&t===2||c===2&&t===0)return n}return s}static _findNextWordOnLine(o,d,c){let u=d.getLineContent(c.lineNumber);return this._doFindNextWordOnLine(u,o,c)}static _doFindNextWordOnLine(o,d,c){let u=0,s=o.length;for(let n=c.column-1;n<s;n++){let a=o.charCodeAt(n),t=d.get(a);if(t===0){if(u===2)return this._createWord(o,u,t,this._findStartOfWord(o,d,u,n-1),n);u=1}else if(t===2){if(u===1)return this._createWord(o,u,t,this._findStartOfWord(o,d,u,n-1),n);u=2}else if(t===1&&u!==0)return this._createWord(o,u,t,this._findStartOfWord(o,d,u,n-1),n)}return u!==0?this._createWord(o,u,1,this._findStartOfWord(o,d,u,s-1),s):null}static _findStartOfWord(o,d,c,u){for(let s=u;s>=0;s--){let n=o.charCodeAt(s),a=d.get(n);if(a===1||c===1&&a===2||c===2&&a===0)return s+1}return 0}static moveWordLeft(o,d,c,u){let s=c.lineNumber,n=c.column;n===1&&s>1&&(s=s-1,n=d.getLineMaxColumn(s));let a=b._findPreviousWordOnLine(o,d,new S.Position(s,n));if(u===0)return new S.Position(s,a?a.start+1:1);if(u===1)return a&&a.wordType===2&&a.end-a.start==1&&a.nextCharClass===0&&(a=b._findPreviousWordOnLine(o,d,new S.Position(s,a.start+1))),new S.Position(s,a?a.start+1:1);if(u===3){for(;a&&a.wordType===2;)a=b._findPreviousWordOnLine(o,d,new S.Position(s,a.start+1));return new S.Position(s,a?a.start+1:1)}return a&&n<=a.end+1&&(a=b._findPreviousWordOnLine(o,d,new S.Position(s,a.start+1))),new S.Position(s,a?a.end+1:1)}static _moveWordPartLeft(o,d){const c=d.lineNumber,u=o.getLineMaxColumn(c);if(d.column===1)return c>1?new S.Position(c-1,o.getLineMaxColumn(c-1)):d;const s=o.getLineContent(c);for(let n=d.column-1;n>1;n--){const a=s.charCodeAt(n-2),t=s.charCodeAt(n-1);if(a===95&&t!==95)return new S.Position(c,n);if(y.isLowerAsciiLetter(a)&&y.isUpperAsciiLetter(t))return new S.Position(c,n);if(y.isUpperAsciiLetter(a)&&y.isUpperAsciiLetter(t)&&n+1<u){const l=s.charCodeAt(n);if(y.isLowerAsciiLetter(l))return new S.Position(c,n)}}return new S.Position(c,1)}static moveWordRight(o,d,c,u){let s=c.lineNumber,n=c.column,a=!1;n===d.getLineMaxColumn(s)&&s<d.getLineCount()&&(a=!0,s=s+1,n=1);let t=b._findNextWordOnLine(o,d,new S.Position(s,n));if(u===2)t&&t.wordType===2&&t.end-t.start==1&&t.nextCharClass===0&&(t=b._findNextWordOnLine(o,d,new S.Position(s,t.end+1))),t?n=t.end+1:n=d.getLineMaxColumn(s);else if(u===3){for(a&&(n=0);t&&(t.wordType===2||t.start+1<=n);)t=b._findNextWordOnLine(o,d,new S.Position(s,t.end+1));t?n=t.start+1:n=d.getLineMaxColumn(s)}else t&&!a&&n>=t.start+1&&(t=b._findNextWordOnLine(o,d,new S.Position(s,t.end+1))),t?n=t.start+1:n=d.getLineMaxColumn(s);return new S.Position(s,n)}static _moveWordPartRight(o,d){const c=d.lineNumber,u=o.getLineMaxColumn(c);if(d.column===u)return c<o.getLineCount()?new S.Position(c+1,1):d;const s=o.getLineContent(c);for(let n=d.column+1;n<u;n++){const a=s.charCodeAt(n-2),t=s.charCodeAt(n-1);if(a!==95&&t===95)return new S.Position(c,n);if(y.isLowerAsciiLetter(a)&&y.isUpperAsciiLetter(t))return new S.Position(c,n);if(y.isUpperAsciiLetter(a)&&y.isUpperAsciiLetter(t)&&n+1<u){const l=s.charCodeAt(n);if(y.isLowerAsciiLetter(l))return new S.Position(c,n)}}return new S.Position(c,u)}static _deleteWordLeftWhitespace(o,d){const c=o.getLineContent(d.lineNumber),u=d.column-2,s=y.lastNonWhitespaceIndex(c,u);return s+1<u?new p.Range(d.lineNumber,s+2,d.lineNumber,d.column):null}static deleteWordLeft(o,d){const c=o.wordSeparators,u=o.model,s=o.selection,n=o.whitespaceHeuristics;if(!s.isEmpty())return s;if(T.DeleteOperations.isAutoClosingPairDelete(o.autoClosingDelete,o.autoClosingBrackets,o.autoClosingQuotes,o.autoClosingPairs.autoClosingPairsOpenByEnd,o.model,[o.selection],o.autoClosedCharacters)){const g=o.selection.getPosition();return new p.Range(g.lineNumber,g.column-1,g.lineNumber,g.column+1)}const a=new S.Position(s.positionLineNumber,s.positionColumn);let t=a.lineNumber,l=a.column;if(t===1&&l===1)return null;if(n){let g=this._deleteWordLeftWhitespace(u,a);if(g)return g}let h=b._findPreviousWordOnLine(c,u,a);return d===0?h?l=h.start+1:l>1?l=1:(t--,l=u.getLineMaxColumn(t)):(h&&l<=h.end+1&&(h=b._findPreviousWordOnLine(c,u,new S.Position(t,h.start+1))),h?l=h.end+1:l>1?l=1:(t--,l=u.getLineMaxColumn(t))),new p.Range(t,l,a.lineNumber,a.column)}static deleteInsideWord(o,d,c){if(!c.isEmpty())return c;const u=new S.Position(c.positionLineNumber,c.positionColumn);let s=this._deleteInsideWordWhitespace(d,u);return s||this._deleteInsideWordDetermineDeleteRange(o,d,u)}static _charAtIsWhitespace(o,d){const c=o.charCodeAt(d);return c===32||c===9}static _deleteInsideWordWhitespace(o,d){const c=o.getLineContent(d.lineNumber),u=c.length;if(u===0)return null;let s=Math.max(d.column-2,0);if(!this._charAtIsWhitespace(c,s))return null;let n=Math.min(d.column-1,u-1);if(!this._charAtIsWhitespace(c,n))return null;for(;s>0&&this._charAtIsWhitespace(c,s-1);)s--;for(;n+1<u&&this._charAtIsWhitespace(c,n+1);)n++;return new p.Range(d.lineNumber,s+1,d.lineNumber,n+2)}static _deleteInsideWordDetermineDeleteRange(o,d,c){const u=d.getLineContent(c.lineNumber),s=u.length;if(s===0)return c.lineNumber>1?new p.Range(c.lineNumber-1,d.getLineMaxColumn(c.lineNumber-1),c.lineNumber,1):c.lineNumber<d.getLineCount()?new p.Range(c.lineNumber,1,c.lineNumber+1,1):new p.Range(c.lineNumber,1,c.lineNumber,1);const n=g=>g.start+1<=c.column&&c.column<=g.end+1,a=(g,w)=>(g=Math.min(g,c.column),w=Math.max(w,c.column),new p.Range(c.lineNumber,g,c.lineNumber,w)),t=g=>{let w=g.start+1,_=g.end+1,C=!1;for(;_-1<s&&this._charAtIsWhitespace(u,_-1);)C=!0,_++;if(!C)for(;w>1&&this._charAtIsWhitespace(u,w-2);)w--;return a(w,_)},l=b._findPreviousWordOnLine(o,d,c);if(l&&n(l))return t(l);const h=b._findNextWordOnLine(o,d,c);return h&&n(h)?t(h):l&&h?a(l.end+1,h.start+1):l?a(l.start+1,l.end+1):h?a(h.start+1,h.end+1):a(1,s+1)}static _deleteWordPartLeft(o,d){if(!d.isEmpty())return d;const c=d.getPosition(),u=b._moveWordPartLeft(o,c);return new p.Range(c.lineNumber,c.column,u.lineNumber,u.column)}static _findFirstNonWhitespaceChar(o,d){let c=o.length;for(let u=d;u<c;u++){let s=o.charAt(u);if(s!==" "&&s!=="	")return u}return c}static _deleteWordRightWhitespace(o,d){const c=o.getLineContent(d.lineNumber),u=d.column-1,s=this._findFirstNonWhitespaceChar(c,u);return u+1<s?new p.Range(d.lineNumber,d.column,d.lineNumber,s+1):null}static deleteWordRight(o,d){const c=o.wordSeparators,u=o.model,s=o.selection,n=o.whitespaceHeuristics;if(!s.isEmpty())return s;const a=new S.Position(s.positionLineNumber,s.positionColumn);let t=a.lineNumber,l=a.column;const h=u.getLineCount(),g=u.getLineMaxColumn(t);if(t===h&&l===g)return null;if(n){let _=this._deleteWordRightWhitespace(u,a);if(_)return _}let w=b._findNextWordOnLine(c,u,a);return d===2?w?l=w.end+1:l<g||t===h?l=g:(t++,w=b._findNextWordOnLine(c,u,new S.Position(t,1)),w?l=w.start+1:l=u.getLineMaxColumn(t)):(w&&l>=w.start+1&&(w=b._findNextWordOnLine(c,u,new S.Position(t,w.end+1))),w?l=w.start+1:l<g||t===h?l=g:(t++,w=b._findNextWordOnLine(c,u,new S.Position(t,1)),w?l=w.start+1:l=u.getLineMaxColumn(t))),new p.Range(t,l,a.lineNumber,a.column)}static _deleteWordPartRight(o,d){if(!d.isEmpty())return d;const c=d.getPosition(),u=b._moveWordPartRight(o,c);return new p.Range(c.lineNumber,c.column,u.lineNumber,u.column)}static _createWordAtPosition(o,d,c){const u=new p.Range(d,c.start+1,d,c.end+1);return{word:o.getValueInRange(u),startColumn:u.startColumn,endColumn:u.endColumn}}static getWordAtPosition(o,d,c){const u=(0,D.getMapForWordSeparators)(d),s=b._findPreviousWordOnLine(u,o,c);if(s&&s.wordType===1&&s.start<=c.column-1&&c.column-1<=s.end)return b._createWordAtPosition(o,c.lineNumber,s);const n=b._findNextWordOnLine(u,o,c);return n&&n.wordType===1&&n.start<=c.column-1&&c.column-1<=n.end?b._createWordAtPosition(o,c.lineNumber,n):null}static word(o,d,c,u,s){const n=(0,D.getMapForWordSeparators)(o.wordSeparators);let a=b._findPreviousWordOnLine(n,d,s),t=b._findNextWordOnLine(n,d,s);if(!u){let _,C;return a&&a.wordType===1&&a.start<=s.column-1&&s.column-1<=a.end?(_=a.start+1,C=a.end+1):t&&t.wordType===1&&t.start<=s.column-1&&s.column-1<=t.end?(_=t.start+1,C=t.end+1):(a?_=a.end+1:_=1,t?C=t.start+1:C=d.getLineMaxColumn(s.lineNumber)),new N.SingleCursorState(new p.Range(s.lineNumber,_,s.lineNumber,C),0,new S.Position(s.lineNumber,C),0)}let l,h;a&&a.wordType===1&&a.start<s.column-1&&s.column-1<a.end?(l=a.start+1,h=a.end+1):t&&t.wordType===1&&t.start<s.column-1&&s.column-1<t.end?(l=t.start+1,h=t.end+1):(l=s.column,h=s.column);let g=s.lineNumber,w;if(c.selectionStart.containsPosition(s))w=c.selectionStart.endColumn;else if(s.isBeforeOrEqual(c.selectionStart.getStartPosition())){w=l;let _=new S.Position(g,w);c.selectionStart.containsPosition(_)&&(w=c.selectionStart.endColumn)}else{w=h;let _=new S.Position(g,w);c.selectionStart.containsPosition(_)&&(w=c.selectionStart.startColumn)}return c.move(!0,g,w,0)}}e.WordOperations=b;class i extends b{static deleteWordPartLeft(o){const d=f([b.deleteWordLeft(o,0),b.deleteWordLeft(o,2),b._deleteWordPartLeft(o.model,o.selection)]);return d.sort(p.Range.compareRangesUsingEnds),d[2]}static deleteWordPartRight(o){const d=f([b.deleteWordRight(o,0),b.deleteWordRight(o,2),b._deleteWordPartRight(o.model,o.selection)]);return d.sort(p.Range.compareRangesUsingStarts),d[0]}static moveWordPartLeft(o,d,c){const u=f([b.moveWordLeft(o,d,c,0),b.moveWordLeft(o,d,c,2),b._moveWordPartLeft(d,c)]);return u.sort(S.Position.compare),u[2]}static moveWordPartRight(o,d,c){const u=f([b.moveWordRight(o,d,c,0),b.moveWordRight(o,d,c,2),b._moveWordPartRight(d,c)]);return u.sort(S.Position.compare),u[0]}}e.WordPartOperations=i;function f(r){return r.filter(o=>Boolean(o))}}),define(te[270],ie([0,1,20,42,194,149,13,3]),function(q,e,y,N,T,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class b{static addCursorDown(r,o,d){let c=[],u=0;for(let s=0,n=o.length;s<n;s++){const a=o[s];c[u++]=new N.CursorState(a.modelState,a.viewState),d?c[u++]=N.CursorState.fromModelState(T.MoveOperations.translateDown(r.cursorConfig,r.model,a.modelState)):c[u++]=N.CursorState.fromViewState(T.MoveOperations.translateDown(r.cursorConfig,r,a.viewState))}return c}static addCursorUp(r,o,d){let c=[],u=0;for(let s=0,n=o.length;s<n;s++){const a=o[s];c[u++]=new N.CursorState(a.modelState,a.viewState),d?c[u++]=N.CursorState.fromModelState(T.MoveOperations.translateUp(r.cursorConfig,r.model,a.modelState)):c[u++]=N.CursorState.fromViewState(T.MoveOperations.translateUp(r.cursorConfig,r,a.viewState))}return c}static moveToBeginningOfLine(r,o,d){let c=[];for(let u=0,s=o.length;u<s;u++){const n=o[u];c[u]=this._moveToLineStart(r,n,d)}return c}static _moveToLineStart(r,o,d){const c=o.viewState.position.column,u=o.modelState.position.column,s=c===u,n=o.viewState.position.lineNumber,a=r.getLineFirstNonWhitespaceColumn(n);return!s&&!(c===a)?this._moveToLineStartByView(r,o,d):this._moveToLineStartByModel(r,o,d)}static _moveToLineStartByView(r,o,d){return N.CursorState.fromViewState(T.MoveOperations.moveToBeginningOfLine(r.cursorConfig,r,o.viewState,d))}static _moveToLineStartByModel(r,o,d){return N.CursorState.fromModelState(T.MoveOperations.moveToBeginningOfLine(r.cursorConfig,r.model,o.modelState,d))}static moveToEndOfLine(r,o,d,c){let u=[];for(let s=0,n=o.length;s<n;s++){const a=o[s];u[s]=this._moveToLineEnd(r,a,d,c)}return u}static _moveToLineEnd(r,o,d,c){const u=o.viewState.position,s=r.getLineMaxColumn(u.lineNumber),n=u.column===s,a=o.modelState.position,t=r.model.getLineMaxColumn(a.lineNumber),l=s-u.column==t-a.column;return n||l?this._moveToLineEndByModel(r,o,d,c):this._moveToLineEndByView(r,o,d,c)}static _moveToLineEndByView(r,o,d,c){return N.CursorState.fromViewState(T.MoveOperations.moveToEndOfLine(r.cursorConfig,r,o.viewState,d,c))}static _moveToLineEndByModel(r,o,d,c){return N.CursorState.fromModelState(T.MoveOperations.moveToEndOfLine(r.cursorConfig,r.model,o.modelState,d,c))}static expandLineSelection(r,o){let d=[];for(let c=0,u=o.length;c<u;c++){const s=o[c],n=s.modelState.selection.startLineNumber,a=r.model.getLineCount();let t=s.modelState.selection.endLineNumber,l;t===a?l=r.model.getLineMaxColumn(a):(t++,l=1),d[c]=N.CursorState.fromModelState(new N.SingleCursorState(new p.Range(n,1,n,1),0,new S.Position(t,l),0))}return d}static moveToBeginningOfBuffer(r,o,d){let c=[];for(let u=0,s=o.length;u<s;u++){const n=o[u];c[u]=N.CursorState.fromModelState(T.MoveOperations.moveToBeginningOfBuffer(r.cursorConfig,r.model,n.modelState,d))}return c}static moveToEndOfBuffer(r,o,d){let c=[];for(let u=0,s=o.length;u<s;u++){const n=o[u];c[u]=N.CursorState.fromModelState(T.MoveOperations.moveToEndOfBuffer(r.cursorConfig,r.model,n.modelState,d))}return c}static selectAll(r,o){const d=r.model.getLineCount(),c=r.model.getLineMaxColumn(d);return N.CursorState.fromModelState(new N.SingleCursorState(new p.Range(1,1,1,1),0,new S.Position(d,c),0))}static line(r,o,d,c,u){const s=r.model.validatePosition(c),n=u?r.coordinatesConverter.validateViewPosition(new S.Position(u.lineNumber,u.column),s):r.coordinatesConverter.convertModelPositionToViewPosition(s);if(!d||!o.modelState.hasSelection()){const t=r.model.getLineCount();let l=s.lineNumber+1,h=1;return l>t&&(l=t,h=r.model.getLineMaxColumn(l)),N.CursorState.fromModelState(new N.SingleCursorState(new p.Range(s.lineNumber,1,l,h),0,new S.Position(l,h),0))}const a=o.modelState.selectionStart.getStartPosition().lineNumber;if(s.lineNumber<a)return N.CursorState.fromViewState(o.viewState.move(o.modelState.hasSelection(),n.lineNumber,1,0));if(s.lineNumber>a){const t=r.getLineCount();let l=n.lineNumber+1,h=1;return l>t&&(l=t,h=r.getLineMaxColumn(l)),N.CursorState.fromViewState(o.viewState.move(o.modelState.hasSelection(),l,h,0))}else{const t=o.modelState.selectionStart.getEndPosition();return N.CursorState.fromModelState(o.modelState.move(o.modelState.hasSelection(),t.lineNumber,t.column,0))}}static word(r,o,d,c){const u=r.model.validatePosition(c);return N.CursorState.fromModelState(D.WordOperations.word(r.cursorConfig,r.model,o.modelState,d,u))}static cancelSelection(r,o){if(!o.modelState.hasSelection())return new N.CursorState(o.modelState,o.viewState);const d=o.viewState.position.lineNumber,c=o.viewState.position.column;return N.CursorState.fromViewState(new N.SingleCursorState(new p.Range(d,c,d,c),0,new S.Position(d,c),0))}static moveTo(r,o,d,c,u){const s=r.model.validatePosition(c),n=u?r.coordinatesConverter.validateViewPosition(new S.Position(u.lineNumber,u.column),s):r.coordinatesConverter.convertModelPositionToViewPosition(s);return N.CursorState.fromViewState(o.viewState.move(d,n.lineNumber,n.column,0))}static simpleMove(r,o,d,c,u,s){switch(d){case 0:return s===4?this._moveHalfLineLeft(r,o,c):this._moveLeft(r,o,c,u);case 1:return s===4?this._moveHalfLineRight(r,o,c):this._moveRight(r,o,c,u);case 2:return s===2?this._moveUpByViewLines(r,o,c,u):this._moveUpByModelLines(r,o,c,u);case 3:return s===2?this._moveDownByViewLines(r,o,c,u):this._moveDownByModelLines(r,o,c,u);case 4:return s===2?o.map(n=>N.CursorState.fromViewState(T.MoveOperations.moveToPrevBlankLine(r.cursorConfig,r,n.viewState,c))):o.map(n=>N.CursorState.fromModelState(T.MoveOperations.moveToPrevBlankLine(r.cursorConfig,r.model,n.modelState,c)));case 5:return s===2?o.map(n=>N.CursorState.fromViewState(T.MoveOperations.moveToNextBlankLine(r.cursorConfig,r,n.viewState,c))):o.map(n=>N.CursorState.fromModelState(T.MoveOperations.moveToNextBlankLine(r.cursorConfig,r.model,n.modelState,c)));case 6:return this._moveToViewMinColumn(r,o,c);case 7:return this._moveToViewFirstNonWhitespaceColumn(r,o,c);case 8:return this._moveToViewCenterColumn(r,o,c);case 9:return this._moveToViewMaxColumn(r,o,c);case 10:return this._moveToViewLastNonWhitespaceColumn(r,o,c);default:return null}}static viewportMove(r,o,d,c,u){const s=r.getCompletelyVisibleViewRange(),n=r.coordinatesConverter.convertViewRangeToModelRange(s);switch(d){case 11:{const a=this._firstLineNumberInRange(r.model,n,u),t=r.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(r,o[0],c,a,t)]}case 13:{const a=this._lastLineNumberInRange(r.model,n,u),t=r.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(r,o[0],c,a,t)]}case 12:{const a=Math.round((n.startLineNumber+n.endLineNumber)/2),t=r.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(r,o[0],c,a,t)]}case 14:{let a=[];for(let t=0,l=o.length;t<l;t++){const h=o[t];a[t]=this.findPositionInViewportIfOutside(r,h,s,c)}return a}default:return null}}static findPositionInViewportIfOutside(r,o,d,c){let u=o.viewState.position.lineNumber;if(d.startLineNumber<=u&&u<=d.endLineNumber-1)return new N.CursorState(o.modelState,o.viewState);{let s;u>d.endLineNumber-1?s=d.endLineNumber-1:u<d.startLineNumber?s=d.startLineNumber:s=u;const n=T.MoveOperations.vertical(r.cursorConfig,r,u,o.viewState.position.column,o.viewState.leftoverVisibleColumns,s,!1);return N.CursorState.fromViewState(o.viewState.move(c,n.lineNumber,n.column,n.leftoverVisibleColumns))}}static _firstLineNumberInRange(r,o,d){let c=o.startLineNumber;return o.startColumn!==r.getLineMinColumn(c)&&c++,Math.min(o.endLineNumber,c+d-1)}static _lastLineNumberInRange(r,o,d){let c=o.startLineNumber;return o.startColumn!==r.getLineMinColumn(c)&&c++,Math.max(c,o.endLineNumber-d+1)}static _moveLeft(r,o,d,c){return o.map(u=>N.CursorState.fromViewState(T.MoveOperations.moveLeft(r.cursorConfig,r,u.viewState,d,c)))}static _moveHalfLineLeft(r,o,d){let c=[];for(let u=0,s=o.length;u<s;u++){const n=o[u],a=n.viewState.position.lineNumber,t=Math.round(r.getLineContent(a).length/2);c[u]=N.CursorState.fromViewState(T.MoveOperations.moveLeft(r.cursorConfig,r,n.viewState,d,t))}return c}static _moveRight(r,o,d,c){return o.map(u=>N.CursorState.fromViewState(T.MoveOperations.moveRight(r.cursorConfig,r,u.viewState,d,c)))}static _moveHalfLineRight(r,o,d){let c=[];for(let u=0,s=o.length;u<s;u++){const n=o[u],a=n.viewState.position.lineNumber,t=Math.round(r.getLineContent(a).length/2);c[u]=N.CursorState.fromViewState(T.MoveOperations.moveRight(r.cursorConfig,r,n.viewState,d,t))}return c}static _moveDownByViewLines(r,o,d,c){let u=[];for(let s=0,n=o.length;s<n;s++){const a=o[s];u[s]=N.CursorState.fromViewState(T.MoveOperations.moveDown(r.cursorConfig,r,a.viewState,d,c))}return u}static _moveDownByModelLines(r,o,d,c){let u=[];for(let s=0,n=o.length;s<n;s++){const a=o[s];u[s]=N.CursorState.fromModelState(T.MoveOperations.moveDown(r.cursorConfig,r.model,a.modelState,d,c))}return u}static _moveUpByViewLines(r,o,d,c){let u=[];for(let s=0,n=o.length;s<n;s++){const a=o[s];u[s]=N.CursorState.fromViewState(T.MoveOperations.moveUp(r.cursorConfig,r,a.viewState,d,c))}return u}static _moveUpByModelLines(r,o,d,c){let u=[];for(let s=0,n=o.length;s<n;s++){const a=o[s];u[s]=N.CursorState.fromModelState(T.MoveOperations.moveUp(r.cursorConfig,r.model,a.modelState,d,c))}return u}static _moveToViewPosition(r,o,d,c,u){return N.CursorState.fromViewState(o.viewState.move(d,c,u,0))}static _moveToModelPosition(r,o,d,c,u){return N.CursorState.fromModelState(o.modelState.move(d,c,u,0))}static _moveToViewMinColumn(r,o,d){let c=[];for(let u=0,s=o.length;u<s;u++){const n=o[u],a=n.viewState.position.lineNumber,t=r.getLineMinColumn(a);c[u]=this._moveToViewPosition(r,n,d,a,t)}return c}static _moveToViewFirstNonWhitespaceColumn(r,o,d){let c=[];for(let u=0,s=o.length;u<s;u++){const n=o[u],a=n.viewState.position.lineNumber,t=r.getLineFirstNonWhitespaceColumn(a);c[u]=this._moveToViewPosition(r,n,d,a,t)}return c}static _moveToViewCenterColumn(r,o,d){let c=[];for(let u=0,s=o.length;u<s;u++){const n=o[u],a=n.viewState.position.lineNumber,t=Math.round((r.getLineMaxColumn(a)+r.getLineMinColumn(a))/2);c[u]=this._moveToViewPosition(r,n,d,a,t)}return c}static _moveToViewMaxColumn(r,o,d){let c=[];for(let u=0,s=o.length;u<s;u++){const n=o[u],a=n.viewState.position.lineNumber,t=r.getLineMaxColumn(a);c[u]=this._moveToViewPosition(r,n,d,a,t)}return c}static _moveToViewLastNonWhitespaceColumn(r,o,d){let c=[];for(let u=0,s=o.length;u<s;u++){const n=o[u],a=n.viewState.position.lineNumber,t=r.getLineLastNonWhitespaceColumn(a);c[u]=this._moveToViewPosition(r,n,d,a,t)}return c}}e.CursorMoveCommands=b;var i;(function(f){const r=function(d){if(!y.isObject(d))return!1;let c=d;return!(!y.isString(c.to)||!y.isUndefined(c.select)&&!y.isBoolean(c.select)||!y.isUndefined(c.by)&&!y.isString(c.by)||!y.isUndefined(c.value)&&!y.isNumber(c.value))};f.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:r,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},f.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},f.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function o(d){if(!d.to)return null;let c;switch(d.to){case f.RawDirection.Left:c=0;break;case f.RawDirection.Right:c=1;break;case f.RawDirection.Up:c=2;break;case f.RawDirection.Down:c=3;break;case f.RawDirection.PrevBlankLine:c=4;break;case f.RawDirection.NextBlankLine:c=5;break;case f.RawDirection.WrappedLineStart:c=6;break;case f.RawDirection.WrappedLineFirstNonWhitespaceCharacter:c=7;break;case f.RawDirection.WrappedLineColumnCenter:c=8;break;case f.RawDirection.WrappedLineEnd:c=9;break;case f.RawDirection.WrappedLineLastNonWhitespaceCharacter:c=10;break;case f.RawDirection.ViewPortTop:c=11;break;case f.RawDirection.ViewPortBottom:c=13;break;case f.RawDirection.ViewPortCenter:c=12;break;case f.RawDirection.ViewPortIfOutside:c=14;break;default:return null}let u=0;switch(d.by){case f.RawUnit.Line:u=1;break;case f.RawUnit.WrappedLine:u=2;break;case f.RawUnit.Character:u=3;break;case f.RawUnit.HalfLine:u=4;break}return{direction:c,unit:u,select:!!d.select,value:d.value||1}}f.parse=o})(i=e.CursorMove||(e.CursorMove={}))}),define(te[612],ie([0,1,42,13,3,21]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class S{constructor(b){this._selTrackedRange=null,this._trackSelection=!0,this._setState(b,new y.SingleCursorState(new T.Range(1,1,1,1),0,new N.Position(1,1),0),new y.SingleCursorState(new T.Range(1,1,1,1),0,new N.Position(1,1),0))}dispose(b){this._removeTrackedRange(b)}startTrackingSelection(b){this._trackSelection=!0,this._updateTrackedRange(b)}stopTrackingSelection(b){this._trackSelection=!1,this._removeTrackedRange(b)}_updateTrackedRange(b){!this._trackSelection||(this._selTrackedRange=b.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(b){this._selTrackedRange=b.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new y.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(b){const i=b.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.getDirection()===0?new D.Selection(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new D.Selection(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn)}ensureValidState(b){this._setState(b,this.modelState,this.viewState)}setState(b,i,f){this._setState(b,i,f)}static _validatePositionWithCache(b,i,f,r){return i.equals(f)?r:b.normalizePosition(i,2)}static _validateViewState(b,i){const f=i.position,r=i.selectionStart.getStartPosition(),o=i.selectionStart.getEndPosition(),d=b.normalizePosition(f,2),c=this._validatePositionWithCache(b,r,f,d),u=this._validatePositionWithCache(b,o,r,c);return f.equals(d)&&r.equals(c)&&o.equals(u)?i:new y.SingleCursorState(T.Range.fromPositions(c,u),i.selectionStartLeftoverVisibleColumns+r.column-c.column,d,i.leftoverVisibleColumns+f.column-d.column)}_setState(b,i,f){if(f&&(f=S._validateViewState(b.viewModel,f)),i){const r=b.model.validateRange(i.selectionStart),o=i.selectionStart.equalsRange(r)?i.selectionStartLeftoverVisibleColumns:0,d=b.model.validatePosition(i.position),c=i.position.equals(d)?i.leftoverVisibleColumns:0;i=new y.SingleCursorState(r,o,d,c)}else{if(!f)return;const r=b.model.validateRange(b.coordinatesConverter.convertViewRangeToModelRange(f.selectionStart)),o=b.model.validatePosition(b.coordinatesConverter.convertViewPositionToModelPosition(f.position));i=new y.SingleCursorState(r,f.selectionStartLeftoverVisibleColumns,o,f.leftoverVisibleColumns)}if(f){const r=b.coordinatesConverter.validateViewRange(f.selectionStart,i.selectionStart),o=b.coordinatesConverter.validateViewPosition(f.position,i.position);f=new y.SingleCursorState(r,i.selectionStartLeftoverVisibleColumns,o,i.leftoverVisibleColumns)}else{const r=b.coordinatesConverter.convertModelPositionToViewPosition(new N.Position(i.selectionStart.startLineNumber,i.selectionStart.startColumn)),o=b.coordinatesConverter.convertModelPositionToViewPosition(new N.Position(i.selectionStart.endLineNumber,i.selectionStart.endColumn)),d=new T.Range(r.lineNumber,r.column,o.lineNumber,o.column),c=b.coordinatesConverter.convertModelPositionToViewPosition(i.position);f=new y.SingleCursorState(d,i.selectionStartLeftoverVisibleColumns,c,i.leftoverVisibleColumns)}this.modelState=i,this.viewState=f,this._updateTrackedRange(b)}}e.Cursor=S}),define(te[613],ie([0,1,42,612,21]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class D{constructor(p){this.context=p,this.primaryCursor=new N.Cursor(p),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let p=0,b=this.secondaryCursors.length;p<b;p++)this.secondaryCursors[p].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let p=0,b=this.secondaryCursors.length;p<b;p++)this.secondaryCursors[p].stopTrackingSelection(this.context)}updateContext(p){this.context=p}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let p=0,b=this.secondaryCursors.length;p<b;p++)this.secondaryCursors[p].ensureValidState(this.context)}readSelectionFromMarkers(){let p=[];p[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let b=0,i=this.secondaryCursors.length;b<i;b++)p[b+1]=this.secondaryCursors[b].readSelectionFromMarkers(this.context);return p}getAll(){let p=[];p[0]=this.primaryCursor.asCursorState();for(let b=0,i=this.secondaryCursors.length;b<i;b++)p[b+1]=this.secondaryCursors[b].asCursorState();return p}getViewPositions(){let p=[];p[0]=this.primaryCursor.viewState.position;for(let b=0,i=this.secondaryCursors.length;b<i;b++)p[b+1]=this.secondaryCursors[b].viewState.position;return p}getTopMostViewPosition(){let p=this.primaryCursor.viewState.position;for(let b=0,i=this.secondaryCursors.length;b<i;b++){const f=this.secondaryCursors[b].viewState.position;f.isBefore(p)&&(p=f)}return p}getBottomMostViewPosition(){let p=this.primaryCursor.viewState.position;for(let b=0,i=this.secondaryCursors.length;b<i;b++){const f=this.secondaryCursors[b].viewState.position;p.isBeforeOrEqual(f)&&(p=f)}return p}getSelections(){let p=[];p[0]=this.primaryCursor.modelState.selection;for(let b=0,i=this.secondaryCursors.length;b<i;b++)p[b+1]=this.secondaryCursors[b].modelState.selection;return p}getViewSelections(){let p=[];p[0]=this.primaryCursor.viewState.selection;for(let b=0,i=this.secondaryCursors.length;b<i;b++)p[b+1]=this.secondaryCursors[b].viewState.selection;return p}setSelections(p){this.setStates(y.CursorState.fromModelSelections(p))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(p){p!==null&&(this.primaryCursor.setState(this.context,p[0].modelState,p[0].viewState),this._setSecondaryStates(p.slice(1)))}_setSecondaryStates(p){const b=this.secondaryCursors.length,i=p.length;if(b<i){let f=i-b;for(let r=0;r<f;r++)this._addSecondaryCursor()}else if(b>i){let f=b-i;for(let r=0;r<f;r++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let f=0;f<i;f++)this.secondaryCursors[f].setState(this.context,p[f].modelState,p[f].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new N.Cursor(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(p){this.lastAddedCursorIndex>=p+1&&this.lastAddedCursorIndex--,this.secondaryCursors[p].dispose(this.context),this.secondaryCursors.splice(p,1)}_getAll(){let p=[];p[0]=this.primaryCursor;for(let b=0,i=this.secondaryCursors.length;b<i;b++)p[b+1]=this.secondaryCursors[b];return p}normalize(){if(this.secondaryCursors.length===0)return;let p=this._getAll(),b=[];for(let i=0,f=p.length;i<f;i++)b.push({index:i,selection:p[i].modelState.selection});b.sort((i,f)=>i.selection.startLineNumber===f.selection.startLineNumber?i.selection.startColumn-f.selection.startColumn:i.selection.startLineNumber-f.selection.startLineNumber);for(let i=0;i<b.length-1;i++){const f=b[i],r=b[i+1],o=f.selection,d=r.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let c;if(d.isEmpty()||o.isEmpty()?c=d.getStartPosition().isBeforeOrEqual(o.getEndPosition()):c=d.getStartPosition().isBefore(o.getEndPosition()),c){const u=f.index<r.index?i:i+1,s=f.index<r.index?i+1:i,n=b[s].index,a=b[u].index,t=b[s].selection,l=b[u].selection;if(!t.equalsSelection(l)){const h=t.plusRange(l),g=t.selectionStartLineNumber===t.startLineNumber&&t.selectionStartColumn===t.startColumn,w=l.selectionStartLineNumber===l.startLineNumber&&l.selectionStartColumn===l.startColumn;let _;n===this.lastAddedCursorIndex?(_=g,this.lastAddedCursorIndex=a):_=w;let C;_?C=new T.Selection(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn):C=new T.Selection(h.endLineNumber,h.endColumn,h.startLineNumber,h.startColumn),b[u].selection=C;const v=y.CursorState.fromModelSelection(C);p[a].setState(this.context,v.modelState,v.viewState)}for(const h of b)h.index>n&&h.index--;p.splice(n,1),b.splice(s,1),this._removeSecondaryCursor(n-1),i--}}}}e.CursorCollection=D}),define(te[271],ie([0,1,10,8,613,42,195,196,3,21,97,178,2,180]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=e.CursorModelState=void 0;class c{constructor(t,l){this.modelVersionId=t.getVersionId(),this.cursorState=l.getCursorStates()}equals(t){if(!t||this.modelVersionId!==t.modelVersionId||this.cursorState.length!==t.cursorState.length)return!1;for(let l=0,h=this.cursorState.length;l<h;l++)if(!this.cursorState[l].equals(t.cursorState[l]))return!1;return!0}}e.CursorModelState=c;class u{constructor(t,l,h){this._model=t,this._autoClosedCharactersDecorations=l,this._autoClosedEnclosingDecorations=h}static getAllAutoClosedCharacters(t){let l=[];for(const h of t)l=l.concat(h.getAutoClosedCharactersRanges());return l}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let t=[];for(let l=0;l<this._autoClosedCharactersDecorations.length;l++){const h=this._model.getDecorationRange(this._autoClosedCharactersDecorations[l]);h&&t.push(h)}return t}isValid(t){let l=[];for(let h=0;h<this._autoClosedEnclosingDecorations.length;h++){const g=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[h]);if(g&&(l.push(g),g.startLineNumber!==g.endLineNumber))return!1}l.sort(b.Range.compareRangesUsingStarts),t.sort(b.Range.compareRangesUsingStarts);for(let h=0;h<t.length;h++)if(h>=l.length||!l[h].strictContainsRange(t[h]))return!1;return!0}}class s extends o.Disposable{constructor(t,l,h,g){super();this._model=t,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=l,this._coordinatesConverter=h,this.context=new D.CursorContext(this._model,this._viewModel,this._coordinatesConverter,g),this._cursors=new T.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,o.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(t){this.context=new D.CursorContext(this._model,this._viewModel,this._coordinatesConverter,t),this._cursors.updateContext(this.context)}onLineMappingChanged(t){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(t,"viewModel",0,this.getCursorStates())}setHasFocus(t){this._hasFocus=t}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let t=this._cursors.getSelections();for(let l=0;l<this._autoClosedActions.length;l++){const h=this._autoClosedActions[l];h.isValid(t)||(h.dispose(),this._autoClosedActions.splice(l,1),l--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(t,l,h,g){let w=!1;g!==null&&g.length>s.MAX_CURSOR_COUNT&&(g=g.slice(0,s.MAX_CURSOR_COUNT),w=!0);const _=new c(this._model,this);return this._cursors.setStates(g),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,l,h,_,w)}setCursorColumnSelectData(t){this._columnSelectData=t}revealPrimary(t,l,h,g){const w=this._cursors.getViewPositions();if(w.length>1){this._emitCursorRevealRange(t,l,null,this._cursors.getViewSelections(),0,h,g);return}else{const _=w[0],C=new b.Range(_.lineNumber,_.column,_.lineNumber,_.column);this._emitCursorRevealRange(t,l,C,null,0,h,g)}}_revealPrimaryCursor(t,l,h,g,w){const _=this._cursors.getViewPositions();if(_.length>1)this._emitCursorRevealRange(t,l,null,this._cursors.getViewSelections(),h,g,w);else{const C=_[0],v=new b.Range(C.lineNumber,C.column,C.lineNumber,C.column);this._emitCursorRevealRange(t,l,v,null,h,g,w)}}_emitCursorRevealRange(t,l,h,g,w,_,C){t.emitViewEvent(new r.ViewRevealRangeRequestEvent(l,h,g,w,_,C))}saveState(){let t=[];const l=this._cursors.getSelections();for(let h=0,g=l.length;h<g;h++){const w=l[h];t.push({inSelectionMode:!w.isEmpty(),selectionStart:{lineNumber:w.selectionStartLineNumber,column:w.selectionStartColumn},position:{lineNumber:w.positionLineNumber,column:w.positionColumn}})}return t}restoreState(t,l){let h=[];for(let g=0,w=l.length;g<w;g++){const _=l[g];let C=1,v=1;_.position&&_.position.lineNumber&&(C=_.position.lineNumber),_.position&&_.position.column&&(v=_.position.column);let m=C,E=v;_.selectionStart&&_.selectionStart.lineNumber&&(m=_.selectionStart.lineNumber),_.selectionStart&&_.selectionStart.column&&(E=_.selectionStart.column),h.push({selectionStartLineNumber:m,selectionStartColumn:E,positionLineNumber:C,positionColumn:v})}this.setStates(t,"restoreState",0,D.CursorState.fromModelSelections(h)),this.revealPrimary(t,"restoreState",!0,1)}onModelContentChanged(t,l){if(l instanceof f.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(t,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=l.versionId,this._isHandling)return;const h=l.containsEvent(1);if(this._prevEditOperationType=0,h)this._cursors.dispose(),this._cursors=new T.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,"model",1,null,!1);else if(this._hasFocus&&l.resultingSelection&&l.resultingSelection.length>0){const g=D.CursorState.fromModelSelections(l.resultingSelection);this.setStates(t,"modelChange",l.isUndoing?5:l.isRedoing?6:2,g)&&this._revealPrimaryCursor(t,"modelChange",0,!0,0)}else{const g=this._cursors.readSelectionFromMarkers();this.setStates(t,"modelChange",2,D.CursorState.fromModelSelections(g))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const t=this._cursors.getPrimaryCursor(),l=t.viewState.selectionStart.getStartPosition(),h=t.viewState.position;return{isReal:!1,fromViewLineNumber:l.lineNumber,fromViewVisualColumn:D.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,l),toViewLineNumber:h.lineNumber,toViewVisualColumn:D.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,h)}}getSelections(){return this._cursors.getSelections()}setSelections(t,l,h,g){this.setStates(t,l,g,D.CursorState.fromModelSelections(h))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(t){this._prevEditOperationType=t}_pushAutoClosedAction(t,l){let h=[],g=[];for(let C=0,v=t.length;C<v;C++)h.push({range:t[C],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),g.push({range:l[C],options:{description:"auto-closed-enclosing",stickiness:1}});const w=this._model.deltaDecorations([],h),_=this._model.deltaDecorations([],g);this._autoClosedActions.push(new u(this._model,w,_))}_executeEditOperation(t){if(!t)return;t.shouldPushStackElementBefore&&this._model.pushStackElement();const l=n.executeCommands(this._model,this._cursors.getSelections(),t.commands);if(l){this._interpretCommandResult(l);let h=[],g=[];for(let w=0;w<t.commands.length;w++){const _=t.commands[w];_ instanceof p.TypeWithAutoClosingCommand&&_.enclosingRange&&_.closeCharacterRange&&(h.push(_.closeCharacterRange),g.push(_.enclosingRange))}h.length>0&&this._pushAutoClosedAction(h,g),this._prevEditOperationType=t.type}t.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(t){(!t||t.length===0)&&(t=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(t),this._cursors.normalize()}_emitStateChangedIfNecessary(t,l,h,g,w){const _=new c(this._model,this);if(_.equals(g))return!1;const C=this._cursors.getSelections(),v=this._cursors.getViewSelections();if(t.emitViewEvent(new r.ViewCursorStateChangedEvent(v,C)),!g||g.cursorState.length!==_.cursorState.length||_.cursorState.some((m,E)=>!m.modelState.equals(g.cursorState[E].modelState))){const m=g?g.cursorState.map(I=>I.modelState.selection):null,E=g?g.modelVersionId:0;t.emitOutgoingEvent(new d.CursorStateChangedEvent(m,C,E,_.modelVersionId,l||"keyboard",h,w))}return!0}_findAutoClosingPairs(t){if(!t.length)return null;let l=[];for(let h=0,g=t.length;h<g;h++){const w=t[h];if(!w.text||w.text.indexOf(`
`)>=0)return null;const _=w.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!_)return null;const C=_[1],v=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(C);if(!v||v.length!==1)return null;const m=v[0].open,E=w.text.length-_[2].length-1,I=w.text.lastIndexOf(m,E-1);if(I===-1)return null;l.push([I,E])}return l}executeEdits(t,l,h,g){let w=null;l==="snippet"&&(w=this._findAutoClosingPairs(h)),w&&(h[0]._isTracked=!0);let _=[],C=[];const v=this._model.pushEditOperations(this.getSelections(),h,m=>{if(w)for(let I=0,k=w.length;I<k;I++){const[A,P]=w[I],F=m[I],M=F.range.startLineNumber,R=F.range.startColumn-1+A,O=F.range.startColumn-1+P;_.push(new b.Range(M,O+1,M,O+2)),C.push(new b.Range(M,R+1,M,O+2))}const E=g(m);return E&&(this._isHandling=!0),E});v&&(this._isHandling=!1,this.setSelections(t,l,v,0)),_.length>0&&this._pushAutoClosedAction(_,C)}_executeEdit(t,l,h,g=0){if(this.context.cursorConfig.readOnly)return;const w=new c(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),t()}catch(_){(0,y.onUnexpectedError)(_)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(l,h,g,w,!1)&&this._revealPrimaryCursor(l,h,0,!0,0)}setIsDoingComposition(t){this._isDoingComposition=t}getAutoClosedCharacters(){return u.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(t){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(t,l){this._executeEdit(()=>{l==="keyboard"&&(this._executeEditOperation(p.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},t,l)}type(t,l,h){this._executeEdit(()=>{if(h==="keyboard"){const g=l.length;let w=0;for(;w<g;){const _=N.nextCharLength(l,w),C=l.substr(w,_);this._executeEditOperation(p.TypeOperations.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),C)),w+=_}}else this._executeEditOperation(p.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),l))},t,h)}compositionType(t,l,h,g,w,_){if(l.length===0&&h===0&&g===0){if(w!==0){const C=this.getSelections().map(v=>{const m=v.getPosition();return new i.Selection(m.lineNumber,m.column+w,m.lineNumber,m.column+w)});this.setSelections(t,_,C,0)}return}this._executeEdit(()=>{this._executeEditOperation(p.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),l,h,g,w))},t,_)}paste(t,l,h,g,w){this._executeEdit(()=>{this._executeEditOperation(p.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),l,h,g||[]))},t,w,4)}cut(t,l){this._executeEdit(()=>{this._executeEditOperation(S.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},t,l)}executeCommand(t,l,h){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new D.EditOperationResult(0,[l],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t,h)}executeCommands(t,l,h){this._executeEdit(()=>{this._executeEditOperation(new D.EditOperationResult(0,l,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t,h)}}e.CursorsController=s,s.MAX_CURSOR_COUNT=1e4;class n{static executeCommands(t,l,h){const g={model:t,selectionsBefore:l,trackedRanges:[],trackedRangesDirection:[]},w=this._innerExecuteCommands(g,h);for(let _=0,C=g.trackedRanges.length;_<C;_++)g.model._setTrackedRange(g.trackedRanges[_],null,0);return w}static _innerExecuteCommands(t,l){if(this._arrayIsEmpty(l))return null;const h=this._getEditOperations(t,l);if(h.operations.length===0)return null;const g=h.operations,w=this._getLoserCursorMap(g);if(w.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let _=[];for(let m=0,E=g.length;m<E;m++)w.hasOwnProperty(g[m].identifier.major.toString())||_.push(g[m]);h.hadTrackedEditOperation&&_.length>0&&(_[0]._isTracked=!0);let C=t.model.pushEditOperations(t.selectionsBefore,_,m=>{let E=[];for(let A=0;A<t.selectionsBefore.length;A++)E[A]=[];for(const A of m)!A.identifier||E[A.identifier.major].push(A);const I=(A,P)=>A.identifier.minor-P.identifier.minor;let k=[];for(let A=0;A<t.selectionsBefore.length;A++)E[A].length>0?(E[A].sort(I),k[A]=l[A].computeCursorState(t.model,{getInverseEditOperations:()=>E[A],getTrackedSelection:P=>{const F=parseInt(P,10),M=t.model._getTrackedRange(t.trackedRanges[F]);return t.trackedRangesDirection[F]===0?new i.Selection(M.startLineNumber,M.startColumn,M.endLineNumber,M.endColumn):new i.Selection(M.endLineNumber,M.endColumn,M.startLineNumber,M.startColumn)}})):k[A]=t.selectionsBefore[A];return k});C||(C=t.selectionsBefore);let v=[];for(let m in w)w.hasOwnProperty(m)&&v.push(parseInt(m,10));v.sort((m,E)=>E-m);for(const m of v)C.splice(m,1);return C}static _arrayIsEmpty(t){for(let l=0,h=t.length;l<h;l++)if(t[l])return!1;return!0}static _getEditOperations(t,l){let h=[],g=!1;for(let w=0,_=l.length;w<_;w++){const C=l[w];if(C){const v=this._getEditOperationsFromCommand(t,w,C);h=h.concat(v.operations),g=g||v.hadTrackedEditOperation}}return{operations:h,hadTrackedEditOperation:g}}static _getEditOperationsFromCommand(t,l,h){let g=[],w=0;const _=(I,k,A=!1)=>{b.Range.isEmpty(I)&&k===""||g.push({identifier:{major:l,minor:w++},range:I,text:k,forceMoveMarkers:A,isAutoWhitespaceEdit:h.insertsAutoWhitespace})};let C=!1;const E={addEditOperation:_,addTrackedEditOperation:(I,k,A)=>{C=!0,_(I,k,A)},trackSelection:(I,k)=>{const A=i.Selection.liftSelection(I);let P;if(A.isEmpty())if(typeof k=="boolean")k?P=2:P=3;else{const R=t.model.getLineMaxColumn(A.startLineNumber);A.startColumn===R?P=2:P=3}else P=1;const F=t.trackedRanges.length,M=t.model._setTrackedRange(null,A,P);return t.trackedRanges[F]=M,t.trackedRangesDirection[F]=A.getDirection(),F.toString()}};try{h.getEditOperations(t.model,E)}catch(I){return(0,y.onUnexpectedError)(I),{operations:[],hadTrackedEditOperation:!1}}return{operations:g,hadTrackedEditOperation:C}}static _getLoserCursorMap(t){t=t.slice(0),t.sort((h,g)=>-b.Range.compareRangesUsingEnds(h.range,g.range));let l={};for(let h=1;h<t.length;h++){const g=t[h-1],w=t[h];if(b.Range.getStartPosition(g.range).isBefore(b.Range.getEndPosition(w.range))){let _;g.identifier.major>w.identifier.major?_=g.identifier.major:_=w.identifier.major,l[_.toString()]=!0;for(let C=0;C<t.length;C++)t[C].identifier.major===_&&(t.splice(C,1),C<h&&h--,C--);h>0&&h--}}return l}}}),define(te[614],ie([0,1,89,2,49,12,46,39,3,48,6,22,47]),function(q,e,y,N,T,D,S,p,b,i,f,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;class d extends N.Disposable{constructor(s){super();this.model=s,this._markersData=new Map,this._register((0,N.toDisposable)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(s,n){const a=[...this._markersData.keys()];this._markersData.clear();const t=this.model.deltaDecorations(a,n);for(let l=0;l<t.length;l++)this._markersData.set(t[l],s[l]);return a.length!==0||t.length!==0}getMarker(s){return this._markersData.get(s.id)}}let c=class extends N.Disposable{constructor(s,n){super();this._markerService=n,this._onDidChangeMarker=this._register(new f.Emitter),this._markerDecorations=new o.ResourceMap,s.getModels().forEach(a=>this._onModelAdded(a)),this._register(s.onModelAdded(this._onModelAdded,this)),this._register(s.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(s=>s.dispose()),this._markerDecorations.clear()}getMarker(s,n){const a=this._markerDecorations.get(s);return a&&a.getMarker(n)||null}_handleMarkerChange(s){s.forEach(n=>{const a=this._markerDecorations.get(n);a&&this._updateDecorations(a)})}_onModelAdded(s){const n=new d(s);this._markerDecorations.set(s.uri,n),this._updateDecorations(n)}_onModelRemoved(s){const n=this._markerDecorations.get(s.uri);n&&(n.dispose(),this._markerDecorations.delete(s.uri)),(s.uri.scheme===i.Schemas.inMemory||s.uri.scheme===i.Schemas.internal||s.uri.scheme===i.Schemas.vscode)&&this._markerService&&this._markerService.read({resource:s.uri}).map(a=>a.owner).forEach(a=>this._markerService.remove(a,[s.uri]))}_updateDecorations(s){const n=this._markerService.read({resource:s.model.uri,take:500});let a=n.map(t=>({range:this._createDecorationRange(s.model,t),options:this._createDecorationOption(t)}));s.update(n,a)&&this._onDidChangeMarker.fire(s.model)}_createDecorationRange(s,n){let a=b.Range.lift(n);if(n.severity===y.MarkerSeverity.Hint&&!this._hasMarkerTag(n,1)&&!this._hasMarkerTag(n,2)&&(a=a.setEndPosition(a.startLineNumber,a.startColumn+2)),a=s.validateRange(a),a.isEmpty()){let t=s.getWordAtPosition(a.getStartPosition());if(t)a=new b.Range(a.startLineNumber,t.startColumn,a.endLineNumber,t.endColumn);else{let l=s.getLineLastNonWhitespaceColumn(a.startLineNumber)||s.getLineMaxColumn(a.startLineNumber);l===1||(a.endColumn>=l?a=new b.Range(a.startLineNumber,l-1,a.endLineNumber,l):a=new b.Range(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn+1))}}else if(n.endColumn===Number.MAX_VALUE&&n.startColumn===1&&a.startLineNumber===a.endLineNumber){let t=s.getLineFirstNonWhitespaceColumn(n.startLineNumber);t<a.endColumn&&(a=new b.Range(a.startLineNumber,t,a.endLineNumber,a.endColumn),n.startColumn=t)}return a}_createDecorationOption(s){let n,a,t,l,h;switch(s.severity){case y.MarkerSeverity.Hint:this._hasMarkerTag(s,2)?n=void 0:this._hasMarkerTag(s,1)?n="squiggly-unnecessary":n="squiggly-hint",t=0;break;case y.MarkerSeverity.Warning:n="squiggly-warning",a=(0,D.themeColorFromId)(S.overviewRulerWarning),t=20,h={color:(0,D.themeColorFromId)(r.minimapWarning),position:T.MinimapPosition.Inline};break;case y.MarkerSeverity.Info:n="squiggly-info",a=(0,D.themeColorFromId)(S.overviewRulerInfo),t=10;break;case y.MarkerSeverity.Error:default:n="squiggly-error",a=(0,D.themeColorFromId)(S.overviewRulerError),t=30,h={color:(0,D.themeColorFromId)(r.minimapError),position:T.MinimapPosition.Inline};break}return s.tags&&(s.tags.indexOf(1)!==-1&&(l="squiggly-inline-unnecessary"),s.tags.indexOf(2)!==-1&&(l="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:n,showIfCollapsed:!0,overviewRuler:{color:a,position:T.OverviewRulerLane.Right},minimap:h,zIndex:t,inlineClassName:l}}_hasMarkerTag(s,n){return s.tags?s.tags.indexOf(n)>=0:!1}};c=Fe([Ce(0,p.IModelService),Ce(1,y.IMarkerService)],c),e.MarkerDecorationsService=c}),define(te[615],ie([0,1,19,87,13,3,31,178,233,63,97]),function(q,e,y,N,T,D,S,p,b,i,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IdentityLinesCollection=e.IdentityCoordinatesConverter=e.SplitLine=e.SplitLinesCollection=e.CoordinatesConverter=void 0;class r{constructor(m){this._lines=m}convertViewPositionToModelPosition(m){return this._lines.convertViewPositionToModelPosition(m.lineNumber,m.column)}convertViewRangeToModelRange(m){return this._lines.convertViewRangeToModelRange(m)}validateViewPosition(m,E){return this._lines.validateViewPosition(m.lineNumber,m.column,E)}validateViewRange(m,E){return this._lines.validateViewRange(m,E)}convertModelPositionToViewPosition(m,E){return this._lines.convertModelPositionToViewPosition(m.lineNumber,m.column,E)}convertModelRangeToViewRange(m,E){return this._lines.convertModelRangeToViewRange(m,E)}modelPositionIsVisible(m){return this._lines.modelPositionIsVisible(m.lineNumber,m.column)}getModelLineViewLineCount(m){return this._lines.getModelLineViewLineCount(m)}}e.CoordinatesConverter=r;class o{constructor(m){this._counts=m,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(m){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,m-1)}_ensureValid(){if(!this._isValid){for(let m=this._validEndIndex+1,E=this._counts.length;m<E;m++){const I=this._counts[m],k=m>0?this._modelToView[m-1]:0;this._modelToView[m]=k+I;for(let A=0;A<I;A++)this._viewToModel[k+A]=m}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(m,E){this._counts[m]!==E&&(this._counts[m]=E,this._invalidate(m))}removeValues(m,E){this._counts.splice(m,E),this._invalidate(m)}insertValues(m,E){this._counts=y.arrayInsert(this._counts,m,E),this._invalidate(m)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(m){return this._ensureValid(),this._modelToView[m]}getIndexOf(m){this._ensureValid();const E=this._viewToModel[m],I=E>0?this._modelToView[E-1]:0;return new b.PrefixSumIndexOfResult(E,m-I)}}class d{constructor(m,E,I,k,A,P,F,M,R){this._editorId=m,this.model=E,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=I,this._monospaceLineBreaksComputerFactory=k,this.fontInfo=A,this.tabSize=P,this.wrappingStrategy=F,this.wrappingColumn=M,this.wrappingIndent=R,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new r(this)}_constructLines(m,E){this.lines=[],m&&(this.hiddenAreasIds=[]);const I=this.model.getLinesContent(),k=this.model.getInjectedTextDecorations(this._editorId),A=I.length,P=this.createLineBreaksComputer(),F=new y.ArrayQueue(f.LineInjectedText.fromDecorations(k));for(let j=0;j<A;j++){const X=F.takeWhile(Q=>Q.lineNumber===j+1);P.addRequest(I[j],X,E?E[j]:null)}const M=P.finalize();let R=[],O=this.hiddenAreasIds.map(j=>this.model.getDecorationRange(j)).sort(D.Range.compareRangesUsingStarts),L=1,B=0,z=-1,$=z+1<O.length?B+1:A+2;for(let j=0;j<A;j++){let X=j+1;X===$&&(z++,L=O[z].startLineNumber,B=O[z].endLineNumber,$=z+1<O.length?B+1:A+2);let Q=X>=L&&X<=B,Y=g(M[j],!Q);R[j]=Y.getViewLineCount(),this.lines[j]=Y}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new o(R)}getHiddenAreas(){return this.hiddenAreasIds.map(m=>this.model.getDecorationRange(m))}_reduceRanges(m){if(m.length===0)return[];let E=m.map(P=>this.model.validateRange(P)).sort(D.Range.compareRangesUsingStarts),I=[],k=E[0].startLineNumber,A=E[0].endLineNumber;for(let P=1,F=E.length;P<F;P++){let M=E[P];M.startLineNumber>A+1?(I.push(new D.Range(k,1,A,1)),k=M.startLineNumber,A=M.endLineNumber):M.endLineNumber>A&&(A=M.endLineNumber)}return I.push(new D.Range(k,1,A,1)),I}setHiddenAreas(m){let E=this._reduceRanges(m),I=this.hiddenAreasIds.map(L=>this.model.getDecorationRange(L)).sort(D.Range.compareRangesUsingStarts);if(E.length===I.length){let L=!1;for(let B=0;B<E.length;B++)if(!E[B].equalsRange(I[B])){L=!0;break}if(!L)return!1}let k=[];for(const L of E)k.push({range:L,options:S.ModelDecorationOptions.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,k);let A=E,P=1,F=0,M=-1,R=M+1<A.length?F+1:this.lines.length+2,O=!1;for(let L=0;L<this.lines.length;L++){let B=L+1;B===R&&(M++,P=A[M].startLineNumber,F=A[M].endLineNumber,R=M+1<A.length?F+1:this.lines.length+2);let z=!1;if(B>=P&&B<=F?this.lines[L].isVisible()&&(this.lines[L]=this.lines[L].setVisible(!1),z=!0):(O=!0,this.lines[L].isVisible()||(this.lines[L]=this.lines[L].setVisible(!0),z=!0)),z){let $=this.lines[L].getViewLineCount();this.prefixSumComputer.changeValue(L,$)}}return O||this.setHiddenAreas([]),!0}modelPositionIsVisible(m,E){return m<1||m>this.lines.length?!1:this.lines[m-1].isVisible()}getModelLineViewLineCount(m){return m<1||m>this.lines.length?1:this.lines[m-1].getViewLineCount()}setTabSize(m){return this.tabSize===m?!1:(this.tabSize=m,this._constructLines(!1,null),!0)}setWrappingSettings(m,E,I,k){const A=this.fontInfo.equals(m),P=this.wrappingStrategy===E,F=this.wrappingColumn===I,M=this.wrappingIndent===k;if(A&&P&&F&&M)return!1;const R=A&&P&&!F&&M;this.fontInfo=m,this.wrappingStrategy=E,this.wrappingColumn=I,this.wrappingIndent=k;let O=null;if(R){O=[];for(let L=0,B=this.lines.length;L<B;L++)O[L]=this.lines[L].getLineBreakData()}return this._constructLines(!1,O),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(m,E,I){if(!m||m<=this._validModelVersionId)return null;let k=E===1?1:this.prefixSumComputer.getAccumulatedValue(E-2)+1,A=this.prefixSumComputer.getAccumulatedValue(I-1);return this.lines.splice(E-1,I-E+1),this.prefixSumComputer.removeValues(E-1,I-E+1),new p.ViewLinesDeletedEvent(k,A)}onModelLinesInserted(m,E,I,k){if(!m||m<=this._validModelVersionId)return null;const A=E>2&&!this.lines[E-2].isVisible();let P=E===1?1:this.prefixSumComputer.getAccumulatedValue(E-2)+1,F=0,M=[],R=[];for(let O=0,L=k.length;O<L;O++){let B=g(k[O],!A);M.push(B);let z=B.getViewLineCount();F+=z,R[O]=z}return this.lines=this.lines.slice(0,E-1).concat(M).concat(this.lines.slice(E-1)),this.prefixSumComputer.insertValues(E-1,R),new p.ViewLinesInsertedEvent(P,P+F-1)}onModelLineChanged(m,E,I){if(m!==null&&m<=this._validModelVersionId)return[!1,null,null,null];let k=E-1,A=this.lines[k].getViewLineCount(),P=this.lines[k].isVisible(),F=g(I,P);this.lines[k]=F;let M=this.lines[k].getViewLineCount(),R=!1,O=0,L=-1,B=0,z=-1,$=0,j=-1;A>M?(O=E===1?1:this.prefixSumComputer.getAccumulatedValue(E-2)+1,L=O+M-1,$=L+1,j=$+(A-M)-1,R=!0):A<M?(O=E===1?1:this.prefixSumComputer.getAccumulatedValue(E-2)+1,L=O+A-1,B=L+1,z=B+(M-A)-1,R=!0):(O=E===1?1:this.prefixSumComputer.getAccumulatedValue(E-2)+1,L=O+M-1),this.prefixSumComputer.changeValue(k,M);const X=O<=L?new p.ViewLinesChangedEvent(O,L):null,Q=B<=z?new p.ViewLinesInsertedEvent(B,z):null,Y=$<=j?new p.ViewLinesDeletedEvent($,j):null;return[R,X,Q,Y]}acceptVersionId(m){this._validModelVersionId=m,this.lines.length===1&&!this.lines[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(m){if(m<1)return 1;const E=this.getViewLineCount();return m>E?E:m|0}getActiveIndentGuide(m,E,I){m=this._toValidViewLineNumber(m),E=this._toValidViewLineNumber(E),I=this._toValidViewLineNumber(I);const k=this.convertViewPositionToModelPosition(m,this.getViewLineMinColumn(m)),A=this.convertViewPositionToModelPosition(E,this.getViewLineMinColumn(E)),P=this.convertViewPositionToModelPosition(I,this.getViewLineMinColumn(I)),F=this.model.getActiveIndentGuide(k.lineNumber,A.lineNumber,P.lineNumber),M=this.convertModelPositionToViewPosition(F.startLineNumber,1),R=this.convertModelPositionToViewPosition(F.endLineNumber,this.model.getLineMaxColumn(F.endLineNumber));return{startLineNumber:M.lineNumber,endLineNumber:R.lineNumber,indent:F.indent}}getViewLineInfo(m){m=this._toValidViewLineNumber(m);let E=this.prefixSumComputer.getIndexOf(m-1),I=E.index,k=E.remainder;return new c(I+1,k)}getMinColumnOfViewLine(m){return this.lines[m.modelLineNumber-1].getViewLineMinColumn(this.model,m.modelLineNumber,m.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(m){const E=this.lines[m.modelLineNumber-1],I=E.getViewLineMinColumn(this.model,m.modelLineNumber,m.modelLineWrappedLineIdx),k=E.getModelColumnOfViewPosition(m.modelLineWrappedLineIdx,I);return new T.Position(m.modelLineNumber,k)}getModelEndPositionOfViewLine(m){const E=this.lines[m.modelLineNumber-1],I=E.getViewLineMaxColumn(this.model,m.modelLineNumber,m.modelLineWrappedLineIdx),k=E.getModelColumnOfViewPosition(m.modelLineWrappedLineIdx,I);return new T.Position(m.modelLineNumber,k)}getViewLineInfosGroupedByModelRanges(m,E){const I=this.getViewLineInfo(m),k=this.getViewLineInfo(E),A=new Array;let P=this.getModelStartPositionOfViewLine(I),F=new Array;for(let M=I.modelLineNumber;M<=k.modelLineNumber;M++){const R=this.lines[M-1];if(R.isVisible()){let O=M===I.modelLineNumber?I.modelLineWrappedLineIdx:0,L=M===k.modelLineNumber?k.modelLineWrappedLineIdx+1:R.getViewLineCount();for(let B=O;B<L;B++)F.push(new c(M,B))}if(!R.isVisible()&&P){const O=new T.Position(M-1,this.model.getLineMaxColumn(M-1)+1),L=D.Range.fromPositions(P,O);A.push(new u(L,F)),F=[],P=null}else R.isVisible()&&!P&&(P=new T.Position(M,1))}if(P){const M=D.Range.fromPositions(P,this.getModelEndPositionOfViewLine(k));A.push(new u(M,F))}return A}getViewLinesBracketGuides(m,E,I,k,A){const P=I?this.convertViewPositionToModelPosition(I.lineNumber,I.column):null,F=[];for(const M of this.getViewLineInfosGroupedByModelRanges(m,E)){const R=M.modelRange.startLineNumber,O=this.model.getLinesBracketGuides(R,M.modelRange.endLineNumber,P,k,A);for(const L of M.viewLines)if(L.isWrappedLineContinuation&&this.getMinColumnOfViewLine(L)===1)F.push([]);else{const B=O[L.modelLineNumber-R];F.push(B)}}return F}getViewLinesIndentGuides(m,E){m=this._toValidViewLineNumber(m),E=this._toValidViewLineNumber(E);const I=this.convertViewPositionToModelPosition(m,this.getViewLineMinColumn(m)),k=this.convertViewPositionToModelPosition(E,this.getViewLineMaxColumn(E));let A=[],P=[],F=[];const M=I.lineNumber-1,R=k.lineNumber-1;let O=null;for(let $=M;$<=R;$++){const j=this.lines[$];if(j.isVisible()){let X=j.getViewLineNumberOfModelPosition(0,$===M?I.column:1),Q=j.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn($+1)),Y=Q-X+1,oe=0;Y>1&&j.getViewLineMinColumn(this.model,$+1,Q)===1&&(oe=X===0?1:2),P.push(Y),F.push(oe),O===null&&(O=new T.Position($+1,0))}else O!==null&&(A=A.concat(this.model.getLinesIndentGuides(O.lineNumber,$)),O=null)}O!==null&&(A=A.concat(this.model.getLinesIndentGuides(O.lineNumber,k.lineNumber)),O=null);const L=E-m+1;let B=new Array(L),z=0;for(let $=0,j=A.length;$<j;$++){let X=A[$],Q=Math.min(L-z,P[$]),Y=F[$],oe;Y===2?oe=0:Y===1?oe=1:oe=Q;for(let se=0;se<Q;se++)se===oe&&(X=0),B[z++]=X}return B}getViewLineContent(m){m=this._toValidViewLineNumber(m);let E=this.prefixSumComputer.getIndexOf(m-1),I=E.index,k=E.remainder;return this.lines[I].getViewLineContent(this.model,I+1,k)}getViewLineLength(m){m=this._toValidViewLineNumber(m);let E=this.prefixSumComputer.getIndexOf(m-1),I=E.index,k=E.remainder;return this.lines[I].getViewLineLength(this.model,I+1,k)}getViewLineMinColumn(m){m=this._toValidViewLineNumber(m);let E=this.prefixSumComputer.getIndexOf(m-1),I=E.index,k=E.remainder;return this.lines[I].getViewLineMinColumn(this.model,I+1,k)}getViewLineMaxColumn(m){m=this._toValidViewLineNumber(m);let E=this.prefixSumComputer.getIndexOf(m-1),I=E.index,k=E.remainder;return this.lines[I].getViewLineMaxColumn(this.model,I+1,k)}getViewLineData(m){m=this._toValidViewLineNumber(m);let E=this.prefixSumComputer.getIndexOf(m-1),I=E.index,k=E.remainder;return this.lines[I].getViewLineData(this.model,I+1,k)}getViewLinesData(m,E,I){m=this._toValidViewLineNumber(m),E=this._toValidViewLineNumber(E);let k=this.prefixSumComputer.getIndexOf(m-1),A=m,P=k.index,F=k.remainder,M=[];for(let R=P,O=this.model.getLineCount();R<O;R++){let L=this.lines[R];if(!L.isVisible())continue;let B=R===P?F:0,z=L.getViewLineCount()-B,$=!1;A+z>E&&($=!0,z=E-A+1);let j=B+z;if(L.getViewLinesData(this.model,R+1,B,j,A-m,I,M),A+=z,$)break}return M}validateViewPosition(m,E,I){m=this._toValidViewLineNumber(m);let k=this.prefixSumComputer.getIndexOf(m-1),A=k.index,P=k.remainder,F=this.lines[A],M=F.getViewLineMinColumn(this.model,A+1,P),R=F.getViewLineMaxColumn(this.model,A+1,P);E<M&&(E=M),E>R&&(E=R);let O=F.getModelColumnOfViewPosition(P,E);return this.model.validatePosition(new T.Position(A+1,O)).equals(I)?new T.Position(m,E):this.convertModelPositionToViewPosition(I.lineNumber,I.column)}validateViewRange(m,E){const I=this.validateViewPosition(m.startLineNumber,m.startColumn,E.getStartPosition()),k=this.validateViewPosition(m.endLineNumber,m.endColumn,E.getEndPosition());return new D.Range(I.lineNumber,I.column,k.lineNumber,k.column)}convertViewPositionToModelPosition(m,E){m=this._toValidViewLineNumber(m);let I=this.prefixSumComputer.getIndexOf(m-1),k=I.index,A=I.remainder,P=this.lines[k].getModelColumnOfViewPosition(A,E);return this.model.validatePosition(new T.Position(k+1,P))}convertViewRangeToModelRange(m){const E=this.convertViewPositionToModelPosition(m.startLineNumber,m.startColumn),I=this.convertViewPositionToModelPosition(m.endLineNumber,m.endColumn);return new D.Range(E.lineNumber,E.column,I.lineNumber,I.column)}convertModelPositionToViewPosition(m,E,I=2){const k=this.model.validatePosition(new T.Position(m,E)),A=k.lineNumber,P=k.column;let F=A-1,M=!1;for(;F>0&&!this.lines[F].isVisible();)F--,M=!0;if(F===0&&!this.lines[F].isVisible())return new T.Position(1,1);const R=1+(F===0?0:this.prefixSumComputer.getAccumulatedValue(F-1));let O;return M?O=this.lines[F].getViewPositionOfModelPosition(R,this.model.getLineMaxColumn(F+1),I):O=this.lines[A-1].getViewPositionOfModelPosition(R,P,I),O}convertModelRangeToViewRange(m,E=0){if(m.isEmpty()){const I=this.convertModelPositionToViewPosition(m.startLineNumber,m.startColumn,E);return D.Range.fromPositions(I)}else{const I=this.convertModelPositionToViewPosition(m.startLineNumber,m.startColumn,1),k=this.convertModelPositionToViewPosition(m.endLineNumber,m.endColumn,0);return new D.Range(I.lineNumber,I.column,k.lineNumber,k.column)}}_getViewLineNumberForModelPosition(m,E){let I=m-1;if(this.lines[I].isVisible()){const A=1+(I===0?0:this.prefixSumComputer.getAccumulatedValue(I-1));return this.lines[I].getViewLineNumberOfModelPosition(A,E)}for(;I>0&&!this.lines[I].isVisible();)I--;if(I===0&&!this.lines[I].isVisible())return 1;const k=1+(I===0?0:this.prefixSumComputer.getAccumulatedValue(I-1));return this.lines[I].getViewLineNumberOfModelPosition(k,this.model.getLineMaxColumn(I+1))}getAllOverviewRulerDecorations(m,E,I){const k=this.model.getOverviewRulerDecorations(m,E),A=new C;for(const P of k){const F=P.options.overviewRuler,M=F?F.position:0;if(M===0)continue;const R=F.getColor(I),O=this._getViewLineNumberForModelPosition(P.range.startLineNumber,P.range.startColumn),L=this._getViewLineNumberForModelPosition(P.range.endLineNumber,P.range.endColumn);A.accept(R,O,L,M)}return A.result}getDecorationsInRange(m,E,I){const k=this.convertViewPositionToModelPosition(m.startLineNumber,m.startColumn),A=this.convertViewPositionToModelPosition(m.endLineNumber,m.endColumn);if(A.lineNumber-k.lineNumber<=m.endLineNumber-m.startLineNumber)return this.model.getDecorationsInRange(new D.Range(k.lineNumber,1,A.lineNumber,A.column),E,I);let P=[];const F=k.lineNumber-1,M=A.lineNumber-1;let R=null;for(let z=F;z<=M;z++)if(this.lines[z].isVisible())R===null&&(R=new T.Position(z+1,z===F?k.column:1));else if(R!==null){const j=this.model.getLineMaxColumn(z);P=P.concat(this.model.getDecorationsInRange(new D.Range(R.lineNumber,R.column,z,j),E,I)),R=null}R!==null&&(P=P.concat(this.model.getDecorationsInRange(new D.Range(R.lineNumber,R.column,A.lineNumber,A.column),E,I)),R=null),P.sort((z,$)=>{const j=D.Range.compareRangesUsingStarts(z.range,$.range);return j===0?z.id<$.id?-1:z.id>$.id?1:0:j});let O=[],L=0,B=null;for(const z of P){const $=z.id;B!==$&&(B=$,O[L++]=z)}return O}getInjectedTextAt(m){const E=this._toValidViewLineNumber(m.lineNumber),I=this.prefixSumComputer.getIndexOf(E-1),k=I.index,A=I.remainder;return this.lines[k].getInjectedTextAt(A,m.column)}normalizePosition(m,E){const I=this._toValidViewLineNumber(m.lineNumber),k=this.prefixSumComputer.getIndexOf(I-1),A=k.index,P=k.remainder;return this.lines[A].normalizePosition(this.model,A+1,P,m,E)}getLineIndentColumn(m){const E=this._toValidViewLineNumber(m),I=this.prefixSumComputer.getIndexOf(E-1),k=I.index;return I.remainder===0?this.model.getLineIndentColumn(k+1):0}}e.SplitLinesCollection=d;class c{constructor(m,E){this.modelLineNumber=m,this.modelLineWrappedLineIdx=E}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class u{constructor(m,E){this.modelRange=m,this.viewLines=E}}class s{constructor(){}isVisible(){return!0}setVisible(m){return m?this:n.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(m,E,I){return m.getLineContent(E)}getViewLineLength(m,E,I){return m.getLineLength(E)}getViewLineMinColumn(m,E,I){return m.getLineMinColumn(E)}getViewLineMaxColumn(m,E,I){return m.getLineMaxColumn(E)}getViewLineData(m,E,I){let k=m.getLineTokens(E),A=k.getLineContent();return new i.ViewLineData(A,!1,1,A.length+1,0,k.inflate(),null)}getViewLinesData(m,E,I,k,A,P,F){if(!P[A]){F[A]=null;return}F[A]=this.getViewLineData(m,E,0)}getModelColumnOfViewPosition(m,E){return E}getViewPositionOfModelPosition(m,E){return new T.Position(m,E)}getViewLineNumberOfModelPosition(m,E){return m}normalizePosition(m,E,I,k,A){return k}getInjectedTextAt(m,E){return null}}s.INSTANCE=new s;class n{constructor(){}isVisible(){return!1}setVisible(m){return m?s.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(m,E,I){throw new Error("Not supported")}getViewLineLength(m,E,I){throw new Error("Not supported")}getViewLineMinColumn(m,E,I){throw new Error("Not supported")}getViewLineMaxColumn(m,E,I){throw new Error("Not supported")}getViewLineData(m,E,I){throw new Error("Not supported")}getViewLinesData(m,E,I,k,A,P,F){throw new Error("Not supported")}getModelColumnOfViewPosition(m,E){throw new Error("Not supported")}getViewPositionOfModelPosition(m,E){throw new Error("Not supported")}getViewLineNumberOfModelPosition(m,E){throw new Error("Not supported")}normalizePosition(m,E,I,k,A){throw new Error("Not supported")}getInjectedTextAt(m,E){throw new Error("Not supported")}}n.INSTANCE=new n;class a{constructor(m,E){this._lineBreakData=m,this._isVisible=E}isVisible(){return this._isVisible}setVisible(m){return this._isVisible=m,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(m){return this._lineBreakData.getInputOffsetOfOutputPosition(m,0)}getInputEndOffsetOfOutputLineIndex(m,E,I){return I+1===this._lineBreakData.breakOffsets.length?m.getLineMaxColumn(E)-1:this._lineBreakData.getInputOffsetOfOutputPosition(I+1,0)}getViewLineContent(m,E,I){if(!this._isVisible)throw new Error("Not supported");const k=I>0?this._lineBreakData.breakOffsets[I-1]:0,A=I<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[I]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1];let P;if(this._lineBreakData.injectionOffsets!==null){const F=this._lineBreakData.injectionOffsets.map((M,R)=>new f.LineInjectedText(0,0,M+1,this._lineBreakData.injectionOptions[R],0));P=f.LineInjectedText.applyInjectedText(m.getLineContent(E),F).substring(k,A)}else P=m.getValueInRange({startLineNumber:E,startColumn:k+1,endLineNumber:E,endColumn:A+1});return I>0&&(P=l(this._lineBreakData.wrappedTextIndentLength)+P),P}getViewLineLength(m,E,I){if(!this._isVisible)throw new Error("Not supported");const k=I>0?this._lineBreakData.breakOffsets[I-1]:0;let P=(I<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[I]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1])-k;return I>0&&(P=this._lineBreakData.wrappedTextIndentLength+P),P}getViewLineMinColumn(m,E,I){if(!this._isVisible)throw new Error("Not supported");return this._getViewLineMinColumn(I)}_getViewLineMinColumn(m){return m>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(m,E,I){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineLength(m,E,I)+1}getViewLineData(m,E,I){if(!this._isVisible)throw new Error("Not supported");const k=this._lineBreakData,A=I>0?k.wrappedTextIndentLength:0,P=k.injectionOffsets,F=k.injectionOptions;let M,R,O;if(P){const j=m.getLineTokens(E).withInserted(P.map((oe,se)=>({offset:oe,text:F[se].content,tokenMetadata:N.LineTokens.defaultTokenMetadata}))),X=I>0?k.breakOffsets[I-1]:0,Q=k.breakOffsets[I];M=j.getLineContent().substring(X,Q),R=j.sliceAndInflate(X,Q,A),O=new Array;let Y=0;for(let oe=0;oe<P.length;oe++){const se=F[oe].content.length,K=P[oe]+Y,x=P[oe]+Y+se;if(K>Q)break;if(X<x){const U=F[oe];if(U.inlineClassName){const H=I>0?k.wrappedTextIndentLength:0,V=H+Math.max(K-X,0),ne=H+Math.min(x-X,Q);V!==ne&&O.push(new i.SingleLineInlineDecoration(V,ne,U.inlineClassName,U.inlineClassNameAffectsLetterSpacing))}}Y+=se}}else{const j=this.getInputStartOffsetOfOutputLineIndex(I),X=this.getInputEndOffsetOfOutputLineIndex(m,E,I),Q=m.getLineTokens(E);M=m.getValueInRange({startLineNumber:E,startColumn:j+1,endLineNumber:E,endColumn:X+1}),R=Q.sliceAndInflate(j,X,A),O=null}I>0&&(M=l(k.wrappedTextIndentLength)+M);const L=I>0?k.wrappedTextIndentLength+1:1,B=M.length+1,z=I+1<this.getViewLineCount(),$=I===0?0:k.breakOffsetsVisibleColumn[I-1];return new i.ViewLineData(M,z,L,B,$,R,O)}getViewLinesData(m,E,I,k,A,P,F){if(!this._isVisible)throw new Error("Not supported");for(let M=I;M<k;M++){let R=A+M-I;if(!P[R]){F[R]=null;continue}F[R]=this.getViewLineData(m,E,M)}}getModelColumnOfViewPosition(m,E){if(!this._isVisible)throw new Error("Not supported");let I=E-1;return m>0&&(I<this._lineBreakData.wrappedTextIndentLength?I=0:I-=this._lineBreakData.wrappedTextIndentLength),this._lineBreakData.getInputOffsetOfOutputPosition(m,I)+1}getViewPositionOfModelPosition(m,E,I=2){if(!this._isVisible)throw new Error("Not supported");let k=this._lineBreakData.getOutputPositionOfInputOffset(E-1,I),A=k.outputLineIndex,P=k.outputOffset+1;return A>0&&(P+=this._lineBreakData.wrappedTextIndentLength),new T.Position(m+A,P)}getViewLineNumberOfModelPosition(m,E){if(!this._isVisible)throw new Error("Not supported");const I=this._lineBreakData.getOutputPositionOfInputOffset(E-1);return m+I.outputLineIndex}normalizePosition(m,E,I,k,A){if(this._lineBreakData.injectionOffsets!==null){const P=k.lineNumber-I,F=this._lineBreakData.outputPositionToOffsetInUnwrappedLine(I,k.column-1),M=this._lineBreakData.normalizeOffsetAroundInjections(F,A);if(M!==F)return this._lineBreakData.getOutputPositionOfOffsetInUnwrappedLine(M,A).toPosition(P,this._lineBreakData.wrappedTextIndentLength)}if(A===0){if(I>0&&k.column===this._getViewLineMinColumn(I))return new T.Position(k.lineNumber-1,this.getViewLineMaxColumn(m,E,I-1))}else if(A===1){const P=this.getViewLineCount()-1;if(I<P&&k.column===this.getViewLineMaxColumn(m,E,I))return new T.Position(k.lineNumber+1,this._getViewLineMinColumn(I+1))}return k}getInjectedTextAt(m,E){return this._lineBreakData.getInjectedText(m,E-1)}}e.SplitLine=a;let t=[""];function l(v){if(v>=t.length)for(let m=1;m<=v;m++)t[m]=h(m);return t[v]}function h(v){return new Array(v+1).join(" ")}function g(v,m){return v===null?m?s.INSTANCE:n.INSTANCE:new a(v,m)}class w{constructor(m){this._lines=m}_validPosition(m){return this._lines.model.validatePosition(m)}_validRange(m){return this._lines.model.validateRange(m)}convertViewPositionToModelPosition(m){return this._validPosition(m)}convertViewRangeToModelRange(m){return this._validRange(m)}validateViewPosition(m,E){return this._validPosition(E)}validateViewRange(m,E){return this._validRange(E)}convertModelPositionToViewPosition(m){return this._validPosition(m)}convertModelRangeToViewRange(m){return this._validRange(m)}modelPositionIsVisible(m){const E=this._lines.model.getLineCount();return!(m.lineNumber<1||m.lineNumber>E)}getModelLineViewLineCount(m){return 1}}e.IdentityCoordinatesConverter=w;class _{constructor(m){this.model=m}dispose(){}createCoordinatesConverter(){return new w(this)}getHiddenAreas(){return[]}setHiddenAreas(m){return!1}setTabSize(m){return!1}setWrappingSettings(m,E,I,k){return!1}createLineBreaksComputer(){let m=[];return{addRequest:(E,I,k)=>{m.push(null)},finalize:()=>m}}onModelFlushed(){}onModelLinesDeleted(m,E,I){return new p.ViewLinesDeletedEvent(E,I)}onModelLinesInserted(m,E,I,k){return new p.ViewLinesInsertedEvent(E,I)}onModelLineChanged(m,E,I){return[!1,new p.ViewLinesChangedEvent(E,E),null,null]}acceptVersionId(m){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(m,E,I){return{startLineNumber:m,endLineNumber:m,indent:0}}getViewLinesBracketGuides(m,E,I){return new Array(E-m+1).fill([])}getViewLinesIndentGuides(m,E){const I=E-m+1;let k=new Array(I);for(let A=0;A<I;A++)k[A]=0;return k}getViewLineContent(m){return this.model.getLineContent(m)}getViewLineLength(m){return this.model.getLineLength(m)}getViewLineMinColumn(m){return this.model.getLineMinColumn(m)}getViewLineMaxColumn(m){return this.model.getLineMaxColumn(m)}getViewLineData(m){let E=this.model.getLineTokens(m),I=E.getLineContent();return new i.ViewLineData(I,!1,1,I.length+1,0,E.inflate(),null)}getViewLinesData(m,E,I){const k=this.model.getLineCount();m=Math.min(Math.max(1,m),k),E=Math.min(Math.max(1,E),k);let A=[];for(let P=m;P<=E;P++){let F=P-m;I[F]||(A[F]=null),A[F]=this.getViewLineData(P)}return A}getAllOverviewRulerDecorations(m,E,I){const k=this.model.getOverviewRulerDecorations(m,E),A=new C;for(const P of k){const F=P.options.overviewRuler,M=F?F.position:0;if(M===0)continue;const R=F.getColor(I),O=P.range.startLineNumber,L=P.range.endLineNumber;A.accept(R,O,L,M)}return A.result}getDecorationsInRange(m,E,I){return this.model.getDecorationsInRange(m,E,I)}normalizePosition(m,E){return this.model.normalizePosition(m,E)}getLineIndentColumn(m){return this.model.getLineIndentColumn(m)}getInjectedTextAt(m){return null}}e.IdentityLinesCollection=_;class C{constructor(){this.result=Object.create(null)}accept(m,E,I,k){let A=this.result[m];if(A){const P=A[A.length-3],F=A[A.length-1];if(P===k&&F+1>=E){I>F&&(A[A.length-1]=I);return}A.push(k,E,I)}else this.result[m]=[k,E,I]}}}),define(te[616],ie([0,1,29,2,8,34,13,3,97,18,254,255,178,416,615,63,474,14,17,271,42,180]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const g=!0;class w extends N.Disposable{constructor(C,v,m,E,I,k){super();if(this._editorId=C,this._configuration=v,this.model=m,this._eventDispatcher=new h.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new l.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new n.RunOnceScheduler(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new n.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,g&&this.model.isTooLargeForTokenization())this._lines=new c.IdentityLinesCollection(this.model);else{const A=this._configuration.options,P=A.get(43),F=A.get(123),M=A.get(130),R=A.get(122);this._lines=new c.SplitLinesCollection(this._editorId,this.model,E,I,P,this.model.getOptions().tabSize,F,M.wrappingColumn,R)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new t.CursorsController(m,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new d.ViewLayout(this._configuration,this.getLineCount(),k)),this._register(this.viewLayout.onDidScroll(A=>{A.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new o.ViewScrollChangedEvent(A)),this._eventDispatcher.emitOutgoingEvent(new h.ScrollChangedEvent(A.oldScrollWidth,A.oldScrollLeft,A.oldScrollHeight,A.oldScrollTop,A.scrollWidth,A.scrollLeft,A.scrollHeight,A.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(A=>{this._eventDispatcher.emitOutgoingEvent(A)})),this._decorations=new s.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(A=>{try{const P=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(P,A)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(r.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new o.ViewTokensColorsChangedEvent)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(C){this._eventDispatcher.addViewEventHandler(C)}removeViewEventHandler(C){this._eventDispatcher.removeViewEventHandler(C)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const C=this.viewLayout.getLinesViewportData(),v=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(C.startLineNumber,1)),m=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(C.endLineNumber,1));this.model.tokenizeViewport(v.lineNumber,m.lineNumber)}setHasFocus(C){this._hasFocus=C,this._cursor.setHasFocus(C),this._eventDispatcher.emitSingleViewEvent(new o.ViewFocusChangedEvent(C)),this._eventDispatcher.emitOutgoingEvent(new h.FocusChangedEvent(!C,C))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new o.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new o.ViewCompositionEndEvent)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new o.ViewThemeChangedEvent)}_onConfigurationChanged(C,v){let m=null;if(this._viewportStartLine!==-1){let M=new S.Position(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));m=this.coordinatesConverter.convertViewPositionToModelPosition(M)}let E=!1;const I=this._configuration.options,k=I.get(43),A=I.get(123),P=I.get(130),F=I.get(122);if(this._lines.setWrappingSettings(k,A,P.wrappingColumn,F)&&(C.emitViewEvent(new o.ViewFlushedEvent),C.emitViewEvent(new o.ViewLineMappingChangedEvent),C.emitViewEvent(new o.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(C),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(E=!0),this._updateConfigurationViewLineCount.schedule()),v.hasChanged(80)&&(this._decorations.reset(),C.emitViewEvent(new o.ViewDecorationsChangedEvent(null))),C.emitViewEvent(new o.ViewConfigurationChangedEvent(v)),this.viewLayout.onConfigurationChanged(v),E&&m){const M=this.coordinatesConverter.convertModelPositionToViewPosition(m),R=this.viewLayout.getVerticalOffsetForLineNumber(M.lineNumber);this.viewLayout.setScrollPosition({scrollTop:R+this._viewportStartLineDelta},1)}l.CursorConfiguration.shouldRecreate(v)&&(this.cursorConfig=new l.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(C=>{try{const v=this._eventDispatcher.beginEmitViewEvents();let m=!1,E=!1;const I=C.changes,k=C instanceof b.ModelRawContentChangedEvent?C.versionId:null,A=this._lines.createLineBreaksComputer();for(const M of I)switch(M.changeType){case 4:{for(let R=0;R<M.detail.length;R++){const O=M.detail[R];let L=M.injectedTexts[R];L&&(L=L.filter(B=>!B.ownerId||B.ownerId===this._editorId)),A.addRequest(O,L,null)}break}case 2:{let R=null;M.injectedText&&(R=M.injectedText.filter(O=>!O.ownerId||O.ownerId===this._editorId)),A.addRequest(M.detail,R,null);break}}const P=A.finalize();let F=0;for(const M of I)switch(M.changeType){case 1:{this._lines.onModelFlushed(),v.emitViewEvent(new o.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),m=!0;break}case 3:{const R=this._lines.onModelLinesDeleted(k,M.fromLineNumber,M.toLineNumber);R!==null&&(v.emitViewEvent(R),this.viewLayout.onLinesDeleted(R.fromLineNumber,R.toLineNumber)),m=!0;break}case 4:{const R=P.slice(F,F+M.detail.length);F+=M.detail.length;const O=this._lines.onModelLinesInserted(k,M.fromLineNumber,M.toLineNumber,R);O!==null&&(v.emitViewEvent(O),this.viewLayout.onLinesInserted(O.fromLineNumber,O.toLineNumber)),m=!0;break}case 2:{const R=P[F];F++;const[O,L,B,z]=this._lines.onModelLineChanged(k,M.lineNumber,R);E=O,L&&v.emitViewEvent(L),B&&(v.emitViewEvent(B),this.viewLayout.onLinesInserted(B.fromLineNumber,B.toLineNumber)),z&&(v.emitViewEvent(z),this.viewLayout.onLinesDeleted(z.fromLineNumber,z.toLineNumber));break}case 5:break}k!==null&&this._lines.acceptVersionId(k),this.viewLayout.onHeightMaybeChanged(),!m&&E&&(v.emitViewEvent(new o.ViewLineMappingChangedEvent),v.emitViewEvent(new o.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(v),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const v=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(v){const m=this.coordinatesConverter.convertModelPositionToViewPosition(v.getStartPosition()),E=this.viewLayout.getVerticalOffsetForLineNumber(m.lineNumber);this.viewLayout.setScrollPosition({scrollTop:E+this._viewportStartLineDelta},1)}}try{const v=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(v,C)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(C=>{let v=[];for(let m=0,E=C.ranges.length;m<E;m++){const I=C.ranges[m],k=this.coordinatesConverter.convertModelPositionToViewPosition(new S.Position(I.fromLineNumber,1)).lineNumber,A=this.coordinatesConverter.convertModelPositionToViewPosition(new S.Position(I.toLineNumber,this.model.getLineMaxColumn(I.toLineNumber))).lineNumber;v[m]={fromLineNumber:k,toLineNumber:A}}this._eventDispatcher.emitSingleViewEvent(new o.ViewTokensChangedEvent(v)),C.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(C=>{this._eventDispatcher.emitSingleViewEvent(new o.ViewLanguageConfigurationEvent),this.cursorConfig=new l.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(C=>{this.cursorConfig=new l.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(C=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const v=this._eventDispatcher.beginEmitViewEvents();v.emitViewEvent(new o.ViewFlushedEvent),v.emitViewEvent(new o.ViewLineMappingChangedEvent),v.emitViewEvent(new o.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(v),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new l.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(C=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new o.ViewDecorationsChangedEvent(C))}))}setHiddenAreas(C){try{const v=this._eventDispatcher.beginEmitViewEvents();this._lines.setHiddenAreas(C)&&(v.emitViewEvent(new o.ViewFlushedEvent),v.emitViewEvent(new o.ViewLineMappingChangedEvent),v.emitViewEvent(new o.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(v),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}getVisibleRangesPlusViewportAboveBelow(){const C=this._configuration.options.get(129),v=this._configuration.options.get(58),m=Math.max(20,Math.round(C.height/v)),E=this.viewLayout.getLinesViewportData(),I=Math.max(1,E.completelyVisibleStartLineNumber-m),k=Math.min(this.getLineCount(),E.completelyVisibleEndLineNumber+m);return this._toModelVisibleRanges(new p.Range(I,this.getLineMinColumn(I),k,this.getLineMaxColumn(k)))}getVisibleRanges(){const C=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(C)}_toModelVisibleRanges(C){const v=this.coordinatesConverter.convertViewRangeToModelRange(C),m=this._lines.getHiddenAreas();if(m.length===0)return[v];let E=[],I=0,k=v.startLineNumber,A=v.startColumn,P=v.endLineNumber,F=v.endColumn;for(let M=0,R=m.length;M<R;M++){const O=m[M].startLineNumber,L=m[M].endLineNumber;L<k||O>P||(k<O&&(E[I++]=new p.Range(k,A,O-1,this.model.getLineMaxColumn(O-1))),k=L+1,A=1)}return(k<P||k===P&&A<F)&&(E[I++]=new p.Range(k,A,P,F)),E}getCompletelyVisibleViewRange(){const C=this.viewLayout.getLinesViewportData(),v=C.completelyVisibleStartLineNumber,m=C.completelyVisibleEndLineNumber;return new p.Range(v,this.getLineMinColumn(v),m,this.getLineMaxColumn(m))}getCompletelyVisibleViewRangeAtScrollTop(C){const v=this.viewLayout.getLinesViewportDataAtScrollTop(C),m=v.completelyVisibleStartLineNumber,E=v.completelyVisibleEndLineNumber;return new p.Range(m,this.getLineMinColumn(m),E,this.getLineMaxColumn(E))}saveState(){const C=this.viewLayout.saveState(),v=C.scrollTop,m=this.viewLayout.getLineNumberAtVerticalOffset(v),E=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(m,this.getLineMinColumn(m))),I=this.viewLayout.getVerticalOffsetForLineNumber(m)-v;return{scrollLeft:C.scrollLeft,firstPosition:E,firstPositionDeltaTop:I}}reduceRestoreState(C){if(typeof C.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(C);const v=this.model.validatePosition(C.firstPosition),m=this.coordinatesConverter.convertModelPositionToViewPosition(v),E=this.viewLayout.getVerticalOffsetForLineNumber(m.lineNumber)-C.firstPositionDeltaTop;return{scrollLeft:C.scrollLeft,scrollTop:E}}_reduceRestoreStateCompatibility(C){return{scrollLeft:C.scrollLeft,scrollTop:C.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(C,v,m){this._viewportStartLine=C;let E=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(C,this.getLineMinColumn(C)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new p.Range(E.lineNumber,E.column,E.lineNumber,E.column),1);const I=this.viewLayout.getVerticalOffsetForLineNumber(C),k=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=k-I}getActiveIndentGuide(C,v,m){return this._lines.getActiveIndentGuide(C,v,m)}getLinesIndentGuides(C,v){return this._lines.getViewLinesIndentGuides(C,v)}getBracketGuidesInRangeByLine(C,v,m,E,I){return this._lines.getViewLinesBracketGuides(C,v,m,E,I)}getLineContent(C){return this._lines.getViewLineContent(C)}getLineLength(C){return this._lines.getViewLineLength(C)}getLineMinColumn(C){return this._lines.getViewLineMinColumn(C)}getLineMaxColumn(C){return this._lines.getViewLineMaxColumn(C)}getLineFirstNonWhitespaceColumn(C){const v=T.firstNonWhitespaceIndex(this.getLineContent(C));return v===-1?0:v+1}getLineLastNonWhitespaceColumn(C){const v=T.lastNonWhitespaceIndex(this.getLineContent(C));return v===-1?0:v+2}getDecorationsInViewport(C){return this._decorations.getDecorationsViewportData(C).decorations}getInjectedTextAt(C){return this._lines.getInjectedTextAt(C)}getViewLineRenderingData(C,v){let m=this.model.mightContainRTL(),E=this.model.mightContainNonBasicASCII(),I=this.getTabSize(),k=this._lines.getViewLineData(v),P=this._decorations.getDecorationsViewportData(C).inlineDecorations[v-C.startLineNumber];return k.inlineDecorations&&(P=[...P,...k.inlineDecorations.map(F=>F.toInlineDecoration(v))]),new u.ViewLineRenderingData(k.minColumn,k.maxColumn,k.content,k.continuesWithWrappedLine,m,E,k.tokens,P,I,k.startVisibleColumn)}getViewLineData(C){return this._lines.getViewLineData(C)}getMinimapLinesRenderingData(C,v,m){let E=this._lines.getViewLinesData(C,v,m);return new u.MinimapLinesRenderingData(this.getTabSize(),E)}getAllOverviewRulerDecorations(C){return this._lines.getAllOverviewRulerDecorations(this._editorId,(0,D.filterValidationDecorations)(this._configuration.options),C)}invalidateOverviewRulerColorCache(){const C=this.model.getOverviewRulerDecorations();for(const v of C){const m=v.options.overviewRuler;m&&m.invalidateCachedColor()}}invalidateMinimapColorCache(){const C=this.model.getAllDecorations();for(const v of C){const m=v.options.minimap;m&&m.invalidateCachedColor()}}getValueInRange(C,v){const m=this.coordinatesConverter.convertViewRangeToModelRange(C);return this.model.getValueInRange(m,v)}getModelLineMaxColumn(C){return this.model.getLineMaxColumn(C)}validateModelPosition(C){return this.model.validatePosition(C)}validateModelRange(C){return this.model.validateRange(C)}deduceModelPositionRelativeToViewPosition(C,v,m){const E=this.coordinatesConverter.convertViewPositionToModelPosition(C);this.model.getEOL().length===2&&(v<0?v-=m:v+=m);const k=this.model.getOffsetAt(E)+v;return this.model.getPositionAt(k)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(C,v,m){const E=m?`\r
`:this.model.getEOL();C=C.slice(0),C.sort(p.Range.compareRangesUsingStarts);let I=!1,k=!1;for(const P of C)P.isEmpty()?I=!0:k=!0;if(!k){if(!v)return"";const P=C.map(M=>M.startLineNumber);let F="";for(let M=0;M<P.length;M++)M>0&&P[M-1]===P[M]||(F+=this.model.getLineContent(P[M])+E);return F}if(I&&v){let P=[],F=0;for(const M of C){const R=M.startLineNumber;M.isEmpty()?R!==F&&P.push(this.model.getLineContent(R)):P.push(this.model.getValueInRange(M,m?2:0)),F=R}return P.length===1?P[0]:P}let A=[];for(const P of C)P.isEmpty()||A.push(this.model.getValueInRange(P,m?2:0));return A.length===1?A[0]:A}getRichTextToCopy(C,v){const m=this.model.getLanguageIdentifier();if(m.id===1||C.length!==1)return null;let E=C[0];if(E.isEmpty()){if(!v)return null;const M=E.startLineNumber;E=new p.Range(M,this.model.getLineMinColumn(M),M,this.model.getLineMaxColumn(M))}const I=this._configuration.options.get(43),k=this._getColorMap(),P=/[:;\\\/<>]/.test(I.fontFamily)||I.fontFamily===D.EDITOR_FONT_DEFAULTS.fontFamily;let F;return P?F=D.EDITOR_FONT_DEFAULTS.fontFamily:(F=I.fontFamily,F=F.replace(/"/g,"'"),/[,']/.test(F)||/[+ ]/.test(F)&&(F=`'${F}'`),F=`${F}, ${D.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:m.language,html:`<div style="color: ${k[1]};background-color: ${k[2]};font-family: ${F};font-weight: ${I.fontWeight};font-size: ${I.fontSize}px;line-height: ${I.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(E,k)+"</div>"}}_getHTMLToCopy(C,v){const m=C.startLineNumber,E=C.startColumn,I=C.endLineNumber,k=C.endColumn,A=this.getTabSize();let P="";for(let F=m;F<=I;F++){const M=this.model.getLineTokens(F),R=M.getLineContent(),O=F===m?E-1:0,L=F===I?k-1:R.length;R===""?P+="<br>":P+=(0,f.tokenizeLineToHTML)(R,M.inflate(),v,O,L,A,a.isWindows)}return P}_getColorMap(){let C=i.TokenizationRegistry.getColorMap(),v=["#000000"];if(C)for(let m=1,E=C.length;m<E;m++)v[m]=y.Color.Format.CSS.formatHex(C[m]);return v}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(C,v,m){this._withViewEventsCollector(E=>this._cursor.setStates(E,C,v,m))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(C){this._cursor.setCursorColumnSelectData(C)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(C){this._cursor.setPrevEditOperationType(C)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(C,v,m=0){this._withViewEventsCollector(E=>this._cursor.setSelections(E,C,v,m))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(C){this._withViewEventsCollector(v=>this._cursor.restoreState(v,C))}_executeCursorEdit(C){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new h.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(C)}executeEdits(C,v,m){this._executeCursorEdit(E=>this._cursor.executeEdits(E,C,v,m))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(C=>this._cursor.startComposition(C))}endComposition(C){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(v=>this._cursor.endComposition(v,C))}type(C,v){this._executeCursorEdit(m=>this._cursor.type(m,C,v))}compositionType(C,v,m,E,I){this._executeCursorEdit(k=>this._cursor.compositionType(k,C,v,m,E,I))}paste(C,v,m,E){this._executeCursorEdit(I=>this._cursor.paste(I,C,v,m,E))}cut(C){this._executeCursorEdit(v=>this._cursor.cut(v,C))}executeCommand(C,v){this._executeCursorEdit(m=>this._cursor.executeCommand(m,C,v))}executeCommands(C,v){this._executeCursorEdit(m=>this._cursor.executeCommands(m,C,v))}revealPrimaryCursor(C,v){this._withViewEventsCollector(m=>this._cursor.revealPrimary(m,C,v,0))}revealTopMostCursor(C){const v=this._cursor.getTopMostViewPosition(),m=new p.Range(v.lineNumber,v.column,v.lineNumber,v.column);this._withViewEventsCollector(E=>E.emitViewEvent(new o.ViewRevealRangeRequestEvent(C,m,null,0,!0,0)))}revealBottomMostCursor(C){const v=this._cursor.getBottomMostViewPosition(),m=new p.Range(v.lineNumber,v.column,v.lineNumber,v.column);this._withViewEventsCollector(E=>E.emitViewEvent(new o.ViewRevealRangeRequestEvent(C,m,null,0,!0,0)))}revealRange(C,v,m,E,I){this._withViewEventsCollector(k=>k.emitViewEvent(new o.ViewRevealRangeRequestEvent(C,m,null,E,v,I)))}getVerticalOffsetForLineNumber(C){return this.viewLayout.getVerticalOffsetForLineNumber(C)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(C,v){this.viewLayout.setScrollPosition({scrollTop:C},v)}setScrollPosition(C,v){this.viewLayout.setScrollPosition(C,v)}deltaScrollNow(C,v){this.viewLayout.deltaScrollNow(C,v)}changeWhitespace(C){this.viewLayout.changeWhitespace(C)&&(this._eventDispatcher.emitSingleViewEvent(new o.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new h.ViewZonesChangedEvent))}setMaxLineWidth(C){this.viewLayout.setMaxLineWidth(C)}_withViewEventsCollector(C){try{const v=this._eventDispatcher.beginEmitViewEvents();C(v)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(C,v){return this._lines.normalizePosition(C,v)}getLineIndentColumn(C){return this._lines.getLineIndentColumn(C)}}e.ViewModel=w}),define(te[617],ie([0,1,7,94,58,27,6,2,31,486,40,22,12,354]),function(q,e,y,N,T,D,S,p,b,i,f,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var d;(function(u){u.Hidden={type:0};class s{constructor(a,t,l,h){this.actions=a,this.trigger=t,this.editorPosition=l,this.widgetPosition=h,this.type=1}}u.Showing=s})(d||(d={}));let c=class mi extends p.Disposable{constructor(s,n,a,t){super();this._editor=s,this._quickFixActionId=n,this._preferredFixActionId=a,this._keybindingService=t,this._onClick=this._register(new S.Emitter),this.onClick=this._onClick.event,this._state=d.Hidden,this._domNode=document.createElement("div"),this._domNode.className=D.Codicon.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(l=>{const h=this._editor.getModel();(this.state.type!==1||!h||this.state.editorPosition.lineNumber>=h.getLineCount())&&this.hide()})),T.Gesture.ignoreTarget(this._domNode),this._register(y.addStandardDisposableGenericMouseDownListner(this._domNode,l=>{if(this.state.type!==1)return;this._editor.focus(),l.preventDefault();const{top:h,height:g}=y.getDomNodePagePosition(this._domNode),w=this._editor.getOption(58);let _=Math.floor(w/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(_+=w),this._onClick.fire({x:l.posx,y:h+g+_,actions:this.state.actions,trigger:this.state.trigger})})),this._register(y.addDisposableListener(this._domNode,"mouseenter",l=>{if((l.buttons&1)!=1)return;this.hide();const h=new N.GlobalMouseMoveMonitor;h.startMonitoring(l.target,l.buttons,N.standardMouseMoveMerger,()=>{},()=>{h.dispose()})})),this._register(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(56)&&!this._editor.getOption(56).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(s,n,a){if(s.validActions.length<=0)return this.hide();const t=this._editor.getOptions();if(!t.get(56).enabled)return this.hide();const l=this._editor.getModel();if(!l)return this.hide();const{lineNumber:h,column:g}=l.validatePosition(a),w=l.getOptions().tabSize,_=t.get(43),C=l.getLineContent(h),v=b.TextModel.computeIndentLevel(C,w),m=_.spaceWidth*v>22,E=k=>k>2&&this._editor.getTopForLineNumber(k)===this._editor.getTopForLineNumber(k-1);let I=h;if(!m){if(h>1&&!E(h-1))I-=1;else if(!E(h+1))I+=1;else if(g*_.spaceWidth<22)return this.hide()}this.state=new d.Showing(s,n,a,{position:{lineNumber:I,column:1},preference:mi._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=d.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(s){this._state=s,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...D.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...D.Codicon.lightbulbAutofix.classNamesArray);const n=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(n){this.title=i.localize(0,null,n.getLabel());return}}this._domNode.classList.remove(...D.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...D.Codicon.lightBulb.classNamesArray);const s=this._keybindingService.lookupKeybinding(this._quickFixActionId);s?this.title=i.localize(1,null,s.getLabel()):this.title=i.localize(2,null)}set title(s){this._domNode.title=s}};c._posPref=[0],c=Fe([Ce(3,f.IKeybindingService)],c),e.LightBulbWidget=c,(0,o.registerThemingParticipant)((u,s)=>{var n;const a=(n=u.getColor(r.editorBackground))===null||n===void 0?void 0:n.transparent(.7),t=u.getColor(r.editorLightBulbForeground);t&&s.addRule(`
		.monaco-editor .contentWidgets ${D.Codicon.lightBulb.cssSelector} {
			color: ${t};
			background-color: ${a};
		}`);const l=u.getColor(r.editorLightBulbAutoFixForeground);l&&s.addRule(`
		.monaco-editor .contentWidgets ${D.Codicon.lightbulbAutofix.cssSelector} {
			color: ${l};
			background-color: ${a};
		}`)})}),define(te[618],ie([0,1,7,107,3,31,46,22,12,355]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class i{constructor(c,u,s){this.afterLineNumber=c,this.heightInPx=u,this._onHeight=s,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(c){this._lastHeight===void 0?this._lastHeight=c:this._lastHeight!==c&&(this._lastHeight=c,this._onHeight())}}class f{constructor(c,u,s){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=c,this._id=`codelens.widget-${f._idPool++}`,this.updatePosition(s),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${u}`}withCommands(c,u){this._commands.clear();let s=[],n=!1;for(let a=0;a<c.length;a++){const t=c[a];if(!!t&&(n=!0,t.command)){const l=(0,N.renderLabelWithIcons)(t.command.title.trim());t.command.id?(s.push(y.$("a",{id:String(a),title:t.command.tooltip},...l)),this._commands.set(String(a),t.command)):s.push(y.$("span",{title:t.command.tooltip},...l)),a+1<c.length&&s.push(y.$("span",void 0,"\xA0|\xA0"))}}n?(y.reset(this._domNode,...s),this._isEmpty&&u&&this._domNode.classList.add("fadein"),this._isEmpty=!1):y.reset(this._domNode,y.$("span",void 0,"no commands"))}getCommand(c){return c.parentElement===this._domNode?this._commands.get(c.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(c){const u=this._editor.getModel().getLineFirstNonWhitespaceColumn(c);this._widgetPosition={position:{lineNumber:c,column:u},preference:[1]}}getPosition(){return this._widgetPosition||null}}f._idPool=0;class r{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(c,u){this._addDecorations.push(c),this._addDecorationsCallbacks.push(u)}removeDecoration(c){this._removeDecorations.push(c)}commit(c){let u=c.deltaDecorations(this._removeDecorations,this._addDecorations);for(let s=0,n=u.length;s<n;s++)this._addDecorationsCallbacks[s](u[s])}}e.CodeLensHelper=r;class o{constructor(c,u,s,n,a,t,l){this._isDisposed=!1,this._editor=u,this._className=s,this._data=c,this._decorationIds=[];let h,g=[];this._data.forEach((w,_)=>{w.symbol.command&&g.push(w.symbol),n.addDecoration({range:w.symbol.range,options:D.ModelDecorationOptions.EMPTY},C=>this._decorationIds[_]=C),h?h=T.Range.plusRange(h,w.symbol.range):h=T.Range.lift(w.symbol.range)}),this._viewZone=new i(h.startLineNumber-1,t,l),this._viewZoneId=a.addZone(this._viewZone),g.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(g,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new f(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(c,u){this._decorationIds.forEach(c.removeDecoration,c),this._decorationIds=[],u&&u.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((c,u)=>{const s=this._editor.getModel().getDecorationRange(c),n=this._data[u].symbol;return!!(s&&T.Range.isEmpty(n.range)===s.isEmpty())})}updateCodeLensSymbols(c,u){this._decorationIds.forEach(u.removeDecoration,u),this._decorationIds=[],this._data=c,this._data.forEach((s,n)=>{u.addDecoration({range:s.symbol.range,options:D.ModelDecorationOptions.EMPTY},a=>this._decorationIds[n]=a)})}updateHeight(c,u){this._viewZone.heightInPx=c,u.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(c){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(let u=0;u<this._decorationIds.length;u++){const s=c.getDecorationRange(this._decorationIds[u]);s&&(this._data[u].symbol.range=s)}return this._data}updateCommands(c){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(c,!0);for(let u=0;u<this._data.length;u++){const s=c[u];if(s){const{symbol:n}=this._data[u];n.command=s.command||n.command}}}getCommand(c){var u;return(u=this._contentWidget)===null||u===void 0?void 0:u.getCommand(c)}getLineNumber(){const c=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return c?c.startLineNumber:-1}update(c){if(this.isValid()){const u=this._editor.getModel().getDecorationRange(this._decorationIds[0]);u&&(this._viewZone.afterLineNumber=u.startLineNumber-1,c.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(u.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}e.CodeLensWidget=o,(0,b.registerThemingParticipant)((d,c)=>{const u=d.getColor(S.editorCodeLensForeground);u&&(c.addRule(`.monaco-editor .codelens-decoration { color: ${u}; }`),c.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${u}; }`));const s=d.getColor(p.editorActiveLinkForeground);s&&(c.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${s} !important; }`),c.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${s} !important; }`))})}),define(te[619],ie([0,1,36,7,94,53,29,6,2,22,12,356]),function(q,e,y,N,T,D,S,p,b,i,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.ColorPickerBody=e.ColorPickerHeader=void 0;const r=N.$;class o extends b.Disposable{constructor(l,h,g){super();this.model=h,this.domNode=r(".colorpicker-header"),N.append(l,this.domNode),this.pickedColorNode=N.append(this.domNode,r(".picked-color"));const w=N.append(this.domNode,r(".original-color"));w.style.backgroundColor=S.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=g.getColorTheme().getColor(i.editorHoverBackground)||S.Color.white,this._register((0,f.registerThemingParticipant)((_,C)=>{this.backgroundColor=_.getColor(i.editorHoverBackground)||S.Color.white})),this._register(N.addDisposableListener(this.pickedColorNode,N.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(N.addDisposableListener(w,N.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(h.onDidChangeColor(this.onDidChangeColor,this)),this._register(h.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=S.Color.Format.CSS.format(h.color)||"",this.pickedColorNode.classList.toggle("light",h.color.rgba.a<.5?this.backgroundColor.isLighter():h.color.isLighter())}onDidChangeColor(l){this.pickedColorNode.style.backgroundColor=S.Color.Format.CSS.format(l)||"",this.pickedColorNode.classList.toggle("light",l.rgba.a<.5?this.backgroundColor.isLighter():l.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""}}e.ColorPickerHeader=o;class d extends b.Disposable{constructor(l,h,g){super();this.model=h,this.pixelRatio=g,this.domNode=r(".colorpicker-body"),N.append(l,this.domNode),this.saturationBox=new c(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new s(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new n(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:l,v:h}){const g=this.model.color.hsva;this.model.color=new S.Color(new S.HSVA(g.h,l,h,g.a))}onDidOpacityChange(l){const h=this.model.color.hsva;this.model.color=new S.Color(new S.HSVA(h.h,h.s,h.v,l))}onDidHueChange(l){const h=this.model.color.hsva,g=(1-l)*360;this.model.color=new S.Color(new S.HSVA(g===360?0:g,h.s,h.v,h.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}e.ColorPickerBody=d;class c extends b.Disposable{constructor(l,h,g){super();this.model=h,this.pixelRatio=g,this._onDidChange=new p.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new p.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=r(".saturation-wrap"),N.append(l,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",N.append(this.domNode,this.canvas),this.selection=r(".saturation-selection"),N.append(this.domNode,this.selection),this.layout(),this._register(N.addDisposableGenericMouseDownListner(this.domNode,w=>this.onMouseDown(w))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(l){this.monitor=this._register(new T.GlobalMouseMoveMonitor);const h=N.getDomNodePagePosition(this.domNode);l.target!==this.selection&&this.onDidChangePosition(l.offsetX,l.offsetY),this.monitor.startMonitoring(l.target,l.buttons,T.standardMouseMoveMerger,w=>this.onDidChangePosition(w.posx-h.left,w.posy-h.top),()=>null);const g=N.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),g.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(l,h){const g=Math.max(0,Math.min(1,l/this.width)),w=Math.max(0,Math.min(1,1-h/this.height));this.paintSelection(g,w),this._onDidChange.fire({s:g,v:w})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const l=this.model.color.hsva;this.paintSelection(l.s,l.v)}paint(){const l=this.model.color.hsva,h=new S.Color(new S.HSVA(l.h,1,1,1)),g=this.canvas.getContext("2d"),w=g.createLinearGradient(0,0,this.canvas.width,0);w.addColorStop(0,"rgba(255, 255, 255, 1)"),w.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),w.addColorStop(1,"rgba(255, 255, 255, 0)");const _=g.createLinearGradient(0,0,0,this.canvas.height);_.addColorStop(0,"rgba(0, 0, 0, 0)"),_.addColorStop(1,"rgba(0, 0, 0, 1)"),g.rect(0,0,this.canvas.width,this.canvas.height),g.fillStyle=S.Color.Format.CSS.format(h),g.fill(),g.fillStyle=w,g.fill(),g.fillStyle=_,g.fill()}paintSelection(l,h){this.selection.style.left=`${l*this.width}px`,this.selection.style.top=`${this.height-h*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class u extends b.Disposable{constructor(l,h){super();this.model=h,this._onDidChange=new p.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new p.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=N.append(l,r(".strip")),this.overlay=N.append(this.domNode,r(".overlay")),this.slider=N.append(this.domNode,r(".slider")),this.slider.style.top="0px",this._register(N.addDisposableGenericMouseDownListner(this.domNode,g=>this.onMouseDown(g))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const l=this.getValue(this.model.color);this.updateSliderPosition(l)}onMouseDown(l){const h=this._register(new T.GlobalMouseMoveMonitor),g=N.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),l.target!==this.slider&&this.onDidChangeTop(l.offsetY),h.startMonitoring(l.target,l.buttons,T.standardMouseMoveMerger,_=>this.onDidChangeTop(_.posy-g.top),()=>null);const w=N.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),w.dispose(),h.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(l){const h=Math.max(0,Math.min(1,1-l/this.height));this.updateSliderPosition(h),this._onDidChange.fire(h)}updateSliderPosition(l){this.slider.style.top=`${(1-l)*this.height}px`}}class s extends u{constructor(l,h){super(l,h);this.domNode.classList.add("opacity-strip"),this._register(h.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(l){const{r:h,g,b:w}=l.rgba,_=new S.Color(new S.RGBA(h,g,w,1)),C=new S.Color(new S.RGBA(h,g,w,0));this.overlay.style.background=`linear-gradient(to bottom, ${_} 0%, ${C} 100%)`}getValue(l){return l.hsva.a}}class n extends u{constructor(l,h){super(l,h);this.domNode.classList.add("hue-strip")}getValue(l){return 1-l.hsva.h/360}}class a extends D.Widget{constructor(l,h,g,w){super();this.model=h,this.pixelRatio=g,this._register((0,y.onDidChangeZoomLevel)(()=>this.layout()));const _=r(".colorpicker-widget");l.appendChild(_);const C=new o(_,this.model,w);this.body=new d(_,this.model,this.pixelRatio),this._register(C),this._register(this.body)}layout(){this.body.layout()}}e.ColorPickerWidget=a}),define(te[620],ie([0,1,3,49,31,22,12]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class p{constructor(i){this._editor=i,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const i=this._findScopeDecorationIds.map(f=>this._editor.getModel().getDecorationRange(f)).filter(f=>!!f);if(i.length)return i}return null}getStartPosition(){return this._startPosition}setStartPosition(i){this._startPosition=i,this.setCurrentFindMatch(null)}_getDecorationIndex(i){const f=this._decorations.indexOf(i);return f>=0?f+1:1}getCurrentMatchesPosition(i){let f=this._editor.getModel().getDecorationsInRange(i);for(const r of f){const o=r.options;if(o===p._FIND_MATCH_DECORATION||o===p._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(r.id)}return 0}setCurrentFindMatch(i){let f=null,r=0;if(i)for(let o=0,d=this._decorations.length;o<d;o++){let c=this._editor.getModel().getDecorationRange(this._decorations[o]);if(i.equalsRange(c)){f=this._decorations[o],r=o+1;break}}return(this._highlightedDecorationId!==null||f!==null)&&this._editor.changeDecorations(o=>{if(this._highlightedDecorationId!==null&&(o.changeDecorationOptions(this._highlightedDecorationId,p._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),f!==null&&(this._highlightedDecorationId=f,o.changeDecorationOptions(this._highlightedDecorationId,p._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(o.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),f!==null){let d=this._editor.getModel().getDecorationRange(f);if(d.startLineNumber!==d.endLineNumber&&d.endColumn===1){let c=d.endLineNumber-1,u=this._editor.getModel().getLineMaxColumn(c);d=new y.Range(d.startLineNumber,d.startColumn,c,u)}this._rangeHighlightDecorationId=o.addDecoration(d,p._RANGE_HIGHLIGHT_DECORATION)}}),r}set(i,f){this._editor.changeDecorations(r=>{let o=p._FIND_MATCH_DECORATION,d=[];if(i.length>1e3){o=p._FIND_MATCH_NO_OVERVIEW_DECORATION;const u=this._editor.getModel().getLineCount(),n=this._editor.getLayoutInfo().height/u,a=Math.max(2,Math.ceil(3/n));let t=i[0].range.startLineNumber,l=i[0].range.endLineNumber;for(let h=1,g=i.length;h<g;h++){const w=i[h].range;l+a>=w.startLineNumber?w.endLineNumber>l&&(l=w.endLineNumber):(d.push({range:new y.Range(t,1,l,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),t=w.startLineNumber,l=w.endLineNumber)}d.push({range:new y.Range(t,1,l,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let c=new Array(i.length);for(let u=0,s=i.length;u<s;u++)c[u]={range:i[u].range,options:o};this._decorations=r.deltaDecorations(this._decorations,c),this._overviewRulerApproximateDecorations=r.deltaDecorations(this._overviewRulerApproximateDecorations,d),this._rangeHighlightDecorationId&&(r.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(u=>r.removeDecoration(u)),this._findScopeDecorationIds=[]),(f==null?void 0:f.length)&&(this._findScopeDecorationIds=f.map(u=>r.addDecoration(u,p._FIND_SCOPE_DECORATION)))})}matchBeforePosition(i){if(this._decorations.length===0)return null;for(let f=this._decorations.length-1;f>=0;f--){let r=this._decorations[f],o=this._editor.getModel().getDecorationRange(r);if(!(!o||o.endLineNumber>i.lineNumber)){if(o.endLineNumber<i.lineNumber)return o;if(!(o.endColumn>i.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(i){if(this._decorations.length===0)return null;for(let f=0,r=this._decorations.length;f<r;f++){let o=this._decorations[f],d=this._editor.getModel().getDecorationRange(o);if(!(!d||d.startLineNumber<i.lineNumber)){if(d.startLineNumber>i.lineNumber)return d;if(!(d.startColumn<i.column))return d}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let i=[];return i=i.concat(this._decorations),i=i.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&i.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&i.push(this._rangeHighlightDecorationId),i}}e.FindDecorations=p,p._CURRENT_FIND_MATCH_DECORATION=T.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:N.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(D.minimapFindMatch),position:N.MinimapPosition.Inline}}),p._FIND_MATCH_DECORATION=T.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:N.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(D.minimapFindMatch),position:N.MinimapPosition.Inline}}),p._FIND_MATCH_NO_OVERVIEW_DECORATION=T.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),p._FIND_MATCH_ONLY_OVERVIEW_DECORATION=T.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:N.OverviewRulerLane.Center}}),p._RANGE_HIGHLIGHT_DECORATION=T.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),p._FIND_SCOPE_DECORATION=T.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(te[150],ie([0,1,19,14,2,96,13,3,21,174,620,421,422,15]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new d.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_INPUT_FOCUSED=new d.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new d.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:512|33,mac:{primary:2048|512|33}},e.ToggleWholeWordKeybinding={primary:512|53,mac:{primary:2048|512|53}},e.ToggleRegexKeybinding={primary:512|48,mac:{primary:2048|512|48}},e.ToggleSearchScopeKeybinding={primary:512|42,mac:{primary:2048|512|42}},e.TogglePreserveCaseKeybinding={primary:512|46,mac:{primary:2048|512|46}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const c=240;class u{constructor(n,a){this._toDispose=new T.DisposableStore,this._editor=n,this._state=a,this._isDisposed=!1,this._startSearchingTimer=new N.TimeoutTimer,this._decorations=new f.FindDecorations(n),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new N.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(t=>{(t.reason===3||t.reason===5||t.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(t=>{this._ignoreModelContentChanged||(t.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(t=>this._onStateChanged(t))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,T.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(n){this._isDisposed||!this._editor.hasModel()||(n.searchString||n.isReplaceRevealed||n.isRegex||n.wholeWord||n.matchCase||n.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{n.searchScope?this.research(n.moveCursor,this._state.searchScope):this.research(n.moveCursor)},c)):n.searchScope?this.research(n.moveCursor,this._state.searchScope):this.research(n.moveCursor))}static _getSearchRange(n,a){return a||n.getFullModelRange()}research(n,a){let t=null;typeof a!="undefined"?a!==null&&(Array.isArray(a)?t=a:t=[a]):t=this._decorations.getFindScopes(),t!==null&&(t=t.map(w=>{if(w.startLineNumber!==w.endLineNumber){let _=w.endLineNumber;return w.endColumn===1&&(_=_-1),new p.Range(w.startLineNumber,1,_,this._editor.getModel().getLineMaxColumn(_))}return w}));let l=this._findMatches(t,!1,e.MATCHES_LIMIT);this._decorations.set(l,t);const h=this._editor.getSelection();let g=this._decorations.getCurrentMatchesPosition(h);if(g===0&&l.length>0){const w=(0,y.findFirstInSorted)(l.map(_=>_.range),_=>p.Range.compareRangesUsingStarts(_,h)>=0);g=w>0?w-1+1:g}this._state.changeMatchInfo(g,this._decorations.getCount(),void 0),n&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let n=this._decorations.getFindScope();return n&&this._editor.revealRangeInCenterIfOutsideViewport(n,0),!0}return!1}_setCurrentFindMatch(n){let a=this._decorations.setCurrentFindMatch(n);this._state.changeMatchInfo(a,this._decorations.getCount(),n),this._editor.setSelection(n),this._editor.revealRangeInCenterIfOutsideViewport(n,0)}_prevSearchPosition(n){let a=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:t,column:l}=n,h=this._editor.getModel();return a||l===1?(t===1?t=h.getLineCount():t--,l=h.getLineMaxColumn(t)):l--,new S.Position(t,l)}_moveToPrevMatch(n,a=!1){if(!this._state.canNavigateBack()){const v=this._decorations.matchAfterPosition(n);v&&this._setCurrentFindMatch(v);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let v=this._decorations.matchBeforePosition(n);v&&v.isEmpty()&&v.getStartPosition().equals(n)&&(n=this._prevSearchPosition(n),v=this._decorations.matchBeforePosition(n)),v&&this._setCurrentFindMatch(v);return}if(this._cannotFind())return;let t=this._decorations.getFindScope(),l=u._getSearchRange(this._editor.getModel(),t);l.getEndPosition().isBefore(n)&&(n=l.getEndPosition()),n.isBefore(l.getStartPosition())&&(n=l.getEndPosition());let{lineNumber:h,column:g}=n,w=this._editor.getModel(),_=new S.Position(h,g),C=w.findPreviousMatch(this._state.searchString,_,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1);if(C&&C.range.isEmpty()&&C.range.getStartPosition().equals(_)&&(_=this._prevSearchPosition(_),C=w.findPreviousMatch(this._state.searchString,_,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1)),!!C){if(!a&&!l.containsRange(C.range))return this._moveToPrevMatch(C.range.getStartPosition(),!0);this._setCurrentFindMatch(C.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(n){let a=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:t,column:l}=n,h=this._editor.getModel();return a||l===h.getLineMaxColumn(t)?(t===h.getLineCount()?t=1:t++,l=1):l++,new S.Position(t,l)}_moveToNextMatch(n){if(!this._state.canNavigateForward()){const t=this._decorations.matchBeforePosition(n);t&&this._setCurrentFindMatch(t);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let t=this._decorations.matchAfterPosition(n);t&&t.isEmpty()&&t.getStartPosition().equals(n)&&(n=this._nextSearchPosition(n),t=this._decorations.matchAfterPosition(n)),t&&this._setCurrentFindMatch(t);return}let a=this._getNextMatch(n,!1,!0);a&&this._setCurrentFindMatch(a.range)}_getNextMatch(n,a,t,l=!1){if(this._cannotFind())return null;let h=this._decorations.getFindScope(),g=u._getSearchRange(this._editor.getModel(),h);g.getEndPosition().isBefore(n)&&(n=g.getStartPosition()),n.isBefore(g.getStartPosition())&&(n=g.getStartPosition());let{lineNumber:w,column:_}=n,C=this._editor.getModel(),v=new S.Position(w,_),m=C.findNextMatch(this._state.searchString,v,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,a);return t&&m&&m.range.isEmpty()&&m.range.getStartPosition().equals(v)&&(v=this._nextSearchPosition(v),m=C.findNextMatch(this._state.searchString,v,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,a)),m?!l&&!g.containsRange(m.range)?this._getNextMatch(m.range.getEndPosition(),a,t,!0):m:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?(0,o.parseReplaceString)(this._state.replaceString):o.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let n=this._getReplacePattern(),a=this._editor.getSelection(),t=this._getNextMatch(a.getStartPosition(),!0,!1);if(t)if(a.equalsRange(t.range)){let l=n.buildReplaceString(t.matches,this._state.preserveCase),h=new D.ReplaceCommand(a,l);this._executeEditorCommand("replace",h),this._decorations.setStartPosition(new S.Position(a.startLineNumber,a.startColumn+l.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(t.range)}_findMatches(n,a,t){const l=(n||[null]).map(h=>u._getSearchRange(this._editor.getModel(),h));return this._editor.getModel().findMatches(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,a,t)}replaceAll(){if(!this._hasMatches())return;const n=this._decorations.getFindScopes();n===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(n),this.research(!1)}_largeReplaceAll(){const a=new i.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null).parseSearchRequest();if(!a)return;let t=a.regex;if(!t.multiline){let m="mu";t.ignoreCase&&(m+="i"),t.global&&(m+="g"),t=new RegExp(t.source,m)}const l=this._editor.getModel(),h=l.getValue(1),g=l.getFullModelRange(),w=this._getReplacePattern();let _;const C=this._state.preserveCase;w.hasReplacementPatterns||C?_=h.replace(t,function(){return w.buildReplaceString(arguments,C)}):_=h.replace(t,w.buildReplaceString(null,C));let v=new D.ReplaceCommandThatPreservesSelection(g,_,this._editor.getSelection());this._executeEditorCommand("replaceAll",v)}_regularReplaceAll(n){const a=this._getReplacePattern();let t=this._findMatches(n,a.hasReplacementPatterns||this._state.preserveCase,1073741824),l=[];for(let g=0,w=t.length;g<w;g++)l[g]=a.buildReplaceString(t[g].matches,this._state.preserveCase);let h=new r.ReplaceAllCommand(this._editor.getSelection(),t.map(g=>g.range),l);this._executeEditorCommand("replaceAll",h)}selectAllMatches(){if(!this._hasMatches())return;let n=this._decorations.getFindScopes(),t=this._findMatches(n,!1,1073741824).map(h=>new b.Selection(h.range.startLineNumber,h.range.startColumn,h.range.endLineNumber,h.range.endColumn)),l=this._editor.getSelection();for(let h=0,g=t.length;h<g;h++)if(t[h].equalsRange(l)){t=[l].concat(t.slice(0,h)).concat(t.slice(h+1));break}this._editor.setSelections(t)}_executeEditorCommand(n,a){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(n,a),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=u}),define(te[621],ie([0,1,7,247,53,14,150,22,12]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class i extends T.Widget{constructor(r,o,d,c){super();this._hideSoon=this._register(new D.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=r,this._state=o,this._keybindingService=d,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const u=c.getColorTheme().getColor(p.inputActiveOptionBorder),s=c.getColorTheme().getColor(p.inputActiveOptionForeground),n=c.getColorTheme().getColor(p.inputActiveOptionBackground);this.caseSensitive=this._register(new N.CaseSensitiveCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:u,inputActiveOptionForeground:s,inputActiveOptionBackground:n})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new N.WholeWordsCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:u,inputActiveOptionForeground:s,inputActiveOptionBackground:n})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new N.RegexCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:u,inputActiveOptionForeground:s,inputActiveOptionBackground:n})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(a=>{let t=!1;a.isRegex&&(this.regex.checked=this._state.isRegex,t=!0),a.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,t=!0),a.matchCase&&(this.caseSensitive.checked=this._state.matchCase,t=!0),!this._state.isRevealed&&t&&this._revealTemporarily()})),this._register(y.addDisposableNonBubblingMouseOutListener(this._domNode,a=>this._onMouseOut())),this._register(y.addDisposableListener(this._domNode,"mouseover",a=>this._onMouseOver())),this._applyTheme(c.getColorTheme()),this._register(c.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(r){let o=this._keybindingService.lookupKeybinding(r);return o?` (${o.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return i.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(r){let o={inputActiveOptionBorder:r.getColor(p.inputActiveOptionBorder),inputActiveOptionForeground:r.getColor(p.inputActiveOptionForeground),inputActiveOptionBackground:r.getColor(p.inputActiveOptionBackground)};this.caseSensitive.style(o),this.wholeWords.style(o),this.regex.style(o)}}e.FindOptionsWidget=i,i.ID="editor.contrib.findOptionsWidget",(0,b.registerThemingParticipant)((f,r)=>{const o=f.getColor(p.editorWidgetBackground);o&&r.addRule(`.monaco-editor .findOptionsWidget { background-color: ${o}; }`);const d=f.getColor(p.editorWidgetForeground);d&&r.addRule(`.monaco-editor .findOptionsWidget { color: ${d}; }`);const c=f.getColor(p.widgetShadow);c&&r.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${c}; }`);const u=f.getColor(p.contrastBorder);u&&r.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${u}; }`)})}),define(te[622],ie([0,1,6,2,3,150]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function S(b,i){return b===1?!0:b===2?!1:i}class p extends N.Disposable{constructor(){super();this._onFindReplaceStateChange=this._register(new y.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return S(this._isRegexOverride,this._isRegex)}get wholeWord(){return S(this._wholeWordOverride,this._wholeWord)}get matchCase(){return S(this._matchCaseOverride,this._matchCase)}get preserveCase(){return S(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(i,f,r){let o={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},d=!1;f===0&&(i=0),i>f&&(i=f),this._matchesPosition!==i&&(this._matchesPosition=i,o.matchesPosition=!0,d=!0),this._matchesCount!==f&&(this._matchesCount=f,o.matchesCount=!0,d=!0),typeof r!="undefined"&&(T.Range.equalsRange(this._currentMatch,r)||(this._currentMatch=r,o.currentMatch=!0,d=!0)),d&&this._onFindReplaceStateChange.fire(o)}change(i,f,r=!0){var o;let d={moveCursor:f,updateHistory:r,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},c=!1;const u=this.isRegex,s=this.wholeWord,n=this.matchCase,a=this.preserveCase;typeof i.searchString!="undefined"&&this._searchString!==i.searchString&&(this._searchString=i.searchString,d.searchString=!0,c=!0),typeof i.replaceString!="undefined"&&this._replaceString!==i.replaceString&&(this._replaceString=i.replaceString,d.replaceString=!0,c=!0),typeof i.isRevealed!="undefined"&&this._isRevealed!==i.isRevealed&&(this._isRevealed=i.isRevealed,d.isRevealed=!0,c=!0),typeof i.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==i.isReplaceRevealed&&(this._isReplaceRevealed=i.isReplaceRevealed,d.isReplaceRevealed=!0,c=!0),typeof i.isRegex!="undefined"&&(this._isRegex=i.isRegex),typeof i.wholeWord!="undefined"&&(this._wholeWord=i.wholeWord),typeof i.matchCase!="undefined"&&(this._matchCase=i.matchCase),typeof i.preserveCase!="undefined"&&(this._preserveCase=i.preserveCase),typeof i.searchScope!="undefined"&&(((o=i.searchScope)===null||o===void 0?void 0:o.every(t=>{var l;return(l=this._searchScope)===null||l===void 0?void 0:l.some(h=>!T.Range.equalsRange(h,t))}))||(this._searchScope=i.searchScope,d.searchScope=!0,c=!0)),typeof i.loop!="undefined"&&this._loop!==i.loop&&(this._loop=i.loop,d.loop=!0,c=!0),this._isRegexOverride=typeof i.isRegexOverride!="undefined"?i.isRegexOverride:0,this._wholeWordOverride=typeof i.wholeWordOverride!="undefined"?i.wholeWordOverride:0,this._matchCaseOverride=typeof i.matchCaseOverride!="undefined"?i.matchCaseOverride:0,this._preserveCaseOverride=typeof i.preserveCaseOverride!="undefined"?i.preserveCaseOverride:0,u!==this.isRegex&&(c=!0,d.isRegex=!0),s!==this.wholeWord&&(c=!0,d.wholeWord=!0),n!==this.matchCase&&(c=!0,d.matchCase=!0),a!==this.preserveCase&&(c=!0,d.preserveCase=!0),c&&this._onFindReplaceStateChange.fire(d)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=D.MATCHES_LIMIT}}e.FindReplaceState=p}),define(te[623],ie([0,1,31,38,181]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=e.ID_INDENT_PROVIDER=void 0;const D=5e3;e.ID_INDENT_PROVIDER="indent";class S{constructor(f){this.editorModel=f,this.id=e.ID_INDENT_PROVIDER}dispose(){}compute(f){let r=N.LanguageConfigurationRegistry.getFoldingRules(this.editorModel.getLanguageIdentifier().id),o=r&&!!r.offSide,d=r&&r.markers;return Promise.resolve(b(this.editorModel,o,d))}}e.IndentRangeProvider=S;class p{constructor(f){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=f}insertFirst(f,r,o){if(f>T.MAX_LINE_NUMBER||r>T.MAX_LINE_NUMBER)return;let d=this._length;this._startIndexes[d]=f,this._endIndexes[d]=r,this._length++,o<1e3&&(this._indentOccurrences[o]=(this._indentOccurrences[o]||0)+1)}toIndentRanges(f){if(this._length<=this._foldingRangesLimit){let r=new Uint32Array(this._length),o=new Uint32Array(this._length);for(let d=this._length-1,c=0;d>=0;d--,c++)r[c]=this._startIndexes[d],o[c]=this._endIndexes[d];return new T.FoldingRegions(r,o)}else{let r=0,o=this._indentOccurrences.length;for(let s=0;s<this._indentOccurrences.length;s++){let n=this._indentOccurrences[s];if(n){if(n+r>this._foldingRangesLimit){o=s;break}r+=n}}const d=f.getOptions().tabSize;let c=new Uint32Array(this._foldingRangesLimit),u=new Uint32Array(this._foldingRangesLimit);for(let s=this._length-1,n=0;s>=0;s--){let a=this._startIndexes[s],t=f.getLineContent(a),l=y.TextModel.computeIndentLevel(t,d);(l<o||l===o&&r++<this._foldingRangesLimit)&&(c[n]=a,u[n]=this._endIndexes[s],n++)}return new T.FoldingRegions(c,u)}}}e.RangesCollector=p;function b(i,f,r,o=D){const d=i.getOptions().tabSize;let c=new p(o),u;r&&(u=new RegExp(`(${r.start.source})|(?:${r.end.source})`));let s=[],n=i.getLineCount()+1;s.push({indent:-1,endAbove:n,line:n});for(let a=i.getLineCount();a>0;a--){let t=i.getLineContent(a),l=y.TextModel.computeIndentLevel(t,d),h=s[s.length-1];if(l===-1){f&&(h.endAbove=a);continue}let g;if(u&&(g=t.match(u)))if(g[1]){let w=s.length-1;for(;w>0&&s[w].indent!==-2;)w--;if(w>0){s.length=w+1,h=s[w],c.insertFirst(a,h.line,l),h.line=a,h.indent=l,h.endAbove=a;continue}}else{s.push({indent:-2,endAbove:a,line:a});continue}if(h.indent>l){do s.pop(),h=s[s.length-1];while(h.indent>l);let w=h.endAbove-1;w-a>=1&&c.insertFirst(a,w,l)}h.indent===l?h.endAbove=a:s.push({indent:l,endAbove:a,line:a})}return c.toIndentRanges(i)}e.computeRanges=b}),define(te[624],ie([0,1,7,214,164,184,67,166,2,44,69,503,9,40,124,126,12,121]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let a=class{constructor(E){this._resolverService=E}hasChildren(E){return E instanceof n.ReferencesModel||E instanceof n.FileReferences}getChildren(E){if(E instanceof n.ReferencesModel)return E.groups;if(E instanceof n.FileReferences)return E.resolve(this._resolverService).then(I=>I.children);throw new Error("bad tree")}};a=Fe([Ce(0,f.ITextModelService)],a),e.DataSource=a;class t{getHeight(){return 23}getTemplateId(E){return E instanceof n.FileReferences?w.id:C.id}}e.Delegate=t;let l=class{constructor(E){this._keybindingService=E}getKeyboardNavigationLabel(E){var I;if(E instanceof n.OneReference){const k=(I=E.parent.getPreview(E))===null||I===void 0?void 0:I.preview(E.range);if(k)return k.value}return(0,i.basename)(E.uri)}};l=Fe([Ce(0,d.IKeybindingService)],l),e.StringRepresentationProvider=l;class h{getId(E){return E instanceof n.OneReference?E.id:E.uri}}e.IdentityProvider=h;let g=class extends b.Disposable{constructor(E,I,k){super();this._uriLabel=I;const A=document.createElement("div");A.classList.add("reference-file"),this.file=this._register(new D.IconLabel(A,{supportHighlights:!0})),this.badge=new N.CountBadge(y.append(A,y.$(".count"))),this._register((0,u.attachBadgeStyler)(this.badge,k)),E.appendChild(A)}set(E,I){let k=(0,i.dirname)(E.uri);this.file.setLabel((0,p.getBaseLabel)(E.uri),this._uriLabel.getUriLabel(k,{relative:!0}),{title:this._uriLabel.getUriLabel(E.uri),matches:I});const A=E.children.length;this.badge.setCount(A),A>1?this.badge.setTitleFormat((0,r.localize)(0,null,A)):this.badge.setTitleFormat((0,r.localize)(1,null,A))}};g=Fe([Ce(1,c.ILabelService),Ce(2,s.IThemeService)],g);let w=class pi{constructor(E){this._instantiationService=E,this.templateId=pi.id}renderTemplate(E){return this._instantiationService.createInstance(g,E)}renderElement(E,I,k){k.set(E.element,(0,S.createMatches)(E.filterData))}disposeTemplate(E){E.dispose()}};w.id="FileReferencesRenderer",w=Fe([Ce(0,o.IInstantiationService)],w),e.FileReferencesRenderer=w;class _{constructor(E){this.label=new T.HighlightedLabel(E,!1)}set(E,I){var k;const A=(k=E.parent.getPreview(E))===null||k===void 0?void 0:k.preview(E.range);if(!A||!A.value)this.label.set(`${(0,i.basename)(E.uri)}:${E.range.startLineNumber+1}:${E.range.startColumn+1}`);else{const{value:P,highlight:F}=A;I&&!S.FuzzyScore.isDefault(I)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(P,(0,S.createMatches)(I))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(P,[F]))}}}class C{constructor(){this.templateId=C.id}renderTemplate(E){return new _(E)}renderElement(E,I,k){k.set(E.element,E.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=C,C.id="OneReferenceRenderer";class v{getWidgetAriaLabel(){return(0,r.localize)(2,null)}getAriaLabel(E){return E.ariaMessage}}e.AccessibilityProvider=v}),define(te[625],ie([0,1,7,29,2,8,65,28,34,42,87,13,3,84,46,140,117,15,9,12,363]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=void 0;const h=(l=window.trustedTypes)===null||l===void 0?void 0:l.createPolicy("editorGhostText",{createHTML:k=>k});let g=class extends T.Disposable{constructor(A,P,F){super();this.editor=A,this.model=P,this.instantiationService=F,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(w,this.editor)),this.additionalLinesWidget=this._register(new C(this.editor)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(M=>{(M.hasChanged(29)||M.hasChanged(104)||M.hasChanged(87)||M.hasChanged(82)||M.hasChanged(44)||M.hasChanged(43)||M.hasChanged(58))&&this.update()})),this._register((0,T.toDisposable)(()=>{var M;this.disposed=!0,this.update(),(M=this.viewMoreContentWidget)===null||M===void 0||M.dispose(),this.viewMoreContentWidget=void 0})),this._register(P.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(A){return this.additionalLinesWidget.viewZoneId===A}update(){var A;const P=this.model.ghostText;if(!this.editor.hasModel()||!P||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear();return}const F=new Array,M=new Array;function R(z,$){if(M.length>0){const j=M[M.length-1];$&&j.decorations.push(new u.LineDecoration(j.content.length+1,j.content.length+1+z[0].length,$,0)),j.content+=z[0],z=z.slice(1)}for(const j of z)M.push({content:j,decorations:$?[new u.LineDecoration(1,j.length+1,$,0)]:[]})}const O=this.editor.getModel().getLineContent(P.lineNumber);this.editor.getModel().getLineTokens(P.lineNumber);let L,B=0;for(const z of P.parts){let $=z.lines;L===void 0?(F.push({column:z.column,text:$[0],preview:z.preview}),$=$.slice(1)):R([O.substring(B,z.column-1)],void 0),$.length>0&&(R($,"ghost-text"),L===void 0&&z.column<=O.length&&(L=z.column)),B=z.column-1}L!==void 0&&R([O.substring(B)],void 0),this.partsWidget.setParts(P.lineNumber,F,L!==void 0?{column:L,length:O.length+1-L}:void 0),this.additionalLinesWidget.updateLines(P.lineNumber,M,P.additionalReservedLineCount),P.parts.some(z=>z.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new r.Position(P.lineNumber,this.editor.getModel().getLineMaxColumn(P.lineNumber)),"",0):((A=this.viewMoreContentWidget)===null||A===void 0||A.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(A,P,F){const M=this.editor.getOption(43),R=document.createElement("div");R.className="suggest-preview-additional-widget",S.Configuration.applyFontInfoSlow(R,M);const O=document.createElement("span");O.className="content-spacer",O.append(P),R.append(O);const L=document.createElement("span");L.className="content-newline suggest-preview-text",L.append("\u23CE  "),R.append(L);const B=new T.DisposableStore,z=document.createElement("div");return z.className="button suggest-preview-text",z.append(`+${F} lines\u2026`),B.add(y.addStandardDisposableListener(z,"mousedown",$=>{var j;(j=this.model)===null||j===void 0||j.setExpanded(!0),$.preventDefault(),this.editor.focus()})),R.append(z),new I(this.editor,A,R,B)}};g=Fe([Ce(2,a.IInstantiationService)],g),e.GhostTextWidget=g;let w=class{constructor(A,P,F,M){this.editor=A,this.codeEditorService=P,this.themeService=F,this.contextKeyService=M,this.decorationIds=[],this.disposableStore=new T.DisposableStore}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(A,P,F){this.disposableStore.clear();const M=this.themeService.getColorTheme(),R=M.getColor(c.ghostTextForeground);let O,L;R&&(O=String(R.rgba.a),L=N.Color.Format.CSS.format(_(R)));const B=M.getColor(c.ghostTextBorder);let z;B&&(z=`2px dashed ${B}`);const $=this.editor.getModel();if(!$)return;const{tabSize:j}=$.getOptions(),X=$.getLineContent(A)||"";let Q=0,Y="";const oe=new Array;F&&oe.push({range:o.Range.fromPositions(new r.Position(A,F.column),new r.Position(A,F.column+F.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});const se=this.contextKeyService.getContextKeyValue("config.editor.useInjectedText"),K=se===void 0?!0:!!se;this.decorationIds=this.editor.deltaDecorations(this.decorationIds,P.map(x=>{Y+=X.substring(Q,x.column-1),Q=x.column-1;const U=K?x.text:this.renderSingleLineText(x.text,Y,j,!1),H=this.disposableStore.add(E(this.codeEditorService,"ghost-text","0-ghost-text-",{after:{contentText:U,opacity:O,color:L,border:z,fontWeight:x.preview?"bold":"normal"}}));return{range:o.Range.fromPositions(new r.Position(A,x.column)),options:K?{description:"ghost-text",after:{content:U,inlineClassName:x.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}:Object.assign({},H.resolve())}}).concat(oe))}renderSingleLineText(A,P,F,M){const R=P+A,O=i.CursorColumns.visibleColumnsByColumns(R,F);let L="",B=P.length+1;for(const z of A){if(z==="	"){const $=O[B+1]-O[B];if(M){L+="\u2192";for(let j=1;j<$;j++)L+="\xA0"}else for(let j=0;j<$;j++)L+="\xA0"}else z===" "?M?L+="\xB7":L+="\xA0":L+=z;B+=1}return L}};w=Fe([Ce(1,p.ICodeEditorService),Ce(2,t.IThemeService),Ce(3,n.IContextKeyService)],w);function _(k){const{r:A,b:P,g:F}=k.rgba;return new N.Color(new N.RGBA(A,F,P,255))}class C{constructor(A){this.editor=A,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(A=>{this._viewZoneId&&(A.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(A,P,F){const M=this.editor.getModel();if(!M)return;const{tabSize:R}=M.getOptions();this.editor.changeViewZones(O=>{this._viewZoneId&&(O.removeZone(this._viewZoneId),this._viewZoneId=void 0);const L=Math.max(P.length,F);if(L>0){const B=document.createElement("div");v(B,R,P,this.editor.getOptions()),this._viewZoneId=O.addZone({afterLineNumber:A,heightInLines:L,domNode:B})}})}}function v(k,A,P,F){const M=F.get(29),R=F.get(104),O="none",L=F.get(82),B=F.get(44),z=F.get(43),$=F.get(58),j=(0,d.createStringBuilder)(1e4);j.appendASCIIString('<div class="suggest-preview-text">');for(let Y=0,oe=P.length;Y<oe;Y++){const se=P[Y],K=se.content;j.appendASCIIString('<div class="view-line'),j.appendASCIIString('" style="top:'),j.appendASCIIString(String(Y*$)),j.appendASCIIString('px;width:1000000px;">');const x=D.isBasicASCII(K),U=D.containsRTL(K),H=f.LineTokens.createEmpty(K);(0,s.renderViewLine)(new s.RenderLineInput(z.isMonospace&&!M,z.canUseHalfwidthRightwardsArrow,K,!1,x,U,0,H,se.decorations,A,0,z.spaceWidth,z.middotWidth,z.wsmiddotWidth,R,O,L,B!==b.EditorFontLigatures.OFF,null),j),j.appendASCIIString("</div>")}j.appendASCIIString("</div>"),S.Configuration.applyFontInfoSlow(k,z);const X=j.build(),Q=h?h.createHTML(X):X;k.innerHTML=Q}let m=0;function E(k,A,P,F){const M=P+m++;return k.registerDecorationType(A,M,F),{dispose(){k.removeDecorationType(M)},resolve(){return k.resolveDecorationOptions(M,!0)}}}class I extends T.Disposable{constructor(A,P,F,M){super();this.editor=A,this.position=P,this.domNode=F,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(M),this._register((0,T.toDisposable)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,t.registerThemingParticipant)((k,A)=>{const P=k.getColor(c.ghostTextForeground);if(P){const M=String(P.rgba.a),R=N.Color.Format.CSS.format(_(P));A.addRule(`.monaco-editor .ghost-text-decoration { opacity: ${M} !important; color: ${R} !important; }`),A.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${P.toString()} !important; }`),A.addRule(`.monaco-editor .suggest-preview-text .ghost-text { opacity: ${M} !important; color: ${R} !important; }`)}const F=k.getColor(c.ghostTextBorder);F&&A.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 2px dashed ${F}; }`)})}),define(te[626],ie([0,1,8,192,3,21,115,38,241]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;class i{constructor(r,o,d){this._selection=r,this._isMovingDown=o,this._autoIndent=d,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(r,o){let d=r.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===d){this._selectionId=o.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=o.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let c=this._selection;c.startLineNumber<c.endLineNumber&&c.endColumn===1&&(this._moveEndPositionDown=!0,c=c.setEndPosition(c.endLineNumber-1,r.getLineMaxColumn(c.endLineNumber-1)));const{tabSize:u,indentSize:s,insertSpaces:n}=r.getOptions();let a=this.buildIndentConverter(u,s,n),t={getLineTokens:l=>r.getLineTokens(l),getLanguageIdentifier:()=>r.getLanguageIdentifier(),getLanguageIdAtPosition:(l,h)=>r.getLanguageIdAtPosition(l,h),getLineContent:null};if(c.startLineNumber===c.endLineNumber&&r.getLineMaxColumn(c.startLineNumber)===1){let l=c.startLineNumber,h=this._isMovingDown?l+1:l-1;r.getLineMaxColumn(h)===1?o.addEditOperation(new T.Range(1,1,1,1),null):(o.addEditOperation(new T.Range(l,1,l,1),r.getLineContent(h)),o.addEditOperation(new T.Range(h,1,h,r.getLineMaxColumn(h)),null)),c=new D.Selection(h,1,h,1)}else{let l,h;if(this._isMovingDown){l=c.endLineNumber+1,h=r.getLineContent(l),o.addEditOperation(new T.Range(l-1,r.getLineMaxColumn(l-1),l,r.getLineMaxColumn(l)),null);let g=h;if(this.shouldAutoIndent(r,c)){let w=this.matchEnterRule(r,a,u,l,c.startLineNumber-1);if(w!==null){let C=y.getLeadingWhitespace(r.getLineContent(l)),v=w+b.getSpaceCnt(C,u);g=b.generateIndent(v,u,n)+this.trimLeft(h)}else{t.getLineContent=v=>v===c.startLineNumber?r.getLineContent(l):r.getLineContent(v);let C=p.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,r.getLanguageIdAtPosition(l,1),c.startLineNumber,a);if(C!==null){let v=y.getLeadingWhitespace(r.getLineContent(l)),m=b.getSpaceCnt(C,u),E=b.getSpaceCnt(v,u);m!==E&&(g=b.generateIndent(m,u,n)+this.trimLeft(h))}}o.addEditOperation(new T.Range(c.startLineNumber,1,c.startLineNumber,1),g+`
`);let _=this.matchEnterRuleMovingDown(r,a,u,c.startLineNumber,l,g);if(_!==null)_!==0&&this.getIndentEditsOfMovingBlock(r,o,c,u,n,_);else{t.getLineContent=v=>v===c.startLineNumber?g:v>=c.startLineNumber+1&&v<=c.endLineNumber+1?r.getLineContent(v-1):r.getLineContent(v);let C=p.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,r.getLanguageIdAtPosition(l,1),c.startLineNumber+1,a);if(C!==null){const v=y.getLeadingWhitespace(r.getLineContent(c.startLineNumber)),m=b.getSpaceCnt(C,u),E=b.getSpaceCnt(v,u);if(m!==E){const I=m-E;this.getIndentEditsOfMovingBlock(r,o,c,u,n,I)}}}}else o.addEditOperation(new T.Range(c.startLineNumber,1,c.startLineNumber,1),g+`
`)}else if(l=c.startLineNumber-1,h=r.getLineContent(l),o.addEditOperation(new T.Range(l,1,l+1,1),null),o.addEditOperation(new T.Range(c.endLineNumber,r.getLineMaxColumn(c.endLineNumber),c.endLineNumber,r.getLineMaxColumn(c.endLineNumber)),`
`+h),this.shouldAutoIndent(r,c)){t.getLineContent=w=>w===l?r.getLineContent(c.startLineNumber):r.getLineContent(w);let g=this.matchEnterRule(r,a,u,c.startLineNumber,c.startLineNumber-2);if(g!==null)g!==0&&this.getIndentEditsOfMovingBlock(r,o,c,u,n,g);else{let w=p.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,r.getLanguageIdAtPosition(c.startLineNumber,1),l,a);if(w!==null){let _=y.getLeadingWhitespace(r.getLineContent(c.startLineNumber)),C=b.getSpaceCnt(w,u),v=b.getSpaceCnt(_,u);if(C!==v){let m=C-v;this.getIndentEditsOfMovingBlock(r,o,c,u,n,m)}}}}}this._selectionId=o.trackSelection(c)}buildIndentConverter(r,o,d){return{shiftIndent:c=>N.ShiftCommand.shiftIndent(c,c.length+1,r,o,d),unshiftIndent:c=>N.ShiftCommand.unshiftIndent(c,c.length+1,r,o,d)}}parseEnterResult(r,o,d,c,u){if(u){let s=u.indentation;u.indentAction===S.IndentAction.None||u.indentAction===S.IndentAction.Indent?s=u.indentation+u.appendText:u.indentAction===S.IndentAction.IndentOutdent?s=u.indentation:u.indentAction===S.IndentAction.Outdent&&(s=o.unshiftIndent(u.indentation)+u.appendText);let n=r.getLineContent(c);if(this.trimLeft(n).indexOf(this.trimLeft(s))>=0){let a=y.getLeadingWhitespace(r.getLineContent(c)),t=y.getLeadingWhitespace(s),l=p.LanguageConfigurationRegistry.getIndentMetadata(r,c);l!==null&&l&2&&(t=o.unshiftIndent(t));let h=b.getSpaceCnt(t,d),g=b.getSpaceCnt(a,d);return h-g}}return null}matchEnterRuleMovingDown(r,o,d,c,u,s){if(y.lastNonWhitespaceIndex(s)>=0){let n=r.getLineMaxColumn(u),a=p.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,r,new T.Range(u,n,u,n));return this.parseEnterResult(r,o,d,c,a)}else{let n=c-1;for(;n>=1;){let l=r.getLineContent(n);if(y.lastNonWhitespaceIndex(l)>=0)break;n--}if(n<1||c>r.getLineCount())return null;let a=r.getLineMaxColumn(n),t=p.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,r,new T.Range(n,a,n,a));return this.parseEnterResult(r,o,d,c,t)}}matchEnterRule(r,o,d,c,u,s){let n=u;for(;n>=1;){let l;if(n===u&&s!==void 0?l=s:l=r.getLineContent(n),y.lastNonWhitespaceIndex(l)>=0)break;n--}if(n<1||c>r.getLineCount())return null;let a=r.getLineMaxColumn(n),t=p.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,r,new T.Range(n,a,n,a));return this.parseEnterResult(r,o,d,c,t)}trimLeft(r){return r.replace(/^\s+/,"")}shouldAutoIndent(r,o){if(this._autoIndent<4||!r.isCheapToTokenize(o.startLineNumber))return!1;let d=r.getLanguageIdAtPosition(o.startLineNumber,1),c=r.getLanguageIdAtPosition(o.endLineNumber,1);return!(d!==c||p.LanguageConfigurationRegistry.getIndentRulesSupport(d)===null)}getIndentEditsOfMovingBlock(r,o,d,c,u,s){for(let n=d.startLineNumber;n<=d.endLineNumber;n++){let a=r.getLineContent(n),t=y.getLeadingWhitespace(a),h=b.getSpaceCnt(t,c)+s,g=b.generateIndent(h,c,u);g!==t&&(o.addEditOperation(new T.Range(n,1,n,t.length+1),g),n===d.endLineNumber&&d.endColumn<=t.length+1&&g===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(r,o){let d=o.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(d=d.setEndPosition(d.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&d.startLineNumber<d.endLineNumber&&(d=d.setEndPosition(d.endLineNumber,2)),d}}e.MoveLinesCommand=i}),define(te[272],ie([0,1,82,2,20,113,49,46,12]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class i{constructor(r){this.options=r,this.rangeHighlightDecorationId=void 0}provide(r,o){var d;const c=new N.DisposableStore;r.canAcceptInBackground=!!((d=this.options)===null||d===void 0?void 0:d.canAcceptInBackground),r.matchOnLabel=r.matchOnDescription=r.matchOnDetail=r.sortByLabel=!1;const u=c.add(new N.MutableDisposable);return u.value=this.doProvide(r,o),c.add(this.onDidActiveTextEditorControlChange(()=>{u.value=void 0,u.value=this.doProvide(r,o)})),c}doProvide(r,o){const d=new N.DisposableStore,c=this.activeTextEditorControl;if(c&&this.canProvideWithTextEditor(c)){const u={editor:c},s=(0,D.getCodeEditor)(c);if(s){let n=(0,T.withNullAsUndefined)(c.saveViewState());d.add(s.onDidChangeCursorPosition(()=>{n=(0,T.withNullAsUndefined)(c.saveViewState())})),u.restoreViewState=()=>{n&&c===this.activeTextEditorControl&&c.restoreViewState(n)},d.add((0,y.once)(o.onCancellationRequested)(()=>{var a;return(a=u.restoreViewState)===null||a===void 0?void 0:a.call(u)}))}d.add((0,N.toDisposable)(()=>this.clearDecorations(c))),d.add(this.provideWithTextEditor(u,r,o))}else d.add(this.provideWithoutTextEditor(r,o));return d}canProvideWithTextEditor(r){return!0}gotoLocation({editor:r},o){r.setSelection(o.range),r.revealRangeInCenter(o.range,0),o.preserveFocus||r.focus()}getModel(r){var o;return(0,D.isDiffEditor)(r)?(o=r.getModel())===null||o===void 0?void 0:o.modified:r.getModel()}addDecorations(r,o){r.changeDecorations(d=>{const c=[];this.rangeHighlightDecorationId&&(c.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),c.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const u=[{range:o,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:o,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,b.themeColorFromId)(p.overviewRulerRangeHighlight),position:S.OverviewRulerLane.Full}}}],[s,n]=d.deltaDecorations(c,u);this.rangeHighlightDecorationId={rangeHighlightId:s,overviewRulerDecorationId:n}})}clearDecorations(r){const o=this.rangeHighlightDecorationId;o&&(r.changeDecorations(d=>{d.deltaDecorations([o.overviewRulerDecorationId,o.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=i}),define(te[627],ie([0,1,2,113,272,522]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class S extends T.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(b){const i=(0,D.localize)(0,null);return b.items=[{label:i}],b.ariaLabel=i,y.Disposable.None}provideWithTextEditor(b,i,f){const r=b.editor,o=new y.DisposableStore;o.add(i.onDidAccept(u=>{const[s]=i.selectedItems;if(s){if(!this.isValidLineNumber(r,s.lineNumber))return;this.gotoLocation(b,{range:this.toRange(s.lineNumber,s.column),keyMods:i.keyMods,preserveFocus:u.inBackground}),u.inBackground||i.hide()}}));const d=()=>{const u=this.parsePosition(r,i.value.trim().substr(S.PREFIX.length)),s=this.getPickLabel(r,u.lineNumber,u.column);if(i.items=[{lineNumber:u.lineNumber,column:u.column,label:s}],i.ariaLabel=s,!this.isValidLineNumber(r,u.lineNumber)){this.clearDecorations(r);return}const n=this.toRange(u.lineNumber,u.column);r.revealRangeInCenter(n,0),this.addDecorations(r,n)};d(),o.add(i.onDidChangeValue(()=>d()));const c=(0,N.getCodeEditor)(r);return c&&c.getOptions().get(59).renderType===2&&(c.updateOptions({lineNumbers:"on"}),o.add((0,y.toDisposable)(()=>c.updateOptions({lineNumbers:"relative"})))),o}toRange(b=1,i=1){return{startLineNumber:b,startColumn:i,endLineNumber:b,endColumn:i}}parsePosition(b,i){const f=i.split(/,|:|#/).map(o=>parseInt(o,10)).filter(o=>!isNaN(o)),r=this.lineCount(b)+1;return{lineNumber:f[0]>0?f[0]:r+f[0],column:f[1]}}getPickLabel(b,i,f){if(this.isValidLineNumber(b,i))return this.isValidColumn(b,i,f)?(0,D.localize)(1,null,i,f):(0,D.localize)(2,null,i);const r=b.getPosition()||{lineNumber:1,column:1},o=this.lineCount(b);return o>1?(0,D.localize)(3,null,r.lineNumber,r.column,o):(0,D.localize)(4,null,r.lineNumber,r.column)}isValidLineNumber(b,i){return!i||typeof i!="number"?!1:i>0&&i<=this.lineCount(b)}isValidColumn(b,i,f){if(!f||typeof f!="number")return!1;const r=this.getModel(b);if(!r)return!1;const o={lineNumber:i,column:f};return r.validatePosition(o).equals(o)}lineCount(b){var i,f;return(f=(i=this.getModel(b))===null||i===void 0?void 0:i.getLineCount())!==null&&f!==void 0?f:0}}e.AbstractGotoLineQuickAccessProvider=S,S.PREFIX=":"}),define(te[628],ie([0,1,23,27,304,2,8,3,18,256,272,523]),function(q,e,y,N,T,D,S,p,b,i,f,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;class o extends f.AbstractEditorNavigationQuickAccessProvider{constructor(s=Object.create(null)){super(s);this.options=s,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(s){return this.provideLabelPick(s,(0,r.localize)(0,null)),D.Disposable.None}provideWithTextEditor(s,n,a){const t=s.editor,l=this.getModel(t);return l?b.DocumentSymbolProviderRegistry.has(l)?this.doProvideWithEditorSymbols(s,l,n,a):this.doProvideWithoutEditorSymbols(s,l,n,a):D.Disposable.None}doProvideWithoutEditorSymbols(s,n,a,t){const l=new D.DisposableStore;return this.provideLabelPick(a,(0,r.localize)(1,null)),(()=>Me(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(n,l))||t.isCancellationRequested||l.add(this.doProvideWithEditorSymbols(s,n,a,t))}))(),l}provideLabelPick(s,n){s.items=[{label:n,index:0,kind:14}],s.ariaLabel=n}waitForLanguageSymbolRegistry(s,n){return Me(this,void 0,void 0,function*(){if(b.DocumentSymbolProviderRegistry.has(s))return!0;let a;const t=new Promise(h=>a=h),l=n.add(b.DocumentSymbolProviderRegistry.onDidChange(()=>{b.DocumentSymbolProviderRegistry.has(s)&&(l.dispose(),a(!0))}));return n.add((0,D.toDisposable)(()=>a(!1))),t})}doProvideWithEditorSymbols(s,n,a,t){const l=s.editor,h=new D.DisposableStore;h.add(a.onDidAccept(v=>{const[m]=a.selectedItems;m&&m.range&&(this.gotoLocation(s,{range:m.range.selection,keyMods:a.keyMods,preserveFocus:v.inBackground}),v.inBackground||a.hide())})),h.add(a.onDidTriggerItemButton(({item:v})=>{v&&v.range&&(this.gotoLocation(s,{range:v.range.selection,keyMods:a.keyMods,forceSideBySide:!0}),a.hide())}));const g=this.getDocumentSymbols(n,t);let w;const _=()=>Me(this,void 0,void 0,function*(){w==null||w.dispose(!0),a.busy=!1,w=new y.CancellationTokenSource(t),a.busy=!0;try{const v=(0,T.prepareQuery)(a.value.substr(o.PREFIX.length).trim()),m=yield this.doGetSymbolPicks(g,v,void 0,w.token);if(t.isCancellationRequested)return;m.length>0?a.items=m:v.original.length>0?this.provideLabelPick(a,(0,r.localize)(2,null)):this.provideLabelPick(a,(0,r.localize)(3,null))}finally{t.isCancellationRequested||(a.busy=!1)}});h.add(a.onDidChangeValue(()=>_())),_();let C=!0;return h.add(a.onDidChangeActive(()=>{const[v]=a.activeItems;if(v&&v.range){if(C){C=!1;return}l.revealRangeInCenter(v.range.selection,0),this.addDecorations(l,v.range.decoration)}})),h}doGetSymbolPicks(s,n,a,t){return Me(this,void 0,void 0,function*(){const l=yield s;if(t.isCancellationRequested)return[];const h=n.original.indexOf(o.SCOPE_PREFIX)===0,g=h?1:0;let w,_;n.values&&n.values.length>1?(w=(0,T.pieceToQuery)(n.values[0]),_=(0,T.pieceToQuery)(n.values.slice(1))):w=n;const C=[];for(let E=0;E<l.length;E++){const I=l[E],k=(0,S.trim)(I.name),A=`$(symbol-${b.SymbolKinds.toString(I.kind)||"property"}) ${k}`,P=A.length-k.length;let F=I.containerName;(a==null?void 0:a.extraContainerLabel)&&(F?F=`${a.extraContainerLabel} \u2022 ${F}`:F=a.extraContainerLabel);let M,R,O,L;if(n.original.length>g){let z=!1;if(w!==n&&([M,R]=(0,T.scoreFuzzy2)(A,Object.assign(Object.assign({},n),{values:void 0}),g,P),typeof M=="number"&&(z=!0)),typeof M!="number"&&([M,R]=(0,T.scoreFuzzy2)(A,w,g,P),typeof M!="number"))continue;if(!z&&_){if(F&&_.original.length>0&&([O,L]=(0,T.scoreFuzzy2)(F,_)),typeof O!="number")continue;typeof M=="number"&&(M+=O)}}const B=I.tags&&I.tags.indexOf(1)>=0;C.push({index:E,kind:I.kind,score:M,label:A,ariaLabel:k,description:F,highlights:B?void 0:{label:R,description:L},range:{selection:p.Range.collapseToStart(I.selectionRange),decoration:I.range},strikethrough:B,buttons:(()=>{var z,$;const j=((z=this.options)===null||z===void 0?void 0:z.openSideBySideDirection)?($=this.options)===null||$===void 0?void 0:$.openSideBySideDirection():void 0;if(!!j)return[{iconClass:j==="right"?N.Codicon.splitHorizontal.classNames:N.Codicon.splitVertical.classNames,tooltip:j==="right"?(0,r.localize)(4,null):(0,r.localize)(5,null)}]})()})}const v=C.sort((E,I)=>h?this.compareByKindAndScore(E,I):this.compareByScore(E,I));let m=[];if(h){let A=function(){I&&typeof E=="number"&&k>0&&(I.label=(0,S.format)(c[E]||d,k))},E,I,k=0;for(const P of v)E!==P.kind?(A(),E=P.kind,k=1,I={type:"separator"},m.push(I)):k++,m.push(P);A()}else v.length>0&&(m=[{label:(0,r.localize)(6,null,C.length),type:"separator"},...v]);return m})}compareByScore(s,n){if(typeof s.score!="number"&&typeof n.score=="number")return 1;if(typeof s.score=="number"&&typeof n.score!="number")return-1;if(typeof s.score=="number"&&typeof n.score=="number"){if(s.score>n.score)return-1;if(s.score<n.score)return 1}return s.index<n.index?-1:s.index>n.index?1:0}compareByKindAndScore(s,n){const a=c[s.kind]||d,t=c[n.kind]||d,l=a.localeCompare(t);return l===0?this.compareByScore(s,n):l}getDocumentSymbols(s,n){return Me(this,void 0,void 0,function*(){const a=yield i.OutlineModel.create(s,n);return n.isCancellationRequested?[]:a.asListOfDocumentSymbols()})}}e.AbstractGotoSymbolQuickAccessProvider=o,o.PREFIX="@",o.SCOPE_PREFIX=":",o.PREFIX_BY_CATEGORY=`${o.PREFIX}${o.SCOPE_PREFIX}`;const d=(0,r.localize)(7,null),c={[5]:(0,r.localize)(8,null),[11]:(0,r.localize)(9,null),[8]:(0,r.localize)(10,null),[12]:(0,r.localize)(11,null),[4]:(0,r.localize)(12,null),[22]:(0,r.localize)(13,null),[23]:(0,r.localize)(14,null),[24]:(0,r.localize)(15,null),[10]:(0,r.localize)(16,null),[2]:(0,r.localize)(17,null),[3]:(0,r.localize)(18,null),[25]:(0,r.localize)(19,null),[1]:(0,r.localize)(20,null),[6]:(0,r.localize)(21,null),[9]:(0,r.localize)(22,null),[21]:(0,r.localize)(23,null),[14]:(0,r.localize)(24,null),[0]:(0,r.localize)(25,null),[17]:(0,r.localize)(26,null),[15]:(0,r.localize)(27,null),[16]:(0,r.localize)(28,null),[18]:(0,r.localize)(29,null),[19]:(0,r.localize)(30,null),[7]:(0,r.localize)(31,null),[13]:(0,r.localize)(32,null)}}),define(te[629],ie([0,1,2,13,525,15,40,22,12,368]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new D.RawContextKey("renameInputVisible",!1,(0,T.localize)(0,null));let i=class{constructor(r,o,d,c,u){this._editor=r,this._acceptKeybindings=o,this._themeService=d,this._keybindingService=c,this._disposables=new y.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(u),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(43)&&this._updateFont()})),this._disposables.add(d.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,T.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const r=()=>{var o,d;const[c,u]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(c),this._label.innerText=(0,T.localize)(2,null,(o=this._keybindingService.lookupKeybinding(c))===null||o===void 0?void 0:o.getLabel(),(d=this._keybindingService.lookupKeybinding(u))===null||d===void 0?void 0:d.getLabel())};r(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(r)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(r){var o,d,c,u;if(!this._input||!this._domNode)return;const s=r.getColor(p.widgetShadow);this._domNode.style.backgroundColor=String((o=r.getColor(p.editorWidgetBackground))!==null&&o!==void 0?o:""),this._domNode.style.boxShadow=s?` 0 0 8px 2px ${s}`:"",this._domNode.style.color=String((d=r.getColor(p.inputForeground))!==null&&d!==void 0?d:""),this._input.style.backgroundColor=String((c=r.getColor(p.inputBackground))!==null&&c!==void 0?c:"");const n=r.getColor(p.inputBorder);this._input.style.borderWidth=n?"1px":"0px",this._input.style.borderStyle=n?"solid":"none",this._input.style.borderColor=(u=n==null?void 0:n.toString())!==null&&u!==void 0?u:"none"}_updateFont(){if(!this._input||!this._label)return;const r=this._editor.getOption(43);this._input.style.fontFamily=r.fontFamily,this._input.style.fontWeight=r.fontWeight,this._input.style.fontSize=`${r.fontSize}px`,this._label.style.fontSize=`${r.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(r){r||this.cancelInput(!0)}acceptInput(r){this._currentAcceptInput&&this._currentAcceptInput(r)}cancelInput(r){this._currentCancelInput&&this._currentCancelInput(r)}getInput(r,o,d,c,u,s){this._domNode.classList.toggle("preview",u),this._position=new N.Position(r.startLineNumber,r.startColumn),this._input.value=o,this._input.setAttribute("selectionStart",d.toString()),this._input.setAttribute("selectionEnd",c.toString()),this._input.size=Math.max((r.endColumn-r.startColumn)*1.1,20);const n=new y.DisposableStore;return new Promise(a=>{this._currentCancelInput=t=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,a(t),!0),this._currentAcceptInput=t=>{if(this._input.value.trim().length===0||this._input.value===o){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,a({newName:this._input.value,wantsPreview:u&&t})},s.onCancellationRequested(()=>this.cancelInput(!0)),n.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{n.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};i=Fe([Ce(2,b.IThemeService),Ce(3,S.IKeybindingService),Ce(4,D.IContextKeyService)],i),e.RenameInputField=i}),define(te[273],ie([0,1,27,535,22,12]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,T.registerColor)("symbolIcon.arrayForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,T.registerColor)("symbolIcon.booleanForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,T.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,N.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,T.registerColor)("symbolIcon.colorForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,T.registerColor)("symbolIcon.constantForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,T.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,N.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,T.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,N.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,T.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,N.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,T.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,N.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,T.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,N.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,T.registerColor)("symbolIcon.fileForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,T.registerColor)("symbolIcon.folderForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,T.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,N.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,T.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,N.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,T.registerColor)("symbolIcon.keyForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,T.registerColor)("symbolIcon.keywordForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,T.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,N.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,T.registerColor)("symbolIcon.moduleForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,T.registerColor)("symbolIcon.namespaceForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,T.registerColor)("symbolIcon.nullForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,T.registerColor)("symbolIcon.numberForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,T.registerColor)("symbolIcon.objectForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,T.registerColor)("symbolIcon.operatorForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,T.registerColor)("symbolIcon.packageForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,T.registerColor)("symbolIcon.propertyForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,T.registerColor)("symbolIcon.referenceForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,T.registerColor)("symbolIcon.snippetForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,T.registerColor)("symbolIcon.stringForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,T.registerColor)("symbolIcon.structForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,T.registerColor)("symbolIcon.textForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,T.registerColor)("symbolIcon.typeParameterForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,T.registerColor)("symbolIcon.unitForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,T.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,N.localize)(32,null)),(0,D.registerThemingParticipant)((S,p)=>{const b=S.getColor(e.SYMBOL_ICON_ARRAY_FOREGROUND);b&&p.addRule(`${y.Codicon.symbolArray.cssSelector} { color: ${b}; }`);const i=S.getColor(e.SYMBOL_ICON_BOOLEAN_FOREGROUND);i&&p.addRule(`${y.Codicon.symbolBoolean.cssSelector} { color: ${i}; }`);const f=S.getColor(e.SYMBOL_ICON_CLASS_FOREGROUND);f&&p.addRule(`${y.Codicon.symbolClass.cssSelector} { color: ${f}; }`);const r=S.getColor(e.SYMBOL_ICON_METHOD_FOREGROUND);r&&p.addRule(`${y.Codicon.symbolMethod.cssSelector} { color: ${r}; }`);const o=S.getColor(e.SYMBOL_ICON_COLOR_FOREGROUND);o&&p.addRule(`${y.Codicon.symbolColor.cssSelector} { color: ${o}; }`);const d=S.getColor(e.SYMBOL_ICON_CONSTANT_FOREGROUND);d&&p.addRule(`${y.Codicon.symbolConstant.cssSelector} { color: ${d}; }`);const c=S.getColor(e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);c&&p.addRule(`${y.Codicon.symbolConstructor.cssSelector} { color: ${c}; }`);const u=S.getColor(e.SYMBOL_ICON_ENUMERATOR_FOREGROUND);u&&p.addRule(`
			${y.Codicon.symbolValue.cssSelector},${y.Codicon.symbolEnum.cssSelector} { color: ${u}; }`);const s=S.getColor(e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);s&&p.addRule(`${y.Codicon.symbolEnumMember.cssSelector} { color: ${s}; }`);const n=S.getColor(e.SYMBOL_ICON_EVENT_FOREGROUND);n&&p.addRule(`${y.Codicon.symbolEvent.cssSelector} { color: ${n}; }`);const a=S.getColor(e.SYMBOL_ICON_FIELD_FOREGROUND);a&&p.addRule(`${y.Codicon.symbolField.cssSelector} { color: ${a}; }`);const t=S.getColor(e.SYMBOL_ICON_FILE_FOREGROUND);t&&p.addRule(`${y.Codicon.symbolFile.cssSelector} { color: ${t}; }`);const l=S.getColor(e.SYMBOL_ICON_FOLDER_FOREGROUND);l&&p.addRule(`${y.Codicon.symbolFolder.cssSelector} { color: ${l}; }`);const h=S.getColor(e.SYMBOL_ICON_FUNCTION_FOREGROUND);h&&p.addRule(`${y.Codicon.symbolFunction.cssSelector} { color: ${h}; }`);const g=S.getColor(e.SYMBOL_ICON_INTERFACE_FOREGROUND);g&&p.addRule(`${y.Codicon.symbolInterface.cssSelector} { color: ${g}; }`);const w=S.getColor(e.SYMBOL_ICON_KEY_FOREGROUND);w&&p.addRule(`${y.Codicon.symbolKey.cssSelector} { color: ${w}; }`);const _=S.getColor(e.SYMBOL_ICON_KEYWORD_FOREGROUND);_&&p.addRule(`${y.Codicon.symbolKeyword.cssSelector} { color: ${_}; }`);const C=S.getColor(e.SYMBOL_ICON_MODULE_FOREGROUND);C&&p.addRule(`${y.Codicon.symbolModule.cssSelector} { color: ${C}; }`);const v=S.getColor(e.SYMBOL_ICON_NAMESPACE_FOREGROUND);v&&p.addRule(`${y.Codicon.symbolNamespace.cssSelector} { color: ${v}; }`);const m=S.getColor(e.SYMBOL_ICON_NULL_FOREGROUND);m&&p.addRule(`${y.Codicon.symbolNull.cssSelector} { color: ${m}; }`);const E=S.getColor(e.SYMBOL_ICON_NUMBER_FOREGROUND);E&&p.addRule(`${y.Codicon.symbolNumber.cssSelector} { color: ${E}; }`);const I=S.getColor(e.SYMBOL_ICON_OBJECT_FOREGROUND);I&&p.addRule(`${y.Codicon.symbolObject.cssSelector} { color: ${I}; }`);const k=S.getColor(e.SYMBOL_ICON_OPERATOR_FOREGROUND);k&&p.addRule(`${y.Codicon.symbolOperator.cssSelector} { color: ${k}; }`);const A=S.getColor(e.SYMBOL_ICON_PACKAGE_FOREGROUND);A&&p.addRule(`${y.Codicon.symbolPackage.cssSelector} { color: ${A}; }`);const P=S.getColor(e.SYMBOL_ICON_PROPERTY_FOREGROUND);P&&p.addRule(`${y.Codicon.symbolProperty.cssSelector} { color: ${P}; }`);const F=S.getColor(e.SYMBOL_ICON_REFERENCE_FOREGROUND);F&&p.addRule(`${y.Codicon.symbolReference.cssSelector} { color: ${F}; }`);const M=S.getColor(e.SYMBOL_ICON_SNIPPET_FOREGROUND);M&&p.addRule(`${y.Codicon.symbolSnippet.cssSelector} { color: ${M}; }`);const R=S.getColor(e.SYMBOL_ICON_STRING_FOREGROUND);R&&p.addRule(`${y.Codicon.symbolString.cssSelector} { color: ${R}; }`);const O=S.getColor(e.SYMBOL_ICON_STRUCT_FOREGROUND);O&&p.addRule(`${y.Codicon.symbolStruct.cssSelector} { color: ${O}; }`);const L=S.getColor(e.SYMBOL_ICON_TEXT_FOREGROUND);L&&p.addRule(`${y.Codicon.symbolText.cssSelector} { color: ${L}; }`);const B=S.getColor(e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);B&&p.addRule(`${y.Codicon.symbolTypeParameter.cssSelector} { color: ${B}; }`);const z=S.getColor(e.SYMBOL_ICON_UNIT_FOREGROUND);z&&p.addRule(`${y.Codicon.symbolUnit.cssSelector} { color: ${z}; }`);const $=S.getColor(e.SYMBOL_ICON_VARIABLE_FOREGROUND);$&&p.addRule(`${y.Codicon.symbolVariable.cssSelector} { color: ${$}; }`)})}),define(te[630],ie([0,1,7,109,29,128,2,37,3,31,371]),function(q,e,y,N,T,D,S,p,b,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=e.ViewZoneDelegate=void 0;const f=new T.Color(new T.RGBA(0,122,204)),r={showArrow:!0,showFrame:!0,className:"",frameColor:f,arrowColor:f,keepEditorSelection:!1},o="vs.editor.contrib.zoneWidget";class d{constructor(a,t,l,h,g,w){this.id="",this.domNode=a,this.afterLineNumber=t,this.afterColumn=l,this.heightInLines=h,this._onDomNodeTop=g,this._onComputedHeight=w}onDomNodeTop(a){this._onDomNodeTop(a)}onComputedHeight(a){this._onComputedHeight(a)}}e.ViewZoneDelegate=d;class c{constructor(a,t){this._id=a,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=c;class u{constructor(a){this._editor=a,this._ruleName=u._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),y.removeCSSRulesContainingSelector(this._ruleName)}set color(a){this._color!==a&&(this._color=a,this._updateStyle())}set height(a){this._height!==a&&(this._height=a,this._updateStyle())}_updateStyle(){y.removeCSSRulesContainingSelector(this._ruleName),y.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(a){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:b.Range.fromPositions(a),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}u._IdGenerator=new D.IdGenerator(".arrow-decoration-");class s{constructor(a,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new S.DisposableStore,this.container=null,this._isShowing=!1,this.editor=a,this.options=p.deepClone(t),p.mixin(this.options,r,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(l=>{const h=this._getWidth(l);this.domNode.style.width=h+"px",this.domNode.style.left=this._getLeft(l)+"px",this._onWidth(h)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(a=>{this._viewZone&&a.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new u(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(a){a.frameColor&&(this.options.frameColor=a.frameColor),a.arrowColor&&(this.options.arrowColor=a.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let a=this.options.frameColor.toString();this.container.style.borderTopColor=a,this.container.style.borderBottomColor=a}if(this._arrow&&this.options.arrowColor){let a=this.options.arrowColor.toString();this._arrow.color=a}}_getWidth(a){return a.width-a.minimap.minimapWidth-a.verticalScrollbarWidth}_getLeft(a){return a.minimap.minimapWidth>0&&a.minimap.minimapLeft===0?a.minimap.minimapWidth:0}_onViewZoneTop(a){this.domNode.style.top=a+"px"}_onViewZoneHeight(a){if(this.domNode.style.height=`${a}px`,this.container){let t=a-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const l=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(l))}this._resizeSash&&this._resizeSash.layout()}get position(){const[a]=this._positionMarkerId;if(!a)return;const t=this.editor.getModel();if(!t)return;const l=t.getDecorationRange(a);if(!!l)return l.getStartPosition()}show(a,t){const l=b.Range.isIRange(a)?b.Range.lift(a):b.Range.fromPositions(a);this._isShowing=!0,this._showImpl(l,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:l,options:i.ModelDecorationOptions.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(a=>{this._viewZone&&a.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let a=this.editor.getOption(58),t=0;if(this.options.showArrow){let l=Math.round(a/3);t+=2*l}if(this.options.showFrame){let l=Math.round(a/9);t+=2*l}return t}_showImpl(a,t){const l=a.getStartPosition(),h=this.editor.getLayoutInfo(),g=this._getWidth(h);this.domNode.style.width=`${g}px`,this.domNode.style.left=this._getLeft(h)+"px";const w=document.createElement("div");w.style.overflow="hidden";const _=this.editor.getOption(58),C=Math.max(12,this.editor.getLayoutInfo().height/_*.8);t=Math.min(t,C);let v=0,m=0;if(this._arrow&&this.options.showArrow&&(v=Math.round(_/3),this._arrow.height=v,this._arrow.show(l)),this.options.showFrame&&(m=Math.round(_/9)),this.editor.changeViewZones(k=>{this._viewZone&&k.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new d(w,l.lineNumber,l.column,t,A=>this._onViewZoneTop(A),A=>this._onViewZoneHeight(A)),this._viewZone.id=k.addZone(this._viewZone),this._overlayWidget=new c(o+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const k=this.options.frameWidth?this.options.frameWidth:m;this.container.style.borderTopWidth=k+"px",this.container.style.borderBottomWidth=k+"px"}let E=t*_-this._decoratingElementsHeight();this.container&&(this.container.style.top=v+"px",this.container.style.height=E+"px",this.container.style.overflow="hidden"),this._doLayout(E,g),this.options.keepEditorSelection||this.editor.setSelection(a);const I=this.editor.getModel();if(I){const k=a.endLineNumber+1;k<=I.getLineCount()?this.revealLine(k,!1):this.revealLine(I.getLineCount(),!0)}}revealLine(a,t){t?this.editor.revealLineInCenter(a,0):this.editor.revealLine(a,0)}setCssClass(a,t){!this.container||(t&&this.container.classList.remove(t),this.container.classList.add(a))}_onWidth(a){}_doLayout(a,t){}_relayout(a){this._viewZone&&this._viewZone.heightInLines!==a&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=a,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new N.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0);let a;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(a={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{a=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(a){let l=(t.currentY-a.startY)/this.editor.getOption(58),h=l<0?Math.ceil(l):Math.floor(l),g=a.heightInLines+h;g>5&&g<35&&this._relayout(g)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const a=this.editor.getLayoutInfo();return a.width-a.minimap.minimapWidth}}e.ZoneWidget=s}),define(te[274],ie([0,1,7,48,597,15,12]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorServiceImpl=void 0;let p=class extends T.CodeEditorServiceImpl{constructor(i,f,r){super(i,r);this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=f.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let i=!1;for(const f of this.listCodeEditors())if(!f.isSimpleWidget){i=!0;break}this._editorIsOpen.set(i)}setActiveCodeEditor(i){this._activeCodeEditor=i}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(i,f,r){return f?Promise.resolve(this.doOpenEditor(f,i)):Promise.resolve(null)}doOpenEditor(i,f){if(!this.findModel(i,f.resource)){if(f.resource){const d=f.resource.scheme;if(d===N.Schemas.http||d===N.Schemas.https)return(0,y.windowOpenNoOpener)(f.resource.toString()),i}return null}const o=f.options?f.options.selection:null;if(o)if(typeof o.endLineNumber=="number"&&typeof o.endColumn=="number")i.setSelection(o),i.revealRangeInCenter(o,1);else{const d={lineNumber:o.startLineNumber,column:o.startColumn};i.setPosition(d),i.revealPositionInCenter(d,1)}return i}findModel(i,f){const r=i.getModel();return r&&r.uri.toString()!==f.toString()?null:r}};p=Fe([Ce(1,D.IContextKeyService),Ce(2,S.IThemeService)],p),e.StandaloneCodeEditorServiceImpl=p}),define(te[631],ie([0,1,46,22]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[N.editorBackground]:"#FFFFFE",[N.editorForeground]:"#000000",[N.editorInactiveSelection]:"#E5EBF1",[y.editorIndentGuides]:"#D3D3D3",[y.editorActiveIndentGuides]:"#939393",[N.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[N.editorBackground]:"#1E1E1E",[N.editorForeground]:"#D4D4D4",[N.editorInactiveSelection]:"#3A3D41",[y.editorIndentGuides]:"#404040",[y.editorActiveIndentGuides]:"#707070",[N.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[N.editorBackground]:"#000000",[N.editorForeground]:"#FFFFFF",[y.editorIndentGuides]:"#FFFFFF",[y.editorActiveIndentGuides]:"#FFFFFF"}}}),define(te[33],ie([0,1,51,27,6,54,2,73,26,15,9,12]),function(q,e,y,N,T,D,S,p,b,i,f,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isIMenuItem=void 0;function o(s){return s.command!==void 0}e.isIMenuItem=o;class d{constructor(n){this.id=d._idPool++,this._debugName=n}}e.MenuId=d,d._idPool=0,d.CommandPalette=new d("CommandPalette"),d.EditorContext=new d("EditorContext"),d.SimpleEditorContext=new d("SimpleEditorContext"),d.EditorContextCopy=new d("EditorContextCopy"),d.EditorContextPeek=new d("EditorContextPeek"),d.MenubarEditMenu=new d("MenubarEditMenu"),d.MenubarCopy=new d("MenubarCopy"),d.MenubarGoMenu=new d("MenubarGoMenu"),d.MenubarSelectionMenu=new d("MenubarSelectionMenu"),d.InlineCompletionsActions=new d("InlineCompletionsActions"),e.IMenuService=(0,f.createDecorator)("menuService"),e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new T.Emitter,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:s=>s===d.CommandPalette}}addCommand(s){return this.addCommands(D.Iterable.single(s))}addCommands(s){for(const n of s)this._commands.set(n.id,n);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,S.toDisposable)(()=>{let n=!1;for(const a of s)n=this._commands.delete(a.id)||n;n&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(s){return this._commands.get(s)}getCommands(){const s=new Map;return this._commands.forEach((n,a)=>s.set(a,n)),s}appendMenuItem(s,n){return this.appendMenuItems(D.Iterable.single({id:s,item:n}))}appendMenuItems(s){const n=new Set,a=new p.LinkedList;for(const{id:t,item:l}of s){let h=this._menuItems.get(t);h||(h=new p.LinkedList,this._menuItems.set(t,h)),a.push(h.push(l)),n.add(t)}return this._onDidChangeMenu.fire(n),(0,S.toDisposable)(()=>{if(a.size>0){for(let t of a)t();this._onDidChangeMenu.fire(n),a.clear()}})}getMenuItems(s){let n;return this._menuItems.has(s)?n=[...this._menuItems.get(s)]:n=[],s===d.CommandPalette&&this._appendImplicitItems(n),n}_appendImplicitItems(s){const n=new Set;for(const a of s)o(a)&&(n.add(a.command.id),a.alt&&n.add(a.alt.id));this._commands.forEach((a,t)=>{n.has(t)||s.push({command:a})})}};class c extends y.SubmenuAction{constructor(n,a,t,l){super(`submenuitem.${n.submenu.id}`,typeof n.title=="string"?n.title:n.title.value,[],"submenu");this.item=n,this._menuService=a,this._contextKeyService=t,this._options=l}get actions(){const n=[],a=this._menuService.createMenu(this.item.submenu,this._contextKeyService),t=a.getActions(this._options);a.dispose();for(const[,l]of t)l.length>0&&(n.push(...l),n.push(new y.Separator));return n.length&&n.pop(),n}}e.SubmenuItemAction=c;let u=class Ci{constructor(n,a,t,l,h){var g,w;if(this._commandService=h,this.id=n.id,this.label=(t==null?void 0:t.renderShortTitle)&&n.shortTitle?typeof n.shortTitle=="string"?n.shortTitle:n.shortTitle.value:typeof n.title=="string"?n.title:n.title.value,this.tooltip=(w=typeof n.tooltip=="string"?n.tooltip:(g=n.tooltip)===null||g===void 0?void 0:g.value)!==null&&w!==void 0?w:"",this.enabled=!n.precondition||l.contextMatchesRules(n.precondition),this.checked=!1,n.toggled){const _=n.toggled.condition?n.toggled:{condition:n.toggled};this.checked=l.contextMatchesRules(_.condition),this.checked&&_.tooltip&&(this.tooltip=typeof _.tooltip=="string"?_.tooltip:_.tooltip.value),_.title&&(this.label=typeof _.title=="string"?_.title:_.title.value)}this.item=n,this.alt=a?new Ci(a,void 0,t,l,h):void 0,this._options=t,r.ThemeIcon.isThemeIcon(n.icon)&&(this.class=N.CSSIcon.asClassName(n.icon))}dispose(){}run(...n){var a,t;let l=[];return((a=this._options)===null||a===void 0?void 0:a.arg)&&(l=[...l,this._options.arg]),((t=this._options)===null||t===void 0?void 0:t.shouldForwardArgs)&&(l=[...l,...n]),this._commandService.executeCommand(this.id,...l)}};u=Fe([Ce(3,i.IContextKeyService),Ce(4,b.ICommandService)],u),e.MenuItemAction=u}),define(te[16],ie([0,1,465,24,28,13,39,69,33,26,15,80,32,90,20,71]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelCommand=e.registerModelAndPositionCommand=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class s{constructor(M){this.id=M.id,this.precondition=M.precondition,this._kbOpts=M.kbOpts,this._menuOpts=M.menuOpts,this._description=M.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const M=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const R of M){let O=R.kbExpr;this.precondition&&(O?O=f.ContextKeyExpr.and(O,this.precondition):O=this.precondition);const L={id:this.id,weight:R.weight,args:R.args,when:O,primary:R.primary,secondary:R.secondary,win:R.win,linux:R.linux,mac:R.mac};r.KeybindingsRegistry.registerKeybindingRule(L)}}i.CommandsRegistry.registerCommand({id:this.id,handler:(M,R)=>this.runCommand(M,R),description:this._description})}_registerMenuItem(M){b.MenuRegistry.appendMenuItem(M.menuId,{group:M.group,command:{id:this.id,title:M.title,icon:M.icon,precondition:this.precondition},when:M.when,order:M.order})}}e.Command=s;class n extends s{constructor(){super(...arguments);this._implementations=[]}addImplementation(M,R,O){return this._implementations.push({priority:M,name:R,implementation:O}),this._implementations.sort((L,B)=>B.priority-L.priority),{dispose:()=>{for(let L=0;L<this._implementations.length;L++)if(this._implementations[L].implementation===O){this._implementations.splice(L,1);return}}}}runCommand(M,R){const O=M.get(u.ILogService);O.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const L of this._implementations){const B=L.implementation(M,R);if(B)return O.trace(`Command '${this.id}' was handled by '${L.name}'.`),typeof B=="boolean"?void 0:B}O.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=n;class a extends s{constructor(M,R){super(R);this.command=M}runCommand(M,R){return this.command.runCommand(M,R)}}e.ProxyCommand=a;class t extends s{static bindToContribution(M){return class extends t{constructor(O){super(O);this._callback=O.handler}runEditorCommand(O,L,B){M(L)&&this._callback(M(L),B)}}}runCommand(M,R){const O=M.get(T.ICodeEditorService),L=O.getFocusedCodeEditor()||O.getActiveCodeEditor();if(!!L)return L.invokeWithinContext(B=>{if(!!B.get(f.IContextKeyService).contextMatchesRules((0,c.withNullAsUndefined)(this.precondition)))return this.runEditorCommand(B,L,R)})}}e.EditorCommand=t;class l extends t{constructor(M){super(l.convertOptions(M));this.label=M.label,this.alias=M.alias}static convertOptions(M){let R;Array.isArray(M.menuOpts)?R=M.menuOpts:M.menuOpts?R=[M.menuOpts]:R=[];function O(L){return L.menuId||(L.menuId=b.MenuId.EditorContext),L.title||(L.title=M.label),L.when=f.ContextKeyExpr.and(M.precondition,L.when),L}return Array.isArray(M.contextMenuOpts)?R.push(...M.contextMenuOpts.map(O)):M.contextMenuOpts&&R.push(O(M.contextMenuOpts)),M.menuOpts=R,M}runEditorCommand(M,R,O){return this.reportTelemetry(M,R),this.run(M,R,O||{})}reportTelemetry(M,R){M.get(d.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=l;class h extends l{constructor(){super(...arguments);this._implementations=[]}addImplementation(M,R){return this._implementations.push([M,R]),this._implementations.sort((O,L)=>L[0]-O[0]),{dispose:()=>{for(let O=0;O<this._implementations.length;O++)if(this._implementations[O][1]===R){this._implementations.splice(O,1);return}}}}run(M,R,O){for(const L of this._implementations){const B=L[1](M,R,O);if(B)return typeof B=="boolean"?void 0:B}}}e.MultiEditorAction=h;function g(F,M){i.CommandsRegistry.registerCommand(F,function(R,...O){const[L,B]=O;(0,c.assertType)(N.URI.isUri(L)),(0,c.assertType)(D.Position.isIPosition(B));const z=R.get(S.IModelService).getModel(L);if(z){const $=D.Position.lift(B);return M(z,$,...O.slice(2))}return R.get(p.ITextModelService).createModelReference(L).then($=>new Promise((j,X)=>{try{const Q=M($.object.textEditorModel,D.Position.lift(B),O.slice(2));j(Q)}catch(Q){X(Q)}}).finally(()=>{$.dispose()}))})}e.registerModelAndPositionCommand=g;function w(F,M){i.CommandsRegistry.registerCommand(F,function(R,...O){const[L]=O;(0,c.assertType)(N.URI.isUri(L));const B=R.get(S.IModelService).getModel(L);return B?M(B,...O.slice(1)):R.get(p.ITextModelService).createModelReference(L).then(z=>new Promise(($,j)=>{try{const X=M(z.object.textEditorModel,O.slice(1));$(X)}catch(X){j(X)}}).finally(()=>{z.dispose()}))})}e.registerModelCommand=w;function _(F){return A.INSTANCE.registerEditorCommand(F),F}e.registerEditorCommand=_;function C(F){const M=new F;return A.INSTANCE.registerEditorAction(M),M}e.registerEditorAction=C;function v(F){return A.INSTANCE.registerEditorAction(F),F}e.registerMultiEditorAction=v;function m(F){A.INSTANCE.registerEditorAction(F)}e.registerInstantiatedEditorAction=m;function E(F,M){A.INSTANCE.registerEditorContribution(F,M)}e.registerEditorContribution=E;var I;(function(F){function M(z){return A.INSTANCE.getEditorCommand(z)}F.getEditorCommand=M;function R(){return A.INSTANCE.getEditorActions()}F.getEditorActions=R;function O(){return A.INSTANCE.getEditorContributions()}F.getEditorContributions=O;function L(z){return A.INSTANCE.getEditorContributions().filter($=>z.indexOf($.id)>=0)}F.getSomeEditorContributions=L;function B(){return A.INSTANCE.getDiffEditorContributions()}F.getDiffEditorContributions=B})(I=e.EditorExtensionsRegistry||(e.EditorExtensionsRegistry={}));const k={EditorCommonContributions:"editor.contributions"};class A{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(M,R){this.editorContributions.push({id:M,ctor:R})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(M){M.register(),this.editorActions.push(M)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(M){M.register(),this.editorCommands[M.id]=M}getEditorCommand(M){return this.editorCommands[M]||null}}A.INSTANCE=new A,o.Registry.add(k.EditorCommonContributions,A.INSTANCE);function P(F){return F.register(),F}e.UndoCommand=P(new n({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:b.MenuId.MenubarEditMenu,group:"1_do",title:y.localize(0,null),order:1},{menuId:b.MenuId.CommandPalette,group:"",title:y.localize(1,null),order:1}]})),P(new a(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=P(new n({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:b.MenuId.MenubarEditMenu,group:"1_do",title:y.localize(2,null),order:2},{menuId:b.MenuId.CommandPalette,group:"",title:y.localize(3,null),order:1}]})),P(new a(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=P(new n({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:b.MenuId.MenubarSelectionMenu,group:"1_basic",title:y.localize(4,null),order:1},{menuId:b.MenuId.CommandPalette,group:"",title:y.localize(5,null),order:1}]}))}),define(te[151],ie([0,1,462,36,20,45,16,28,611,42,195,270,196,13,3,25,15,80]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const a=0;class t extends S.EditorCommand{runEditorCommand(A,P,F){const M=P._getViewModel();!M||this.runCoreEditorCommand(M,F||{})}}e.CoreEditorCommand=t;var l;(function(k){const A=function(F){if(!T.isObject(F))return!1;const M=F;return!(!T.isString(M.to)||!T.isUndefined(M.by)&&!T.isString(M.by)||!T.isUndefined(M.value)&&!T.isNumber(M.value)||!T.isUndefined(M.revealCursor)&&!T.isBoolean(M.revealCursor))};k.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:A,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},k.RawDirection={Up:"up",Down:"down"},k.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function P(F){let M;switch(F.to){case k.RawDirection.Up:M=1;break;case k.RawDirection.Down:M=2;break;default:return null}let R;switch(F.by){case k.RawUnit.Line:R=1;break;case k.RawUnit.WrappedLine:R=2;break;case k.RawUnit.Page:R=3;break;case k.RawUnit.HalfPage:R=4;break;default:R=2}const O=Math.floor(F.value||1),L=!!F.revealCursor;return{direction:M,unit:R,value:O,revealCursor:L,select:!!F.select}}k.parse=P})(l=e.EditorScroll_||(e.EditorScroll_={}));var h;(function(k){const A=function(P){if(!T.isObject(P))return!1;const F=P;return!(!T.isNumber(F.lineNumber)&&!T.isString(F.lineNumber)||!T.isUndefined(F.at)&&!T.isString(F.at))};k.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:A,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},k.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(h=e.RevealLine_||(e.RevealLine_={}));class g{constructor(A){A.addImplementation(1e4,"code-editor",(P,F)=>{const M=P.get(p.ICodeEditorService).getFocusedCodeEditor();return M&&M.hasTextFocus()?this._runEditorCommand(P,M,F):!1}),A.addImplementation(1e3,"generic-dom-input-textarea",(P,F)=>{const M=document.activeElement;return M&&["input","textarea"].indexOf(M.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),A.addImplementation(0,"generic-dom",(P,F)=>{const M=P.get(p.ICodeEditorService).getActiveCodeEditor();return M?(M.focus(),this._runEditorCommand(P,M,F)):!1})}_runEditorCommand(A,P,F){const M=this.runEditorCommand(A,P,F);return M||!0}}var w;(function(k){class A extends t{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,U){x.model.pushStackElement(),x.setCursorStates(U.source,3,[r.CursorMoveCommands.moveTo(x,x.getPrimaryCursorState(),this._inSelectionMode,U.position,U.viewPosition)]),x.revealPrimaryCursor(U.source,!0)}}k.MoveTo=(0,S.registerEditorCommand)(new A({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),k.MoveToSelect=(0,S.registerEditorCommand)(new A({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class P extends t{runCoreEditorCommand(x,U){x.model.pushStackElement();const H=this._getColumnSelectResult(x,x.getPrimaryCursorState(),x.getCursorColumnSelectData(),U);x.setCursorStates(U.source,3,H.viewStates.map(V=>i.CursorState.fromViewState(V))),x.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:H.fromLineNumber,fromViewVisualColumn:H.fromVisualColumn,toViewLineNumber:H.toLineNumber,toViewVisualColumn:H.toVisualColumn}),H.reversed?x.revealTopMostCursor(U.source):x.revealBottomMostCursor(U.source)}}k.ColumnSelect=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(K,x,U,H){const V=K.model.validatePosition(H.position),ne=K.coordinatesConverter.validateViewPosition(new d.Position(H.viewPosition.lineNumber,H.viewPosition.column),V);let ue=H.doColumnSelect?U.fromViewLineNumber:ne.lineNumber,pe=H.doColumnSelect?U.fromViewVisualColumn:H.mouseColumn-1;return b.ColumnSelection.columnSelect(K.cursorConfig,K,ue,pe,ne.lineNumber,H.mouseColumn-1)}}),k.CursorColumnSelectLeft=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(K,x,U,H){return b.ColumnSelection.columnSelectLeft(K.cursorConfig,K,U)}}),k.CursorColumnSelectRight=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(K,x,U,H){return b.ColumnSelection.columnSelectRight(K.cursorConfig,K,U)}});class F extends P{constructor(x){super(x);this._isPaged=x.isPaged}_getColumnSelectResult(x,U,H,V){return b.ColumnSelection.columnSelectUp(x.cursorConfig,x,H,this._isPaged)}}k.CursorColumnSelectUp=(0,S.registerEditorCommand)(new F({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),k.CursorColumnSelectPageUp=(0,S.registerEditorCommand)(new F({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class M extends P{constructor(x){super(x);this._isPaged=x.isPaged}_getColumnSelectResult(x,U,H,V){return b.ColumnSelection.columnSelectDown(x.cursorConfig,x,H,this._isPaged)}}k.CursorColumnSelectDown=(0,S.registerEditorCommand)(new M({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),k.CursorColumnSelectPageDown=(0,S.registerEditorCommand)(new M({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class R extends t{constructor(){super({id:"cursorMove",precondition:void 0,description:r.CursorMove.description})}runCoreEditorCommand(x,U){const H=r.CursorMove.parse(U);!H||this._runCursorMove(x,U.source,H)}_runCursorMove(x,U,H){x.model.pushStackElement(),x.setCursorStates(U,3,R._move(x,x.getCursorStates(),H)),x.revealPrimaryCursor(U,!0)}static _move(x,U,H){const V=H.select,ne=H.value;switch(H.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return r.CursorMoveCommands.simpleMove(x,U,H.direction,V,ne,H.unit);case 11:case 13:case 12:case 14:return r.CursorMoveCommands.viewportMove(x,U,H.direction,V,ne);default:return null}}}k.CursorMoveImpl=R,k.CursorMove=(0,S.registerEditorCommand)(new R);class O extends t{constructor(x){super(x);this._staticArgs=x.args}runCoreEditorCommand(x,U){let H=this._staticArgs;this._staticArgs.value===-1&&(H={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:x.cursorConfig.pageSize}),x.model.pushStackElement(),x.setCursorStates(U.source,3,r.CursorMoveCommands.simpleMove(x,x.getCursorStates(),H.direction,H.select,H.value,H.unit)),x.revealPrimaryCursor(U.source,!0)}}k.CursorLeft=(0,S.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),k.CursorLeftSelect=(0,S.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|15}})),k.CursorRight=(0,S.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),k.CursorRightSelect=(0,S.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|17}})),k.CursorUp=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),k.CursorUpSelect=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),k.CursorPageUp=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:11}})),k.CursorPageUpSelect=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|11}})),k.CursorDown=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),k.CursorDownSelect=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),k.CursorPageDown=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:12}})),k.CursorPageDownSelect=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|12}})),k.CreateCursor=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(K,x){let U;x.wholeLine?U=r.CursorMoveCommands.line(K,K.getPrimaryCursorState(),!1,x.position,x.viewPosition):U=r.CursorMoveCommands.moveTo(K,K.getPrimaryCursorState(),!1,x.position,x.viewPosition);const H=K.getCursorStates();if(H.length>1){const V=U.modelState?U.modelState.position:null,ne=U.viewState?U.viewState.position:null;for(let ue=0,pe=H.length;ue<pe;ue++){const ge=H[ue];if(!(V&&!ge.modelState.selection.containsPosition(V))&&!(ne&&!ge.viewState.selection.containsPosition(ne))){H.splice(ue,1),K.model.pushStackElement(),K.setCursorStates(x.source,3,H);return}}}H.push(U),K.model.pushStackElement(),K.setCursorStates(x.source,3,H)}}),k.LastCursorMoveToSelect=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(K,x){const U=K.getLastAddedCursorIndex(),H=K.getCursorStates(),V=H.slice(0);V[U]=r.CursorMoveCommands.moveTo(K,H[U],!0,x.position,x.viewPosition),K.model.pushStackElement(),K.setCursorStates(x.source,3,V)}});class L extends t{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,U){x.model.pushStackElement(),x.setCursorStates(U.source,3,r.CursorMoveCommands.moveToBeginningOfLine(x,x.getCursorStates(),this._inSelectionMode)),x.revealPrimaryCursor(U.source,!0)}}k.CursorHome=(0,S.registerEditorCommand)(new L({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),k.CursorHomeSelect=(0,S.registerEditorCommand)(new L({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class B extends t{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,U){x.model.pushStackElement(),x.setCursorStates(U.source,3,this._exec(x.getCursorStates())),x.revealPrimaryCursor(U.source,!0)}_exec(x){const U=[];for(let H=0,V=x.length;H<V;H++){const ne=x[H],ue=ne.modelState.position.lineNumber;U[H]=i.CursorState.fromModelState(ne.modelState.move(this._inSelectionMode,ue,1,0))}return U}}k.CursorLineStart=(0,S.registerEditorCommand)(new B({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|31}}})),k.CursorLineStartSelect=(0,S.registerEditorCommand)(new B({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class z extends t{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,U){x.model.pushStackElement(),x.setCursorStates(U.source,3,r.CursorMoveCommands.moveToEndOfLine(x,x.getCursorStates(),this._inSelectionMode,U.sticky||!1)),x.revealPrimaryCursor(U.source,!0)}}k.CursorEnd=(0,S.registerEditorCommand)(new z({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:y.localize(0,null),type:"boolean",default:!1}}}}]}})),k.CursorEndSelect=(0,S.registerEditorCommand)(new z({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:y.localize(1,null),type:"boolean",default:!1}}}}]}}));class $ extends t{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,U){x.model.pushStackElement(),x.setCursorStates(U.source,3,this._exec(x,x.getCursorStates())),x.revealPrimaryCursor(U.source,!0)}_exec(x,U){const H=[];for(let V=0,ne=U.length;V<ne;V++){const ue=U[V],pe=ue.modelState.position.lineNumber,ge=x.model.getLineMaxColumn(pe);H[V]=i.CursorState.fromModelState(ue.modelState.move(this._inSelectionMode,pe,ge,0))}return H}}k.CursorLineEnd=(0,S.registerEditorCommand)(new $({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|35}}})),k.CursorLineEndSelect=(0,S.registerEditorCommand)(new $({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class j extends t{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,U){x.model.pushStackElement(),x.setCursorStates(U.source,3,r.CursorMoveCommands.moveToBeginningOfBuffer(x,x.getCursorStates(),this._inSelectionMode)),x.revealPrimaryCursor(U.source,!0)}}k.CursorTop=(0,S.registerEditorCommand)(new j({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),k.CursorTopSelect=(0,S.registerEditorCommand)(new j({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class X extends t{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,U){x.model.pushStackElement(),x.setCursorStates(U.source,3,r.CursorMoveCommands.moveToEndOfBuffer(x,x.getCursorStates(),this._inSelectionMode)),x.revealPrimaryCursor(U.source,!0)}}k.CursorBottom=(0,S.registerEditorCommand)(new X({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),k.CursorBottomSelect=(0,S.registerEditorCommand)(new X({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class Q extends t{constructor(){super({id:"editorScroll",precondition:void 0,description:l.description})}runCoreEditorCommand(x,U){const H=l.parse(U);!H||this._runEditorScroll(x,U.source,H)}_runEditorScroll(x,U,H){const V=this._computeDesiredScrollTop(x,H);if(H.revealCursor){const ne=x.getCompletelyVisibleViewRangeAtScrollTop(V);x.setCursorStates(U,3,[r.CursorMoveCommands.findPositionInViewportIfOutside(x,x.getPrimaryCursorState(),ne,H.select)])}x.setScrollTop(V,0)}_computeDesiredScrollTop(x,U){if(U.unit===1){const ne=x.getCompletelyVisibleViewRange(),ue=x.coordinatesConverter.convertViewRangeToModelRange(ne);let pe;U.direction===1?pe=Math.max(1,ue.startLineNumber-U.value):pe=Math.min(x.model.getLineCount(),ue.startLineNumber+U.value);const ge=x.coordinatesConverter.convertModelPositionToViewPosition(new d.Position(pe,1));return x.getVerticalOffsetForLineNumber(ge.lineNumber)}let H;U.unit===3?H=x.cursorConfig.pageSize*U.value:U.unit===4?H=Math.round(x.cursorConfig.pageSize/2)*U.value:H=U.value;const V=(U.direction===1?-1:1)*H;return x.getScrollTop()+V*x.cursorConfig.lineHeight}}k.EditorScrollImpl=Q,k.EditorScroll=(0,S.registerEditorCommand)(new Q),k.ScrollLineUp=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(K,x){k.EditorScroll._runEditorScroll(K,x.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),k.ScrollPageUp=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(K,x){k.EditorScroll._runEditorScroll(K,x.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),k.ScrollLineDown=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(K,x){k.EditorScroll._runEditorScroll(K,x.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),k.ScrollPageDown=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(K,x){k.EditorScroll._runEditorScroll(K,x.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class Y extends t{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,U){x.model.pushStackElement(),x.setCursorStates(U.source,3,[r.CursorMoveCommands.word(x,x.getPrimaryCursorState(),this._inSelectionMode,U.position)]),x.revealPrimaryCursor(U.source,!0)}}k.WordSelect=(0,S.registerEditorCommand)(new Y({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),k.WordSelectDrag=(0,S.registerEditorCommand)(new Y({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),k.LastCursorWordSelect=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(K,x){const U=K.getLastAddedCursorIndex(),H=K.getCursorStates(),V=H.slice(0),ne=H[U];V[U]=r.CursorMoveCommands.word(K,ne,ne.modelState.hasSelection(),x.position),K.model.pushStackElement(),K.setCursorStates(x.source,3,V)}});class oe extends t{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,U){x.model.pushStackElement(),x.setCursorStates(U.source,3,[r.CursorMoveCommands.line(x,x.getPrimaryCursorState(),this._inSelectionMode,U.position,U.viewPosition)]),x.revealPrimaryCursor(U.source,!1)}}k.LineSelect=(0,S.registerEditorCommand)(new oe({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),k.LineSelectDrag=(0,S.registerEditorCommand)(new oe({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class se extends t{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,U){const H=x.getLastAddedCursorIndex(),V=x.getCursorStates(),ne=V.slice(0);ne[H]=r.CursorMoveCommands.line(x,V[H],this._inSelectionMode,U.position,U.viewPosition),x.model.pushStackElement(),x.setCursorStates(U.source,3,ne)}}k.LastCursorLineSelect=(0,S.registerEditorCommand)(new se({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),k.LastCursorLineSelectDrag=(0,S.registerEditorCommand)(new se({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),k.ExpandLineSelection=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|42}})}runCoreEditorCommand(K,x){K.model.pushStackElement(),K.setCursorStates(x.source,3,r.CursorMoveCommands.expandLineSelection(K,K.getCursorStates())),K.revealPrimaryCursor(x.source,!0)}}),k.CancelSelection=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"cancelSelection",precondition:u.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(K,x){K.model.pushStackElement(),K.setCursorStates(x.source,3,[r.CursorMoveCommands.cancelSelection(K,K.getPrimaryCursorState())]),K.revealPrimaryCursor(x.source,!0)}}),k.RemoveSecondaryCursors=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"removeSecondaryCursors",precondition:u.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:a+1,kbExpr:u.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(K,x){K.model.pushStackElement(),K.setCursorStates(x.source,3,[K.getPrimaryCursorState()]),K.revealPrimaryCursor(x.source,!0),(0,D.status)(y.localize(2,null))}}),k.RevealLine=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"revealLine",precondition:void 0,description:h.description})}runCoreEditorCommand(K,x){const U=x,H=U.lineNumber||0;let V=typeof H=="number"?H+1:parseInt(H)+1;V<1&&(V=1);const ne=K.model.getLineCount();V>ne&&(V=ne);const ue=new c.Range(V,1,V,K.model.getLineMaxColumn(V));let pe=0;if(U.at)switch(U.at){case h.RawAtArgument.Top:pe=3;break;case h.RawAtArgument.Center:pe=1;break;case h.RawAtArgument.Bottom:pe=4;break;default:break}const ge=K.coordinatesConverter.convertModelRangeToViewRange(ue);K.revealRange(x.source,!1,ge,pe,0)}}),k.SelectAll=new class extends g{constructor(){super(S.SelectAllCommand)}runDOMCommand(){N.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(K,x,U){const H=x._getViewModel();!H||this.runCoreEditorCommand(H,U)}runCoreEditorCommand(K,x){K.model.pushStackElement(),K.setCursorStates("keyboard",3,[r.CursorMoveCommands.selectAll(K,K.getPrimaryCursorState())])}},k.SetSelection=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(K,x){K.model.pushStackElement(),K.setCursorStates(x.source,3,[i.CursorState.fromModelSelection(x.selection)])}})})(w=e.CoreNavigationCommands||(e.CoreNavigationCommands={}));const _=s.ContextKeyExpr.and(u.EditorContextKeys.textInputFocus,u.EditorContextKeys.columnSelection);function C(k,A){n.KeybindingsRegistry.registerKeybindingRule({id:k,primary:A,when:_,weight:a+1})}C(w.CursorColumnSelectLeft.id,1024|15),C(w.CursorColumnSelectRight.id,1024|17),C(w.CursorColumnSelectUp.id,1024|16),C(w.CursorColumnSelectPageUp.id,1024|11),C(w.CursorColumnSelectDown.id,1024|18),C(w.CursorColumnSelectPageDown.id,1024|12);function v(k){return k.register(),k}var m;(function(k){class A extends S.EditorCommand{runEditorCommand(F,M,R){const O=M._getViewModel();!O||this.runCoreEditingCommand(M,O,R||{})}}k.CoreEditingCommand=A,k.LineBreakInsert=(0,S.registerEditorCommand)(new class extends A{constructor(){super({id:"lineBreakInsert",precondition:u.EditorContextKeys.writable,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(P,F,M){P.pushUndoStop(),P.executeCommands(this.id,o.TypeOperations.lineBreakInsert(F.cursorConfig,F.model,F.getCursorStates().map(R=>R.modelState.selection)))}}),k.Outdent=(0,S.registerEditorCommand)(new class extends A{constructor(){super({id:"outdent",precondition:u.EditorContextKeys.writable,kbOpts:{weight:a,kbExpr:s.ContextKeyExpr.and(u.EditorContextKeys.editorTextFocus,u.EditorContextKeys.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(P,F,M){P.pushUndoStop(),P.executeCommands(this.id,o.TypeOperations.outdent(F.cursorConfig,F.model,F.getCursorStates().map(R=>R.modelState.selection))),P.pushUndoStop()}}),k.Tab=(0,S.registerEditorCommand)(new class extends A{constructor(){super({id:"tab",precondition:u.EditorContextKeys.writable,kbOpts:{weight:a,kbExpr:s.ContextKeyExpr.and(u.EditorContextKeys.editorTextFocus,u.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(P,F,M){P.pushUndoStop(),P.executeCommands(this.id,o.TypeOperations.tab(F.cursorConfig,F.model,F.getCursorStates().map(R=>R.modelState.selection))),P.pushUndoStop()}}),k.DeleteLeft=(0,S.registerEditorCommand)(new class extends A{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(P,F,M){const[R,O]=f.DeleteOperations.deleteLeft(F.getPrevEditOperationType(),F.cursorConfig,F.model,F.getCursorStates().map(L=>L.modelState.selection),F.getCursorAutoClosedCharacters());R&&P.pushUndoStop(),P.executeCommands(this.id,O),F.setPrevEditOperationType(2)}}),k.DeleteRight=(0,S.registerEditorCommand)(new class extends A{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:a,kbExpr:u.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(P,F,M){const[R,O]=f.DeleteOperations.deleteRight(F.getPrevEditOperationType(),F.cursorConfig,F.model,F.getCursorStates().map(L=>L.modelState.selection));R&&P.pushUndoStop(),P.executeCommands(this.id,O),F.setPrevEditOperationType(3)}}),k.Undo=new class extends g{constructor(){super(S.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(P,F,M){if(!(!F.hasModel()||F.getOption(80)===!0))return F.getModel().undo()}},k.Redo=new class extends g{constructor(){super(S.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(P,F,M){if(!(!F.hasModel()||F.getOption(80)===!0))return F.getModel().redo()}}})(m=e.CoreEditingCommands||(e.CoreEditingCommands={}));class E extends S.Command{constructor(A,P,F){super({id:A,precondition:void 0,description:F});this._handlerId=P}runCommand(A,P){const F=A.get(p.ICodeEditorService).getFocusedCodeEditor();!F||F.trigger("keyboard",this._handlerId,P)}}function I(k,A){v(new E("default:"+k,k)),v(new E(k,k,A))}I("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),I("replacePreviousChar"),I("compositionType"),I("compositionStart"),I("compositionEnd"),I("paste"),I("cut")}),define(te[632],ie([0,1,16,15,23,73,9,76,464]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const i=(0,S.createDecorator)("IEditorCancelService"),f=new N.RawContextKey("cancellableOperation",!1,(0,b.localize)(0,null));(0,p.registerSingleton)(i,class{constructor(){this._tokens=new WeakMap}add(o,d){let c=this._tokens.get(o);c||(c=o.invokeWithinContext(s=>{const n=f.bindTo(s.get(N.IContextKeyService)),a=new D.LinkedList;return{key:n,tokens:a}}),this._tokens.set(o,c));let u;return c.key.set(!0),u=c.tokens.push(d),()=>{u&&(u(),c.key.set(!c.tokens.isEmpty()),u=void 0)}}cancel(o){const d=this._tokens.get(o);if(!d)return;const c=d.tokens.pop();c&&(c.cancel(),d.key.set(!d.tokens.isEmpty()))}},!0);class r extends T.CancellationTokenSource{constructor(d,c){super(c);this.editor=d,this._unregister=d.invokeWithinContext(u=>u.get(i).add(d,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=r,(0,y.registerEditorCommand)(new class extends y.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:f})}runEditorCommand(o,d){o.get(i).cancel(d)}})}),define(te[66],ie([0,1,8,3,23,2,632]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class p{constructor(o,d){if(this.flags=d,(this.flags&1)!=0){const c=o.getModel();this.modelVersionId=c?y.format("{0}#{1}",c.uri.toString(),c.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!=0?this.position=o.getPosition():this.position=null,(this.flags&2)!=0?this.selection=o.getSelection():this.selection=null,(this.flags&8)!=0?(this.scrollLeft=o.getScrollLeft(),this.scrollTop=o.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(o){if(!(o instanceof p))return!1;const d=o;return!(this.modelVersionId!==d.modelVersionId||this.scrollLeft!==d.scrollLeft||this.scrollTop!==d.scrollTop||!this.position&&d.position||this.position&&!d.position||this.position&&d.position&&!this.position.equals(d.position)||!this.selection&&d.selection||this.selection&&!d.selection||this.selection&&d.selection&&!this.selection.equalsRange(d.selection))}validate(o){return this._equals(new p(o,this.flags))}}e.EditorState=p;class b extends S.EditorKeybindingCancellationTokenSource{constructor(o,d,c,u){super(o,u);this._listener=new D.DisposableStore,d&4&&this._listener.add(o.onDidChangeCursorPosition(s=>{(!c||!N.Range.containsPosition(c,s.position))&&this.cancel()})),d&2&&this._listener.add(o.onDidChangeCursorSelection(s=>{(!c||!N.Range.containsRange(c,s.selection))&&this.cancel()})),d&8&&this._listener.add(o.onDidScrollChange(s=>this.cancel())),d&1&&(this._listener.add(o.onDidChangeModel(s=>this.cancel())),this._listener.add(o.onDidChangeModelContent(s=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=b;class i extends T.CancellationTokenSource{constructor(o,d){super(d);this._listener=o.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=i;class f{constructor(o,d,c){this._visiblePosition=o,this._visiblePositionScrollDelta=d,this._cursorPosition=c}static capture(o){let d=null,c=0;if(o.getScrollTop()!==0){const u=o.getVisibleRanges();if(u.length>0){d=u[0].getStartPosition();const s=o.getTopForPosition(d.lineNumber,d.column);c=o.getScrollTop()-s}}return new f(d,c,o.getPosition())}restore(o){if(this._visiblePosition){const d=o.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);o.setScrollTop(d+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(o){const d=o.getPosition();if(!this._cursorPosition||!d)return;const c=o.getTopForLineNumber(d.lineNumber)-o.getTopForLineNumber(this._cursorPosition.lineNumber);o.setScrollTop(o.getScrollTop()+c)}}e.StableEditorScrollState=f}),define(te[633],ie([0,1,188,16]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let T=class{constructor(S,p){}dispose(){}};T.ID="editor.contrib.markerDecorations",T=Fe([Ce(1,y.IMarkerDecorationsService)],T),e.MarkerDecorationsContribution=T,(0,N.registerEditorContribution)(T.ID,T)}),define(te[634],ie([0,1,151,13,17]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class D{constructor(p,b,i,f){this.configuration=p,this.viewModel=b,this.userInputEvents=i,this.commandDelegate=f}paste(p,b,i,f){this.commandDelegate.paste(p,b,i,f)}type(p){this.commandDelegate.type(p)}compositionType(p,b,i,f){this.commandDelegate.compositionType(p,b,i,f)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(p){y.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:p})}_validateViewColumn(p){const b=this.viewModel.getLineMinColumn(p.lineNumber);return p.column<b?new N.Position(p.lineNumber,b):p}_hasMulticursorModifier(p){switch(this.configuration.options.get(69)){case"altKey":return p.altKey;case"ctrlKey":return p.ctrlKey;case"metaKey":return p.metaKey;default:return!1}}_hasNonMulticursorModifier(p){switch(this.configuration.options.get(69)){case"altKey":return p.ctrlKey||p.metaKey;case"ctrlKey":return p.altKey||p.metaKey;case"metaKey":return p.ctrlKey||p.altKey;default:return!1}}dispatchMouse(p){const b=this.configuration.options,i=T.isLinux&&b.get(95),f=b.get(18);p.middleButton&&!i?this._columnSelect(p.position,p.mouseColumn,p.inSelectionMode):p.startedOnLineNumbers?this._hasMulticursorModifier(p)?p.inSelectionMode?this._lastCursorLineSelect(p.position):this._createCursor(p.position,!0):p.inSelectionMode?this._lineSelectDrag(p.position):this._lineSelect(p.position):p.mouseDownCount>=4?this._selectAll():p.mouseDownCount===3?this._hasMulticursorModifier(p)?p.inSelectionMode?this._lastCursorLineSelectDrag(p.position):this._lastCursorLineSelect(p.position):p.inSelectionMode?this._lineSelectDrag(p.position):this._lineSelect(p.position):p.mouseDownCount===2?this._hasMulticursorModifier(p)?this._lastCursorWordSelect(p.position):p.inSelectionMode?this._wordSelectDrag(p.position):this._wordSelect(p.position):this._hasMulticursorModifier(p)?this._hasNonMulticursorModifier(p)||(p.shiftKey?this._columnSelect(p.position,p.mouseColumn,!0):p.inSelectionMode?this._lastCursorMoveToSelect(p.position):this._createCursor(p.position,!1)):p.inSelectionMode?p.altKey?this._columnSelect(p.position,p.mouseColumn,!0):f?this._columnSelect(p.position,p.mouseColumn,!0):this._moveToSelect(p.position):this.moveTo(p.position)}_usualArgs(p){return p=this._validateViewColumn(p),{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p}}moveTo(p){y.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_moveToSelect(p){y.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_columnSelect(p,b,i){p=this._validateViewColumn(p),y.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,mouseColumn:b,doColumnSelect:i})}_createCursor(p,b){p=this._validateViewColumn(p),y.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,wholeLine:b})}_lastCursorMoveToSelect(p){y.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_wordSelect(p){y.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_wordSelectDrag(p){y.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lastCursorWordSelect(p){y.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lineSelect(p){y.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lineSelectDrag(p){y.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lastCursorLineSelect(p){y.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lastCursorLineSelectDrag(p){y.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_selectAll(){y.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(p){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(p)}emitKeyDown(p){this.userInputEvents.emitKeyDown(p)}emitKeyUp(p){this.userInputEvents.emitKeyUp(p)}emitContextMenu(p){this.userInputEvents.emitContextMenu(p)}emitMouseMove(p){this.userInputEvents.emitMouseMove(p)}emitMouseLeave(p){this.userInputEvents.emitMouseLeave(p)}emitMouseUp(p){this.userInputEvents.emitMouseUp(p)}emitMouseDown(p){this.userInputEvents.emitMouseDown(p)}emitMouseDrag(p){this.userInputEvents.emitMouseDrag(p)}emitMouseDrop(p){this.userInputEvents.emitMouseDrop(p)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(p){this.userInputEvents.emitMouseWheel(p)}}e.ViewController=D}),define(te[635],ie([0,1,7,36,21,30,10,610,603,634,269,581,50,408,602,409,598,179,608,267,596,410,234,411,599,412,604,413,605,600,601,606,414,13,3,116,403,405,118,12,193]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h,g,w,_,C,v,m,E,I,k,A,P,F,M,R,O,L,B,z,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class j extends B.ViewEventHandler{constructor(Y,oe,se,K,x,U){super();this._selections=[new T.Selection(1,1,1,1)],this._renderAnimationFrame=null;const H=new i.ViewController(oe,K,x,Y);this._context=new O.ViewContext(oe,se.getColorTheme(),K),this._configPixelRatio=this._context.configuration.options.get(127),this._context.addEventHandler(this),this._register(se.onDidColorThemeChange(re=>{this._context.theme.update(re),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new b.TextAreaHandler(this._context,H,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,D.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,D.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,D.createFastDomNode)(document.createElement("div")),o.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new s.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new l.ViewLines(this._context,this._linesContent),this._viewZones=new P.ViewZones(this._context),this._viewParts.push(this._viewZones);const V=new v.DecorationsOverviewRuler(this._context);this._viewParts.push(V);const ne=new I.ScrollDecorationViewPart(this._context);this._viewParts.push(ne);const ue=new r.ContentViewOverlays(this._context);this._viewParts.push(ue),ue.addDynamicOverlay(new c.CurrentLineHighlightOverlay(this._context)),ue.addDynamicOverlay(new k.SelectionsOverlay(this._context)),ue.addDynamicOverlay(new a.IndentGuidesOverlay(this._context)),ue.addDynamicOverlay(new u.DecorationsOverlay(this._context));const pe=new r.MarginViewOverlays(this._context);this._viewParts.push(pe),pe.addDynamicOverlay(new c.CurrentLineMarginHighlightOverlay(this._context)),pe.addDynamicOverlay(new n.GlyphMarginOverlay(this._context)),pe.addDynamicOverlay(new w.MarginViewLineDecorationsOverlay(this._context)),pe.addDynamicOverlay(new h.LinesDecorationsOverlay(this._context)),pe.addDynamicOverlay(new t.LineNumbersOverlay(this._context));const ge=new g.Margin(this._context);ge.getDomNode().appendChild(this._viewZones.marginDomNode),ge.getDomNode().appendChild(pe.getDomNode()),this._viewParts.push(ge),this._contentWidgets=new d.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new A.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new C.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const W=new E.Rulers(this._context);this._viewParts.push(W);const G=new _.Minimap(this._context);if(this._viewParts.push(G),V){const re=this._scrollbar.getOverviewRulerLayoutInfo();re.parent.insertBefore(V.getDomNode(),re.insertBefore)}this._linesContent.appendChild(ue.getDomNode()),this._linesContent.appendChild(W.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(ge.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(ne.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(G.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),U?U.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new p.PointerHandler(this._context,H,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:Y=>{this._textAreaHandler.textArea.domNode.dispatchEvent(Y)},getLastRenderData:()=>{const Y=this._viewCursors.getLastRenderData()||[],oe=this._textAreaHandler.getLastRenderData();return new $.PointerHandlerLastRenderData(Y,oe)},shouldSuppressMouseDownOnViewZone:Y=>this._viewZones.shouldSuppressMouseDownOnViewZone(Y),shouldSuppressMouseDownOnWidget:Y=>this._contentWidgets.shouldSuppressMouseDownOnWidget(Y),getPositionFromDOMInfo:(Y,oe)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(Y,oe)),visibleRangeForPosition:(Y,oe)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new F.Position(Y,oe))),getLineWidth:Y=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(Y))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(Y,oe)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new F.Position(Y,oe)))}}_applyLayout(){const oe=this._context.configuration.options.get(129);this.domNode.setWidth(oe.width),this.domNode.setHeight(oe.height),this._overflowGuardContainer.setWidth(oe.width),this._overflowGuardContainer.setHeight(oe.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const Y=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(126)+" "+(0,z.getThemeTypeSelector)(this._context.theme.type)+Y}handleEvents(Y){super.handleEvents(Y),this._scheduleRender()}onConfigurationChanged(Y){return this._configPixelRatio=this._context.configuration.options.get(127),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(Y){return this._selections=Y.selections,!1}onFocusChanged(Y){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(Y){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const Y of this._viewParts)Y.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=y.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){X(()=>this._actualRender())}_getViewPartsToRender(){let Y=[],oe=0;for(const se of this._viewParts)se.shouldRender()&&(Y[oe++]=se);return Y}_actualRender(){if(!y.isInDOM(this.domNode.domNode))return;let Y=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&Y.length===0)return;const oe=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(oe.startLineNumber,oe.endLineNumber,oe.centeredLineNumber);const se=new L.ViewportData(this._selections,oe,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(se),this._viewLines.shouldRender()&&(this._viewLines.renderText(se),this._viewLines.onDidRender(),Y=this._getViewPartsToRender());const K=new R.RenderingContext(this._context.viewLayout,se,this._viewLines);for(const x of Y)x.prepareRender(K);for(const x of Y)x.render(K),x.onDidRender();Math.abs(N.getPixelRatio()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}delegateVerticalScrollbarMouseDown(Y){this._scrollbar.delegateVerticalScrollbarMouseDown(Y)}restoreState(Y){this._context.model.setScrollPosition({scrollTop:Y.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:Y.scrollLeft},1)}getOffsetForColumn(Y,oe){const se=this._context.model.validateModelPosition({lineNumber:Y,column:oe}),K=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(se);this._flushAccumulatedAndRenderNow();const x=this._viewLines.visibleRangeForPosition(new F.Position(K.lineNumber,K.column));return x?x.left:-1}getTargetAtClientPoint(Y,oe){const se=this._pointerHandler.getTargetAtClientPoint(Y,oe);return se?f.ViewUserInputEvents.convertViewToModelMouseTarget(se,this._context.model.coordinatesConverter):null}createOverviewRuler(Y){return new m.OverviewRuler(this._context,Y)}change(Y){this._viewZones.changeViewZones(Y),this._scheduleRender()}render(Y,oe){if(oe){this._viewLines.forceShouldRender();for(const se of this._viewParts)se.forceShouldRender()}Y?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(Y){this._textAreaHandler.setAriaOptions(Y)}addContentWidget(Y){this._contentWidgets.addWidget(Y.widget),this.layoutContentWidget(Y),this._scheduleRender()}layoutContentWidget(Y){let oe=Y.position&&Y.position.range||null;if(oe===null){const K=Y.position?Y.position.position:null;K!==null&&(oe=new M.Range(K.lineNumber,K.column,K.lineNumber,K.column))}const se=Y.position?Y.position.preference:null;this._contentWidgets.setWidgetPosition(Y.widget,oe,se),this._scheduleRender()}removeContentWidget(Y){this._contentWidgets.removeWidget(Y.widget),this._scheduleRender()}addOverlayWidget(Y){this._overlayWidgets.addWidget(Y.widget),this.layoutOverlayWidget(Y),this._scheduleRender()}layoutOverlayWidget(Y){const oe=Y.position?Y.position.preference:null;this._overlayWidgets.setWidgetPosition(Y.widget,oe)&&this._scheduleRender()}removeOverlayWidget(Y){this._overlayWidgets.removeWidget(Y.widget),this._scheduleRender()}}e.View=j;function X(Q){try{return Q()}catch(Y){(0,S.onUnexpectedError)(Y)}}}),define(te[152],ie([0,1,466,7,10,6,2,48,65,16,28,635,269,34,271,42,13,3,21,227,112,25,18,46,22,616,26,15,9,146,35,12,60,20,415,580,149,633,351]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h,g,w,_,C,v,m,E,I,k,A,P,F,M,R,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let L=0;class B{constructor(V,ne,ue,pe,ge){this.model=V,this.viewModel=ne,this.view=ue,this.hasRealView=pe,this.listenersToRemove=ge}dispose(){(0,S.dispose)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let z=class Nt extends S.Disposable{constructor(V,ne,ue,pe,ge,W,G,re,ee,de){super();this._onDidDispose=this._register(new D.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new D.Emitter),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new D.Emitter),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new D.Emitter),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new D.Emitter),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new D.Emitter),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new D.Emitter),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new D.Emitter),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new D.Emitter),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new D.Emitter),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new D.Emitter),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new D.Emitter),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new $),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new $),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new D.Emitter),this.onWillType=this._onWillType.event,this._onDidType=this._register(new D.Emitter),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new D.Emitter),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new D.Emitter),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new D.Emitter),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new D.Emitter),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new D.Emitter),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new D.Emitter),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new D.Emitter),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new D.Emitter),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new D.Emitter),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new D.Emitter),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new D.Emitter),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new D.Emitter),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new D.Emitter),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new D.Emitter),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new D.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new D.Emitter),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new D.Emitter),this.onDidChangeViewZones=this._onDidChangeViewZones.event;const ae=Object.assign({},ne);this._domElement=V,this._overflowWidgetsDomNode=ae.overflowWidgetsDomNode,delete ae.overflowWidgetsDomNode,this._id=++L,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=ue.isSimpleWidget||!1,this._telemetryData=ue.telemetryData,this._configuration=this._register(this._createConfiguration(ae,de)),this._register(this._configuration.onDidChange(J=>{this._onDidChangeConfiguration.fire(J);const Z=this._configuration.options;if(J.hasChanged(129)){const le=Z.get(129);this._onDidLayoutChange.fire(le)}})),this._contextKeyService=this._register(G.createScoped(this._domElement)),this._notificationService=ee,this._codeEditorService=ge,this._commandService=W,this._themeService=re,this._register(new j(this,this._contextKeyService)),this._register(new X(this,this._contextKeyService)),this._instantiationService=pe.createChild(new I.ServiceCollection([m.IContextKeyService,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new Q(V),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let ce;Array.isArray(ue.contributions)?ce=ue.contributions:ce=i.EditorExtensionsRegistry.getEditorContributions();for(const J of ce){if(this._contributions[J.id]){(0,T.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${J.id}`));continue}try{const Z=this._instantiationService.createInstance(J.ctor,this);this._contributions[J.id]=Z}catch(Z){(0,T.onUnexpectedError)(Z)}}i.EditorExtensionsRegistry.getEditorActions().forEach(J=>{if(this._actions[J.id]){(0,T.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${J.id}`));return}const Z=new t.InternalEditorAction(J.id,J.label,J.alias,(0,F.withNullAsUndefined)(J.precondition),()=>this._instantiationService.invokeFunction(le=>Promise.resolve(J.runEditorCommand(le,this,null))),this._contextKeyService);this._actions[Z.id]=Z}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(V,ne){return new b.Configuration(this.isSimpleWidget,V,this._domElement,ne)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return l.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const V=Object.keys(this._contributions);for(let ne=0,ue=V.length;ne<ue;ne++){const pe=V[ne];this._contributions[pe].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(V){return this._instantiationService.invokeFunction(V)}updateOptions(V){this._configuration.updateOptions(V)}getOptions(){return this._configuration.options}getOption(V){return this._configuration.options.get(V)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(V){return this._modelData?O.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(115),V):null}getValue(V=null){if(!this._modelData)return"";const ne=!!(V&&V.preserveBOM);let ue=0;return V&&V.lineEnding&&V.lineEnding===`
`?ue=1:V&&V.lineEnding&&V.lineEnding===`\r
`&&(ue=2),this._modelData.model.getValue(ue,ne)}setValue(V){!this._modelData||this._modelData.model.setValue(V)}getModel(){return this._modelData?this._modelData.model:null}setModel(V=null){const ne=V;if(this._modelData===null&&ne===null||this._modelData&&this._modelData.model===ne)return;const ue=this.hasTextFocus(),pe=this._detachModel();this._attachModel(ne),ue&&this.hasModel()&&this.focus();const ge={oldModelUrl:pe?pe.uri:null,newModelUrl:ne?ne.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(ge),this._postDetachModelCleanup(pe)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let V in this._decorationTypeSubtypes){const ne=this._decorationTypeSubtypes[V];for(let ue in ne)this._removeDecorationType(V+"-"+ue)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(V,ne,ue){const pe=V.model.validatePosition({lineNumber:ne,column:ue}),ge=V.viewModel.coordinatesConverter.convertModelPositionToViewPosition(pe);return V.viewModel.viewLayout.getVerticalOffsetForLineNumber(ge.lineNumber)}getTopForLineNumber(V){return this._modelData?Nt._getVerticalOffsetForPosition(this._modelData,V,1):-1}getTopForPosition(V,ne){return this._modelData?Nt._getVerticalOffsetForPosition(this._modelData,V,ne):-1}setHiddenAreas(V){this._modelData&&this._modelData.viewModel.setHiddenAreas(V.map(ne=>n.Range.lift(ne)))}getVisibleColumnFromPosition(V){if(!this._modelData)return V.column;const ne=this._modelData.model.validatePosition(V),ue=this._modelData.model.getOptions().tabSize;return u.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(ne.lineNumber),ne.column,ue)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(V){if(!!this._modelData){if(!s.Position.isIPosition(V))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:V.lineNumber,selectionStartColumn:V.column,positionLineNumber:V.lineNumber,positionColumn:V.column}])}}_sendRevealRange(V,ne,ue,pe){if(!this._modelData)return;if(!n.Range.isIRange(V))throw new Error("Invalid arguments");const ge=this._modelData.model.validateRange(V),W=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(ge);this._modelData.viewModel.revealRange("api",ue,W,ne,pe)}revealLine(V,ne=0){this._revealLine(V,0,ne)}revealLineInCenter(V,ne=0){this._revealLine(V,1,ne)}revealLineInCenterIfOutsideViewport(V,ne=0){this._revealLine(V,2,ne)}revealLineNearTop(V,ne=0){this._revealLine(V,5,ne)}_revealLine(V,ne,ue){if(typeof V!="number")throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(V,1,V,1),ne,!1,ue)}revealPosition(V,ne=0){this._revealPosition(V,0,!0,ne)}revealPositionInCenter(V,ne=0){this._revealPosition(V,1,!0,ne)}revealPositionInCenterIfOutsideViewport(V,ne=0){this._revealPosition(V,2,!0,ne)}revealPositionNearTop(V,ne=0){this._revealPosition(V,5,!0,ne)}_revealPosition(V,ne,ue,pe){if(!s.Position.isIPosition(V))throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(V.lineNumber,V.column,V.lineNumber,V.column),ne,ue,pe)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(V){const ne=a.Selection.isISelection(V),ue=n.Range.isIRange(V);if(!ne&&!ue)throw new Error("Invalid arguments");if(ne)this._setSelectionImpl(V);else if(ue){const pe={selectionStartLineNumber:V.startLineNumber,selectionStartColumn:V.startColumn,positionLineNumber:V.endLineNumber,positionColumn:V.endColumn};this._setSelectionImpl(pe)}}_setSelectionImpl(V){if(!this._modelData)return;const ne=new a.Selection(V.selectionStartLineNumber,V.selectionStartColumn,V.positionLineNumber,V.positionColumn);this._modelData.viewModel.setSelections("api",[ne])}revealLines(V,ne,ue=0){this._revealLines(V,ne,0,ue)}revealLinesInCenter(V,ne,ue=0){this._revealLines(V,ne,1,ue)}revealLinesInCenterIfOutsideViewport(V,ne,ue=0){this._revealLines(V,ne,2,ue)}revealLinesNearTop(V,ne,ue=0){this._revealLines(V,ne,5,ue)}_revealLines(V,ne,ue,pe){if(typeof V!="number"||typeof ne!="number")throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(V,1,ne,1),ue,!1,pe)}revealRange(V,ne=0,ue=!1,pe=!0){this._revealRange(V,ue?1:0,pe,ne)}revealRangeInCenter(V,ne=0){this._revealRange(V,1,!0,ne)}revealRangeInCenterIfOutsideViewport(V,ne=0){this._revealRange(V,2,!0,ne)}revealRangeNearTop(V,ne=0){this._revealRange(V,5,!0,ne)}revealRangeNearTopIfOutsideViewport(V,ne=0){this._revealRange(V,6,!0,ne)}revealRangeAtTop(V,ne=0){this._revealRange(V,3,!0,ne)}_revealRange(V,ne,ue,pe){if(!n.Range.isIRange(V))throw new Error("Invalid arguments");this._sendRevealRange(n.Range.lift(V),ne,ue,pe)}setSelections(V,ne="api",ue=0){if(!!this._modelData){if(!V||V.length===0)throw new Error("Invalid arguments");for(let pe=0,ge=V.length;pe<ge;pe++)if(!a.Selection.isISelection(V[pe]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(ne,V,ue)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(V,ne=1){if(!!this._modelData){if(typeof V!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:V},ne)}}setScrollTop(V,ne=1){if(!!this._modelData){if(typeof V!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:V},ne)}}setScrollPosition(V,ne=1){!this._modelData||this._modelData.viewModel.setScrollPosition(V,ne)}saveViewState(){if(!this._modelData)return null;const V={},ne=Object.keys(this._contributions);for(const ge of ne){const W=this._contributions[ge];typeof W.saveViewState=="function"&&(V[ge]=W.saveViewState())}const ue=this._modelData.viewModel.saveCursorState(),pe=this._modelData.viewModel.saveState();return{cursorState:ue,viewState:pe,contributionsState:V}}restoreViewState(V){if(!this._modelData||!this._modelData.hasRealView)return;const ne=V;if(ne&&ne.cursorState&&ne.viewState){const ue=ne.cursorState;Array.isArray(ue)?this._modelData.viewModel.restoreCursorState(ue):this._modelData.viewModel.restoreCursorState([ue]);const pe=ne.contributionsState||{},ge=Object.keys(this._contributions);for(let G=0,re=ge.length;G<re;G++){const ee=ge[G],de=this._contributions[ee];typeof de.restoreViewState=="function"&&de.restoreViewState(pe[ee])}const W=this._modelData.viewModel.reduceRestoreState(ne.viewState);this._modelData.view.restoreState(W)}}getContribution(V){return this._contributions[V]||null}getActions(){const V=[],ne=Object.keys(this._actions);for(let ue=0,pe=ne.length;ue<pe;ue++){const ge=ne[ue];V.push(this._actions[ge])}return V}getSupportedActions(){let V=this.getActions();return V=V.filter(ne=>ne.isSupported()),V}getAction(V){return this._actions[V]||null}trigger(V,ne,ue){switch(ue=ue||{},ne){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(V);return;case"type":{const ge=ue;this._type(V,ge.text||"");return}case"replacePreviousChar":{const ge=ue;this._compositionType(V,ge.text||"",ge.replaceCharCnt||0,0,0);return}case"compositionType":{const ge=ue;this._compositionType(V,ge.text||"",ge.replacePrevCharCnt||0,ge.replaceNextCharCnt||0,ge.positionDelta||0);return}case"paste":{const ge=ue;this._paste(V,ge.text||"",ge.pasteOnNewLine||!1,ge.multicursorText||null,ge.mode||null);return}case"cut":this._cut(V);return}const pe=this.getAction(ne);if(pe){Promise.resolve(pe.run()).then(void 0,T.onUnexpectedError);return}!this._modelData||this._triggerEditorCommand(V,ne,ue)||this._triggerCommand(ne,ue)}_triggerCommand(V,ne){this._commandService.executeCommand(V,ne)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(V){!this._modelData||(this._modelData.viewModel.endComposition(V),this._onDidCompositionEnd.fire())}_type(V,ne){!this._modelData||ne.length===0||(V==="keyboard"&&this._onWillType.fire(ne),this._modelData.viewModel.type(ne,V),V==="keyboard"&&this._onDidType.fire(ne))}_compositionType(V,ne,ue,pe,ge){!this._modelData||this._modelData.viewModel.compositionType(ne,ue,pe,ge,V)}_paste(V,ne,ue,pe,ge){if(!this._modelData||ne.length===0)return;const W=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(ne,ue,pe,V);const G=this._modelData.viewModel.getSelection().getStartPosition();V==="keyboard"&&this._onDidPaste.fire({range:new n.Range(W.lineNumber,W.column,G.lineNumber,G.column),mode:ge})}_cut(V){!this._modelData||this._modelData.viewModel.cut(V)}_triggerEditorCommand(V,ne,ue){const pe=i.EditorExtensionsRegistry.getEditorCommand(ne);return pe?(ue=ue||{},ue.source=V,this._instantiationService.invokeFunction(ge=>{Promise.resolve(pe.runEditorCommand(ge,this,ue)).then(void 0,T.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(V,ne,ue){if(!this._modelData||this._configuration.options.get(80))return!1;let pe;return ue?Array.isArray(ue)?pe=()=>ue:pe=ue:pe=()=>null,this._modelData.viewModel.executeEdits(V,ne,pe),!0}executeCommand(V,ne){!this._modelData||this._modelData.viewModel.executeCommand(ne,V)}executeCommands(V,ne){!this._modelData||this._modelData.viewModel.executeCommands(ne,V)}changeDecorations(V){return this._modelData?this._modelData.model.changeDecorations(V,this._id):null}getLineDecorations(V){return this._modelData?this._modelData.model.getLineDecorations(V,this._id,(0,d.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(V,ne){return this._modelData?V.length===0&&ne.length===0?V:this._modelData.model.deltaDecorations(V,ne,this._id):[]}removeDecorations(V){const ne=this._decorationTypeKeysToIds[V];ne&&this.deltaDecorations(ne,[]),this._decorationTypeKeysToIds.hasOwnProperty(V)&&delete this._decorationTypeKeysToIds[V],this._decorationTypeSubtypes.hasOwnProperty(V)&&delete this._decorationTypeSubtypes[V]}getLayoutInfo(){return this._configuration.options.get(129)}createOverviewRuler(V){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(V)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(V){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(V)}layout(V){this._configuration.observeReferenceElement(V),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(V){const ne={widget:V,position:V.getPosition()};this._contentWidgets.hasOwnProperty(V.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[V.getId()]=ne,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(ne)}layoutContentWidget(V){const ne=V.getId();if(this._contentWidgets.hasOwnProperty(ne)){const ue=this._contentWidgets[ne];ue.position=V.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(ue)}}removeContentWidget(V){const ne=V.getId();if(this._contentWidgets.hasOwnProperty(ne)){const ue=this._contentWidgets[ne];delete this._contentWidgets[ne],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(ue)}}addOverlayWidget(V){const ne={widget:V,position:V.getPosition()};this._overlayWidgets.hasOwnProperty(V.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[V.getId()]=ne,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(ne)}layoutOverlayWidget(V){const ne=V.getId();if(this._overlayWidgets.hasOwnProperty(ne)){const ue=this._overlayWidgets[ne];ue.position=V.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(ue)}}removeOverlayWidget(V){const ne=V.getId();if(this._overlayWidgets.hasOwnProperty(ne)){const ue=this._overlayWidgets[ne];delete this._overlayWidgets[ne],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(ue)}}changeViewZones(V){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(V)}getTargetAtClientPoint(V,ne){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(V,ne)}getScrolledVisiblePosition(V){if(!this._modelData||!this._modelData.hasRealView)return null;const ne=this._modelData.model.validatePosition(V),ue=this._configuration.options,pe=ue.get(129),ge=Nt._getVerticalOffsetForPosition(this._modelData,ne.lineNumber,ne.column)-this.getScrollTop(),W=this._modelData.view.getOffsetForColumn(ne.lineNumber,ne.column)+pe.glyphMarginWidth+pe.lineNumbersWidth+pe.decorationsWidth-this.getScrollLeft();return{top:ge,left:W,height:ue.get(58)}}getOffsetForColumn(V,ne){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(V,ne)}render(V=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,V)}setAriaOptions(V){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(V)}applyFontInfo(V){b.Configuration.applyFontInfoSlow(V,this._configuration.options.get(43))}_attachModel(V){if(!V){this._modelData=null;return}const ne=[];this._domElement.setAttribute("data-mode-id",V.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(V.isDominatedByLongLines()),this._configuration.setMaxLineNumber(V.getLineCount()),V.onBeforeAttached();const ue=new C.ViewModel(this._id,this._configuration,V,R.DOMLineBreaksComputerFactory.create(),M.MonospaceLineBreaksComputerFactory.create(this._configuration.options),W=>N.scheduleAtNextAnimationFrame(W));ne.push(V.onDidChangeDecorations(W=>this._onDidChangeModelDecorations.fire(W))),ne.push(V.onDidChangeLanguage(W=>{this._domElement.setAttribute("data-mode-id",V.getLanguageIdentifier().language),this._onDidChangeModelLanguage.fire(W)})),ne.push(V.onDidChangeLanguageConfiguration(W=>this._onDidChangeModelLanguageConfiguration.fire(W))),ne.push(V.onDidChangeContent(W=>this._onDidChangeModelContent.fire(W))),ne.push(V.onDidChangeOptions(W=>this._onDidChangeModelOptions.fire(W))),ne.push(V.onWillDispose(()=>this.setModel(null))),ne.push(ue.onEvent(W=>{switch(W.kind){case 0:this._onDidContentSizeChange.fire(W);break;case 1:this._editorTextFocus.setValue(W.hasFocus);break;case 2:this._onDidScrollChange.fire(W);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidAttemptReadOnlyEdit.fire();break;case 5:{W.reachedMaxCursorCount&&this._notificationService.warn(y.localize(0,null,c.CursorsController.MAX_CURSOR_COUNT));const G=[];for(let de=0,ae=W.selections.length;de<ae;de++)G[de]=W.selections[de].getPosition();const re={position:G[0],secondaryPositions:G.slice(1),reason:W.reason,source:W.source};this._onDidChangeCursorPosition.fire(re);const ee={selection:W.selections[0],secondarySelections:W.selections.slice(1),modelVersionId:W.modelVersionId,oldSelections:W.oldSelections,oldModelVersionId:W.oldModelVersionId,source:W.source,reason:W.reason};this._onDidChangeCursorSelection.fire(ee);break}}}));const[pe,ge]=this._createView(ue);if(ge){this._domElement.appendChild(pe.domNode.domNode);let W=Object.keys(this._contentWidgets);for(let G=0,re=W.length;G<re;G++){const ee=W[G];pe.addContentWidget(this._contentWidgets[ee])}W=Object.keys(this._overlayWidgets);for(let G=0,re=W.length;G<re;G++){const ee=W[G];pe.addOverlayWidget(this._overlayWidgets[ee])}pe.render(!1,!0),pe.domNode.domNode.setAttribute("data-uri",V.uri.toString())}this._modelData=new B(V,ue,pe,ge,ne)}_createView(V){let ne;this.isSimpleWidget?ne={paste:(ge,W,G,re)=>{this._paste("keyboard",ge,W,G,re)},type:ge=>{this._type("keyboard",ge)},compositionType:(ge,W,G,re)=>{this._compositionType("keyboard",ge,W,G,re)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:ne={paste:(ge,W,G,re)=>{const ee={text:ge,pasteOnNewLine:W,multicursorText:G,mode:re};this._commandService.executeCommand("paste",ee)},type:ge=>{const W={text:ge};this._commandService.executeCommand("type",W)},compositionType:(ge,W,G,re)=>{if(G||re){const ee={text:ge,replacePrevCharCnt:W,replaceNextCharCnt:G,positionDelta:re};this._commandService.executeCommand("compositionType",ee)}else{const ee={text:ge,replaceCharCnt:W};this._commandService.executeCommand("replacePreviousChar",ee)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const ue=new o.ViewUserInputEvents(V.coordinatesConverter);return ue.onKeyDown=ge=>this._onKeyDown.fire(ge),ue.onKeyUp=ge=>this._onKeyUp.fire(ge),ue.onContextMenu=ge=>this._onContextMenu.fire(ge),ue.onMouseMove=ge=>this._onMouseMove.fire(ge),ue.onMouseLeave=ge=>this._onMouseLeave.fire(ge),ue.onMouseDown=ge=>this._onMouseDown.fire(ge),ue.onMouseUp=ge=>this._onMouseUp.fire(ge),ue.onMouseDrag=ge=>this._onMouseDrag.fire(ge),ue.onMouseDrop=ge=>this._onMouseDrop.fire(ge),ue.onMouseDropCanceled=ge=>this._onMouseDropCanceled.fire(ge),ue.onMouseWheel=ge=>this._onMouseWheel.fire(ge),[new r.View(ne,this._configuration,this._themeService,V,ue,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(V){V&&V.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const V=this._modelData.model,ne=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),ne&&this._domElement.contains(ne)&&this._domElement.removeChild(ne),V}_removeDecorationType(V){this._codeEditorService.removeDecorationType(V)}hasModel(){return this._modelData!==null}};z=Fe([Ce(3,E.IInstantiationService),Ce(4,f.ICodeEditorService),Ce(5,v.ICommandService),Ce(6,m.IContextKeyService),Ce(7,A.IThemeService),Ce(8,k.INotificationService),Ce(9,P.IAccessibilityService)],z),e.CodeEditorWidget=z;class $ extends S.Disposable{constructor(){super();this._onDidChangeToTrue=this._register(new D.Emitter),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new D.Emitter),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(V){const ne=V?2:1;this._value!==ne&&(this._value=ne,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=$;class j extends S.Disposable{constructor(V,ne){super();this._editor=V,ne.createKey("editorId",V.getId()),this._editorSimpleInput=h.EditorContextKeys.editorSimpleInput.bindTo(ne),this._editorFocus=h.EditorContextKeys.focus.bindTo(ne),this._textInputFocus=h.EditorContextKeys.textInputFocus.bindTo(ne),this._editorTextFocus=h.EditorContextKeys.editorTextFocus.bindTo(ne),this._editorTabMovesFocus=h.EditorContextKeys.tabMovesFocus.bindTo(ne),this._editorReadonly=h.EditorContextKeys.readOnly.bindTo(ne),this._inDiffEditor=h.EditorContextKeys.inDiffEditor.bindTo(ne),this._editorColumnSelection=h.EditorContextKeys.columnSelection.bindTo(ne),this._hasMultipleSelections=h.EditorContextKeys.hasMultipleSelections.bindTo(ne),this._hasNonEmptySelection=h.EditorContextKeys.hasNonEmptySelection.bindTo(ne),this._canUndo=h.EditorContextKeys.canUndo.bindTo(ne),this._canRedo=h.EditorContextKeys.canRedo.bindTo(ne),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const V=this._editor.getOptions();this._editorTabMovesFocus.set(V.get(128)),this._editorReadonly.set(V.get(80)),this._inDiffEditor.set(V.get(53)),this._editorColumnSelection.set(V.get(18))}_updateFromSelection(){const V=this._editor.getSelections();V?(this._hasMultipleSelections.set(V.length>1),this._hasNonEmptySelection.set(V.some(ne=>!ne.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const V=this._editor.getModel();this._canUndo.set(Boolean(V&&V.canUndo())),this._canRedo.set(Boolean(V&&V.canRedo()))}}class X extends S.Disposable{constructor(V,ne){super();this._editor=V,this._contextKeyService=ne,this._langId=h.EditorContextKeys.languageId.bindTo(ne),this._hasCompletionItemProvider=h.EditorContextKeys.hasCompletionItemProvider.bindTo(ne),this._hasCodeActionsProvider=h.EditorContextKeys.hasCodeActionsProvider.bindTo(ne),this._hasCodeLensProvider=h.EditorContextKeys.hasCodeLensProvider.bindTo(ne),this._hasDefinitionProvider=h.EditorContextKeys.hasDefinitionProvider.bindTo(ne),this._hasDeclarationProvider=h.EditorContextKeys.hasDeclarationProvider.bindTo(ne),this._hasImplementationProvider=h.EditorContextKeys.hasImplementationProvider.bindTo(ne),this._hasTypeDefinitionProvider=h.EditorContextKeys.hasTypeDefinitionProvider.bindTo(ne),this._hasHoverProvider=h.EditorContextKeys.hasHoverProvider.bindTo(ne),this._hasDocumentHighlightProvider=h.EditorContextKeys.hasDocumentHighlightProvider.bindTo(ne),this._hasDocumentSymbolProvider=h.EditorContextKeys.hasDocumentSymbolProvider.bindTo(ne),this._hasReferenceProvider=h.EditorContextKeys.hasReferenceProvider.bindTo(ne),this._hasRenameProvider=h.EditorContextKeys.hasRenameProvider.bindTo(ne),this._hasSignatureHelpProvider=h.EditorContextKeys.hasSignatureHelpProvider.bindTo(ne),this._hasInlayHintsProvider=h.EditorContextKeys.hasInlayHintsProvider.bindTo(ne),this._hasDocumentFormattingProvider=h.EditorContextKeys.hasDocumentFormattingProvider.bindTo(ne),this._hasDocumentSelectionFormattingProvider=h.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(ne),this._hasMultipleDocumentFormattingProvider=h.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(ne),this._hasMultipleDocumentSelectionFormattingProvider=h.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(ne),this._isInWalkThrough=h.EditorContextKeys.isInWalkThroughSnippet.bindTo(ne);const ue=()=>this._update();this._register(V.onDidChangeModel(ue)),this._register(V.onDidChangeModelLanguage(ue)),this._register(g.CompletionProviderRegistry.onDidChange(ue)),this._register(g.CodeActionProviderRegistry.onDidChange(ue)),this._register(g.CodeLensProviderRegistry.onDidChange(ue)),this._register(g.DefinitionProviderRegistry.onDidChange(ue)),this._register(g.DeclarationProviderRegistry.onDidChange(ue)),this._register(g.ImplementationProviderRegistry.onDidChange(ue)),this._register(g.TypeDefinitionProviderRegistry.onDidChange(ue)),this._register(g.HoverProviderRegistry.onDidChange(ue)),this._register(g.DocumentHighlightProviderRegistry.onDidChange(ue)),this._register(g.DocumentSymbolProviderRegistry.onDidChange(ue)),this._register(g.ReferenceProviderRegistry.onDidChange(ue)),this._register(g.RenameProviderRegistry.onDidChange(ue)),this._register(g.DocumentFormattingEditProviderRegistry.onDidChange(ue)),this._register(g.DocumentRangeFormattingEditProviderRegistry.onDidChange(ue)),this._register(g.SignatureHelpProviderRegistry.onDidChange(ue)),this._register(g.InlayHintsProviderRegistry.onDidChange(ue)),ue()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const V=this._editor.getModel();if(!V){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(V.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(g.CompletionProviderRegistry.has(V)),this._hasCodeActionsProvider.set(g.CodeActionProviderRegistry.has(V)),this._hasCodeLensProvider.set(g.CodeLensProviderRegistry.has(V)),this._hasDefinitionProvider.set(g.DefinitionProviderRegistry.has(V)),this._hasDeclarationProvider.set(g.DeclarationProviderRegistry.has(V)),this._hasImplementationProvider.set(g.ImplementationProviderRegistry.has(V)),this._hasTypeDefinitionProvider.set(g.TypeDefinitionProviderRegistry.has(V)),this._hasHoverProvider.set(g.HoverProviderRegistry.has(V)),this._hasDocumentHighlightProvider.set(g.DocumentHighlightProviderRegistry.has(V)),this._hasDocumentSymbolProvider.set(g.DocumentSymbolProviderRegistry.has(V)),this._hasReferenceProvider.set(g.ReferenceProviderRegistry.has(V)),this._hasRenameProvider.set(g.RenameProviderRegistry.has(V)),this._hasSignatureHelpProvider.set(g.SignatureHelpProviderRegistry.has(V)),this._hasInlayHintsProvider.set(g.InlayHintsProviderRegistry.has(V)),this._hasDocumentFormattingProvider.set(g.DocumentFormattingEditProviderRegistry.has(V)||g.DocumentRangeFormattingEditProviderRegistry.has(V)),this._hasDocumentSelectionFormattingProvider.set(g.DocumentRangeFormattingEditProviderRegistry.has(V)),this._hasMultipleDocumentFormattingProvider.set(g.DocumentFormattingEditProviderRegistry.all(V).length+g.DocumentRangeFormattingEditProviderRegistry.all(V).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(g.DocumentRangeFormattingEditProviderRegistry.all(V).length>1),this._isInWalkThrough.set(V.uri.scheme===p.Schemas.walkThroughSnippet)})}}e.EditorModeContext=X;class Q extends S.Disposable{constructor(V){super();this._onChange=this._register(new D.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(N.trackFocus(V)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const Y=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),oe=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function se(H){return Y+encodeURIComponent(H.toString())+oe}const K=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),x=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function U(H){return K+encodeURIComponent(H.toString())+x}(0,A.registerThemingParticipant)((H,V)=>{const ne=H.getColor(_.editorErrorBorder);ne&&V.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${ne}; }`);const ue=H.getColor(_.editorErrorForeground);ue&&V.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${se(ue)}") repeat-x bottom left; }`);const pe=H.getColor(_.editorErrorBackground);pe&&V.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${pe}; }`);const ge=H.getColor(_.editorWarningBorder);ge&&V.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${ge}; }`);const W=H.getColor(_.editorWarningForeground);W&&V.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${se(W)}") repeat-x bottom left; }`);const G=H.getColor(_.editorWarningBackground);G&&V.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${G}; }`);const re=H.getColor(_.editorInfoBorder);re&&V.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${re}; }`);const ee=H.getColor(_.editorInfoForeground);ee&&V.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${se(ee)}") repeat-x bottom left; }`);const de=H.getColor(_.editorInfoBackground);de&&V.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${de}; }`);const ae=H.getColor(_.editorHintBorder);ae&&V.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${ae}; }`);const ce=H.getColor(_.editorHintForeground);ce&&V.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${U(ce)}") no-repeat bottom left; }`);const J=H.getColor(w.editorUnnecessaryCodeOpacity);J&&V.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${J.rgba.a}; }`);const Z=H.getColor(w.editorUnnecessaryCodeBorder);Z&&V.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${Z}; }`);const le=H.getColor(_.editorForeground)||"inherit";V.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${le}}`)})}),define(te[153],ie([0,1,37,28,152,26,15,9,35,12,60]),function(q,e,y,N,T,D,S,p,b,i,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let r=class extends T.CodeEditorWidget{constructor(d,c,u,s,n,a,t,l,h,g){super(d,Object.assign(Object.assign({},u.getRawOptions()),{overflowWidgetsDomNode:u.getOverflowWidgetsDomNode()}),{},s,n,a,t,l,h,g);this._parentEditor=u,this._overwriteOptions=c,super.updateOptions(this._overwriteOptions),this._register(u.onDidChangeConfiguration(w=>this._onParentConfigurationChanged(w)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(d){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(d){y.mixin(this._overwriteOptions,d,!0),super.updateOptions(this._overwriteOptions)}};r=Fe([Ce(3,p.IInstantiationService),Ce(4,N.ICodeEditorService),Ce(5,D.ICommandService),Ce(6,S.IContextKeyService),Ce(7,i.IThemeService),Ce(8,b.INotificationService),Ce(9,f.IAccessibilityService)],r),e.EmbeddedCodeEditorWidget=r}),define(te[636],ie([0,1,45,68,43,16,21,25,480,15,352]),function(q,e,y,N,T,D,S,p,b,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new i.RawContextKey("selectionAnchorSet",!1);let f=class vi{constructor(s,n){this.editor=s,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(n),this.modelChangeListener=s.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(s){return s.getContribution(vi.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const s=this.editor.getPosition(),n=this.decorationId?[this.decorationId]:[],a=this.editor.deltaDecorations(n,[{range:S.Selection.fromPositions(s,s),options:{description:"selection-anchor",stickiness:1,hoverMessage:new N.MarkdownString().appendText((0,b.localize)(0,null)),className:"selection-anchor"}}]);this.decorationId=a[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,y.alert)((0,b.localize)(1,null,s.lineNumber,s.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const s=this.editor.getModel().getDecorationRange(this.decorationId);s&&this.editor.setPosition(s.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const s=this.editor.getModel().getDecorationRange(this.decorationId);if(s){const n=this.editor.getPosition();this.editor.setSelection(S.Selection.fromPositions(s.getStartPosition(),n)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};f.ID="editor.contrib.selectionAnchorController",f=Fe([Ce(1,i.IContextKeyService)],f);class r extends D.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,b.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|32),weight:100}})}run(s,n){return Me(this,void 0,void 0,function*(){f.get(n).setSelectionAnchor()})}}class o extends D.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,b.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(s,n){return Me(this,void 0,void 0,function*(){f.get(n).goToSelectionAnchor()})}}class d extends D.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,b.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|41),weight:100}})}run(s,n){return Me(this,void 0,void 0,function*(){f.get(n).selectFromAnchorToCursor()})}}class c extends D.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,b.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(s,n){return Me(this,void 0,void 0,function*(){f.get(n).cancelSelectionAnchor()})}}(0,D.registerEditorContribution)(f.ID,f),(0,D.registerEditorAction)(r),(0,D.registerEditorAction)(o),(0,D.registerEditorAction)(d),(0,D.registerEditorAction)(c)}),define(te[637],ie([0,1,14,2,16,13,3,21,25,49,31,46,481,33,22,12,353]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const s=(0,c.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},o.localize(0,null));class n extends T.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:o.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2048|1024|88,weight:100}})}run(g,w){let _=l.get(w);!_||_.jumpToBracket()}}class a extends T.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:o.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(g,w,_){const C=l.get(w);if(!C)return;let v=!0;_&&_.selectBrackets===!1&&(v=!1),C.selectToBracket(v)}}class t{constructor(g,w,_){this.position=g,this.brackets=w,this.options=_}}class l extends N.Disposable{constructor(g){super();this._editor=g,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new y.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(63),this._updateBracketsSoon.schedule(),this._register(g.onDidChangeCursorPosition(w=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(g.onDidChangeModelContent(w=>{this._updateBracketsSoon.schedule()})),this._register(g.onDidChangeModel(w=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(g.onDidChangeModelLanguageConfiguration(w=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(g.onDidChangeConfiguration(w=>{w.hasChanged(63)&&(this._matchBrackets=this._editor.getOption(63),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())}))}static get(g){return g.getContribution(l.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const g=this._editor.getModel(),w=this._editor.getSelections().map(_=>{const C=_.getStartPosition(),v=g.matchBracket(C);let m=null;if(v)v[0].containsPosition(C)?m=v[1].getStartPosition():v[1].containsPosition(C)&&(m=v[0].getStartPosition());else{const E=g.findEnclosingBrackets(C);if(E)m=E[0].getStartPosition();else{const I=g.findNextBracket(C);I&&I.range&&(m=I.range.getStartPosition())}}return m?new p.Selection(m.lineNumber,m.column,m.lineNumber,m.column):new p.Selection(C.lineNumber,C.column,C.lineNumber,C.column)});this._editor.setSelections(w),this._editor.revealRange(w[0])}selectToBracket(g){if(!this._editor.hasModel())return;const w=this._editor.getModel(),_=[];this._editor.getSelections().forEach(C=>{const v=C.getStartPosition();let m=w.matchBracket(v);if(!m&&(m=w.findEnclosingBrackets(v),!m)){const k=w.findNextBracket(v);k&&k.range&&(m=w.matchBracket(k.range.getStartPosition()))}let E=null,I=null;if(m){m.sort(S.Range.compareRangesUsingStarts);const[k,A]=m;if(E=g?k.getStartPosition():k.getEndPosition(),I=g?A.getEndPosition():A.getStartPosition(),A.containsPosition(v)){const P=E;E=I,I=P}}E&&I&&_.push(new p.Selection(E.lineNumber,E.column,I.lineNumber,I.column))}),_.length>0&&(this._editor.setSelections(_),this._editor.revealRange(_[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let g=[],w=0;for(const _ of this._lastBracketsData){let C=_.brackets;C&&(g[w++]={range:C[0],options:_.options},g[w++]={range:C[1],options:_.options})}this._decorations=this._editor.deltaDecorations(this._decorations,g)}_recomputeBrackets(){if(!this._editor.hasModel()){this._lastBracketsData=[],this._lastVersionId=0;return}const g=this._editor.getSelections();if(g.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const w=this._editor.getModel(),_=w.getVersionId();let C=[];this._lastVersionId===_&&(C=this._lastBracketsData);let v=[],m=0;for(let P=0,F=g.length;P<F;P++){let M=g[P];M.isEmpty()&&(v[m++]=M.getStartPosition())}v.length>1&&v.sort(D.Position.compare);let E=[],I=0,k=0,A=C.length;for(let P=0,F=v.length;P<F;P++){let M=v[P];for(;k<A&&C[k].position.isBefore(M);)k++;if(k<A&&C[k].position.equals(M))E[I++]=C[k];else{let R=w.matchBracket(M),O=l._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!R&&this._matchBrackets==="always"&&(R=w.findEnclosingBrackets(M,20),O=l._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),E[I++]=new t(M,R,O)}}this._lastBracketsData=E,this._lastVersionId=_}}e.BracketMatchingController=l,l.ID="editor.contrib.bracketMatchingController",l._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=f.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,u.themeColorFromId)(s),position:i.OverviewRulerLane.Center}}),l._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=f.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,T.registerEditorContribution)(l.ID,l),(0,T.registerEditorAction)(a),(0,T.registerEditorAction)(n),(0,u.registerThemingParticipant)((h,g)=>{const w=h.getColor(r.editorBracketMatchBackground);w&&g.addRule(`.monaco-editor .bracket-match { background-color: ${w}; }`);const _=h.getColor(r.editorBracketMatchBorder);_&&g.addRule(`.monaco-editor .bracket-match { border: 1px solid ${_}; }`)}),d.MenuRegistry.appendMenuItem(d.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:o.localize(3,null)},order:2})}),define(te[638],ie([0,1,16,25,417,482]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class S extends y.EditorAction{constructor(f,r){super(r);this.left=f}run(f,r){if(!r.hasModel())return;let o=[],d=r.getSelections();for(const c of d)o.push(new T.MoveCaretCommand(c,this.left));r.pushUndoStop(),r.executeCommands(this.id,o),r.pushUndoStop()}}class p extends S{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:D.localize(0,null),alias:"Move Selected Text Left",precondition:N.EditorContextKeys.writable})}}class b extends S{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:D.localize(1,null),alias:"Move Selected Text Right",precondition:N.EditorContextKeys.writable})}}(0,y.registerEditorAction)(p),(0,y.registerEditorAction)(b)}),define(te[639],ie([0,1,16,96,194,3,25,483]),function(q,e,y,N,T,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class b extends y.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:p.localize(0,null),alias:"Transpose Letters",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}run(f,r){if(!r.hasModel())return;let o=r.getModel(),d=[],c=r.getSelections();for(let u of c){if(!u.isEmpty())continue;let s=u.startLineNumber,n=u.startColumn,a=o.getLineMaxColumn(s);if(s===1&&(n===1||n===2&&a===2))continue;let t=n===a?u.getPosition():T.MoveOperations.rightPosition(o,u.getPosition().lineNumber,u.getPosition().column),l=T.MoveOperations.leftPosition(o,t),h=T.MoveOperations.leftPosition(o,l),g=o.getValueInRange(D.Range.fromPositions(h,l)),w=o.getValueInRange(D.Range.fromPositions(l,t)),_=D.Range.fromPositions(h,t);d.push(new N.ReplaceCommand(_,w+g))}d.length>0&&(r.pushUndoStop(),r.executeCommands(this.id,d),r.pushUndoStop())}}(0,y.registerEditorAction)(b)}),define(te[640],ie([0,1,36,17,172,16,28,25,484,33,88]),function(q,e,y,N,T,D,S,p,b,i,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const r="9_cutcopypaste",o=N.isNative||document.queryCommandSupported("cut"),d=N.isNative||document.queryCommandSupported("copy"),c=typeof navigator.clipboard=="undefined"||y.isFirefox?document.queryCommandSupported("paste"):!0;function u(a){return a.register(),a}e.CutAction=o?u(new D.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:N.isNative?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:b.localize(0,null),order:1},{menuId:i.MenuId.EditorContext,group:r,title:b.localize(1,null),when:p.EditorContextKeys.writable,order:1},{menuId:i.MenuId.CommandPalette,group:"",title:b.localize(2,null),order:1},{menuId:i.MenuId.SimpleEditorContext,group:r,title:b.localize(3,null),when:p.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=d?u(new D.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:N.isNative?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:b.localize(4,null),order:2},{menuId:i.MenuId.EditorContext,group:r,title:b.localize(5,null),order:2},{menuId:i.MenuId.CommandPalette,group:"",title:b.localize(6,null),order:1},{menuId:i.MenuId.SimpleEditorContext,group:r,title:b.localize(7,null),order:2}]})):void 0,i.MenuRegistry.appendMenuItem(i.MenuId.MenubarEditMenu,{submenu:i.MenuId.MenubarCopy,title:{value:b.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),i.MenuRegistry.appendMenuItem(i.MenuId.EditorContext,{submenu:i.MenuId.EditorContextCopy,title:{value:b.localize(9,null),original:"Copy As"},group:r,order:3}),e.PasteAction=c?u(new D.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:N.isNative?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:b.localize(10,null),order:4},{menuId:i.MenuId.EditorContext,group:r,title:b.localize(11,null),when:p.EditorContextKeys.writable,order:4},{menuId:i.MenuId.CommandPalette,group:"",title:b.localize(12,null),order:1},{menuId:i.MenuId.SimpleEditorContext,group:r,title:b.localize(13,null),when:p.EditorContextKeys.writable,order:4}]})):void 0;class s extends D.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:b.localize(14,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(t,l){!l.hasModel()||!l.getOption(32)&&l.getSelection().isEmpty()||(T.CopyOptions.forceCopyWithSyntaxHighlighting=!0,l.focus(),document.execCommand("copy"),T.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function n(a,t){!a||(a.addImplementation(1e4,"code-editor",(l,h)=>{const g=l.get(S.ICodeEditorService).getFocusedCodeEditor();if(g&&g.hasTextFocus()){const w=g.getOption(32),_=g.getSelection();return _&&_.isEmpty()&&!w||document.execCommand(t),!0}return!1}),a.addImplementation(0,"generic-dom",(l,h)=>(document.execCommand(t),!0)))}n(e.CutAction,"cut"),n(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(a,t)=>{const l=a.get(S.ICodeEditorService),h=a.get(f.IClipboardService),g=l.getFocusedCodeEditor();return g&&g.hasTextFocus()?!document.execCommand("paste")&&N.isWeb?(()=>Me(void 0,void 0,void 0,function*(){const _=yield h.readText();if(_!==""){const C=T.InMemoryClipboardMetadataManager.INSTANCE.get(_);let v=!1,m=null,E=null;C&&(v=g.getOption(32)&&!!C.isFromEmptySelection,m=typeof C.multicursorText!="undefined"?C.multicursorText:null,E=C.mode),g.trigger("keyboard","paste",{text:_,pasteOnNewLine:v,multicursorText:m,mode:E})}}))():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(a,t)=>(document.execCommand("paste"),!0))),d&&(0,D.registerEditorAction)(s)}),define(te[154],ie([0,1,19,23,10,2,24,66,3,21,18,39,26,61,141]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeActions=e.CodeActionItem=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class u{constructor(g,w){this.action=g,this.provider=w}resolve(g){var w;return Me(this,void 0,void 0,function*(){if(((w=this.provider)===null||w===void 0?void 0:w.resolveCodeAction)&&!this.action.edit){let _;try{_=yield this.provider.resolveCodeAction(this.action,g)}catch(C){(0,T.onUnexpectedExternalError)(C)}_&&(this.action.edit=_.edit)}return this})}}e.CodeActionItem=u;class s extends D.Disposable{constructor(g,w,_){super();this.documentation=w,this._register(_),this.allActions=[...g].sort(s.codeActionsComparator),this.validActions=this.allActions.filter(({action:C})=>!C.disabled)}static codeActionsComparator({action:g},{action:w}){return g.isPreferred&&!w.isPreferred?-1:!g.isPreferred&&w.isPreferred?1:(0,y.isNonEmptyArray)(g.diagnostics)?(0,y.isNonEmptyArray)(w.diagnostics)?g.diagnostics[0].message.localeCompare(w.diagnostics[0].message):-1:(0,y.isNonEmptyArray)(w.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:g})=>!!g.kind&&c.CodeActionKind.QuickFix.contains(new c.CodeActionKind(g.kind))&&!!g.isPreferred)}}const n={actions:[],documentation:void 0};function a(h,g,w,_,C){var v;const m=w.filter||{},E={only:(v=m.include)===null||v===void 0?void 0:v.value,trigger:w.type},I=new p.TextModelCancellationTokenSource(h,C),k=t(h,m),A=new D.DisposableStore,P=k.map(M=>Me(this,void 0,void 0,function*(){try{_.report(M);const R=yield M.provideCodeActions(h,g,E,I.token);if(R&&A.add(R),I.token.isCancellationRequested)return n;const O=((R==null?void 0:R.actions)||[]).filter(B=>B&&(0,c.filtersAction)(m,B)),L=l(M,O,m.include);return{actions:O.map(B=>new u(B,M)),documentation:L}}catch(R){if((0,T.isPromiseCanceledError)(R))throw R;return(0,T.onUnexpectedExternalError)(R),n}})),F=f.CodeActionProviderRegistry.onDidChange(()=>{const M=f.CodeActionProviderRegistry.all(h);(0,y.equals)(M,k)||I.cancel()});return Promise.all(P).then(M=>{const R=(0,y.flatten)(M.map(L=>L.actions)),O=(0,y.coalesce)(M.map(L=>L.documentation));return new s(R,O,A)}).finally(()=>{F.dispose(),I.dispose()})}e.getCodeActions=a;function t(h,g){return f.CodeActionProviderRegistry.all(h).filter(w=>w.providedCodeActionKinds?w.providedCodeActionKinds.some(_=>(0,c.mayIncludeActionsOfKind)(g,new c.CodeActionKind(_))):!0)}function l(h,g,w){if(!h.documentation)return;const _=h.documentation.map(C=>({kind:new c.CodeActionKind(C.kind),command:C.command}));if(w){let C;for(const v of _)v.kind.contains(w)&&(C?C.kind.contains(v.kind)&&(C=v):C=v);if(C)return C==null?void 0:C.command}for(const C of g)if(!!C.kind){for(const v of _)if(v.kind.contains(new c.CodeActionKind(C.kind)))return v.command}}o.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(h,g,w,_,C){return Me(this,void 0,void 0,function*(){if(!(g instanceof S.URI))throw(0,T.illegalArgument)();const v=h.get(r.IModelService).getModel(g);if(!v)throw(0,T.illegalArgument)();const m=i.Selection.isISelection(w)?i.Selection.liftSelection(w):b.Range.isIRange(w)?v.validateRange(w):void 0;if(!m)throw(0,T.illegalArgument)();const E=typeof _=="string"?new c.CodeActionKind(_):void 0,I=yield a(v,m,{type:1,filter:{includeSourceActions:!0,include:E}},d.Progress.None,N.CancellationToken.None),k=[],A=Math.min(I.validActions.length,typeof C=="number"?C:0);for(let P=0;P<A;P++)k.push(I.validActions[P].resolve(N.CancellationToken.None));try{return yield Promise.all(k),I.validActions.map(P=>P.action)}finally{setTimeout(()=>I.dispose(),100)}})})}),define(te[641],ie([0,1,7,51,10,158,2,13,18,154,141,70,40]),function(q,e,y,N,T,D,S,p,b,i,f,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=e.CodeActionMenu=void 0;class d extends N.Action{constructor(a,t){super(a.command?a.command.id:a.title,c(a.title),void 0,!a.disabled,t);this.action=a}}function c(n){return n.replace(/\r\n|\r|\n/g," ")}let u=class extends S.Disposable{constructor(a,t,l,h){super();this._editor=a,this._delegate=t,this._contextMenuService=l,this._visible=!1,this._showingActions=this._register(new S.MutableDisposable),this._keybindingResolver=new s({getKeybindings:()=>h.getKeybindings()})}get isVisible(){return this._visible}show(a,t,l,h){return Me(this,void 0,void 0,function*(){const g=h.includeDisabledActions?t.allActions:t.validActions;if(!g.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,T.canceled)();this._visible=!0,this._showingActions.value=t;const w=this.getMenuActions(a,g,t.documentation),_=p.Position.isIPosition(l)?this._toCoords(l):l||{x:0,y:0},C=this._keybindingResolver.getResolver(),v=this._editor.getOption(113);this._contextMenuService.showContextMenu({domForShadowRoot:v?this._editor.getDomNode():void 0,getAnchor:()=>_,getActions:()=>w,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:m=>m instanceof d?C(m.action):void 0})})}getMenuActions(a,t,l){var h,g;const w=m=>new d(m.action,()=>this._delegate.onSelectCodeAction(m)),_=t.map(w),C=[...l],v=this._editor.getModel();if(v&&_.length)for(const m of b.CodeActionProviderRegistry.all(v))m._getAdditionalMenuItems&&C.push(...m._getAdditionalMenuItems({trigger:a.type,only:(g=(h=a.filter)===null||h===void 0?void 0:h.include)===null||g===void 0?void 0:g.value},t.map(E=>E.action)));return C.length&&_.push(new N.Separator,...C.map(m=>w(new i.CodeActionItem({title:m.title,command:m},void 0)))),_}_toCoords(a){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(a,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(a),l=(0,y.getDomNodePagePosition)(this._editor.getDomNode()),h=l.left+t.left,g=l.top+t.top+t.height;return{x:h,y:g}}};u=Fe([Ce(2,r.IContextMenuService),Ce(3,o.IKeybindingService)],u),e.CodeActionMenu=u;class s{constructor(a){this._keybindingProvider=a}getResolver(){const a=new D.Lazy(()=>this._keybindingProvider.getKeybindings().filter(t=>s.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let l=t.commandArgs;return t.command===i.organizeImportsCommandId?l={kind:f.CodeActionKind.SourceOrganizeImports.value}:t.command===i.fixAllCommandId&&(l={kind:f.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:t.resolvedKeybinding},f.CodeActionCommandArgs.fromUser(l,{kind:f.CodeActionKind.None,apply:"never"}))}));return t=>{if(t.kind){const l=this.bestKeybindingForCodeAction(t,a.getValue());return l==null?void 0:l.resolvedKeybinding}}}bestKeybindingForCodeAction(a,t){if(!a.kind)return;const l=new f.CodeActionKind(a.kind);return t.filter(h=>h.kind.contains(l)).filter(h=>h.preferred?a.isPreferred:!0).reduceRight((h,g)=>h?h.kind.contains(g.kind)?g:h:g,void 0)}}e.CodeActionKeybindingResolver=s,s.codeActionCommands=[i.refactorCommandId,i.codeActionCommandId,i.sourceActionCommandId,i.organizeImportsCommandId,i.fixAllCommandId]});var vt=this&&this.__classPrivateFieldGet||function(q,e,y,N){if(y==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?q!==e||!N:!e.has(q))throw new TypeError("Cannot read private member from an object whose class did not declare it");return y==="m"?N:y==="a"?N.call(q):N?N.value:e.get(q)},zt=this&&this.__classPrivateFieldSet||function(q,e,y,N,T){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!T)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?q!==e||!T:!e.has(q))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?T.call(q,y):T?T.value=y:e.set(q,y),y};define(te[642],ie([0,1,14,10,6,2,44,3,18,15,61,154]),function(q,e,y,N,T,D,S,p,b,i,f,r){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new i.RawContextKey("supportedCodeAction","");class d extends D.Disposable{constructor(a,t,l,h=250){super();this._editor=a,this._markerService=t,this._signalChange=l,this._delay=h,this._autoTriggerTimer=this._register(new y.TimeoutTimer),this._register(this._markerService.onMarkerChanged(g=>this._onMarkerChanges(g))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(a){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(a);return this._createEventAndSignalChange(a,t)}_onMarkerChanges(a){const t=this._editor.getModel();!t||a.some(l=>(0,S.isEqual)(l,t.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(a){const t=this._editor.getModel();if(!!t)for(const l of this._markerService.read({resource:t.uri})){const h=t.validateRange(l);if(p.Range.intersectRanges(h,a))return p.Range.lift(h)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(a){if(!this._editor.hasModel())return;const t=this._editor.getModel(),l=this._editor.getSelection();if(l.isEmpty()&&a.type===2){const{lineNumber:h,column:g}=l.getPosition(),w=t.getLineContent(h);if(w.length===0)return;if(g===1){if(/\s/.test(w[0]))return}else if(g===t.getLineMaxColumn(h)){if(/\s/.test(w[w.length-1]))return}else if(/\s/.test(w[g-2])&&/\s/.test(w[g-1]))return}return l}_createEventAndSignalChange(a,t){const l=this._editor.getModel();if(!t||!l){this._signalChange(void 0);return}const h=this._getRangeOfMarker(t),g=h?h.getStartPosition():t.getStartPosition(),w={trigger:a,selection:t,position:g};return this._signalChange(w),w}}var c;(function(n){n.Empty={type:0};class a{constructor(l,h,g,w){this.trigger=l,this.rangeOrSelection=h,this.position=g,this._cancellablePromise=w,this.type=1,this.actions=w.catch(_=>{if((0,N.isPromiseCanceledError)(_))return u;throw _})}cancel(){this._cancellablePromise.cancel()}}n.Triggered=a})(c=e.CodeActionsState||(e.CodeActionsState={}));const u={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class s extends D.Disposable{constructor(a,t,l,h){super();this._editor=a,this._markerService=t,this._progressService=h,this._codeActionOracle=this._register(new D.MutableDisposable),this._state=c.Empty,this._onDidChangeState=this._register(new T.Emitter),this.onDidChangeState=this._onDidChangeState.event,o.set(this,!1),this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(l),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(b.CodeActionProviderRegistry.onDidChange(()=>this._update())),this._update()}dispose(){vt(this,o,"f")||(zt(this,o,!0,"f"),super.dispose(),this.setState(c.Empty,!0))}_update(){if(vt(this,o,"f"))return;this._codeActionOracle.value=void 0,this.setState(c.Empty);const a=this._editor.getModel();if(a&&b.CodeActionProviderRegistry.has(a)&&!this._editor.getOption(80)){const t=[];for(const l of b.CodeActionProviderRegistry.all(a))Array.isArray(l.providedCodeActionKinds)&&t.push(...l.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new d(this._editor,this._markerService,l=>{var h;if(!l){this.setState(c.Empty);return}const g=(0,y.createCancelablePromise)(w=>(0,r.getCodeActions)(a,l.selection,l.trigger,f.Progress.None,w));l.trigger.type===1&&((h=this._progressService)===null||h===void 0||h.showWhile(g,250)),this.setState(new c.Triggered(l.trigger,l.selection,l.position,g))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(a){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(a)}setState(a,t){a!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=a,!t&&!vt(this,o,"f")&&this._onDidChangeState.fire(a))}}e.CodeActionModel=s,o=new WeakMap}),define(te[643],ie([0,1,7,14,10,93,2,66,16,25,18,143,259,591,618,487,26,35,79]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let t=class{constructor(h,g,w,_){this._editor=h,this._commandService=g,this._notificationService=w,this._codeLensCache=_,this._disposables=new S.DisposableStore,this._localToDispose=new S.DisposableStore,this._lenses=[],this._getCodeLensModelDelays=new r.LanguageFeatureRequestDelays(f.CodeLensProviderRegistry,250,2500),this._oldCodeLensModels=new S.DisposableStore,this._resolveCodeLensesDelays=new r.LanguageFeatureRequestDelays(f.CodeLensProviderRegistry,250,2500),this._resolveCodeLensesScheduler=new N.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(C=>{(C.hasChanged(43)||C.hasChanged(16)||C.hasChanged(15))&&this._updateLensStyle(),C.hasChanged(14)&&this._onModelChange()})),this._disposables.add(f.CodeLensProviderRegistry.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,D.hash)(this._editor.getId()).toString(16),this._styleElement=y.createStyleSheet(y.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var h;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(h=this._currentCodeLensModel)===null||h===void 0||h.dispose(),this._styleElement.remove()}_getLayoutInfo(){let h=this._editor.getOption(16),g;return!h||h<5?(h=this._editor.getOption(45)*.9|0,g=this._editor.getOption(58)):g=h*Math.max(1.3,this._editor.getOption(58)/this._editor.getOption(45))|0,{codeLensHeight:g,fontSize:h}}_updateLensStyle(){const{codeLensHeight:h,fontSize:g}=this._getLayoutInfo(),w=this._editor.getOption(15),_=this._editor.getOption(43),C=`--codelens-font-family${this._styleClassName}`,v=`--codelens-font-features${this._styleClassName}`;let m=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${h}px; font-size: ${g}px; padding-right: ${Math.round(g*.5)}px; font-feature-settings: var(${v}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${h}px; font-size: ${g}px; }
		`;w&&(m+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${C})}`),this._styleElement.textContent=m,this._editor.getContainerDomNode().style.setProperty(C,w??"inherit"),this._editor.getContainerDomNode().style.setProperty(v,_.fontFeatureSettings),this._editor.changeViewZones(E=>{for(let I of this._lenses)I.updateHeight(h,E)})}_localDispose(){var h,g,w;(h=this._getCodeLensModelPromise)===null||h===void 0||h.cancel(),this._getCodeLensModelPromise=void 0,(g=this._resolveCodeLensesPromise)===null||g===void 0||g.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(w=this._currentCodeLensModel)===null||w===void 0||w.dispose()}_onModelChange(){this._localDispose();const h=this._editor.getModel();if(!h||!this._editor.getOption(14))return;const g=this._codeLensCache.get(h);if(g&&this._renderCodeLensSymbols(g),!f.CodeLensProviderRegistry.has(h)){g&&this._localToDispose.add((0,N.disposableTimeout)(()=>{const _=this._codeLensCache.get(h);g===_&&(this._codeLensCache.delete(h),this._onModelChange())},30*1e3));return}for(const _ of f.CodeLensProviderRegistry.all(h))if(typeof _.onDidChange=="function"){let C=_.onDidChange(()=>w.schedule());this._localToDispose.add(C)}const w=new N.RunOnceScheduler(()=>{var _;const C=Date.now();(_=this._getCodeLensModelPromise)===null||_===void 0||_.cancel(),this._getCodeLensModelPromise=(0,N.createCancelablePromise)(v=>(0,o.getCodeLensModel)(h,v)),this._getCodeLensModelPromise.then(v=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=v,this._codeLensCache.put(h,v);const m=this._getCodeLensModelDelays.update(h,Date.now()-C);w.delay=m,this._renderCodeLensSymbols(v),this._resolveCodeLensesInViewportSoon()},T.onUnexpectedError)},this._getCodeLensModelDelays.get(h));this._localToDispose.add(w),this._localToDispose.add((0,S.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(_=>{this._editor.changeViewZones(C=>{let v=[],m=-1;this._lenses.forEach(I=>{!I.isValid()||m===I.getLineNumber()?v.push(I):(I.update(C),m=I.getLineNumber())});let E=new c.CodeLensHelper;v.forEach(I=>{I.dispose(E,C),this._lenses.splice(this._lenses.indexOf(I),1)}),E.commit(_)})}),w.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{w.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(_=>{_.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,S.toDisposable)(()=>{if(this._editor.getModel()){const _=p.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(C=>{this._editor.changeViewZones(v=>{this._disposeAllLenses(C,v)})}),_.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(_=>{if(_.target.type!==9)return;let C=_.target.element;if((C==null?void 0:C.tagName)==="SPAN"&&(C=C.parentElement),(C==null?void 0:C.tagName)==="A")for(const v of this._lenses){let m=v.getCommand(C);if(m){this._commandService.executeCommand(m.id,...m.arguments||[]).catch(E=>this._notificationService.error(E));break}}})),w.schedule()}_disposeAllLenses(h,g){const w=new c.CodeLensHelper;for(const _ of this._lenses)_.dispose(w,g);h&&w.commit(h),this._lenses.length=0}_renderCodeLensSymbols(h){if(!this._editor.hasModel())return;let g=this._editor.getModel().getLineCount(),w=[],_;for(let m of h.lenses){let E=m.symbol.range.startLineNumber;E<1||E>g||(_&&_[_.length-1].symbol.range.startLineNumber===E?_.push(m):(_=[m],w.push(_)))}const C=p.StableEditorScrollState.capture(this._editor),v=this._getLayoutInfo();this._editor.changeDecorations(m=>{this._editor.changeViewZones(E=>{const I=new c.CodeLensHelper;let k=0,A=0;for(;A<w.length&&k<this._lenses.length;){let P=w[A][0].symbol.range.startLineNumber,F=this._lenses[k].getLineNumber();F<P?(this._lenses[k].dispose(I,E),this._lenses.splice(k,1)):F===P?(this._lenses[k].updateCodeLensSymbols(w[A],I),A++,k++):(this._lenses.splice(k,0,new c.CodeLensWidget(w[A],this._editor,this._styleClassName,I,E,v.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),k++,A++)}for(;k<this._lenses.length;)this._lenses[k].dispose(I,E),this._lenses.splice(k,1);for(;A<w.length;)this._lenses.push(new c.CodeLensWidget(w[A],this._editor,this._styleClassName,I,E,v.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),A++;I.commit(m)})}),C.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var h;(h=this._resolveCodeLensesPromise)===null||h===void 0||h.cancel(),this._resolveCodeLensesPromise=void 0;const g=this._editor.getModel();if(!g)return;const w=[],_=[];if(this._lenses.forEach(m=>{const E=m.computeIfNecessary(g);E&&(w.push(E),_.push(m))}),w.length===0)return;const C=Date.now(),v=(0,N.createCancelablePromise)(m=>{const E=w.map((I,k)=>{const A=new Array(I.length),P=I.map((F,M)=>!F.symbol.command&&typeof F.provider.resolveCodeLens=="function"?Promise.resolve(F.provider.resolveCodeLens(g,F.symbol,m)).then(R=>{A[M]=R},T.onUnexpectedExternalError):(A[M]=F.symbol,Promise.resolve(void 0)));return Promise.all(P).then(()=>{!m.isCancellationRequested&&!_[k].isDisposed()&&_[k].updateCommands(A)})});return Promise.all(E)});this._resolveCodeLensesPromise=v,this._resolveCodeLensesPromise.then(()=>{const m=this._resolveCodeLensesDelays.update(g,Date.now()-C);this._resolveCodeLensesScheduler.delay=m,this._currentCodeLensModel&&this._codeLensCache.put(g,this._currentCodeLensModel),this._oldCodeLensModels.clear(),v===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},m=>{(0,T.onUnexpectedError)(m),v===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getLenses(){return this._lenses}};t.ID="css.editor.codeLens",t=Fe([Ce(1,s.ICommandService),Ce(2,n.INotificationService),Ce(3,d.ICodeLensCache)],t),e.CodeLensContribution=t,(0,b.registerEditorContribution)(t.ID,t),(0,b.registerEditorAction)(class extends b.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:i.EditorContextKeys.hasCodeLensProvider,label:(0,u.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(h,g){return Me(this,void 0,void 0,function*(){if(!g.hasModel())return;const w=h.get(a.IQuickInputService),_=h.get(s.ICommandService),C=h.get(n.INotificationService),v=g.getSelection().positionLineNumber,m=g.getContribution(t.ID),E=[];for(let k of m.getLenses())if(k.getLineNumber()===v)for(let A of k.getItems()){const{command:P}=A.symbol;P&&E.push({label:P.title,command:P})}if(E.length===0)return;const I=yield w.pick(E,{canPickMany:!1});if(!!I)try{yield _.executeCommand(I.command.id,...I.command.arguments||[])}catch(k){C.error(k)}})}})}),define(te[275],ie([0,1,14,29,10,93,2,16,28,3,31,18,260,41]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorDetector=void 0;const c=500;let u=class bi extends S.Disposable{constructor(n,a,t){super();this._editor=n,this._codeEditorService=a,this._configurationService=t,this._localToDispose=this._register(new S.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(n.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(n.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(r.ColorProviderRegistry.onDidChange(()=>this.onModelChanged())),this._register(n.onDidChangeConfiguration(()=>{let l=this._isEnabled;this._isEnabled=this.isEnabled(),l!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const n=this._editor.getModel();if(!n)return!1;const a=n.getLanguageIdentifier(),t=this._configurationService.getValue(a.language);if(t&&typeof t=="object"){const l=t.colorDecorators;if(l&&l.enable!==void 0&&!l.enable)return l.enable}return this._editor.getOption(17)}static get(n){return n.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const n=this._editor.getModel();!n||!r.ColorProviderRegistry.has(n)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new y.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},bi.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=(0,y.createCancelablePromise)(n=>{const a=this._editor.getModel();return a?(0,o.getColors)(a,n):Promise.resolve([])}),this._computePromise.then(n=>{this.updateDecorations(n),this.updateColorDecorators(n),this._computePromise=null},T.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(n){const a=n.map(t=>({range:{startLineNumber:t.colorInfo.range.startLineNumber,startColumn:t.colorInfo.range.startColumn,endLineNumber:t.colorInfo.range.endLineNumber,endColumn:t.colorInfo.range.endColumn},options:f.ModelDecorationOptions.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,a),this._colorDatas=new Map,this._decorationsIds.forEach((t,l)=>this._colorDatas.set(t,n[l]))}updateColorDecorators(n){let a=[],t={};for(let l=0;l<n.length&&a.length<c;l++){const{red:h,green:g,blue:w,alpha:_}=n[l].colorInfo.color,C=new N.RGBA(Math.round(h*255),Math.round(g*255),Math.round(w*255),_);let v=(0,D.hash)(`rgba(${C.r},${C.g},${C.b},${C.a})`).toString(16),m=`rgba(${C.r}, ${C.g}, ${C.b}, ${C.a})`,E="colorBox-"+v;!this._decorationsTypes.has(E)&&!t[E]&&this._codeEditorService.registerDecorationType("color-detector-color",E,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:m},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),t[E]=!0,a.push({range:{startLineNumber:n[l].colorInfo.range.startLineNumber,startColumn:n[l].colorInfo.range.startColumn,endLineNumber:n[l].colorInfo.range.endLineNumber,endColumn:n[l].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(E,!0)})}this._decorationsTypes.forEach(l=>{t[l]||this._codeEditorService.removeDecorationType(l)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,a)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(n=>{this._codeEditorService.removeDecorationType(n)})}getColorData(n){const a=this._editor.getModel();if(!a)return null;const t=a.getDecorationsInRange(i.Range.fromPositions(n,n)).filter(l=>this._colorDatas.has(l.id));return t.length===0?null:this._colorDatas.get(t[0].id)}};u.ID="editor.contrib.colorDetector",u.RECOMPUTE_TIME=1e3,u=Fe([Ce(1,b.ICodeEditorService),Ce(2,d.IConfigurationService)],u),e.ColorDetector=u,(0,p.registerEditorContribution)(u.ID,u)}),define(te[644],ie([0,1,43,16,3,25,235,419,488,33]),function(q,e,y,N,T,D,S,p,b,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class f extends N.EditorAction{constructor(s,n){super(n);this._type=s}run(s,n){if(!n.hasModel())return;const a=n.getModel(),t=[],l=a.getOptions(),h=n.getOption(19),g=n.getSelections().map((_,C)=>({selection:_,index:C,ignoreFirstLine:!1}));g.sort((_,C)=>T.Range.compareRangesUsingStarts(_.selection,C.selection));let w=g[0];for(let _=1;_<g.length;_++){const C=g[_];w.selection.endLineNumber===C.selection.startLineNumber&&(w.index<C.index?C.ignoreFirstLine=!0:(w.ignoreFirstLine=!0,w=C))}for(const _ of g)t.push(new p.LineCommentCommand(_.selection,l.tabSize,this._type,h.insertSpace,h.ignoreEmptyLines,_.ignoreFirstLine));n.pushUndoStop(),n.executeCommands(this.id,t),n.pushUndoStop()}}class r extends f{constructor(){super(0,{id:"editor.action.commentLine",label:b.localize(0,null),alias:"Toggle Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:2048|85,weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"5_insert",title:b.localize(1,null),order:1}})}}class o extends f{constructor(){super(1,{id:"editor.action.addCommentLine",label:b.localize(2,null),alias:"Add Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2048|41,2048|33),weight:100}})}}class d extends f{constructor(){super(2,{id:"editor.action.removeCommentLine",label:b.localize(3,null),alias:"Remove Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2048|41,2048|51),weight:100}})}}class c extends N.EditorAction{constructor(){super({id:"editor.action.blockComment",label:b.localize(4,null),alias:"Toggle Block Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"5_insert",title:b.localize(5,null),order:2}})}run(s,n){if(!n.hasModel())return;const a=n.getOption(19),t=[],l=n.getSelections();for(const h of l)t.push(new S.BlockCommentCommand(h,a.insertSpace));n.pushUndoStop(),n.executeCommands(this.id,t),n.pushUndoStop()}}(0,N.registerEditorAction)(r),(0,N.registerEditorAction)(o),(0,N.registerEditorAction)(d),(0,N.registerEditorAction)(c)}),define(te[645],ie([0,1,7,120,51,2,17,16,25,489,33,15,70,40]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let c=class _i{constructor(n,a,t,l,h,g){this._contextMenuService=a,this._contextViewService=t,this._contextKeyService=l,this._keybindingService=h,this._menuService=g,this._toDispose=new D.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=n,this._toDispose.add(this._editor.onContextMenu(w=>this._onContextMenu(w))),this._toDispose.add(this._editor.onMouseWheel(w=>{if(this._contextMenuIsBeingShownCount>0){const _=this._contextViewService.getContextViewElement(),C=w.srcElement;C.shadowRoot&&y.getShadowRoot(_)===C.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(w=>{w.keyCode===58&&(w.preventDefault(),w.stopPropagation(),this.showContextMenu())}))}static get(n){return n.getContribution(_i.ID)}_onContextMenu(n){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),n.target.position&&!this._editor.getSelection().containsPosition(n.target.position)&&this._editor.setPosition(n.target.position);return}if(n.target.type===12||(n.event.preventDefault(),n.event.stopPropagation(),n.target.type!==6&&n.target.type!==7&&n.target.type!==1))return;if(this._editor.focus(),n.target.position){let t=!1;for(const l of this._editor.getSelections())if(l.containsPosition(n.target.position)){t=!0;break}t||this._editor.setPosition(n.target.position)}let a=null;n.target.type!==1&&(a={x:n.event.posx-1,width:2,y:n.event.posy-1,height:2}),this.showContextMenu(a)}showContextMenu(n){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}const a=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?f.MenuId.SimpleEditorContext:f.MenuId.EditorContext);a.length>0&&this._doShowContextMenu(a,n)}_getMenuActions(n,a){const t=[],l=this._menuService.createMenu(a,this._contextKeyService),h=l.getActions({arg:n.uri});l.dispose();for(let g of h){const[,w]=g;let _=0;for(const C of w)if(C instanceof f.SubmenuItemAction){const v=this._getMenuActions(n,C.item.submenu);v.length>0&&(t.push(new T.SubmenuAction(C.id,C.label,v)),_++)}else t.push(C),_++;_&&t.push(new T.Separator)}return t.length&&t.pop(),t}_doShowContextMenu(n,a=null){if(!this._editor.hasModel())return;const t=this._editor.getOption(52);if(this._editor.updateOptions({hover:{enabled:!1}}),!a){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const h=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),g=y.getDomNodePagePosition(this._editor.getDomNode()),w=g.left+h.left,_=g.top+h.top+h.height;a={x:w,y:_}}const l=this._editor.getOption(113)&&!S.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:l?this._editor.getDomNode():void 0,getAnchor:()=>a,getActions:()=>n,getActionViewItem:h=>{const g=this._keybindingFor(h);if(g)return new N.ActionViewItem(h,h,{label:!0,keybinding:g.getLabel(),isMenu:!0});const w=h;return typeof w.getActionViewItem=="function"?w.getActionViewItem():new N.ActionViewItem(h,h,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:h=>this._keybindingFor(h),onHide:h=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:t})}})}_keybindingFor(n){return this._keybindingService.lookupKeybinding(n.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};c.ID="editor.contrib.contextmenu",c=Fe([Ce(1,o.IContextMenuService),Ce(2,o.IContextViewService),Ce(3,r.IContextKeyService),Ce(4,d.IKeybindingService),Ce(5,f.IMenuService)],c),e.ContextMenuController=c;class u extends p.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:i.localize(0,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.textInputFocus,primary:1024|68,weight:100}})}run(n,a){c.get(a).showContextMenu()}}(0,p.registerEditorContribution)(c.ID,c),(0,p.registerEditorAction)(u)}),define(te[646],ie([0,1,2,16,25,490]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class S{constructor(o){this.selections=o}equals(o){const d=this.selections.length,c=o.selections.length;if(d!==c)return!1;for(let u=0;u<d;u++)if(!this.selections[u].equalsSelection(o.selections[u]))return!1;return!0}}class p{constructor(o,d,c){this.cursorState=o,this.scrollTop=d,this.scrollLeft=c}}class b extends y.Disposable{constructor(o){super();this._editor=o,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(o.onDidChangeModel(d=>{this._undoStack=[],this._redoStack=[]})),this._register(o.onDidChangeModelContent(d=>{this._undoStack=[],this._redoStack=[]})),this._register(o.onDidChangeCursorSelection(d=>{if(this._isCursorUndoRedo||!d.oldSelections||d.oldModelVersionId!==d.modelVersionId)return;const c=new S(d.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(c)||(this._undoStack.push(new p(c,o.getScrollTop(),o.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(o){return o.getContribution(b.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new p(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new p(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(o){this._isCursorUndoRedo=!0,this._editor.setSelections(o.cursorState.selections),this._editor.setScrollPosition({scrollTop:o.scrollTop,scrollLeft:o.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=b,b.ID="editor.contrib.cursorUndoRedoController";class i extends N.EditorAction{constructor(){super({id:"cursorUndo",label:D.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:T.EditorContextKeys.textInputFocus,primary:2048|51,weight:100}})}run(o,d,c){b.get(d).cursorUndo()}}e.CursorUndo=i;class f extends N.EditorAction{constructor(){super({id:"cursorRedo",label:D.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(o,d,c){b.get(d).cursorRedo()}}e.CursorRedo=f,(0,N.registerEditorContribution)(b.ID,b),(0,N.registerEditorAction)(i),(0,N.registerEditorAction)(f)}),define(te[647],ie([0,1,2,17,16,13,3,21,31,420,357]),function(q,e,y,N,T,D,S,p,b,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function f(o){return N.isMacintosh?o.altKey:o.ctrlKey}class r extends y.Disposable{constructor(d){super();this._editor=d,this._register(this._editor.onMouseDown(c=>this._onEditorMouseDown(c))),this._register(this._editor.onMouseUp(c=>this._onEditorMouseUp(c))),this._register(this._editor.onMouseDrag(c=>this._onEditorMouseDrag(c))),this._register(this._editor.onMouseDrop(c=>this._onEditorMouseDrop(c))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(c=>this.onEditorKeyDown(c))),this._register(this._editor.onKeyUp(c=>this.onEditorKeyUp(c))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(d){!this._editor.getOption(31)||this._editor.getOption(18)||(f(d)&&(this._modifierPressed=!0),this._mouseDown&&f(d)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(d){!this._editor.getOption(31)||this._editor.getOption(18)||(f(d)&&(this._modifierPressed=!1),this._mouseDown&&d.keyCode===r.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(d){this._mouseDown=!0}_onEditorMouseUp(d){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(d){let c=d.target;if(this._dragSelection===null){let s=(this._editor.getSelections()||[]).filter(n=>c.position&&n.containsPosition(c.position));if(s.length===1)this._dragSelection=s[0];else return}f(d.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),c.position&&(this._dragSelection.containsPosition(c.position)?this._removeDecoration():this.showAt(c.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(d){if(d.target&&(this._hitContent(d.target)||this._hitMargin(d.target))&&d.target.position){let c=new D.Position(d.target.position.lineNumber,d.target.position.column);if(this._dragSelection===null){let u=null;if(d.event.shiftKey){let s=this._editor.getSelection();if(s){const{selectionStartLineNumber:n,selectionStartColumn:a}=s;u=[new p.Selection(n,a,c.lineNumber,c.column)]}}else u=(this._editor.getSelections()||[]).map(s=>s.containsPosition(c)?new p.Selection(c.lineNumber,c.column,c.lineNumber,c.column):s);this._editor.setSelections(u||[],"mouse",3)}else(!this._dragSelection.containsPosition(c)||(f(d.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(c)||this._dragSelection.getStartPosition().equals(c)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(r.ID,new i.DragAndDropCommand(this._dragSelection,c,f(d.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(d){let c=[{range:new S.Range(d.lineNumber,d.column,d.lineNumber,d.column),options:r._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,c),this._editor.revealPosition(d,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(d){return d.type===6||d.type===7}_hitMargin(d){return d.type===2||d.type===3||d.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=r,r.ID="editor.contrib.dragAndDrop",r.TRIGGER_KEY_VALUE=N.isMacintosh?6:5,r._DECORATION_OPTIONS=b.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,T.registerEditorContribution)(r.ID,r)}),define(te[648],ie([0,1,16,136,495]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends y.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:T.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(i,f){N.EditorZoom.setZoomLevel(N.EditorZoom.getZoomLevel()+1)}}class S extends y.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:T.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(i,f){N.EditorZoom.setZoomLevel(N.EditorZoom.getZoomLevel()-1)}}class p extends y.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:T.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(i,f){N.EditorZoom.setZoomLevel(0)}}(0,y.registerEditorAction)(D),(0,y.registerEditorAction)(S),(0,y.registerEditorAction)(p)}),define(te[276],ie([0,1,45,19,23,10,54,73,20,24,66,113,13,3,21,18,77,39,237,496,26,556,9]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function w(F){if(F=F.filter(L=>L.range),!F.length)return;let{range:M}=F[0];for(let L=1;L<F.length;L++)M=d.Range.plusRange(M,F[L].range);const{startLineNumber:R,endLineNumber:O}=M;R===O?F.length===1?(0,y.alert)(t.localize(0,null,R)):(0,y.alert)(t.localize(1,null,F.length,R)):F.length===1?(0,y.alert)(t.localize(2,null,R,O)):(0,y.alert)(t.localize(3,null,F.length,R,O))}e.alertFormattingEdits=w;function _(F){const M=[],R=new Set,O=u.DocumentFormattingEditProviderRegistry.ordered(F);for(const B of O)M.push(B),B.extensionId&&R.add(h.ExtensionIdentifier.toKey(B.extensionId));const L=u.DocumentRangeFormattingEditProviderRegistry.ordered(F);for(const B of L){if(B.extensionId){if(R.has(h.ExtensionIdentifier.toKey(B.extensionId)))continue;R.add(h.ExtensionIdentifier.toKey(B.extensionId))}M.push({displayName:B.displayName,extensionId:B.extensionId,provideDocumentFormattingEdits(z,$,j){return B.provideDocumentRangeFormattingEdits(z,z.getFullModelRange(),$,j)}})}return M}e.getRealAndSyntheticDocumentFormattersOrdered=_;class C{static setFormatterSelector(M){return{dispose:C._selectors.unshift(M)}}static select(M,R,O){return Me(this,void 0,void 0,function*(){if(M.length===0)return;const L=S.Iterable.first(C._selectors);if(L)return yield L(M,R,O)})}}e.FormattingConflicts=C,C._selectors=new p.LinkedList;function v(F,M,R,O,L,B){return Me(this,void 0,void 0,function*(){const z=F.get(g.IInstantiationService),$=(0,r.isCodeEditor)(M)?M.getModel():M,j=u.DocumentRangeFormattingEditProviderRegistry.ordered($),X=yield C.select(j,$,O);X&&(L.report(X),yield z.invokeFunction(m,X,M,R,B))})}e.formatDocumentRangesWithSelectedProvider=v;function m(F,M,R,O,L){return Me(this,void 0,void 0,function*(){const B=F.get(s.IEditorWorkerService);let z,$;(0,r.isCodeEditor)(R)?(z=R.getModel(),$=new f.EditorStateCancellationTokenSource(R,1|4,void 0,L)):(z=R,$=new f.TextModelCancellationTokenSource(R,L));let j=[],X=0;for(let K of(0,N.asArray)(O).sort(d.Range.compareRangesUsingStarts))X>0&&d.Range.areIntersectingOrTouching(j[X-1],K)?j[X-1]=d.Range.fromPositions(j[X-1].getStartPosition(),K.getEndPosition()):X=j.push(K);const Q=K=>Me(this,void 0,void 0,function*(){return(yield M.provideDocumentRangeFormattingEdits(z,K,z.getFormattingOptions(),$.token))||[]}),Y=(K,x)=>{if(!K.length||!x.length)return!1;const U=K.reduce((H,V)=>d.Range.plusRange(H,V.range),K[0].range);if(!x.some(H=>d.Range.intersectRanges(U,H.range)))return!1;for(let H of K)for(let V of x)if(d.Range.intersectRanges(H.range,V.range))return!0;return!1},oe=[],se=[];try{for(let K of j){if($.token.isCancellationRequested)return!0;se.push(yield Q(K))}for(let K=0;K<j.length;++K)for(let x=K+1;x<j.length;++x){if($.token.isCancellationRequested)return!0;if(Y(se[K],se[x])){const U=d.Range.plusRange(j[K],j[x]),H=yield Q(U);j.splice(x,1),j.splice(K,1),j.push(U),se.splice(x,1),se.splice(K,1),se.push(H),K=0,x=0}}for(let K of se){if($.token.isCancellationRequested)return!0;const x=yield B.computeMoreMinimalEdits(z.uri,K);x&&oe.push(...x)}}finally{$.dispose()}if(oe.length===0)return!1;if((0,r.isCodeEditor)(R))a.FormattingEdit.execute(R,oe,!0),w(oe),R.revealPositionInCenterIfOutsideViewport(R.getPosition(),1);else{const[{range:K}]=oe,x=new c.Selection(K.startLineNumber,K.startColumn,K.endLineNumber,K.endColumn);z.pushEditOperations([x],oe.map(U=>({text:U.text,range:d.Range.lift(U.range),forceMoveMarkers:!0})),U=>{for(const{range:H}of U)if(d.Range.areIntersectingOrTouching(H,x))return[new c.Selection(H.startLineNumber,H.startColumn,H.endLineNumber,H.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=m;function E(F,M,R,O,L){return Me(this,void 0,void 0,function*(){const B=F.get(g.IInstantiationService),z=(0,r.isCodeEditor)(M)?M.getModel():M,$=_(z),j=yield C.select($,z,R);j&&(O.report(j),yield B.invokeFunction(I,j,M,R,L))})}e.formatDocumentWithSelectedProvider=E;function I(F,M,R,O,L){return Me(this,void 0,void 0,function*(){const B=F.get(s.IEditorWorkerService);let z,$;(0,r.isCodeEditor)(R)?(z=R.getModel(),$=new f.EditorStateCancellationTokenSource(R,1|4,void 0,L)):(z=R,$=new f.TextModelCancellationTokenSource(R,L));let j;try{const X=yield M.provideDocumentFormattingEdits(z,z.getFormattingOptions(),$.token);if(j=yield B.computeMoreMinimalEdits(z.uri,X),$.token.isCancellationRequested)return!0}finally{$.dispose()}if(!j||j.length===0)return!1;if((0,r.isCodeEditor)(R))a.FormattingEdit.execute(R,j,O!==2),O!==2&&(w(j),R.revealPositionInCenterIfOutsideViewport(R.getPosition(),1));else{const[{range:X}]=j,Q=new c.Selection(X.startLineNumber,X.startColumn,X.endLineNumber,X.endColumn);z.pushEditOperations([Q],j.map(Y=>({text:Y.text,range:d.Range.lift(Y.range),forceMoveMarkers:!0})),Y=>{for(const{range:oe}of Y)if(d.Range.areIntersectingOrTouching(oe,Q))return[new c.Selection(oe.startLineNumber,oe.startColumn,oe.endLineNumber,oe.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=I;function k(F,M,R,O,L){return Me(this,void 0,void 0,function*(){const B=u.DocumentRangeFormattingEditProviderRegistry.ordered(M);for(const z of B){let $=yield Promise.resolve(z.provideDocumentRangeFormattingEdits(M,R,O,L)).catch(D.onUnexpectedExternalError);if((0,N.isNonEmptyArray)($))return yield F.computeMoreMinimalEdits(M.uri,$)}})}e.getDocumentRangeFormattingEditsUntilResult=k;function A(F,M,R,O){return Me(this,void 0,void 0,function*(){const L=_(M);for(const B of L){let z=yield Promise.resolve(B.provideDocumentFormattingEdits(M,R,O)).catch(D.onUnexpectedExternalError);if((0,N.isNonEmptyArray)(z))return yield F.computeMoreMinimalEdits(M.uri,z)}})}e.getDocumentFormattingEditsUntilResult=A;function P(F,M,R,O,L){const B=u.OnTypeFormattingEditProviderRegistry.ordered(M);return B.length===0||B[0].autoFormatTriggerCharacters.indexOf(O)<0?Promise.resolve(void 0):Promise.resolve(B[0].provideOnTypeFormattingEdits(M,R,O,L,T.CancellationToken.None)).catch(D.onUnexpectedExternalError).then(z=>F.computeMoreMinimalEdits(M.uri,z))}e.getOnTypeFormattingEdits=P,l.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(F,...M){const[R,O,L]=M;(0,b.assertType)(i.URI.isUri(R)),(0,b.assertType)(d.Range.isIRange(O));const B=F.get(n.IModelService).getModel(R);if(!B)throw(0,D.illegalArgument)("resource");return k(F.get(s.IEditorWorkerService),B,d.Range.lift(O),L,T.CancellationToken.None)}),l.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(F,...M){const[R,O]=M;(0,b.assertType)(i.URI.isUri(R));const L=F.get(n.IModelService).getModel(R);if(!L)throw(0,D.illegalArgument)("resource");return A(F.get(s.IEditorWorkerService),L,O,T.CancellationToken.None)}),l.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(F,...M){const[R,O,L,B]=M;(0,b.assertType)(i.URI.isUri(R)),(0,b.assertType)(o.Position.isIPosition(O)),(0,b.assertType)(typeof L=="string");const z=F.get(n.IModelService).getModel(R);if(!z)throw(0,D.illegalArgument)("resource");return P(F.get(s.IEditorWorkerService),z,o.Position.lift(O),L,B)})}),define(te[649],ie([0,1,19,23,10,43,2,16,28,95,3,25,18,77,276,237,497,26,15,9,61]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let h=class{constructor(v,m){this._workerService=m,this._callOnDispose=new S.DisposableStore,this._callOnModel=new S.DisposableStore,this._editor=v,this._callOnDispose.add(v.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(v.onDidChangeModel(()=>this._update())),this._callOnDispose.add(v.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(o.OnTypeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(48)||!this._editor.hasModel())return;const v=this._editor.getModel(),[m]=o.OnTypeFormattingEditProviderRegistry.ordered(v);if(!m||!m.autoFormatTriggerCharacters)return;let E=new i.CharacterSet;for(let I of m.autoFormatTriggerCharacters)E.add(I.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(I=>{let k=I.charCodeAt(I.length-1);E.has(k)&&this._trigger(String.fromCharCode(k))}))}_trigger(v){if(!this._editor.hasModel()||this._editor.getSelections().length>1)return;const m=this._editor.getModel(),E=this._editor.getPosition();let I=!1;const k=this._editor.onDidChangeModelContent(A=>{if(A.isFlush){I=!0,k.dispose();return}for(let P=0,F=A.changes.length;P<F;P++)if(A.changes[P].range.endLineNumber<=E.lineNumber){I=!0,k.dispose();return}});(0,c.getOnTypeFormattingEdits)(this._workerService,m,E,v,m.getFormattingOptions()).then(A=>{k.dispose(),!I&&(0,y.isNonEmptyArray)(A)&&(u.FormattingEdit.execute(this._editor,A,!0),(0,c.alertFormattingEdits)(A))},A=>{throw k.dispose(),A})}};h.ID="editor.contrib.autoFormat",h=Fe([Ce(1,d.IEditorWorkerService)],h);let g=class{constructor(v,m){this.editor=v,this._instantiationService=m,this._callOnDispose=new S.DisposableStore,this._callOnModel=new S.DisposableStore,this._callOnDispose.add(v.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(v.onDidChangeModel(()=>this._update())),this._callOnDispose.add(v.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(o.DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),!!this.editor.getOption(47)&&(!this.editor.hasModel()||!o.DocumentRangeFormattingEditProviderRegistry.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:v})=>this._trigger(v))))}_trigger(v){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(c.formatDocumentRangesWithSelectedProvider,this.editor,v,2,l.Progress.None,N.CancellationToken.None).catch(T.onUnexpectedError)}};g.ID="editor.contrib.formatOnPaste",g=Fe([Ce(1,t.IInstantiationService)],g);class w extends p.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:s.localize(0,null),alias:"Format Document",precondition:a.ContextKeyExpr.and(r.EditorContextKeys.notInCompositeEditor,r.EditorContextKeys.writable,r.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(v,m){return Me(this,void 0,void 0,function*(){if(m.hasModel()){const E=v.get(t.IInstantiationService);yield v.get(l.IEditorProgressService).showWhile(E.invokeFunction(c.formatDocumentWithSelectedProvider,m,1,l.Progress.None,N.CancellationToken.None),250)}})}}class _ extends p.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:s.localize(1,null),alias:"Format Selection",precondition:a.ContextKeyExpr.and(r.EditorContextKeys.writable,r.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2048|41,2048|36),weight:100},contextMenuOpts:{when:r.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(v,m){return Me(this,void 0,void 0,function*(){if(!m.hasModel())return;const E=v.get(t.IInstantiationService),I=m.getModel(),k=m.getSelections().map(P=>P.isEmpty()?new f.Range(P.startLineNumber,1,P.startLineNumber,I.getLineMaxColumn(P.startLineNumber)):P);yield v.get(l.IEditorProgressService).showWhile(E.invokeFunction(c.formatDocumentRangesWithSelectedProvider,m,k,1,l.Progress.None,N.CancellationToken.None),250)})}}(0,p.registerEditorContribution)(h.ID,h),(0,p.registerEditorContribution)(g.ID,g),(0,p.registerEditorAction)(w),(0,p.registerEditorAction)(_),n.CommandsRegistry.registerCommand("editor.action.format",C=>Me(void 0,void 0,void 0,function*(){const v=C.get(b.ICodeEditorService).getFocusedCodeEditor();if(!v||!v.hasModel())return;const m=C.get(n.ICommandService);v.getSelection().isEmpty()?yield m.executeCommand("editor.action.formatDocument"):yield m.executeCommand("editor.action.formatSelection")}))}),define(te[277],ie([0,1,23,10,16,18,121]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function p(c,u,s,n){const t=s.ordered(c).map(l=>Promise.resolve(n(l,c,u)).then(void 0,h=>{(0,N.onUnexpectedExternalError)(h)}));return Promise.all(t).then(l=>{const h=[];for(let g of l)Array.isArray(g)?h.push(...g):g&&h.push(g);return h})}function b(c,u,s){return p(c,u,D.DefinitionProviderRegistry,(n,a,t)=>n.provideDefinition(a,t,s))}e.getDefinitionsAtPosition=b;function i(c,u,s){return p(c,u,D.DeclarationProviderRegistry,(n,a,t)=>n.provideDeclaration(a,t,s))}e.getDeclarationsAtPosition=i;function f(c,u,s){return p(c,u,D.ImplementationProviderRegistry,(n,a,t)=>n.provideImplementation(a,t,s))}e.getImplementationsAtPosition=f;function r(c,u,s){return p(c,u,D.TypeDefinitionProviderRegistry,(n,a,t)=>n.provideTypeDefinition(a,t,s))}e.getTypeDefinitionsAtPosition=r;function o(c,u,s,n){return p(c,u,D.ReferenceProviderRegistry,(a,t,l)=>Me(this,void 0,void 0,function*(){const h=yield a.provideReferences(t,l,{includeDeclaration:!0},n);if(!s||!h||h.length!==2)return h;const g=yield a.provideReferences(t,l,{includeDeclaration:!1},n);return g&&g.length===1?g:h}))}e.getReferencesAtPosition=o;function d(c){return Me(this,void 0,void 0,function*(){const u=yield c(),s=new S.ReferencesModel(u,""),n=s.references.map(a=>a.link);return s.dispose(),n})}(0,T.registerModelAndPositionCommand)("_executeDefinitionProvider",(c,u)=>d(()=>b(c,u,y.CancellationToken.None))),(0,T.registerModelAndPositionCommand)("_executeDeclarationProvider",(c,u)=>d(()=>i(c,u,y.CancellationToken.None))),(0,T.registerModelAndPositionCommand)("_executeImplementationProvider",(c,u)=>d(()=>f(c,u,y.CancellationToken.None))),(0,T.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(c,u)=>d(()=>r(c,u,y.CancellationToken.None))),(0,T.registerModelAndPositionCommand)("_executeReferenceProvider",(c,u)=>d(()=>o(c,u,!1,y.CancellationToken.None)))}),define(te[650],ie([0,1,6,2,44,16,28,3,506,15,76,9,40,80,35]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new i.RawContextKey("hasSymbols",!1,(0,b.localize)(0,null)),e.ISymbolNavigationService=(0,r.createDecorator)("ISymbolNavigationService");let u=class{constructor(a,t,l,h){this._editorService=t,this._notificationService=l,this._keybindingService=h,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(a)}reset(){var a,t;this._ctxHasSymbols.reset(),(a=this._currentState)===null||a===void 0||a.dispose(),(t=this._currentMessage)===null||t===void 0||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(a){const t=a.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(a),this._ctxHasSymbols.set(!0),this._showMessage();const l=new s(this._editorService),h=l.onDidChange(g=>{if(this._ignoreEditorChange)return;const w=this._editorService.getActiveCodeEditor();if(!w)return;const _=w.getModel(),C=w.getPosition();if(!_||!C)return;let v=!1,m=!1;for(const E of t.references)if((0,T.isEqual)(E.uri,_.uri))v=!0,m=m||p.Range.containsPosition(E.range,C);else if(v)break;(!v||!m)&&this.reset()});this._currentState=(0,N.combinedDisposable)(l,h)}revealNext(a){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:p.Range.collapseToStart(t.range),selectionRevealType:3}},a).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var a;(a=this._currentMessage)===null||a===void 0||a.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),l=t?(0,b.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,t.getLabel()):(0,b.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(l)}};u=Fe([Ce(0,i.IContextKeyService),Ce(1,S.ICodeEditorService),Ce(2,c.INotificationService),Ce(3,o.IKeybindingService)],u),(0,f.registerSingleton)(e.ISymbolNavigationService,u,!0),(0,D.registerEditorCommand)(new class extends D.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(n,a){return n.get(e.ISymbolNavigationService).revealNext(a)}}),d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(n){n.get(e.ISymbolNavigationService).reset()}});let s=class{constructor(a){this._listener=new Map,this._disposables=new N.DisposableStore,this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(a.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(a.onCodeEditorAdd(this._onDidAddEditor,this)),a.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,N.dispose)(this._listener.values())}_onDidAddEditor(a){this._listener.set(a,(0,N.combinedDisposable)(a.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:a})),a.onDidChangeModelContent(t=>this._onDidChange.fire({editor:a}))))}_onDidRemoveEditor(a){var t;(t=this._listener.get(a))===null||t===void 0||t.dispose(),this._listener.delete(a)}};s=Fe([Ce(0,S.ICodeEditorService)],s)}),define(te[651],ie([0,1,23,29,2,3,260,275,418,619,12]),function(q,e,y,N,T,D,S,p,b,i,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorHoverParticipant=e.ColorHover=void 0;class r{constructor(c,u,s,n){this.owner=c,this.range=u,this.model=s,this.provider=n,this.forceShowAtRange=!0}isValidForHoverAnchor(c){return c.type===1&&this.range.startColumn<=c.range.startColumn&&this.range.endColumn>=c.range.endColumn}}e.ColorHover=r;let o=class{constructor(c,u,s){this._editor=c,this._hover=u,this._themeService=s}computeSync(c,u){return[]}computeAsync(c,u,s){return Me(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const n=p.ColorDetector.get(this._editor);for(const a of u){const t=n.getColorData(a.range.getStartPosition());if(t)return[yield this._createColorHover(this._editor.getModel(),t.colorInfo,t.provider)]}return[]})}_createColorHover(c,u,s){return Me(this,void 0,void 0,function*(){const n=c.getValueInRange(u.range),{red:a,green:t,blue:l,alpha:h}=u.color,g=new N.RGBA(Math.round(a*255),Math.round(t*255),Math.round(l*255),h),w=new N.Color(g),_=yield(0,S.getColorPresentations)(c,u,s,y.CancellationToken.None),C=new b.ColorPickerModel(w,[],0);return C.colorPresentations=_||[],C.guessColorPresentation(w,n),new r(this,D.Range.lift(u.range),C,s)})}renderHoverParts(c,u,s){if(c.length===0||!this._editor.hasModel())return T.Disposable.None;const n=new T.DisposableStore,a=c[0],t=this._editor.getModel(),l=a.model,h=n.add(new i.ColorPickerWidget(u,l,this._editor.getOption(127),this._themeService));let g=new D.Range(a.range.startLineNumber,a.range.startColumn,a.range.endLineNumber,a.range.endColumn);const w=()=>{let C,v;if(l.presentation.textEdit){C=[l.presentation.textEdit],v=new D.Range(l.presentation.textEdit.range.startLineNumber,l.presentation.textEdit.range.startColumn,l.presentation.textEdit.range.endLineNumber,l.presentation.textEdit.range.endColumn);const m=this._editor.getModel()._setTrackedRange(null,v,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",C),v=this._editor.getModel()._getTrackedRange(m)||v}else C=[{identifier:null,range:g,text:l.presentation.label,forceMoveMarkers:!1}],v=g.setEndPosition(g.endLineNumber,g.startColumn+l.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",C);l.presentation.additionalTextEdits&&(C=[...l.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",C),this._hover.hide()),this._editor.pushUndoStop(),g=v},_=C=>(0,S.getColorPresentations)(t,{range:g,color:{red:C.rgba.r/255,green:C.rgba.g/255,blue:C.rgba.b/255,alpha:C.rgba.a}},a.provider,y.CancellationToken.None).then(v=>{l.colorPresentations=v||[]});return n.add(l.onColorFlushed(C=>{_(C).then(w)})),n.add(l.onDidChangeColor(_)),this._hover.setColorPicker(h),n}};o=Fe([Ce(2,f.IThemeService)],o),e.ColorHoverParticipant=o}),define(te[652],ie([0,1,19,23,10,16,18]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHover=void 0;function p(i,f,r){const d=S.HoverProviderRegistry.ordered(i).map(c=>Promise.resolve(c.provideHover(i,f,r)).then(u=>u&&b(u)?u:void 0,u=>{(0,T.onUnexpectedExternalError)(u)}));return Promise.all(d).then(y.coalesce)}e.getHover=p,(0,D.registerModelAndPositionCommand)("_executeHoverProvider",(i,f)=>p(i,f,N.CancellationToken.None));function b(i){const f=typeof i.range!="undefined",r=typeof i.contents!="undefined"&&i.contents&&i.contents.length>0;return f&&r}}),define(te[653],ie([0,1,7,19,68,2,125,13,3,18,56,652,508,41,57]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const u=y.$;class s{constructor(t,l,h){this.owner=t,this.range=l,this.contents=h}isValidForHoverAnchor(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}}e.MarkdownHover=s;let n=class{constructor(t,l,h,g,w){this._editor=t,this._hover=l,this._modeService=h,this._openerService=g,this._configurationService=w}createLoadingMessage(t){return new s(this,t.range,[new T.MarkdownString().appendText(o.localize(0,null))])}computeSync(t,l){if(!this._editor.hasModel()||t.type!==1)return[];const h=this._editor.getModel(),g=t.range.startLineNumber,w=h.getLineMaxColumn(g),_=[];for(const m of l){const E=m.range.startLineNumber===g?m.range.startColumn:1,I=m.range.endLineNumber===g?m.range.endColumn:w,k=m.options.hoverMessage;if(!k||(0,T.isEmptyMarkdownString)(k))continue;const A=new b.Range(t.range.startLineNumber,E,t.range.startLineNumber,I);_.push(new s(this,A,(0,N.asArray)(k)))}const C=this._editor.getModel().getLineLength(g),v=this._configurationService.getValue("editor.maxTokenizationLineLength");return typeof v=="number"&&C>=v&&_.push(new s(this,new b.Range(g,1,g,C+1),[{value:o.localize(1,null)}])),_}computeAsync(t,l,h){return Me(this,void 0,void 0,function*(){if(!this._editor.hasModel()||t.type!==1)return Promise.resolve([]);const g=this._editor.getModel();if(!i.HoverProviderRegistry.has(g))return Promise.resolve([]);const w=yield(0,r.getHover)(g,new p.Position(t.range.startLineNumber,t.range.startColumn),h),_=[];for(const C of w){if((0,T.isEmptyMarkdownString)(C.contents))continue;const v=C.range?b.Range.lift(C.range):t.range;_.push(new s(this,v,C.contents))}return _})}renderHoverParts(t,l,h){const g=new D.DisposableStore;for(const w of t)for(const _ of w.contents){if((0,T.isEmptyMarkdownString)(_))continue;const C=u("div.hover-row.markdown-hover"),v=y.append(C,u("div.hover-contents")),m=g.add(new S.MarkdownRenderer({editor:this._editor},this._modeService,this._openerService));g.add(m.onDidRenderAsync(()=>{v.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const E=g.add(m.render(_));v.appendChild(E.element),l.appendChild(C)}return g}};n=Fe([Ce(2,f.IModeService),Ce(3,c.IOpenerService),Ce(4,d.IConfigurationService)],n),e.MarkdownHoverParticipant=n}),define(te[654],ie([0,1,14,10,66,16,3,21,25,31,77,46,510,12,426]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let u=class Ht{constructor(t,l){this.decorationIds=[],this.editor=t,this.editorWorkerService=l}static get(t){return t.getContribution(Ht.ID)}dispose(){}run(t,l){this.currentRequest&&this.currentRequest.cancel();const h=this.editor.getSelection(),g=this.editor.getModel();if(!g||!h)return;let w=h;if(w.startLineNumber!==w.endLineNumber)return;const _=new T.EditorState(this.editor,1|4),C=g.uri;return this.editorWorkerService.canNavigateValueSet(C)?(this.currentRequest=(0,y.createCancelablePromise)(v=>this.editorWorkerService.navigateValueSet(C,w,l)),this.currentRequest.then(v=>{if(!v||!v.range||!v.value||!_.validate(this.editor))return;let m=S.Range.lift(v.range),E=v.range,I=v.value.length-(w.endColumn-w.startColumn);E={startLineNumber:E.startLineNumber,startColumn:E.startColumn,endLineNumber:E.endLineNumber,endColumn:E.startColumn+v.value.length},I>1&&(w=new p.Selection(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn+I-1));const k=new c.InPlaceReplaceCommand(m,w,v.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,k),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:E,options:Ht.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,y.timeout)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(N.onUnexpectedError)}).catch(N.onUnexpectedError)):Promise.resolve(void 0)}};u.ID="editor.contrib.inPlaceReplaceController",u.DECORATION=i.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),u=Fe([Ce(1,f.IEditorWorkerService)],u);class s extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:o.localize(0,null),alias:"Replace with Previous Value",precondition:b.EditorContextKeys.writable,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2048|1024|82,weight:100}})}run(t,l){const h=u.get(l);return h?h.run(this.id,!0):Promise.resolve(void 0)}}class n extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:o.localize(1,null),alias:"Replace with Next Value",precondition:b.EditorContextKeys.writable,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2048|1024|84,weight:100}})}run(t,l){const h=u.get(l);return h?h.run(this.id,!1):Promise.resolve(void 0)}}(0,D.registerEditorContribution)(u.ID,u),(0,D.registerEditorAction)(s),(0,D.registerEditorAction)(n),(0,d.registerThemingParticipant)((a,t)=>{const l=a.getColor(r.editorBracketMatchBorder);l&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${l}; }`)})}),define(te[655],ie([0,1,2,8,16,192,59,3,21,25,31,38,39,241,511,79]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function s(k,A,P,F){if(k.getLineCount()===1&&k.getLineMaxColumn(1)===1)return[];let M=r.LanguageConfigurationRegistry.getIndentationRules(k.getLanguageIdentifier().id);if(!M)return[];for(P=Math.min(P,k.getLineCount());A<=P&&M.unIndentedLinePattern;){let oe=k.getLineContent(A);if(!M.unIndentedLinePattern.test(oe))break;A++}if(A>P-1)return[];const{tabSize:R,indentSize:O,insertSpaces:L}=k.getOptions(),B=(oe,se)=>(se=se||1,D.ShiftCommand.shiftIndent(oe,oe.length+se,R,O,L)),z=(oe,se)=>(se=se||1,D.ShiftCommand.unshiftIndent(oe,oe.length+se,R,O,L));let $=[],j,X=k.getLineContent(A),Q=X;if(F!=null){j=F;let oe=N.getLeadingWhitespace(X);Q=j+X.substring(oe.length),M.decreaseIndentPattern&&M.decreaseIndentPattern.test(Q)&&(j=z(j),Q=j+X.substring(oe.length)),X!==Q&&$.push(S.EditOperation.replaceMove(new b.Selection(A,1,A,oe.length+1),f.TextModel.normalizeIndentation(j,O,L)))}else j=N.getLeadingWhitespace(X);let Y=j;M.increaseIndentPattern&&M.increaseIndentPattern.test(Q)?(Y=B(Y),j=B(j)):M.indentNextLinePattern&&M.indentNextLinePattern.test(Q)&&(Y=B(Y)),A++;for(let oe=A;oe<=P;oe++){let se=k.getLineContent(oe),K=N.getLeadingWhitespace(se),x=Y+se.substring(K.length);M.decreaseIndentPattern&&M.decreaseIndentPattern.test(x)&&(Y=z(Y),j=z(j)),K!==Y&&$.push(S.EditOperation.replaceMove(new b.Selection(oe,1,oe,K.length+1),f.TextModel.normalizeIndentation(Y,O,L))),!(M.unIndentedLinePattern&&M.unIndentedLinePattern.test(se))&&(M.increaseIndentPattern&&M.increaseIndentPattern.test(x)?(j=B(j),Y=j):M.indentNextLinePattern&&M.indentNextLinePattern.test(x)?Y=B(Y):Y=j)}return $}e.getReindentEditOperations=s;class n extends T.EditorAction{constructor(){super({id:n.ID,label:c.localize(0,null),alias:"Convert Indentation to Spaces",precondition:i.EditorContextKeys.writable})}run(A,P){let F=P.getModel();if(!F)return;let M=F.getOptions(),R=P.getSelection();if(!R)return;const O=new E(R,M.tabSize);P.pushUndoStop(),P.executeCommands(this.id,[O]),P.pushUndoStop(),F.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=n,n.ID="editor.action.indentationToSpaces";class a extends T.EditorAction{constructor(){super({id:a.ID,label:c.localize(1,null),alias:"Convert Indentation to Tabs",precondition:i.EditorContextKeys.writable})}run(A,P){let F=P.getModel();if(!F)return;let M=F.getOptions(),R=P.getSelection();if(!R)return;const O=new I(R,M.tabSize);P.pushUndoStop(),P.executeCommands(this.id,[O]),P.pushUndoStop(),F.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=a,a.ID="editor.action.indentationToTabs";class t extends T.EditorAction{constructor(A,P){super(P);this.insertSpaces=A}run(A,P){const F=A.get(u.IQuickInputService),M=A.get(o.IModelService);let R=P.getModel();if(!R)return;let O=M.getCreationOptions(R.getLanguageIdentifier().language,R.uri,R.isForSimpleWidget);const L=[1,2,3,4,5,6,7,8].map(z=>({id:z.toString(),label:z.toString(),description:z===O.tabSize?c.localize(2,null):void 0})),B=Math.min(R.getOptions().tabSize-1,7);setTimeout(()=>{F.pick(L,{placeHolder:c.localize(3,null),activeItem:L[B]}).then(z=>{z&&R&&!R.isDisposed()&&R.updateOptions({tabSize:parseInt(z.label,10),insertSpaces:this.insertSpaces})})},50)}}e.ChangeIndentationSizeAction=t;class l extends t{constructor(){super(!1,{id:l.ID,label:c.localize(4,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=l,l.ID="editor.action.indentUsingTabs";class h extends t{constructor(){super(!0,{id:h.ID,label:c.localize(5,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=h,h.ID="editor.action.indentUsingSpaces";class g extends T.EditorAction{constructor(){super({id:g.ID,label:c.localize(6,null),alias:"Detect Indentation from Content",precondition:void 0})}run(A,P){const F=A.get(o.IModelService);let M=P.getModel();if(!M)return;let R=F.getCreationOptions(M.getLanguageIdentifier().language,M.uri,M.isForSimpleWidget);M.detectIndentation(R.insertSpaces,R.tabSize)}}e.DetectIndentation=g,g.ID="editor.action.detectIndentation";class w extends T.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:c.localize(7,null),alias:"Reindent Lines",precondition:i.EditorContextKeys.writable})}run(A,P){let F=P.getModel();if(!F)return;let M=s(F,1,F.getLineCount());M.length>0&&(P.pushUndoStop(),P.executeEdits(this.id,M),P.pushUndoStop())}}e.ReindentLinesAction=w;class _ extends T.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:c.localize(8,null),alias:"Reindent Selected Lines",precondition:i.EditorContextKeys.writable})}run(A,P){let F=P.getModel();if(!F)return;let M=P.getSelections();if(M===null)return;let R=[];for(let O of M){let L=O.startLineNumber,B=O.endLineNumber;if(L!==B&&O.endColumn===1&&B--,L===1){if(L===B)continue}else L--;let z=s(F,L,B);R.push(...z)}R.length>0&&(P.pushUndoStop(),P.executeEdits(this.id,R),P.pushUndoStop())}}e.ReindentSelectedLinesAction=_;class C{constructor(A,P){this._initialSelection=P,this._edits=[],this._selectionId=null;for(let F of A)F.range&&typeof F.text=="string"&&this._edits.push(F)}getEditOperations(A,P){for(let M of this._edits)P.addEditOperation(p.Range.lift(M.range),M.text);let F=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(F=!0,this._selectionId=P.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(F=!0,this._selectionId=P.trackSelection(this._initialSelection,!1))),F||(this._selectionId=P.trackSelection(this._initialSelection))}computeCursorState(A,P){return P.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=C;class v{constructor(A){this.callOnDispose=new y.DisposableStore,this.callOnModel=new y.DisposableStore,this.editor=A,this.callOnDispose.add(A.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(A.onDidChangeModel(()=>this.update())),this.callOnDispose.add(A.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(47))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:A})=>{this.trigger(A)})))}trigger(A){let P=this.editor.getSelections();if(P===null||P.length>1)return;const F=this.editor.getModel();if(!F||!F.isCheapToTokenize(A.getStartPosition().lineNumber))return;const M=this.editor.getOption(9),{tabSize:R,indentSize:O,insertSpaces:L}=F.getOptions();let B=[],z={shiftIndent:Q=>D.ShiftCommand.shiftIndent(Q,Q.length+1,R,O,L),unshiftIndent:Q=>D.ShiftCommand.unshiftIndent(Q,Q.length+1,R,O,L)},$=A.startLineNumber;for(;$<=A.endLineNumber;){if(this.shouldIgnoreLine(F,$)){$++;continue}break}if($>A.endLineNumber)return;let j=F.getLineContent($);if(!/\S/.test(j.substring(0,A.startColumn-1))){let Q=r.LanguageConfigurationRegistry.getGoodIndentForLine(M,F,F.getLanguageIdentifier().id,$,z);if(Q!==null){let Y=N.getLeadingWhitespace(j),oe=d.getSpaceCnt(Q,R),se=d.getSpaceCnt(Y,R);if(oe!==se){let K=d.generateIndent(oe,R,L);B.push({range:new p.Range($,1,$,Y.length+1),text:K}),j=K+j.substr(Y.length)}else{let K=r.LanguageConfigurationRegistry.getIndentMetadata(F,$);if(K===0||K===8)return}}}const X=$;for(;$<A.endLineNumber;){if(!/\S/.test(F.getLineContent($+1))){$++;continue}break}if($!==A.endLineNumber){let Q={getLineTokens:oe=>F.getLineTokens(oe),getLanguageIdentifier:()=>F.getLanguageIdentifier(),getLanguageIdAtPosition:(oe,se)=>F.getLanguageIdAtPosition(oe,se),getLineContent:oe=>oe===X?j:F.getLineContent(oe)},Y=r.LanguageConfigurationRegistry.getGoodIndentForLine(M,Q,F.getLanguageIdentifier().id,$+1,z);if(Y!==null){let oe=d.getSpaceCnt(Y,R),se=d.getSpaceCnt(N.getLeadingWhitespace(F.getLineContent($+1)),R);if(oe!==se){let K=oe-se;for(let x=$+1;x<=A.endLineNumber;x++){let U=F.getLineContent(x),H=N.getLeadingWhitespace(U),ne=d.getSpaceCnt(H,R)+K,ue=d.generateIndent(ne,R,L);ue!==H&&B.push({range:new p.Range(x,1,x,H.length+1),text:ue})}}}}if(B.length>0){this.editor.pushUndoStop();let Q=new C(B,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",Q),this.editor.pushUndoStop()}}shouldIgnoreLine(A,P){A.forceTokenization(P);let F=A.getLineFirstNonWhitespaceColumn(P);if(F===0)return!0;let M=A.getLineTokens(P);if(M.getCount()>0){let R=M.findTokenIndexAtOffset(F);if(R>=0&&M.getStandardTokenType(R)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}e.AutoIndentOnPaste=v,v.ID="editor.contrib.autoIndentOnPaste";function m(k,A,P,F){if(k.getLineCount()===1&&k.getLineMaxColumn(1)===1)return;let M="";for(let O=0;O<P;O++)M+=" ";let R=new RegExp(M,"gi");for(let O=1,L=k.getLineCount();O<=L;O++){let B=k.getLineFirstNonWhitespaceColumn(O);if(B===0&&(B=k.getLineMaxColumn(O)),B===1)continue;const z=new p.Range(O,1,O,B),$=k.getValueInRange(z),j=F?$.replace(/\t/ig,M):$.replace(R,"	");A.addEditOperation(z,j)}}class E{constructor(A,P){this.selection=A,this.tabSize=P,this.selectionId=null}getEditOperations(A,P){this.selectionId=P.trackSelection(this.selection),m(A,P,this.tabSize,!0)}computeCursorState(A,P){return P.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=E;class I{constructor(A,P){this.selection=A,this.tabSize=P,this.selectionId=null}getEditOperations(A,P){this.selectionId=P.trackSelection(this.selection),m(A,P,this.tabSize,!1)}computeCursorState(A,P){return P.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=I,(0,T.registerEditorContribution)(v.ID,v),(0,T.registerEditorAction)(n),(0,T.registerEditorAction)(a),(0,T.registerEditorAction)(l),(0,T.registerEditorAction)(h),(0,T.registerEditorAction)(g),(0,T.registerEditorAction)(w),(0,T.registerEditorAction)(_)}),define(te[656],ie([0,1,14,23,10,93,2,47,20,24,16,28,13,3,18,143,69,26,22,12]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.getInlayHints=void 0;const l=1500;function h(v,m,E){return Me(this,void 0,void 0,function*(){const I=[],A=c.InlayHintsProviderRegistry.ordered(v).reverse().map(P=>m.map(F=>Me(this,void 0,void 0,function*(){try{const M=yield P.provideInlayHints(v,F,E);(M==null?void 0:M.length)&&I.push(M.filter(R=>F.containsPosition(R.position)))}catch(M){(0,T.onUnexpectedExternalError)(M)}})));return yield Promise.all(A.flat()),I.flat().sort((P,F)=>o.Position.compare(P.position,F.position))})}e.getInlayHints=h;class g{constructor(){this._entries=new p.LRUCache(50)}get(m){const E=g._key(m);return this._entries.get(E)}set(m,E){const I=g._key(m);this._entries.set(I,E)}static _key(m){return`${m.uri.toString()}/${m.getVersionId()}`}}let w=class Si{constructor(m,E){this._editor=m,this._codeEditorService=E,this._decorationOwnerId=++Si._decorationOwnerIdPool,this._disposables=new S.DisposableStore,this._sessionDisposables=new S.DisposableStore,this._getInlayHintsDelays=new u.LanguageFeatureRequestDelays(c.InlayHintsProviderRegistry,25,500),this._cache=new g,this._decorations=new Map,this._disposables.add(c.InlayHintsProviderRegistry.onDidChange(()=>this._update())),this._disposables.add(m.onDidChangeModel(()=>this._update())),this._disposables.add(m.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(m.onDidChangeConfiguration(I=>{I.hasChanged(125)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),!this._editor.getOption(125).enabled)return;const m=this._editor.getModel();if(!m||!c.InlayHintsProviderRegistry.has(m))return;const E=this._cache.get(m);E&&this._updateHintsDecorators([m.getFullModelRange()],E);const I=new y.RunOnceScheduler(()=>Me(this,void 0,void 0,function*(){const A=Date.now(),P=new N.CancellationTokenSource;this._sessionDisposables.add((0,S.toDisposable)(()=>P.dispose(!0)));const F=this._getHintsRanges(),M=yield h(m,F,P.token);I.delay=this._getInlayHintsDelays.update(m,Date.now()-A),!P.token.isCancellationRequested&&(this._updateHintsDecorators(F,M),this._cache.set(m,Array.from(this._decorations.values()).map(R=>R.hint)))}),this._getInlayHintsDelays.get(m));this._sessionDisposables.add(I),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>I.schedule())),this._disposables.add(this._editor.onDidScrollChange(()=>I.schedule())),I.schedule();const k=new S.DisposableStore;this._sessionDisposables.add(k);for(const A of c.InlayHintsProviderRegistry.all(m))typeof A.onDidChangeInlayHints=="function"&&k.add(A.onDidChangeInlayHints(()=>I.schedule()))}_getHintsRanges(){const m=30,E=this._editor.getModel(),I=this._editor.getVisibleRangesPlusViewportAboveBelow(),k=[];for(const A of I.sort(d.Range.compareRangesUsingStarts)){const P=E.validateRange(new d.Range(A.startLineNumber-m,A.startColumn,A.endLineNumber+m,A.endColumn));k.length===0||!d.Range.areIntersectingOrTouching(k[k.length-1],P)?k.push(P):k[k.length-1]=d.Range.plusRange(k[k.length-1],P)}return k}_updateHintsDecorators(m,E){const{fontSize:I,fontFamily:k}=this._getLayoutInfo(),A=this._editor.getModel(),P=[],F=[],M="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(M,k);for(const L of E){const{text:B,position:z,whitespaceBefore:$,whitespaceAfter:j}=L,X=$?I/3|0:0,Q=j?I/3|0:0,Y={contentText:C(B),fontSize:`${I}px`,margin:`0px ${Q}px 0px ${X}px`,fontFamily:`var(${M})`,padding:`1px ${Math.max(1,I/4)|0}px`,borderRadius:`${I/4|0}px`,verticalAlign:"middle",backgroundColor:(0,t.themeColorFromId)(a.editorInlayHintBackground),color:(0,t.themeColorFromId)(a.editorInlayHintForeground)};L.kind===c.InlayHintKind.Parameter?(Y.backgroundColor=(0,t.themeColorFromId)(a.editorInlayHintParameterBackground),Y.color=(0,t.themeColorFromId)(a.editorInlayHintParameterForeground)):L.kind===c.InlayHintKind.Type&&(Y.backgroundColor=(0,t.themeColorFromId)(a.editorInlayHintTypeBackground),Y.color=(0,t.themeColorFromId)(a.editorInlayHintTypeForeground));let oe={beforeInjectedText:Object.assign(Object.assign({},Y),{affectsLetterSpacing:!0})},se=d.Range.fromPositions(z),K=A.getWordAtPosition(z),x=!1;K&&(K.endColumn===z.column?(oe.afterInjectedText=oe.beforeInjectedText,oe.beforeInjectedText=void 0,x=!0,se=_(K,z.lineNumber)):K.startColumn===z.column&&(x=!0,se=_(K,z.lineNumber)));const U="inlayHints-"+(0,D.hash)(oe).toString(16);if(this._codeEditorService.registerDecorationType("inlay-hints-controller",U,oe,void 0,this._editor),P.push(U),F.push({range:se,options:Object.assign(Object.assign({},this._codeEditorService.resolveDecorationOptions(U,!0)),{showIfCollapsed:!x,stickiness:0})})>l)break}const R=[];for(const L of m)for(const{id:B}of A.getDecorationsInRange(L,this._decorationOwnerId,!0)){const z=this._decorations.get(B);z&&(R.push(B),this._codeEditorService.removeDecorationType(z.decorationTypeId),this._decorations.delete(B))}const O=A.deltaDecorations(R,F,this._decorationOwnerId);for(let L=0;L<O.length;L++)this._decorations.set(O[L],{hint:E[L],decorationTypeId:P[L]})}_getLayoutInfo(){const m=this._editor.getOption(125),E=this._editor.getOption(45);let I=m.fontSize;(!I||I<5||I>E)&&(I=E*.9|0);const k=m.fontFamily||this._editor.getOption(42);return{fontSize:I,fontFamily:k}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorations.keys()),[]);for(let m of this._decorations.values())this._codeEditorService.removeDecorationType(m.decorationTypeId);this._decorations.clear()}};w.ID="editor.contrib.InlayHints",w._decorationOwnerIdPool=0,w=Fe([Ce(1,r.ICodeEditorService)],w),e.InlayHintsController=w;function _(v,m){return new d.Range(m,v.startColumn,m,v.endColumn)}function C(v){const m="\xA0";return v.replace(/[ \t]/g,m)}(0,f.registerEditorContribution)(w.ID,w),n.CommandsRegistry.registerCommand("_executeInlayHintProvider",(v,...m)=>Me(void 0,void 0,void 0,function*(){const[E,I]=m;(0,b.assertType)(i.URI.isUri(E)),(0,b.assertType)(d.Range.isIRange(I));const k=yield v.get(s.ITextModelService).createModelReference(E);try{return yield h(k.object.textEditorModel,[d.Range.lift(I)],N.CancellationToken.None)}finally{k.dispose()}}))}),define(te[197],ie([0,1,14,23,10,6,2,8,151,16,59,3,18,182,26,242,183]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.minimizeInlineCompletion=e.provideInlineCompletions=e.SynchronizedInlineCompletionsCache=e.UpdateOperation=e.InlineCompletionsSession=e.InlineCompletionsModel=void 0;let n=class extends S.Disposable{constructor(v,m,E){super();this.editor=v,this.cache=m,this.commandService=E,this.onDidChangeEmitter=new D.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new S.MutableDisposable),this.active=!1,this.disposed=!1,this._register(E.onDidExecuteCommand(I=>{new Set([i.UndoCommand.id,i.RedoCommand.id,b.CoreEditingCommands.Tab.id,b.CoreEditingCommands.DeleteLeft.id,b.CoreEditingCommands.DeleteRight.id,u.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(I.commandId)&&v.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(I=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(I=>{this.session&&!this.session.isValid&&this.hide()})),this._register((0,S.toDisposable)(()=>{this.disposed=!0}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var v;return(v=this.session)===null||v===void 0?void 0:v.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(v){var m;(m=this.session)===null||m===void 0||m.setExpanded(v)}setActive(v){var m;this.active=v,v&&((m=this.session)===null||m===void 0||m.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(54).enabled||this.session&&this.session.isValid||this.trigger(o.InlineCompletionTriggerKind.Automatic)}trigger(v){if(this.completionSession.value){v===o.InlineCompletionTriggerKind.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new a(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,v),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var v;(v=this.session)===null||v===void 0||v.commitCurrentCompletion()}showNext(){var v;(v=this.session)===null||v===void 0||v.showNextInlineCompletion()}showPrevious(){var v;(v=this.session)===null||v===void 0||v.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var v;return Me(this,void 0,void 0,function*(){const m=yield(v=this.session)===null||v===void 0?void 0:v.hasMultipleInlineCompletions();return m!==void 0?m:!1})}};n=Fe([Ce(2,c.ICommandService)],n),e.InlineCompletionsModel=n;class a extends d.BaseGhostTextWidgetModel{constructor(v,m,E,I,k,A){super(v);this.triggerPosition=m,this.shouldUpdate=E,this.commandService=I,this.cache=k,this.initialTriggerKind=A,this.minReservedLineCount=0,this.updateOperation=this._register(new S.MutableDisposable),this.updateSoon=this._register(new y.RunOnceScheduler(()=>{let F=this.initialTriggerKind;return this.initialTriggerKind=o.InlineCompletionTriggerKind.Automatic,this.update(F)},50)),this.currentlySelectedCompletionId=void 0;let P;this._register(this.onDidChange(()=>{const F=this.currentCompletion;if(F&&F.sourceInlineCompletion!==P){P=F.sourceInlineCompletion;const M=F.sourceProvider;M.handleItemDidShow&&M.handleItemDidShow(F.sourceInlineCompletions,P)}})),this._register((0,S.toDisposable)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(F=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(F=>{this.scheduleAutomaticUpdate()})),this._register(o.InlineCompletionsProviderRegistry.onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const v=this.cache.value.completions.findIndex(m=>m.semanticId===this.currentlySelectedCompletionId);return v===-1?(this.currentlySelectedCompletionId=void 0,0):v}get currentCachedCompletion(){if(!!this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var v;return Me(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const m=((v=this.cache.value)===null||v===void 0?void 0:v.completions)||[];if(m.length>0){const E=(this.fixAndGetIndexOfCurrentSelection()+1)%m.length;this.currentlySelectedCompletionId=m[E].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var v;return Me(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const m=((v=this.cache.value)===null||v===void 0?void 0:v.completions)||[];if(m.length>0){const E=(this.fixAndGetIndexOfCurrentSelection()+m.length-1)%m.length;this.currentlySelectedCompletionId=m[E].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var v;return Me(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===o.InlineCompletionTriggerKind.Explicit?yield this.updateOperation.value.promise:yield this.update(o.InlineCompletionTriggerKind.Explicit):((v=this.cache.value)===null||v===void 0?void 0:v.triggerKind)!==o.InlineCompletionTriggerKind.Explicit&&(yield this.update(o.InlineCompletionTriggerKind.Explicit))})}hasMultipleInlineCompletions(){var v;return Me(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((v=this.cache.value)===null||v===void 0?void 0:v.completions.length)||0)>1})}get ghostText(){const v=this.currentCompletion,m=this.editor.getOptions().get(54).mode;return v?(0,s.inlineCompletionToGhostText)(v,this.editor.getModel(),m,this.editor.getPosition()):void 0}get currentCompletion(){const v=this.currentCachedCompletion;if(!!v)return v.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(v){return Me(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const m=this.editor.getPosition(),E=(0,y.createCancelablePromise)(k=>Me(this,void 0,void 0,function*(){let A;try{A=yield w(m,this.editor.getModel(),{triggerKind:v,selectedSuggestionInfo:void 0},k)}catch(P){(0,T.onUnexpectedError)(P);return}k.isCancellationRequested||(this.cache.setValue(this.editor,A,v),this.onDidChangeEmitter.fire())})),I=new t(E,v);this.updateOperation.value=I,yield E,this.updateOperation.value===I&&this.updateOperation.clear()})}takeOwnership(v){this._register(v)}commitCurrentCompletion(){if(!this.ghostText)return;const v=this.currentCompletion;v&&this.commit(v)}commit(v){const m=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[f.EditOperation.replaceMove(v.range,v.text)]),v.command?this.commandService.executeCommand(v.command.id,...v.command.arguments||[]).finally(()=>{m==null||m.dispose()}).then(void 0,T.onUnexpectedExternalError):m==null||m.dispose(),this.onDidChangeEmitter.fire()}}e.InlineCompletionsSession=a;class t{constructor(v,m){this.promise=v,this.triggerKind=m}dispose(){this.promise.cancel()}}e.UpdateOperation=t;class l extends S.Disposable{constructor(v,m,E,I){super();this.triggerKind=I;const k=v.deltaDecorations([],m.items.map(A=>({range:A.range,options:{description:"inline-completion-tracking-range"}})));this._register((0,S.toDisposable)(()=>{v.deltaDecorations(k,[])})),this.completions=m.items.map((A,P)=>new h(A,k[P])),this._register(v.onDidChangeModelContent(()=>{let A=!1;const P=v.getModel();for(const F of this.completions){const M=P.getDecorationRange(F.decorationId);if(!M){(0,T.onUnexpectedError)(new Error("Decoration has no range"));continue}F.synchronizedRange.equalsRange(M)||(A=!0,F.synchronizedRange=M)}A&&E()})),this._register(m)}}e.SynchronizedInlineCompletionsCache=l;class h{constructor(v,m){this.inlineCompletion=v,this.decorationId=m,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=v.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function g(C,v){const m=v.getWordAtPosition(C),E=v.getLineMaxColumn(C.lineNumber);return m?new r.Range(C.lineNumber,m.startColumn,C.lineNumber,E):r.Range.fromPositions(C,C.with(void 0,E))}function w(C,v,m,E=N.CancellationToken.None){return Me(this,void 0,void 0,function*(){const I=g(C,v),k=o.InlineCompletionsProviderRegistry.all(v),A=yield Promise.all(k.map(F=>Me(this,void 0,void 0,function*(){const M=yield F.provideInlineCompletions(v,C,m,E);return{completions:M,provider:F,dispose:()=>{M&&F.freeInlineCompletions(M)}}}))),P=new Map;for(const F of A){const M=F.completions;if(M)for(const R of M.items.map(O=>({text:O.text,range:O.range?r.Range.lift(O.range):I,command:O.command,sourceProvider:F.provider,sourceInlineCompletions:M,sourceInlineCompletion:O})))R.range.startLineNumber===R.range.endLineNumber&&P.set(JSON.stringify({text:R.text,range:R.range}),R)}return{items:[...P.values()],dispose:()=>{for(const F of A)F.dispose()}}})}e.provideInlineCompletions=w;function _(C,v){if(!v)return v;const m=C.getValueInRange(v.range),E=(0,p.commonPrefixLength)(m,v.text),I=C.getOffsetAt(v.range.getStartPosition())+E,k=C.getPositionAt(I),A=m.substr(E),P=(0,p.commonSuffixLength)(A,v.text),F=C.getPositionAt(Math.max(I,C.getOffsetAt(v.range.getEndPosition())-P));return{range:r.Range.fromPositions(k,F),text:v.text.substr(E,v.text.length-E-P)}}e.minimizeInlineCompletion=_}),define(te[657],ie([0,1,43,151,16,96,383,196,59,13,3,21,25,427,626,428,514,33]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class a extends T.EditorAction{constructor(se,K){super(K);this.down=se}run(se,K){if(!K.hasModel())return;const x=K.getSelections().map((V,ne)=>({selection:V,index:ne,ignore:!1}));x.sort((V,ne)=>f.Range.compareRangesUsingStarts(V.selection,ne.selection));let U=x[0];for(let V=1;V<x.length;V++){const ne=x[V];U.selection.endLineNumber===ne.selection.startLineNumber&&(U.index<ne.index?ne.ignore=!0:(U.ignore=!0,U=ne))}const H=[];for(const V of x)H.push(new d.CopyLinesCommand(V.selection,this.down,V.ignore));K.pushUndoStop(),K.executeCommands(this.id,H),K.pushUndoStop()}}class t extends a{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:s.localize(0,null),alias:"Copy Line Up",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:s.localize(1,null),order:1}})}}class l extends a{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:s.localize(2,null),alias:"Copy Line Down",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:s.localize(3,null),order:2}})}}class h extends T.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:s.localize(4,null),alias:"Duplicate Selection",precondition:o.EditorContextKeys.writable,menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:s.localize(5,null),order:5}})}run(se,K,x){if(!K.hasModel())return;const U=[],H=K.getSelections(),V=K.getModel();for(const ne of H)if(ne.isEmpty())U.push(new d.CopyLinesCommand(ne,!0));else{const ue=new r.Selection(ne.endLineNumber,ne.endColumn,ne.endLineNumber,ne.endColumn);U.push(new D.ReplaceCommandThatSelectsText(ue,V.getValueInRange(ne)))}K.pushUndoStop(),K.executeCommands(this.id,U),K.pushUndoStop()}}e.DuplicateSelectionAction=h;class g extends T.EditorAction{constructor(se,K){super(K);this.down=se}run(se,K){let x=[],U=K.getSelections()||[];const H=K.getOption(9);for(const V of U)x.push(new c.MoveLinesCommand(V,this.down,H));K.pushUndoStop(),K.executeCommands(this.id,x),K.pushUndoStop()}}class w extends g{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:s.localize(6,null),alias:"Move Line Up",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:s.localize(7,null),order:3}})}}class _ extends g{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:s.localize(8,null),alias:"Move Line Down",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:s.localize(9,null),order:4}})}}class C extends T.EditorAction{constructor(se,K){super(K);this.descending=se}run(se,K){const x=K.getSelections()||[];for(const H of x)if(!u.SortLinesCommand.canRun(K.getModel(),H,this.descending))return;let U=[];for(let H=0,V=x.length;H<V;H++)U[H]=new u.SortLinesCommand(x[H],this.descending);K.pushUndoStop(),K.executeCommands(this.id,U),K.pushUndoStop()}}e.AbstractSortLinesAction=C;class v extends C{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:s.localize(10,null),alias:"Sort Lines Ascending",precondition:o.EditorContextKeys.writable})}}e.SortLinesAscendingAction=v;class m extends C{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:s.localize(11,null),alias:"Sort Lines Descending",precondition:o.EditorContextKeys.writable})}}e.SortLinesDescendingAction=m;class E extends T.EditorAction{constructor(){super({id:E.ID,label:s.localize(12,null),alias:"Trim Trailing Whitespace",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2048|41,2048|54),weight:100}})}run(se,K,x){let U=[];x.reason==="auto-save"&&(U=(K.getSelections()||[]).map(ne=>new i.Position(ne.positionLineNumber,ne.positionColumn)));let H=K.getSelection();if(H===null)return;let V=new S.TrimTrailingWhitespaceCommand(H,U);K.pushUndoStop(),K.executeCommands(this.id,[V]),K.pushUndoStop()}}e.TrimTrailingWhitespaceAction=E,E.ID="editor.action.trimTrailingWhitespace";class I extends T.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:s.localize(13,null),alias:"Delete Line",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.textInputFocus,primary:2048|1024|41,weight:100}})}run(se,K){if(!K.hasModel())return;let x=this._getLinesToRemove(K),U=K.getModel();if(U.getLineCount()===1&&U.getLineMaxColumn(1)===1)return;let H=0,V=[],ne=[];for(let ue=0,pe=x.length;ue<pe;ue++){const ge=x[ue];let W=ge.startLineNumber,G=ge.endLineNumber,re=1,ee=U.getLineMaxColumn(G);G<U.getLineCount()?(G+=1,ee=1):W>1&&(W-=1,re=U.getLineMaxColumn(W)),V.push(b.EditOperation.replace(new r.Selection(W,re,G,ee),"")),ne.push(new r.Selection(W-H,ge.positionColumn,W-H,ge.positionColumn)),H+=ge.endLineNumber-ge.startLineNumber+1}K.pushUndoStop(),K.executeEdits(this.id,V,ne),K.pushUndoStop()}_getLinesToRemove(se){let K=se.getSelections().map(H=>{let V=H.endLineNumber;return H.startLineNumber<H.endLineNumber&&H.endColumn===1&&(V-=1),{startLineNumber:H.startLineNumber,selectionStartColumn:H.selectionStartColumn,endLineNumber:V,positionColumn:H.positionColumn}});K.sort((H,V)=>H.startLineNumber===V.startLineNumber?H.endLineNumber-V.endLineNumber:H.startLineNumber-V.startLineNumber);let x=[],U=K[0];for(let H=1;H<K.length;H++)U.endLineNumber+1>=K[H].startLineNumber?U.endLineNumber=K[H].endLineNumber:(x.push(U),U=K[H]);return x.push(U),x}}e.DeleteLinesAction=I;class k extends T.EditorAction{constructor(){super({id:"editor.action.indentLines",label:s.localize(14,null),alias:"Indent Line",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:2048|89,weight:100}})}run(se,K){const x=K._getViewModel();!x||(K.pushUndoStop(),K.executeCommands(this.id,p.TypeOperations.indent(x.cursorConfig,K.getModel(),K.getSelections())),K.pushUndoStop())}}e.IndentLinesAction=k;class A extends T.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:s.localize(15,null),alias:"Outdent Line",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:2048|87,weight:100}})}run(se,K){N.CoreEditingCommands.Outdent.runEditorCommand(se,K,null)}}class P extends T.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:s.localize(16,null),alias:"Insert Line Above",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:2048|1024|3,weight:100}})}run(se,K){const x=K._getViewModel();!x||(K.pushUndoStop(),K.executeCommands(this.id,p.TypeOperations.lineInsertBefore(x.cursorConfig,K.getModel(),K.getSelections())))}}e.InsertLineBeforeAction=P;class F extends T.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:s.localize(17,null),alias:"Insert Line Below",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:2048|3,weight:100}})}run(se,K){const x=K._getViewModel();!x||(K.pushUndoStop(),K.executeCommands(this.id,p.TypeOperations.lineInsertAfter(x.cursorConfig,K.getModel(),K.getSelections())))}}e.InsertLineAfterAction=F;class M extends T.EditorAction{run(se,K){if(!K.hasModel())return;const x=K.getSelection();let U=this._getRangesToDelete(K),H=[];for(let ue=0,pe=U.length-1;ue<pe;ue++){let ge=U[ue],W=U[ue+1];f.Range.intersectRanges(ge,W)===null?H.push(ge):U[ue+1]=f.Range.plusRange(ge,W)}H.push(U[U.length-1]);let V=this._getEndCursorState(x,H),ne=H.map(ue=>b.EditOperation.replace(ue,""));K.pushUndoStop(),K.executeEdits(this.id,ne,V),K.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=M;class R extends M{constructor(){super({id:"deleteAllLeft",label:s.localize(18,null),alias:"Delete All Left",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}_getEndCursorState(se,K){let x=null,U=[],H=0;return K.forEach(V=>{let ne;if(V.endColumn===1&&H>0){let ue=V.startLineNumber-H;ne=new r.Selection(ue,V.startColumn,ue,V.startColumn)}else ne=new r.Selection(V.startLineNumber,V.startColumn,V.startLineNumber,V.startColumn);H+=V.endLineNumber-V.startLineNumber,V.intersectRanges(se)?x=ne:U.push(ne)}),x&&U.unshift(x),U}_getRangesToDelete(se){let K=se.getSelections();if(K===null)return[];let x=K,U=se.getModel();return U===null?[]:(x.sort(f.Range.compareRangesUsingStarts),x=x.map(H=>{if(H.isEmpty())if(H.startColumn===1){let V=Math.max(1,H.startLineNumber-1),ne=H.startLineNumber===1?1:U.getLineContent(V).length+1;return new f.Range(V,ne,H.startLineNumber,1)}else return new f.Range(H.startLineNumber,1,H.startLineNumber,H.startColumn);else return new f.Range(H.startLineNumber,1,H.endLineNumber,H.endColumn)}),x)}}e.DeleteAllLeftAction=R;class O extends M{constructor(){super({id:"deleteAllRight",label:s.localize(19,null),alias:"Delete All Right",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}_getEndCursorState(se,K){let x=null,U=[];for(let H=0,V=K.length,ne=0;H<V;H++){let ue=K[H],pe=new r.Selection(ue.startLineNumber-ne,ue.startColumn,ue.startLineNumber-ne,ue.startColumn);ue.intersectRanges(se)?x=pe:U.push(pe)}return x&&U.unshift(x),U}_getRangesToDelete(se){let K=se.getModel();if(K===null)return[];let x=se.getSelections();if(x===null)return[];let U=x.map(H=>{if(H.isEmpty()){const V=K.getLineMaxColumn(H.startLineNumber);return H.startColumn===V?new f.Range(H.startLineNumber,H.startColumn,H.startLineNumber+1,1):new f.Range(H.startLineNumber,H.startColumn,H.startLineNumber,V)}return H});return U.sort(f.Range.compareRangesUsingStarts),U}}e.DeleteAllRightAction=O;class L extends T.EditorAction{constructor(){super({id:"editor.action.joinLines",label:s.localize(20,null),alias:"Join Lines",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}run(se,K){let x=K.getSelections();if(x===null)return;let U=K.getSelection();if(U===null)return;x.sort(f.Range.compareRangesUsingStarts);let H=[],V=x.reduce((G,re)=>G.isEmpty()?G.endLineNumber===re.startLineNumber?(U.equalsSelection(G)&&(U=re),re):re.startLineNumber>G.endLineNumber+1?(H.push(G),re):new r.Selection(G.startLineNumber,G.startColumn,re.endLineNumber,re.endColumn):re.startLineNumber>G.endLineNumber?(H.push(G),re):new r.Selection(G.startLineNumber,G.startColumn,re.endLineNumber,re.endColumn));H.push(V);let ne=K.getModel();if(ne===null)return;let ue=[],pe=[],ge=U,W=0;for(let G=0,re=H.length;G<re;G++){let ee=H[G],de=ee.startLineNumber,ae=1,ce=0,J,Z,le=ne.getLineContent(ee.endLineNumber).length-ee.endColumn;if(ee.isEmpty()||ee.startLineNumber===ee.endLineNumber){let be=ee.getStartPosition();be.lineNumber<ne.getLineCount()?(J=de+1,Z=ne.getLineMaxColumn(J)):(J=be.lineNumber,Z=ne.getLineMaxColumn(be.lineNumber))}else J=ee.endLineNumber,Z=ne.getLineMaxColumn(J);let he=ne.getLineContent(de);for(let be=de+1;be<=J;be++){let we=ne.getLineContent(be),Te=ne.getLineFirstNonWhitespaceColumn(be);if(Te>=1){let Pe=!0;he===""&&(Pe=!1),Pe&&(he.charAt(he.length-1)===" "||he.charAt(he.length-1)==="	")&&(Pe=!1,he=he.replace(/[\s\uFEFF\xA0]+$/g," "));let Oe=we.substr(Te-1);he+=(Pe?" ":"")+Oe,Pe?ce=Oe.length+1:ce=Oe.length}else ce=0}let ve=new f.Range(de,ae,J,Z);if(!ve.isEmpty()){let be;ee.isEmpty()?(ue.push(b.EditOperation.replace(ve,he)),be=new r.Selection(ve.startLineNumber-W,he.length-ce+1,de-W,he.length-ce+1)):ee.startLineNumber===ee.endLineNumber?(ue.push(b.EditOperation.replace(ve,he)),be=new r.Selection(ee.startLineNumber-W,ee.startColumn,ee.endLineNumber-W,ee.endColumn)):(ue.push(b.EditOperation.replace(ve,he)),be=new r.Selection(ee.startLineNumber-W,ee.startColumn,ee.startLineNumber-W,he.length-le)),f.Range.intersectRanges(ve,U)!==null?ge=be:pe.push(be)}W+=ve.endLineNumber-ve.startLineNumber}pe.unshift(ge),K.pushUndoStop(),K.executeEdits(this.id,ue,pe),K.pushUndoStop()}}e.JoinLinesAction=L;class B extends T.EditorAction{constructor(){super({id:"editor.action.transpose",label:s.localize(21,null),alias:"Transpose characters around the cursor",precondition:o.EditorContextKeys.writable})}run(se,K){let x=K.getSelections();if(x===null)return;let U=K.getModel();if(U===null)return;let H=[];for(let V=0,ne=x.length;V<ne;V++){let ue=x[V];if(!ue.isEmpty())continue;let pe=ue.getStartPosition(),ge=U.getLineMaxColumn(pe.lineNumber);if(pe.column>=ge){if(pe.lineNumber===U.getLineCount())continue;let W=new f.Range(pe.lineNumber,Math.max(1,pe.column-1),pe.lineNumber+1,1),G=U.getValueInRange(W).split("").reverse().join("");H.push(new D.ReplaceCommand(new r.Selection(pe.lineNumber,Math.max(1,pe.column-1),pe.lineNumber+1,1),G))}else{let W=new f.Range(pe.lineNumber,Math.max(1,pe.column-1),pe.lineNumber,pe.column+1),G=U.getValueInRange(W).split("").reverse().join("");H.push(new D.ReplaceCommandThatPreservesSelection(W,G,new r.Selection(pe.lineNumber,pe.column+1,pe.lineNumber,pe.column+1)))}}K.pushUndoStop(),K.executeCommands(this.id,H),K.pushUndoStop()}}e.TransposeAction=B;class z extends T.EditorAction{run(se,K){const x=K.getSelections();if(x===null)return;const U=K.getModel();if(U===null)return;const H=K.getOption(115),V=[];for(const ne of x)if(ne.isEmpty()){const ue=ne.getStartPosition(),pe=K.getConfiguredWordAtPosition(ue);if(!pe)continue;const ge=new f.Range(ue.lineNumber,pe.startColumn,ue.lineNumber,pe.endColumn),W=U.getValueInRange(ge);V.push(b.EditOperation.replace(ge,this._modifyText(W,H)))}else{const ue=U.getValueInRange(ne);V.push(b.EditOperation.replace(ne,this._modifyText(ue,H)))}K.pushUndoStop(),K.executeEdits(this.id,V),K.pushUndoStop()}}e.AbstractCaseAction=z;class $ extends z{constructor(){super({id:"editor.action.transformToUppercase",label:s.localize(22,null),alias:"Transform to Uppercase",precondition:o.EditorContextKeys.writable})}_modifyText(se,K){return se.toLocaleUpperCase()}}e.UpperCaseAction=$;class j extends z{constructor(){super({id:"editor.action.transformToLowercase",label:s.localize(23,null),alias:"Transform to Lowercase",precondition:o.EditorContextKeys.writable})}_modifyText(se,K){return se.toLocaleLowerCase()}}e.LowerCaseAction=j;class X extends z{constructor(){super({id:"editor.action.transformToTitlecase",label:s.localize(24,null),alias:"Transform to Title Case",precondition:o.EditorContextKeys.writable})}_modifyText(se,K){const U=(`\r
	 `+K).split("");let H="",V=!0;for(let ne=0;ne<se.length;ne++){let ue=se[ne];U.indexOf(ue)>=0?(V=!0,H+=ue):V?(V=!1,H+=ue.toLocaleUpperCase()):H+=ue.toLocaleLowerCase()}return H}}e.TitleCaseAction=X;class Q{constructor(se,K){this._pattern=se,this._flags=K,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(se){}}return this._actual}isSupported(){return this.get()!==null}}class Y extends z{constructor(){super({id:"editor.action.transformToSnakecase",label:s.localize(25,null),alias:"Transform to Snake Case",precondition:o.EditorContextKeys.writable})}_modifyText(se,K){const x=Y.regExp1.get(),U=Y.regExp2.get();return!x||!U?se:se.replace(x,"$1_$2").replace(U,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=Y,Y.regExp1=new Q("(\\p{Ll})(\\p{Lu})","gmu"),Y.regExp2=new Q("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,T.registerEditorAction)(t),(0,T.registerEditorAction)(l),(0,T.registerEditorAction)(h),(0,T.registerEditorAction)(w),(0,T.registerEditorAction)(_),(0,T.registerEditorAction)(v),(0,T.registerEditorAction)(m),(0,T.registerEditorAction)(E),(0,T.registerEditorAction)(I),(0,T.registerEditorAction)(k),(0,T.registerEditorAction)(A),(0,T.registerEditorAction)(P),(0,T.registerEditorAction)(F),(0,T.registerEditorAction)(R),(0,T.registerEditorAction)(O),(0,T.registerEditorAction)(L),(0,T.registerEditorAction)(B),(0,T.registerEditorAction)($),(0,T.registerEditorAction)(j),(0,T.registerEditorAction)(X),Y.regExp1.isSupported()&&Y.regExp2.isSupported()&&(0,T.registerEditorAction)(Y)}),define(te[658],ie([0,1,19,14,23,29,10,2,8,24,16,28,13,3,25,31,18,38,515,15,22,12]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new t.RawContextKey("LinkedEditingInputVisible",!1);const g="linked-editing-decoration";let w=class Ut extends p.Disposable{constructor(E,I){super();this._debounceDuration=200,this._localToDispose=this._register(new p.DisposableStore),this._editor=E,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(I),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new p.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(k=>{(k.hasChanged(61)||k.hasChanged(81))&&this.reinitialize(!1)})),this._register(s.LinkedEditingRangeProviderRegistry.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(E){return E.getContribution(Ut.ID)}reinitialize(E){const I=this._editor.getModel(),k=I!==null&&(this._editor.getOption(61)||this._editor.getOption(81))&&s.LinkedEditingRangeProviderRegistry.has(I);if(k===this._enabled&&!E||(this._enabled=k,this.clearRanges(),this._localToDispose.clear(),!k||I===null))return;this._languageWordPattern=n.LanguageConfigurationRegistry.getWordDefinition(I.getLanguageIdentifier().id),this._localToDispose.add(I.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=n.LanguageConfigurationRegistry.getWordDefinition(I.getLanguageIdentifier().id)}));const A=new N.Delayer(this._debounceDuration),P=()=>{this._rangeUpdateTriggerPromise=A.trigger(()=>this.updateRanges(),this._debounceDuration)},F=new N.Delayer(0),M=R=>{this._rangeSyncTriggerPromise=F.trigger(()=>this._syncRanges(R))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{P()})),this._localToDispose.add(this._editor.onDidChangeModelContent(R=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const O=I.getDecorationRange(this._currentDecorations[0]);if(O&&R.changes.every(L=>O.intersectRanges(L.range))){M(this._currentDecorations);return}}P()})),this._localToDispose.add({dispose:()=>{A.cancel(),F.cancel()}}),this.updateRanges()}_syncRanges(E){if(!this._editor.hasModel()||E!==this._currentDecorations||E.length===0)return;const I=this._editor.getModel(),k=I.getDecorationRange(E[0]);if(!k||k.startLineNumber!==k.endLineNumber)return this.clearRanges();const A=I.getValueInRange(k);if(this._currentWordPattern){const F=A.match(this._currentWordPattern);if((F?F[0].length:0)!==A.length)return this.clearRanges()}let P=[];for(let F=1,M=E.length;F<M;F++){const R=I.getDecorationRange(E[F]);if(!!R)if(R.startLineNumber!==R.endLineNumber)P.push({range:R,text:A});else{let O=I.getValueInRange(R),L=A,B=R.startColumn,z=R.endColumn;const $=b.commonPrefixLength(O,L);B+=$,O=O.substr($),L=L.substr($);const j=b.commonSuffixLength(O,L);z-=j,O=O.substr(0,O.length-j),L=L.substr(0,L.length-j),(B!==z||L.length!==0)&&P.push({range:new d.Range(R.startLineNumber,B,R.endLineNumber,z),text:L})}}if(P.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const F=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",P),this._editor._getViewModel().setPrevEditOperationType(F)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(E=!1){return Me(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const I=this._editor.getPosition();if(!this._enabled&&!E||this._editor.getSelections().length>1){this.clearRanges();return}const k=this._editor.getModel(),A=k.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===A){if(I.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const F=k.getDecorationRange(this._currentDecorations[0]);if(F&&F.containsPosition(I))return}}this._currentRequestPosition=I,this._currentRequestModelVersion=A;const P=(0,N.createCancelablePromise)(F=>Me(this,void 0,void 0,function*(){try{const M=yield v(k,I,F);if(P!==this._currentRequest||(this._currentRequest=null,A!==k.getVersionId()))return;let R=[];(M==null?void 0:M.ranges)&&(R=M.ranges),this._currentWordPattern=(M==null?void 0:M.wordPattern)||this._languageWordPattern;let O=!1;for(let B=0,z=R.length;B<z;B++)if(d.Range.containsPosition(R[B],I)){if(O=!0,B!==0){const $=R[B];R.splice(B,1),R.unshift($)}break}if(!O){this.clearRanges();return}const L=R.map(B=>({range:B,options:Ut.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,L)}catch(M){(0,S.isPromiseCanceledError)(M)||(0,S.onUnexpectedError)(M),(this._currentRequest===P||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=P,P})}};w.ID="editor.contrib.linkedEditing",w.DECORATION=u.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:g}),w=Fe([Ce(1,t.IContextKeyService)],w),e.LinkedEditingContribution=w;class _ extends f.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:a.localize(0,null),alias:"Start Linked Editing",precondition:t.ContextKeyExpr.and(c.EditorContextKeys.writable,c.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:2048|1024|60,weight:100}})}runCommand(E,I){const k=E.get(r.ICodeEditorService),[A,P]=Array.isArray(I)&&I||[void 0,void 0];return i.URI.isUri(A)&&o.Position.isIPosition(P)?k.openCodeEditor({resource:A},k.getActiveCodeEditor()).then(F=>{!F||(F.setPosition(P),F.invokeWithinContext(M=>(this.reportTelemetry(M,F),this.run(M,F))))},S.onUnexpectedError):super.runCommand(E,I)}run(E,I){const k=w.get(I);return k?Promise.resolve(k.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=_;const C=f.EditorCommand.bindToContribution(w.get);(0,f.registerEditorCommand)(new C({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:m=>m.clearRanges(),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function v(m,E,I){const k=s.LinkedEditingRangeProviderRegistry.ordered(m);return(0,N.first)(k.map(A=>()=>Me(this,void 0,void 0,function*(){try{return yield A.provideLinkedEditingRanges(m,E,I)}catch(P){(0,S.onUnexpectedExternalError)(P);return}})),A=>!!A&&y.isNonEmptyArray(A==null?void 0:A.ranges))}e.editorLinkedEditingBackground=(0,l.registerColor)("editor.linkedEditingBackground",{dark:D.Color.fromHex("#f00").transparent(.3),light:D.Color.fromHex("#f00").transparent(.3),hc:D.Color.fromHex("#f00").transparent(.3)},a.localize(1,null)),(0,h.registerThemingParticipant)((m,E)=>{const I=m.getColor(e.editorLinkedEditingBackground);I&&E.addRule(`.monaco-editor .${g} { background: ${I}; border-left-color: ${I}; }`)}),(0,f.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(m,E)=>v(m,E,T.CancellationToken.None)),(0,f.registerEditorContribution)(w.ID,w),(0,f.registerEditorAction)(_)}),define(te[659],ie([0,1,14,23,10,68,2,48,17,44,24,16,31,18,238,563,516,35,57,22,12,364]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;function h(v,m){const E=v.url&&/^command:/i.test(v.url.toString()),I=v.tooltip?v.tooltip:E?s.localize(0,null):s.localize(1,null),k=m?b.isMacintosh?s.localize(2,null):s.localize(3,null):b.isMacintosh?s.localize(4,null):s.localize(5,null);if(v.url){let A="";if(/^command:/i.test(v.url.toString())){const F=v.url.toString().match(/^command:([^?#]+)/);if(F){const M=F[1];A=` "${s.localize(6,null,M)}"`}}return new D.MarkdownString("",!0).appendMarkdown(`[${I}](${v.url.toString(!0).replace(/ /g,"%20")}${A}) (${k})`)}else return new D.MarkdownString().appendText(`${I} (${k})`)}const g={general:o.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:o.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class w{constructor(m,E){this.link=m,this.decorationId=E}static decoration(m,E){return{range:m.range,options:w._getOptions(m,E,!1)}}static _getOptions(m,E,I){const k=Object.assign({},I?g.active:g.general);return k.hoverMessage=h(m,E),k}activate(m,E){m.changeDecorationOptions(this.decorationId,w._getOptions(this.link,E,!0))}deactivate(m,E){m.changeDecorationOptions(this.decorationId,w._getOptions(this.link,E,!1))}}let _=class Kt{constructor(m,E,I){this.listenersToRemove=new S.DisposableStore,this.editor=m,this.openerService=E,this.notificationService=I;let k=new c.ClickLinkGesture(m);this.listenersToRemove.add(k),this.listenersToRemove.add(k.onMouseMoveOrRelevantKeyDown(([A,P])=>{this._onEditorMouseMove(A,P)})),this.listenersToRemove.add(k.onExecute(A=>{this.onEditorMouseUp(A)})),this.listenersToRemove.add(k.onCancel(A=>{this.cleanUpActiveLinkDecoration()})),this.enabled=m.getOption(62),this.listenersToRemove.add(m.onDidChangeConfiguration(A=>{const P=m.getOption(62);this.enabled!==P&&(this.enabled=P,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(m.onDidChangeModelContent(A=>this.onChange())),this.listenersToRemove.add(m.onDidChangeModel(A=>this.onModelChanged())),this.listenersToRemove.add(m.onDidChangeModelLanguage(A=>this.onModelModeChanged())),this.listenersToRemove.add(d.LinkProviderRegistry.onDidChange(A=>this.onModelModeChanged())),this.timeout=new y.TimeoutTimer,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(m){return m.getContribution(Kt.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),Kt.RECOMPUTE_TIME)}beginCompute(){return Me(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.enabled)return;const m=this.editor.getModel();if(!!d.LinkProviderRegistry.has(m)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=y.createCancelablePromise(E=>(0,u.getLinks)(m,E));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(E){(0,T.onUnexpectedError)(E)}finally{this.computePromise=null}}})}updateDecorations(m){const E=this.editor.getOption(69)==="altKey";let I=[],k=Object.keys(this.currentOccurrences);for(let F=0,M=k.length;F<M;F++){let R=k[F],O=this.currentOccurrences[R];I.push(O.decorationId)}let A=[];if(m)for(const F of m)A.push(w.decoration(F,E));let P=this.editor.deltaDecorations(I,A);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let F=0,M=P.length;F<M;F++){let R=new w(m[F],P[F]);this.currentOccurrences[R.decorationId]=R}}_onEditorMouseMove(m,E){const I=this.editor.getOption(69)==="altKey";if(this.isEnabled(m,E)){this.cleanUpActiveLinkDecoration();const k=this.getLinkOccurrence(m.target.position);k&&this.editor.changeDecorations(A=>{k.activate(A,I),this.activeLinkDecorationId=k.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const m=this.editor.getOption(69)==="altKey";if(this.activeLinkDecorationId){const E=this.currentOccurrences[this.activeLinkDecorationId];E&&this.editor.changeDecorations(I=>{E.deactivate(I,m)}),this.activeLinkDecorationId=null}}onEditorMouseUp(m){if(!this.isEnabled(m))return;const E=this.getLinkOccurrence(m.target.position);!E||this.openLinkOccurrence(E,m.hasSideBySideModifier,!0)}openLinkOccurrence(m,E,I=!1){if(!this.openerService)return;const{link:k}=m;k.resolve(N.CancellationToken.None).then(A=>{if(typeof A=="string"&&this.editor.hasModel()){const P=this.editor.getModel().uri;if(P.scheme===p.Schemas.file&&A.startsWith(`${p.Schemas.file}:`)){const F=f.URI.parse(A);if(F.scheme===p.Schemas.file){const M=i.originalFSPath(F);let R=null;M.startsWith("/./")?R=`.${M.substr(1)}`:M.startsWith("//./")&&(R=`.${M.substr(2)}`),R&&(A=i.joinPath(P,R))}}}return this.openerService.open(A,{openToSide:E,fromUserGesture:I,allowContributedOpeners:!0,allowCommands:!0})},A=>{const P=A instanceof Error?A.message:A;P==="invalid"?this.notificationService.warn(s.localize(7,null,k.url.toString())):P==="missing"?this.notificationService.warn(s.localize(8,null)):(0,T.onUnexpectedError)(A)})}getLinkOccurrence(m){if(!this.editor.hasModel()||!m)return null;const E=this.editor.getModel().getDecorationsInRange({startLineNumber:m.lineNumber,startColumn:m.column,endLineNumber:m.lineNumber,endColumn:m.column},0,!0);for(const I of E){const k=this.currentOccurrences[I.id];if(k)return k}return null}isEnabled(m,E){return Boolean(m.target.type===6&&(m.hasTriggerModifier||E&&E.keyCodeIsTriggerKey))}stop(){var m;this.timeout.cancel(),this.activeLinksList&&((m=this.activeLinksList)===null||m===void 0||m.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};_.ID="editor.linkDetector",_.RECOMPUTE_TIME=1e3,_=Fe([Ce(1,a.IOpenerService),Ce(2,n.INotificationService)],_),e.LinkDetector=_;class C extends r.EditorAction{constructor(){super({id:"editor.action.openLink",label:s.localize(9,null),alias:"Open Link",precondition:void 0})}run(m,E){let I=_.get(E);if(!I||!E.hasModel())return;let k=E.getSelections();for(let A of k){let P=I.getLinkOccurrence(A.getEndPosition());P&&I.openLinkOccurrence(P,!1)}}}(0,r.registerEditorContribution)(_.ID,_),(0,r.registerEditorAction)(C),(0,l.registerThemingParticipant)((v,m)=>{const E=v.getColor(t.editorActiveLinkForeground);E&&m.addRule(`.monaco-editor .detected-link-active { color: ${E} !important; }`)})}),define(te[155],ie([0,1,45,14,2,16,3,517,15,22,101,12,365]),function(q,e,y,N,T,D,S,p,b,i,f,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let o=class qt{constructor(s,n){this._messageWidget=new T.MutableDisposable,this._messageListeners=new T.DisposableStore,this._editor=s,this._visible=qt.MESSAGE_VISIBLE.bindTo(n),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(s){return s.getContribution(qt.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(s,n){(0,y.alert)(s),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new c(this._editor,n,s),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new N.TimeoutTimer(()=>this.closeMessage(),3e3));let a;this._messageListeners.add(this._editor.onMouseMove(t=>{!t.target.position||(a?a.containsPosition(t.target.position)||this.closeMessage():a=new S.Range(n.lineNumber-3,1,t.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(c.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(p.localize(1,null),this._editor.getPosition())}};o.ID="editor.contrib.messageController",o.MESSAGE_VISIBLE=new b.RawContextKey("messageVisible",!1,p.localize(0,null)),o=Fe([Ce(1,b.IContextKeyService)],o),e.MessageController=o;const d=D.EditorCommand.bindToContribution(o.get);(0,D.registerEditorCommand)(new d({id:"leaveEditorMessage",precondition:o.MESSAGE_VISIBLE,handler:u=>u.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class c{constructor(s,{lineNumber:n,column:a},t){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=s,this._editor.revealLinesInCenterIfOutsideViewport(n,n,0),this._position={lineNumber:n,column:a-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const l=document.createElement("div");l.classList.add("anchor","top"),this._domNode.appendChild(l);const h=document.createElement("div");h.classList.add("message"),h.textContent=t,this._domNode.appendChild(h);const g=document.createElement("div");g.classList.add("anchor","below"),this._domNode.appendChild(g),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(s){let n;const a=()=>{s.dispose(),clearTimeout(n),s.getDomNode().removeEventListener("animationend",a)};return n=setTimeout(a,110),s.getDomNode().addEventListener("animationend",a),s.getDomNode().classList.add("fadeOut"),{dispose:a}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(s){this._domNode.classList.toggle("below",s===2)}}(0,D.registerEditorContribution)(o.ID,o),(0,r.registerThemingParticipant)((u,s)=>{const n=u.getColor(i.inputValidationInfoBorder);if(n){let l=u.type===f.ColorScheme.HIGH_CONTRAST?2:1;s.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${n}; }`),s.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${n}; }`),s.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${l}px solid ${n}; }`)}const a=u.getColor(i.inputValidationInfoBackground);a&&s.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${a}; }`);const t=u.getColor(i.inputValidationInfoForeground);t&&s.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${t}; }`)})});var zt=this&&this.__classPrivateFieldSet||function(q,e,y,N,T){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!T)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?q!==e||!T:!e.has(q))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?T.call(q,y):T?T.value=y:e.set(q,y),y},vt=this&&this.__classPrivateFieldGet||function(q,e,y,N){if(y==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?q!==e||!N:!e.has(q))throw new TypeError("Cannot read private member from an object whose class did not declare it");return y==="m"?N:y==="a"?N.call(q):N?N.value:e.get(q)};define(te[660],ie([0,1,10,158,2,155,9,641,617]),function(q,e,y,N,T,D,S,p,b){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionUi=void 0;let f=class extends T.Disposable{constructor(o,d,c,u,s){super();this._editor=o,this.delegate=u,this._activeCodeActions=this._register(new T.MutableDisposable),i.set(this,!1),this._codeActionWidget=new N.Lazy(()=>this._register(s.createInstance(p.CodeActionMenu,this._editor,{onSelectCodeAction:n=>Me(this,void 0,void 0,function*(){this.delegate.applyCodeAction(n,!0)})}))),this._lightBulbWidget=new N.Lazy(()=>{const n=this._register(s.createInstance(b.LightBulbWidget,this._editor,d,c));return this._register(n.onClick(a=>this.showCodeActionList(a.trigger,a.actions,a,{includeDisabledActions:!1}))),n})}dispose(){zt(this,i,!0,"f"),super.dispose()}update(o){var d,c,u;return Me(this,void 0,void 0,function*(){if(o.type!==1){(d=this._lightBulbWidget.rawValue)===null||d===void 0||d.hide();return}let s;try{s=yield o.actions}catch(n){(0,y.onUnexpectedError)(n);return}if(!vt(this,i,"f"))if(this._lightBulbWidget.getValue().update(s,o.trigger,o.position),o.trigger.type===1){if((c=o.trigger.filter)===null||c===void 0?void 0:c.include){const a=this.tryGetValidActionToApply(o.trigger,s);if(a){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(a,!1)}finally{s.dispose()}return}if(o.trigger.context){const t=this.getInvalidActionThatWouldHaveBeenApplied(o.trigger,s);if(t&&t.action.disabled){D.MessageController.get(this._editor).showMessage(t.action.disabled,o.trigger.context.position),s.dispose();return}}}const n=!!((u=o.trigger.filter)===null||u===void 0?void 0:u.include);if(o.trigger.context&&(!s.allActions.length||!n&&!s.validActions.length)){D.MessageController.get(this._editor).showMessage(o.trigger.context.notAvailableMessage,o.trigger.context.position),this._activeCodeActions.value=s,s.dispose();return}this._activeCodeActions.value=s,this._codeActionWidget.getValue().show(o.trigger,s,o.position,{includeDisabledActions:n})}else this._codeActionWidget.getValue().isVisible?s.dispose():this._activeCodeActions.value=s})}getInvalidActionThatWouldHaveBeenApplied(o,d){if(!!d.allActions.length&&(o.autoApply==="first"&&d.validActions.length===0||o.autoApply==="ifSingle"&&d.allActions.length===1))return d.allActions.find(({action:c})=>c.disabled)}tryGetValidActionToApply(o,d){if(!!d.validActions.length&&(o.autoApply==="first"&&d.validActions.length>0||o.autoApply==="ifSingle"&&d.validActions.length===1))return d.validActions[0]}showCodeActionList(o,d,c,u){return Me(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(o,d,c,u)})}};i=new WeakMap,f=Fe([Ce(4,S.IInstantiationService)],f),e.CodeActionUi=f}),define(te[278],ie([0,1,23,158,2,8,16,142,25,154,660,155,485,26,15,9,89,35,61,90,642,141]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=e.applyCodeAction=e.QuickFixController=void 0;function g(R){return c.ContextKeyExpr.regex(l.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,D.escapeRegExpCharacters)(R.value)+"\\b"))}const w={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:o.localize(0,null)},apply:{type:"string",description:o.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[o.localize(2,null),o.localize(3,null),o.localize(4,null)]},preferred:{type:"boolean",default:!1,description:o.localize(5,null)}}};let _=class wi extends T.Disposable{constructor(O,L,B,z,$){super();this._instantiationService=$,this._editor=O,this._model=this._register(new l.CodeActionModel(this._editor,L,B,z)),this._register(this._model.onDidChangeState(j=>this.update(j))),this._ui=new N.Lazy(()=>this._register(new f.CodeActionUi(O,E.Id,M.Id,{applyCodeAction:(j,X)=>Me(this,void 0,void 0,function*(){try{yield this._applyCodeAction(j)}finally{X&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(O){return O.getContribution(wi.ID)}update(O){this._ui.getValue().update(O)}showCodeActions(O,L,B){return this._ui.getValue().showCodeActionList(O,L,B,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(O,L,B){if(!this._editor.hasModel())return;r.MessageController.get(this._editor).closeMessage();const z=this._editor.getPosition();this._trigger({type:1,filter:L,autoApply:B,context:{notAvailableMessage:O,position:z}})}_trigger(O){return this._model.trigger(O)}_applyCodeAction(O){return this._instantiationService.invokeFunction(C,O,this._editor)}};_.ID="editor.contrib.quickFixController",_=Fe([Ce(1,s.IMarkerService),Ce(2,c.IContextKeyService),Ce(3,a.IEditorProgressService),Ce(4,u.IInstantiationService)],_),e.QuickFixController=_;function C(R,O,L){return Me(this,void 0,void 0,function*(){const B=R.get(p.IBulkEditService),z=R.get(d.ICommandService),$=R.get(t.ITelemetryService),j=R.get(n.INotificationService);if($.publicLog2("codeAction.applyCodeAction",{codeActionTitle:O.action.title,codeActionKind:O.action.kind,codeActionIsPreferred:!!O.action.isPreferred}),yield O.resolve(y.CancellationToken.None),O.action.edit&&(yield B.apply(p.ResourceEdit.convert(O.action.edit),{editor:L,label:O.action.title})),O.action.command)try{yield z.executeCommand(O.action.command.id,...O.action.command.arguments||[])}catch(X){const Q=v(X);j.error(typeof Q=="string"?Q:o.localize(6,null))}})}e.applyCodeAction=C;function v(R){return typeof R=="string"?R:R instanceof Error&&typeof R.message=="string"?R.message:void 0}function m(R,O,L,B){if(R.hasModel()){const z=_.get(R);z&&z.manualTriggerAtCurrentPosition(O,L,B)}}class E extends S.EditorAction{constructor(){super({id:E.Id,label:o.localize(7,null),alias:"Quick Fix...",precondition:c.ContextKeyExpr.and(b.EditorContextKeys.writable,b.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2048|84,weight:100}})}run(O,L){return m(L,o.localize(8,null),void 0,void 0)}}e.QuickFixAction=E,E.Id="editor.action.quickFix";class I extends S.EditorCommand{constructor(){super({id:i.codeActionCommandId,precondition:c.ContextKeyExpr.and(b.EditorContextKeys.writable,b.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:w}]}})}runEditorCommand(O,L,B){const z=h.CodeActionCommandArgs.fromUser(B,{kind:h.CodeActionKind.Empty,apply:"ifSingle"});return m(L,typeof(B==null?void 0:B.kind)=="string"?z.preferred?o.localize(9,null,B.kind):o.localize(10,null,B.kind):z.preferred?o.localize(11,null):o.localize(12,null),{include:z.kind,includeSourceActions:!0,onlyIncludePreferredActions:z.preferred},z.apply)}}e.CodeActionCommand=I;class k extends S.EditorAction{constructor(){super({id:i.refactorCommandId,label:o.localize(13,null),alias:"Refactor...",precondition:c.ContextKeyExpr.and(b.EditorContextKeys.writable,b.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:c.ContextKeyExpr.and(b.EditorContextKeys.writable,g(h.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:w}]}})}run(O,L,B){const z=h.CodeActionCommandArgs.fromUser(B,{kind:h.CodeActionKind.Refactor,apply:"never"});return m(L,typeof(B==null?void 0:B.kind)=="string"?z.preferred?o.localize(14,null,B.kind):o.localize(15,null,B.kind):z.preferred?o.localize(16,null):o.localize(17,null),{include:h.CodeActionKind.Refactor.contains(z.kind)?z.kind:h.CodeActionKind.None,onlyIncludePreferredActions:z.preferred},z.apply)}}e.RefactorAction=k;class A extends S.EditorAction{constructor(){super({id:i.sourceActionCommandId,label:o.localize(18,null),alias:"Source Action...",precondition:c.ContextKeyExpr.and(b.EditorContextKeys.writable,b.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:c.ContextKeyExpr.and(b.EditorContextKeys.writable,g(h.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:w}]}})}run(O,L,B){const z=h.CodeActionCommandArgs.fromUser(B,{kind:h.CodeActionKind.Source,apply:"never"});return m(L,typeof(B==null?void 0:B.kind)=="string"?z.preferred?o.localize(19,null,B.kind):o.localize(20,null,B.kind):z.preferred?o.localize(21,null):o.localize(22,null),{include:h.CodeActionKind.Source.contains(z.kind)?z.kind:h.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:z.preferred},z.apply)}}e.SourceAction=A;class P extends S.EditorAction{constructor(){super({id:i.organizeImportsCommandId,label:o.localize(23,null),alias:"Organize Imports",precondition:c.ContextKeyExpr.and(b.EditorContextKeys.writable,g(h.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:1024|512|45,weight:100}})}run(O,L){return m(L,o.localize(24,null),{include:h.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}e.OrganizeImportsAction=P;class F extends S.EditorAction{constructor(){super({id:i.fixAllCommandId,label:o.localize(25,null),alias:"Fix All",precondition:c.ContextKeyExpr.and(b.EditorContextKeys.writable,g(h.CodeActionKind.SourceFixAll))})}run(O,L){return m(L,o.localize(26,null),{include:h.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}e.FixAllAction=F;class M extends S.EditorAction{constructor(){super({id:M.Id,label:o.localize(27,null),alias:"Auto Fix...",precondition:c.ContextKeyExpr.and(b.EditorContextKeys.writable,g(h.CodeActionKind.QuickFix)),kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:512|1024|84,mac:{primary:2048|512|84},weight:100}})}run(O,L){return m(L,o.localize(28,null),{include:h.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}e.AutoFixAction=M,M.Id="editor.action.autoFix"}),define(te[661],ie([0,1,16,278]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,y.registerEditorContribution)(N.QuickFixController.ID,N.QuickFixController),(0,y.registerEditorAction)(N.QuickFixAction),(0,y.registerEditorAction)(N.RefactorAction),(0,y.registerEditorAction)(N.SourceAction),(0,y.registerEditorAction)(N.OrganizeImportsAction),(0,y.registerEditorAction)(N.AutoFixAction),(0,y.registerEditorAction)(N.FixAllAction),(0,y.registerEditorCommand)(new N.CodeActionCommand)}),define(te[662],ie([0,1,45,14,23,10,2,20,24,66,16,142,28,13,3,25,18,145,155,524,99,15,9,71,35,61,32,629]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h,g,w,_,C,v,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class E{constructor(M,R){this.model=M,this.position=R,this._providerRenameIdx=0,this._providers=s.RenameProviderRegistry.ordered(M)}hasProvider(){return this._providers.length>0}resolveRenameLocation(M){return Me(this,void 0,void 0,function*(){const R=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const L=this._providers[this._providerRenameIdx];if(!L.resolveRenameLocation)break;let B=yield L.resolveRenameLocation(this.model,this.position,M);if(!!B){if(B.rejectReason){R.push(B.rejectReason);continue}return B}}const O=this.model.getWordAtPosition(this.position);return O?{range:new c.Range(this.position.lineNumber,O.startColumn,this.position.lineNumber,O.endColumn),text:O.word,rejectReason:R.length>0?R.join(`
`):void 0}:{range:c.Range.fromPositions(this.position),text:"",rejectReason:R.length>0?R.join(`
`):void 0}})}provideRenameEdits(M,R){return Me(this,void 0,void 0,function*(){return this._provideRenameEdits(M,this._providerRenameIdx,[],R)})}_provideRenameEdits(M,R,O,L){return Me(this,void 0,void 0,function*(){const B=this._providers[R];if(!B)return{edits:[],rejectReason:O.join(`
`)};const z=yield B.provideRenameEdits(this.model,this.position,M,L);if(z){if(z.rejectReason)return this._provideRenameEdits(M,R+1,O.concat(z.rejectReason),L)}else return this._provideRenameEdits(M,R+1,O.concat(t.localize(0,null)),L);return z})}}function I(F,M,R){return Me(this,void 0,void 0,function*(){const O=new E(F,M),L=yield O.resolveRenameLocation(T.CancellationToken.None);return(L==null?void 0:L.rejectReason)?{edits:[],rejectReason:L.rejectReason}:O.provideRenameEdits(R,T.CancellationToken.None)})}e.rename=I;let k=class yi{constructor(M,R,O,L,B,z,$){this.editor=M,this._instaService=R,this._notificationService=O,this._bulkEditService=L,this._progressService=B,this._logService=z,this._configService=$,this._dispoableStore=new S.DisposableStore,this._cts=new T.CancellationTokenSource,this._renameInputField=this._dispoableStore.add(new N.IdleValue(()=>this._dispoableStore.add(this._instaService.createInstance(m.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(M){return M.getContribution(yi.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return Me(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const M=this.editor.getPosition(),R=new E(this.editor.getModel(),M);if(!R.hasProvider())return;this._cts=new i.EditorStateCancellationTokenSource(this.editor,4|1);let O;try{const Q=R.resolveRenameLocation(this._cts.token);this._progressService.showWhile(Q,250),O=yield Q}catch(Q){a.MessageController.get(this.editor).showMessage(Q||t.localize(1,null),M);return}if(!O)return;if(O.rejectReason){a.MessageController.get(this.editor).showMessage(O.rejectReason,M);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new i.EditorStateCancellationTokenSource(this.editor,4|1,O.range);let L=this.editor.getSelection(),B=0,z=O.text.length;!c.Range.isEmpty(L)&&!c.Range.spansMultipleLines(L)&&c.Range.containsRange(O.range,L)&&(B=Math.max(0,L.startColumn-O.range.startColumn),z=Math.min(O.range.endColumn,L.endColumn)-O.range.startColumn);const $=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),j=yield this._renameInputField.value.getInput(O.range,O.text,B,z,$,this._cts.token);if(typeof j=="boolean"){j&&this.editor.focus();return}this.editor.focus();const X=(0,N.raceCancellation)(R.provideRenameEdits(j.newName,this._cts.token),this._cts.token).then(Q=>Me(this,void 0,void 0,function*(){if(!(!Q||!this.editor.hasModel())){if(Q.rejectReason){this._notificationService.info(Q.rejectReason);return}this._bulkEditService.apply(r.ResourceEdit.convert(Q),{editor:this.editor,showPreview:j.wantsPreview,label:t.localize(2,null,O==null?void 0:O.text),quotableLabel:t.localize(3,null,O==null?void 0:O.text)}).then(Y=>{Y.ariaSummary&&(0,y.alert)(t.localize(4,null,O.text,j.newName,Y.ariaSummary))}).catch(Y=>{this._notificationService.error(t.localize(5,null)),this._logService.error(Y)})}}),Q=>{this._notificationService.error(t.localize(6,null)),this._logService.error(Q)});return this._progressService.showWhile(X,250),X})}acceptRenameInput(M){this._renameInputField.value.acceptInput(M)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};k.ID="editor.contrib.renameController",k=Fe([Ce(1,g.IInstantiationService),Ce(2,_.INotificationService),Ce(3,r.IBulkEditService),Ce(4,C.IEditorProgressService),Ce(5,w.ILogService),Ce(6,n.ITextResourceConfigurationService)],k);class A extends f.EditorAction{constructor(){super({id:"editor.action.rename",label:t.localize(7,null),alias:"Rename Symbol",precondition:h.ContextKeyExpr.and(u.EditorContextKeys.writable,u.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(M,R){const O=M.get(o.ICodeEditorService),[L,B]=Array.isArray(R)&&R||[void 0,void 0];return b.URI.isUri(L)&&d.Position.isIPosition(B)?O.openCodeEditor({resource:L},O.getActiveCodeEditor()).then(z=>{!z||(z.setPosition(B),z.invokeWithinContext($=>(this.reportTelemetry($,z),this.run($,z))))},D.onUnexpectedError):super.runCommand(M,R)}run(M,R){const O=k.get(R);return O?O.run():Promise.resolve()}}e.RenameAction=A,(0,f.registerEditorContribution)(k.ID,k),(0,f.registerEditorAction)(A);const P=f.EditorCommand.bindToContribution(k.get);(0,f.registerEditorCommand)(new P({id:"acceptRenameInput",precondition:m.CONTEXT_RENAME_INPUT_VISIBLE,handler:F=>F.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:u.EditorContextKeys.focus,primary:3}})),(0,f.registerEditorCommand)(new P({id:"acceptRenameInputWithPreview",precondition:h.ContextKeyExpr.and(m.CONTEXT_RENAME_INPUT_VISIBLE,h.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:F=>F.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:u.EditorContextKeys.focus,primary:1024+3}})),(0,f.registerEditorCommand)(new P({id:"cancelRenameInput",precondition:m.CONTEXT_RENAME_INPUT_VISIBLE,handler:F=>F.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:u.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,f.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(F,M,...R){const[O]=R;return(0,p.assertType)(typeof O=="string"),I(F,M,O)}),(0,f.registerModelAndPositionCommand)("_executePrepareRename",function(F,M){return Me(this,void 0,void 0,function*(){const O=yield new E(F,M).resolveRenameLocation(T.CancellationToken.None);if(O==null?void 0:O.rejectReason)throw new Error(O.rejectReason);return O})}),v.Registry.as(l.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:t.localize(8,null),default:!0,type:"boolean"}}})}),define(te[663],ie([0,1,19,23,10,16,13,3,21,25,18,244,429,526,33,26]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=void 0;class s{constructor(w,_){this.index=w,this.ranges=_}mov(w){let _=this.index+(w?1:-1);if(_<0||_>=this.ranges.length)return this;const C=new s(_,this.ranges);return C.ranges[_].equalsRange(this.ranges[this.index])?C.mov(w):C}}class n{constructor(w){this._editor=w,this._ignoreSelection=!1}static get(w){return w.getContribution(n.ID)}dispose(){var w;(w=this._selectionListener)===null||w===void 0||w.dispose()}run(w){return Me(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const _=this._editor.getSelections(),C=this._editor.getModel();if(!f.SelectionRangeRegistry.has(C)||(this._state||(yield h(C,_.map(m=>m.getPosition()),this._editor.getOption(101),N.CancellationToken.None).then(m=>{var E;if(!(!y.isNonEmptyArray(m)||m.length!==_.length)&&!(!this._editor.hasModel()||!y.equals(this._editor.getSelections(),_,(I,k)=>I.equalsSelection(k)))){for(let I=0;I<m.length;I++)m[I]=m[I].filter(k=>k.containsPosition(_[I].getStartPosition())&&k.containsPosition(_[I].getEndPosition())),m[I].unshift(_[I]);this._state=m.map(I=>new s(0,I)),(E=this._selectionListener)===null||E===void 0||E.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var I;this._ignoreSelection||((I=this._selectionListener)===null||I===void 0||I.dispose(),this._state=void 0)})}})),!this._state))return;this._state=this._state.map(m=>m.mov(w));const v=this._state.map(m=>b.Selection.fromPositions(m.ranges[m.index].getStartPosition(),m.ranges[m.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(v)}finally{this._ignoreSelection=!1}})}}n.ID="editor.contrib.smartSelectController";class a extends D.EditorAction{constructor(w,_){super(_);this._forward=w}run(w,_){return Me(this,void 0,void 0,function*(){let C=n.get(_);C&&(yield C.run(this._forward))})}}class t extends a{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:d.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:c.MenuId.MenubarSelectionMenu,group:"1_basic",title:d.localize(1,null),order:2}})}}u.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class l extends a{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:d.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:c.MenuId.MenubarSelectionMenu,group:"1_basic",title:d.localize(3,null),order:3}})}}(0,D.registerEditorContribution)(n.ID,n),(0,D.registerEditorAction)(t),(0,D.registerEditorAction)(l),f.SelectionRangeRegistry.register("*",new o.WordSelectionRangeProvider);function h(g,w,_,C){return Me(this,void 0,void 0,function*(){const v=f.SelectionRangeRegistry.all(g);v.length===1&&v.unshift(new r.BracketSelectionRangeProvider);let m=[],E=[];for(const I of v)m.push(Promise.resolve(I.provideSelectionRanges(g,w,C)).then(k=>{if(y.isNonEmptyArray(k)&&k.length===w.length)for(let A=0;A<w.length;A++){E[A]||(E[A]=[]);for(const P of k[A])p.Range.isIRange(P.range)&&p.Range.containsPosition(P.range,w[A])&&E[A].push(p.Range.lift(P.range))}},T.onUnexpectedExternalError));return yield Promise.all(m),E.map(I=>{if(I.length===0)return[];I.sort((F,M)=>S.Position.isBefore(F.getStartPosition(),M.getStartPosition())?1:S.Position.isBefore(M.getStartPosition(),F.getStartPosition())||S.Position.isBefore(F.getEndPosition(),M.getEndPosition())?-1:S.Position.isBefore(M.getEndPosition(),F.getEndPosition())?1:0);let k=[],A;for(const F of I)(!A||p.Range.containsRange(F,A)&&!p.Range.equalsRange(F,A))&&(k.push(F),A=F);if(!_.selectLeadingAndTrailingWhitespace)return k;let P=[k[0]];for(let F=1;F<k.length;F++){const M=k[F-1],R=k[F];if(R.startLineNumber!==M.startLineNumber||R.endLineNumber!==M.endLineNumber){const O=new p.Range(M.startLineNumber,g.getLineFirstNonWhitespaceColumn(M.startLineNumber),M.endLineNumber,g.getLineLastNonWhitespaceColumn(M.endLineNumber));O.containsRange(M)&&!O.equalsRange(M)&&R.containsRange(O)&&!R.equalsRange(O)&&P.push(O);const L=new p.Range(M.startLineNumber,1,M.endLineNumber,g.getLineMaxColumn(M.endLineNumber));L.containsRange(M)&&!L.equalsRange(O)&&R.containsRange(L)&&!R.equalsRange(L)&&P.push(L)}P.push(R)}return P})})}e.provideSelectionRanges=h,(0,D.registerModelCommand)("_executeSelectionRangeProvider",function(g,...w){const[_]=w;return h(g,_,{selectLeadingAndTrailingWhitespace:!0},N.CancellationToken.None)})}),define(te[102],ie([0,1,23,10,67,2,83,20,24,13,3,18,69,119,529,33,26,15]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:new n.RawContextKey("suggestWidgetVisible",!1,(0,c.localize)(0,null)),DetailsVisible:new n.RawContextKey("suggestWidgetDetailsVisible",!1,(0,c.localize)(1,null)),MultipleSuggestions:new n.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,c.localize)(2,null)),MakesTextEdit:new n.RawContextKey("suggestionMakesTextEdit",!0,(0,c.localize)(3,null)),AcceptSuggestionsOnEnter:new n.RawContextKey("acceptSuggestionOnEnter",!0,(0,c.localize)(4,null)),HasInsertAndReplaceRange:new n.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,c.localize)(5,null)),InsertMode:new n.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,c.localize)(6,null)}),CanResolve:new n.RawContextKey("suggestionCanResolve",!1,(0,c.localize)(7,null))},e.suggestWidgetStatusbarMenu=new u.MenuId("suggestWidgetStatusBar");class a{constructor(P,F,M,R){this.position=P,this.completion=F,this.container=M,this.provider=R,this.isInvalid=!1,this.score=T.FuzzyScore.Default,this.distance=0,this.textLabel=typeof F.label=="string"?F.label:F.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=F.sortText&&F.sortText.toLowerCase(),this.filterTextLow=F.filterText&&F.filterText.toLowerCase(),f.Range.isIRange(F.range)?(this.editStart=new i.Position(F.range.startLineNumber,F.range.startColumn),this.editInsertEnd=new i.Position(F.range.endLineNumber,F.range.endColumn),this.editReplaceEnd=new i.Position(F.range.endLineNumber,F.range.endColumn),this.isInvalid=this.isInvalid||f.Range.spansMultipleLines(F.range)||F.range.startLineNumber!==P.lineNumber):(this.editStart=new i.Position(F.range.insert.startLineNumber,F.range.insert.startColumn),this.editInsertEnd=new i.Position(F.range.insert.endLineNumber,F.range.insert.endColumn),this.editReplaceEnd=new i.Position(F.range.replace.endLineNumber,F.range.replace.endColumn),this.isInvalid=this.isInvalid||f.Range.spansMultipleLines(F.range.insert)||f.Range.spansMultipleLines(F.range.replace)||F.range.insert.startLineNumber!==P.lineNumber||F.range.replace.startLineNumber!==P.lineNumber||F.range.insert.startColumn!==F.range.replace.startColumn),typeof R.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(P){return Me(this,void 0,void 0,function*(){if(!this._resolveCache){const F=P.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,P)).then(M=>{Object.assign(this.completion,M),this._isResolved=!0,F.dispose()},M=>{(0,N.isPromiseCanceledError)(M)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}e.CompletionItem=a;class t{constructor(P=2,F=new Set,M=new Set,R=!0){this.snippetSortOrder=P,this.kindFilter=F,this.providerFilter=M,this.showDeprecated=R}}e.CompletionOptions=t,t.default=new t;let l;function h(){return l}e.getSnippetSuggestSupport=h;class g{constructor(P,F,M,R){this.items=P,this.needsClipboard=F,this.durations=M,this.disposable=R}}e.CompletionItemModel=g;function w(A,P,F=t.default,M={triggerKind:0},R=y.CancellationToken.None){return Me(this,void 0,void 0,function*(){const O=new S.StopWatch(!0);P=P.clone();const L=A.getWordAtPosition(P),B=L?new f.Range(P.lineNumber,L.startColumn,P.lineNumber,L.endColumn):f.Range.fromPositions(P),z={replace:B,insert:B.setEndPosition(P.lineNumber,P.column)},$=[],j=new D.DisposableStore,X=[];let Q=!1;const Y=(se,K,x)=>{var U,H,V;if(!!K){for(let ne of K.suggestions)if(!F.kindFilter.has(ne.kind)){if(!F.showDeprecated&&((U=ne==null?void 0:ne.tags)===null||U===void 0?void 0:U.includes(1)))continue;ne.range||(ne.range=z),ne.sortText||(ne.sortText=typeof ne.label=="string"?ne.label:ne.label.label),!Q&&ne.insertTextRules&&ne.insertTextRules&4&&(Q=d.SnippetParser.guessNeedsClipboard(ne.insertText)),$.push(new a(P,ne,K,se))}(0,D.isDisposable)(K)&&j.add(K),X.push({providerName:(H=se._debugDisplayName)!==null&&H!==void 0?H:"unkown_provider",elapsedProvider:(V=K.duration)!==null&&V!==void 0?V:-1,elapsedOverall:x.elapsed()})}},oe=(()=>Me(this,void 0,void 0,function*(){if(!l||F.kindFilter.has(27)||F.providerFilter.size>0&&!F.providerFilter.has(l))return;const se=new S.StopWatch(!0),K=yield l.provideCompletionItems(A,P,M,R);Y(l,K,se)}))();for(let se of r.CompletionProviderRegistry.orderedGroups(A)){let K=$.length;if(yield Promise.all(se.map(x=>Me(this,void 0,void 0,function*(){if(!(F.providerFilter.size>0&&!F.providerFilter.has(x)))try{const U=new S.StopWatch(!0),H=yield x.provideCompletionItems(A,P,M,R);Y(x,H,U)}catch(U){(0,N.onUnexpectedExternalError)(U)}}))),K!==$.length||R.isCancellationRequested)break}return yield oe,R.isCancellationRequested?(j.dispose(),Promise.reject((0,N.canceled)())):new g($.sort(E(F.snippetSortOrder)),Q,{entries:X,elapsed:O.elapsed()},j)})}e.provideSuggestionItems=w;function _(A,P){if(A.sortTextLow&&P.sortTextLow){if(A.sortTextLow<P.sortTextLow)return-1;if(A.sortTextLow>P.sortTextLow)return 1}return A.completion.label<P.completion.label?-1:A.completion.label>P.completion.label?1:A.completion.kind-P.completion.kind}function C(A,P){if(A.completion.kind!==P.completion.kind){if(A.completion.kind===27)return-1;if(P.completion.kind===27)return 1}return _(A,P)}function v(A,P){if(A.completion.kind!==P.completion.kind){if(A.completion.kind===27)return 1;if(P.completion.kind===27)return-1}return _(A,P)}const m=new Map;m.set(0,C),m.set(2,v),m.set(1,_);function E(A){return m.get(A)}e.getSuggestionComparator=E,s.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(A,...P)=>Me(void 0,void 0,void 0,function*(){const[F,M,R,O]=P;(0,p.assertType)(b.URI.isUri(F)),(0,p.assertType)(i.Position.isIPosition(M)),(0,p.assertType)(typeof R=="string"||!R),(0,p.assertType)(typeof O=="number"||!O);const L=yield A.get(o.ITextModelService).createModelReference(F);try{const B={incomplete:!1,suggestions:[]},z=[],$=yield w(L.object.textEditorModel,i.Position.lift(M),void 0,{triggerCharacter:R,triggerKind:R?1:0});for(const j of $.items)z.length<(O??0)&&z.push(j.resolve(y.CancellationToken.None)),B.incomplete=B.incomplete||j.container.incomplete,B.suggestions.push(j.completion);try{return yield Promise.all(z),B}finally{setTimeout(()=>$.disposable.dispose(),100)}}finally{L.dispose()}}));const I=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let P={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,P}};r.CompletionProviderRegistry.register("*",I);function k(A,P){setTimeout(()=>{I.onlyOnceSuggestions.push(...P),A.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(I))},0)}e.showSimpleSuggestions=k}),define(te[279],ie([0,1,45,16,191,536]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class S extends N.EditorAction{constructor(){super({id:S.ID,label:D.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43},weight:100}})}run(b,i){const r=!T.TabFocus.getTabFocusMode();T.TabFocus.setTabFocusMode(r),r?(0,y.alert)(D.localize(1,null)):(0,y.alert)(D.localize(2,null))}}e.ToggleTabFocusModeAction=S,S.ID="editor.action.toggleTabFocusMode",(0,N.registerEditorAction)(S)}),define(te[664],ie([0,1,83,16,537]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends N.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:T.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(p,b){if(!b.hasModel())return;const i=b.getModel();i.resetTokenization();const f=new y.StopWatch(!0);i.forceTokenization(i.getLineCount()),f.stop(),console.log(`tokenization took ${f.elapsed()}`)}}(0,N.registerEditorAction)(D)}),define(te[665],ie([0,1,2,44,16,28,538,123]),function(q,e,y,N,T,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const b="ignoreUnusualLineTerminators";function i(o,d,c){o.setModelProperty(d.uri,b,c)}function f(o,d){return o.getModelProperty(d.uri,b)}let r=class extends y.Disposable{constructor(d,c,u){super();this._editor=d,this._dialogService=c,this._codeEditorService=u,this._config=this._editor.getOption(112),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(112)&&(this._config=this._editor.getOption(112),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(s=>{s.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return Me(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const d=this._editor.getModel();if(!d.mightContainUnusualLineTerminators()||f(this._codeEditorService,d)===!0||this._editor.getOption(80))return;if(this._config==="auto"){d.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:S.localize(0,null),message:S.localize(1,null),detail:S.localize(2,null,(0,N.basename)(d.uri)),primaryButton:S.localize(3,null),secondaryButton:S.localize(4,null)})).confirmed){i(this._codeEditorService,d,!0);return}d.removeUnusualLineTerminators(this._editor.getSelections())})}};r.ID="editor.contrib.unusualLineTerminatorsDetector",r=Fe([Ce(1,p.IDialogService),Ce(2,D.ICodeEditorService)],r),e.UnusualLineTerminatorsDetector=r,(0,T.registerEditorContribution)(r.ID,r)}),define(te[666],ie([0,1,45,19,14,23,10,2,16,3,25,49,31,18,539,15,22,12]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOccurrencesAtPosition=void 0;const a=(0,s.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},c.localize(0,null),!0),t=(0,s.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},c.localize(1,null),!0),l=(0,s.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hc:s.activeContrastBorder},c.localize(2,null)),h=(0,s.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:s.activeContrastBorder},c.localize(3,null)),g=(0,s.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},c.localize(4,null),!0),w=(0,s.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},c.localize(5,null),!0),_=new u.RawContextKey("hasWordHighlights",!1);function C(O,L,B){const z=d.DocumentHighlightProviderRegistry.ordered(O);return(0,T.first)(z.map($=>()=>Promise.resolve($.provideDocumentHighlights(O,L,B)).then(void 0,S.onUnexpectedExternalError)),N.isNonEmptyArray)}e.getOccurrencesAtPosition=C;class v{constructor(L,B,z){this._wordRange=this._getCurrentWordRange(L,B),this.result=(0,T.createCancelablePromise)($=>this._compute(L,B,z,$))}_getCurrentWordRange(L,B){const z=L.getWordAtPosition(B.getPosition());return z?new i.Range(B.startLineNumber,z.startColumn,B.startLineNumber,z.endColumn):null}isValid(L,B,z){const $=B.startLineNumber,j=B.startColumn,X=B.endColumn,Q=this._getCurrentWordRange(L,B);let Y=Boolean(this._wordRange&&this._wordRange.equalsRange(Q));for(let oe=0,se=z.length;!Y&&oe<se;oe++){let K=L.getDecorationRange(z[oe]);K&&K.startLineNumber===$&&K.startColumn<=j&&K.endColumn>=X&&(Y=!0)}return Y}cancel(){this.result.cancel()}}class m extends v{_compute(L,B,z,$){return C(L,B.getPosition(),$).then(j=>j||[])}}class E extends v{constructor(L,B,z){super(L,B,z);this._selectionIsEmpty=B.isEmpty()}_compute(L,B,z,$){return(0,T.timeout)(250,$).then(()=>{if(!B.isEmpty())return[];const j=L.getWordAtPosition(B.getPosition());return!j||j.word.length>1e3?[]:L.findMatches(j.word,!0,!1,!0,z,!1).map(Q=>({range:Q.range,kind:d.DocumentHighlightKind.Text}))})}isValid(L,B,z){const $=B.isEmpty();return this._selectionIsEmpty!==$?!1:super.isValid(L,B,z)}}function I(O,L,B){return d.DocumentHighlightProviderRegistry.has(O)?new m(O,L,B):new E(O,L,B)}(0,b.registerModelAndPositionCommand)("_executeDocumentHighlights",(O,L)=>C(O,L,D.CancellationToken.None));class k{constructor(L,B){this.toUnhook=new p.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=L,this._hasWordHighlights=_.bindTo(B),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(71),this.model=this.editor.getModel(),this.toUnhook.add(L.onDidChangeCursorPosition(z=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(z)})),this.toUnhook.add(L.onDidChangeModelContent(z=>{this._stopAll()})),this.toUnhook.add(L.onDidChangeConfiguration(z=>{let $=this.editor.getOption(71);this.occurrencesHighlight!==$&&(this.occurrencesHighlight=$,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return N.coalesce(this._decorationIds.map(L=>this.model.getDecorationRange(L)).sort(i.Range.compareRangesUsingStarts))}moveNext(){let L=this._getSortedHighlights(),z=(L.findIndex(j=>j.containsPosition(this.editor.getPosition()))+1)%L.length,$=L[z];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition($.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport($);const j=this._getWord();if(j){const X=this.editor.getModel().getLineContent($.startLineNumber);(0,y.alert)(`${X}, ${z+1} of ${L.length} for '${j.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let L=this._getSortedHighlights(),z=(L.findIndex(j=>j.containsPosition(this.editor.getPosition()))-1+L.length)%L.length,$=L[z];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition($.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport($);const j=this._getWord();if(j){const X=this.editor.getModel().getLineContent($.startLineNumber);(0,y.alert)(`${X}, ${z+1} of ${L.length} for '${j.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(L){if(!this.occurrencesHighlight){this._stopAll();return}if(L.reason!==3){this._stopAll();return}this._run()}_getWord(){let L=this.editor.getSelection(),B=L.startLineNumber,z=L.startColumn;return this.model.getWordAtPosition({lineNumber:B,column:z})}_run(){let L=this.editor.getSelection();if(L.startLineNumber!==L.endLineNumber){this._stopAll();return}let B=L.startColumn,z=L.endColumn;const $=this._getWord();if(!$||$.startColumn>B||$.endColumn<z){this._stopAll();return}const j=this.workerRequest&&this.workerRequest.isValid(this.model,L,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),j)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let X=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=I(this.model,this.editor.getSelection(),this.editor.getOption(115)),this.workerRequest.result.then(Q=>{X===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=Q||[],this._beginRenderDecorations())},S.onUnexpectedError)}}_beginRenderDecorations(){let L=new Date().getTime(),B=this.lastCursorPositionChangeTime+250;L>=B?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},B-L)}renderDecorations(){this.renderDecorationsTimer=-1;let L=[];for(const B of this.workerRequestValue)B.range&&L.push({range:B.range,options:k._getDecorationOptions(B.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,L),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(L){return L===d.DocumentHighlightKind.Write?this._WRITE_OPTIONS:L===d.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}k._WRITE_OPTIONS=o.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,n.themeColorFromId)(w),position:r.OverviewRulerLane.Center},minimap:{color:(0,n.themeColorFromId)(s.minimapSelectionOccurrenceHighlight),position:r.MinimapPosition.Inline}}),k._TEXT_OPTIONS=o.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,n.themeColorFromId)(s.overviewRulerSelectionHighlightForeground),position:r.OverviewRulerLane.Center},minimap:{color:(0,n.themeColorFromId)(s.minimapSelectionOccurrenceHighlight),position:r.MinimapPosition.Inline}}),k._REGULAR_OPTIONS=o.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,n.themeColorFromId)(g),position:r.OverviewRulerLane.Center},minimap:{color:(0,n.themeColorFromId)(s.minimapSelectionOccurrenceHighlight),position:r.MinimapPosition.Inline}});let A=class Li extends p.Disposable{constructor(L,B){super();this.wordHighlighter=null;const z=()=>{L.hasModel()&&(this.wordHighlighter=new k(L,B))};this._register(L.onDidChangeModel($=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),z()})),z()}static get(L){return L.getContribution(Li.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(L){this.wordHighlighter&&L&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};A.ID="editor.contrib.wordHighlighter",A=Fe([Ce(1,u.IContextKeyService)],A);class P extends b.EditorAction{constructor(L,B){super(B);this._isNext=L}run(L,B){const z=A.get(B);!z||(this._isNext?z.moveNext():z.moveBack())}}class F extends P{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:c.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:_,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class M extends P{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:c.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:_,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:1024|65,weight:100}})}}class R extends b.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:c.localize(8,null),alias:"Trigger Symbol Highlight",precondition:_.toNegated(),kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(L,B,z){const $=A.get(B);!$||$.restoreViewState(!0)}}(0,b.registerEditorContribution)(A.ID,A),(0,b.registerEditorAction)(F),(0,b.registerEditorAction)(M),(0,b.registerEditorAction)(R),(0,n.registerThemingParticipant)((O,L)=>{const B=O.getColor(s.editorSelectionHighlight);B&&(L.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${B}; }`),L.addRule(`.monaco-editor .selectionHighlight { background-color: ${B.transparent(.5)}; }`));const z=O.getColor(a);z&&L.addRule(`.monaco-editor .wordHighlight { background-color: ${z}; }`);const $=O.getColor(t);$&&L.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${$}; }`);const j=O.getColor(s.editorSelectionHighlightBorder);j&&L.addRule(`.monaco-editor .selectionHighlight { border: 1px ${O.type==="hc"?"dotted":"solid"} ${j}; box-sizing: border-box; }`);const X=O.getColor(l);X&&L.addRule(`.monaco-editor .wordHighlight { border: 1px ${O.type==="hc"?"dashed":"solid"} ${X}; box-sizing: border-box; }`);const Q=O.getColor(h);Q&&L.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${O.type==="hc"?"dashed":"solid"} ${Q}; box-sizing: border-box; }`)})}),define(te[280],ie([0,1,16,96,34,42,149,111,13,3,21,25,38,540,60,15,261]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class n extends y.EditorCommand{constructor(K){super(K);this._inSelectionMode=K.inSelectionMode,this._wordNavigationType=K.wordNavigationType}runEditorCommand(K,x,U){if(!x.hasModel())return;const H=(0,p.getMapForWordSeparators)(x.getOption(115)),V=x.getModel(),ue=x.getSelections().map(pe=>{const ge=new b.Position(pe.positionLineNumber,pe.positionColumn),W=this._move(H,V,ge,this._wordNavigationType);return this._moveTo(pe,W,this._inSelectionMode)});if(V.pushStackElement(),x._getViewModel().setCursorStates("moveWordCommand",3,ue.map(pe=>D.CursorState.fromModelSelection(pe))),ue.length===1){const pe=new b.Position(ue[0].positionLineNumber,ue[0].positionColumn);x.revealPosition(pe,0)}}_moveTo(K,x,U){return U?new f.Selection(K.selectionStartLineNumber,K.selectionStartColumn,x.lineNumber,x.column):new f.Selection(x.lineNumber,x.column,x.lineNumber,x.column)}}e.MoveWordCommand=n;class a extends n{_move(K,x,U,H){return S.WordOperations.moveWordLeft(K,x,U,H)}}e.WordLeftCommand=a;class t extends n{_move(K,x,U,H){return S.WordOperations.moveWordRight(K,x,U,H)}}e.WordRightCommand=t;class l extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=l;class h extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=h;class g extends a{constructor(){var K;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:u.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,(K=u.ContextKeyExpr.and(c.CONTEXT_ACCESSIBILITY_MODE_ENABLED,s.IsWindowsContext))===null||K===void 0?void 0:K.negate()),primary:2048|15,mac:{primary:512|15},weight:100}})}}e.CursorWordLeft=g;class w extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=w;class _ extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=_;class C extends a{constructor(){var K;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:u.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,(K=u.ContextKeyExpr.and(c.CONTEXT_ACCESSIBILITY_MODE_ENABLED,s.IsWindowsContext))===null||K===void 0?void 0:K.negate()),primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}}e.CursorWordLeftSelect=C;class v extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(K,x,U,H){return super._move((0,p.getMapForWordSeparators)(T.EditorOptions.wordSeparators.defaultValue),x,U,H)}}e.CursorWordAccessibilityLeft=v;class m extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(K,x,U,H){return super._move((0,p.getMapForWordSeparators)(T.EditorOptions.wordSeparators.defaultValue),x,U,H)}}e.CursorWordAccessibilityLeftSelect=m;class E extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=E;class I extends t{constructor(){var K;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:u.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,(K=u.ContextKeyExpr.and(c.CONTEXT_ACCESSIBILITY_MODE_ENABLED,s.IsWindowsContext))===null||K===void 0?void 0:K.negate()),primary:2048|17,mac:{primary:512|17},weight:100}})}}e.CursorWordEndRight=I;class k extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=k;class A extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=A;class P extends t{constructor(){var K;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:u.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,(K=u.ContextKeyExpr.and(c.CONTEXT_ACCESSIBILITY_MODE_ENABLED,s.IsWindowsContext))===null||K===void 0?void 0:K.negate()),primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}}e.CursorWordEndRightSelect=P;class F extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=F;class M extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(K,x,U,H){return super._move((0,p.getMapForWordSeparators)(T.EditorOptions.wordSeparators.defaultValue),x,U,H)}}e.CursorWordAccessibilityRight=M;class R extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(K,x,U,H){return super._move((0,p.getMapForWordSeparators)(T.EditorOptions.wordSeparators.defaultValue),x,U,H)}}e.CursorWordAccessibilityRightSelect=R;class O extends y.EditorCommand{constructor(K){super(K);this._whitespaceHeuristics=K.whitespaceHeuristics,this._wordNavigationType=K.wordNavigationType}runEditorCommand(K,x,U){if(!x.hasModel())return;const H=(0,p.getMapForWordSeparators)(x.getOption(115)),V=x.getModel(),ne=x.getSelections(),ue=x.getOption(5),pe=x.getOption(8),ge=o.LanguageConfigurationRegistry.getAutoClosingPairs(V.getLanguageIdentifier().id),W=x._getViewModel(),G=ne.map(re=>{const ee=this._delete({wordSeparators:H,model:V,selection:re,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:x.getOption(6),autoClosingBrackets:ue,autoClosingQuotes:pe,autoClosingPairs:ge,autoClosedCharacters:W.getCursorAutoClosedCharacters()},this._wordNavigationType);return new N.ReplaceCommand(ee,"")});x.pushUndoStop(),x.executeCommands(this.id,G),x.pushUndoStop()}}e.DeleteWordCommand=O;class L extends O{_delete(K,x){let U=S.WordOperations.deleteWordLeft(K,x);return U||new i.Range(1,1,1,1)}}e.DeleteWordLeftCommand=L;class B extends O{_delete(K,x){let U=S.WordOperations.deleteWordRight(K,x);if(U)return U;const H=K.model.getLineCount(),V=K.model.getLineMaxColumn(H);return new i.Range(H,V,H,V)}}e.DeleteWordRightCommand=B;class z extends L{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:r.EditorContextKeys.writable})}}e.DeleteWordStartLeft=z;class $ extends L{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:r.EditorContextKeys.writable})}}e.DeleteWordEndLeft=$;class j extends L{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}}e.DeleteWordLeft=j;class X extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:r.EditorContextKeys.writable})}}e.DeleteWordStartRight=X;class Q extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:r.EditorContextKeys.writable})}}e.DeleteWordEndRight=Q;class Y extends B{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}}e.DeleteWordRight=Y;class oe extends y.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:r.EditorContextKeys.writable,label:d.localize(0,null),alias:"Delete Word"})}run(K,x,U){if(!x.hasModel())return;const H=(0,p.getMapForWordSeparators)(x.getOption(115)),V=x.getModel(),ue=x.getSelections().map(pe=>{const ge=S.WordOperations.deleteInsideWord(H,V,pe);return new N.ReplaceCommand(ge,"")});x.pushUndoStop(),x.executeCommands(this.id,ue),x.pushUndoStop()}}e.DeleteInsideWord=oe,(0,y.registerEditorCommand)(new l),(0,y.registerEditorCommand)(new h),(0,y.registerEditorCommand)(new g),(0,y.registerEditorCommand)(new w),(0,y.registerEditorCommand)(new _),(0,y.registerEditorCommand)(new C),(0,y.registerEditorCommand)(new E),(0,y.registerEditorCommand)(new I),(0,y.registerEditorCommand)(new k),(0,y.registerEditorCommand)(new A),(0,y.registerEditorCommand)(new P),(0,y.registerEditorCommand)(new F),(0,y.registerEditorCommand)(new v),(0,y.registerEditorCommand)(new m),(0,y.registerEditorCommand)(new M),(0,y.registerEditorCommand)(new R),(0,y.registerEditorCommand)(new z),(0,y.registerEditorCommand)(new $),(0,y.registerEditorCommand)(new j),(0,y.registerEditorCommand)(new X),(0,y.registerEditorCommand)(new Q),(0,y.registerEditorCommand)(new Y),(0,y.registerEditorAction)(oe)}),define(te[667],ie([0,1,16,149,3,25,280,26]),function(q,e,y,N,T,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class b extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}_delete(n,a){let t=N.WordPartOperations.deleteWordPartLeft(n);return t||new T.Range(1,1,1,1)}}e.DeleteWordPartLeft=b;class i extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}_delete(n,a){let t=N.WordPartOperations.deleteWordPartRight(n);if(t)return t;const l=n.model.getLineCount(),h=n.model.getLineMaxColumn(l);return new T.Range(l,h,l,h)}}e.DeleteWordPartRight=i;class f extends S.MoveWordCommand{_move(n,a,t,l){return N.WordPartOperations.moveWordPartLeft(n,a,t)}}e.WordPartLeftCommand=f;class r extends f{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}}e.CursorWordPartLeft=r,p.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class o extends f{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}}e.CursorWordPartLeftSelect=o,p.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class d extends S.MoveWordCommand{_move(n,a,t,l){return N.WordPartOperations.moveWordPartRight(n,a,t)}}e.WordPartRightCommand=d;class c extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}}e.CursorWordPartRight=c;class u extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}}e.CursorWordPartRightSelect=u,(0,y.registerEditorCommand)(new b),(0,y.registerEditorCommand)(new i),(0,y.registerEditorCommand)(new r),(0,y.registerEditorCommand)(new o),(0,y.registerEditorCommand)(new c),(0,y.registerEditorCommand)(new u)}),define(te[668],ie([0,1,7,30,163,45,53,2,17,8,24,16,25,279,15,9,40,57,22,12,64,372]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const h=new c.RawContextKey("accessibilityHelpWidgetVisible",!1);let g=class Ei extends p.Disposable{constructor(E,I){super();this._editor=E,this._widget=this._register(I.createInstance(_,this._editor))}static get(E){return E.getContribution(Ei.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};g.ID="editor.contrib.accessibilityHelpController",g=Fe([Ce(1,u.IInstantiationService)],g);function w(m,E){return!m||m.length===0?l.AccessibilityHelpNLS.noSelection:m.length===1?E?i.format(l.AccessibilityHelpNLS.singleSelectionRange,m[0].positionLineNumber,m[0].positionColumn,E):i.format(l.AccessibilityHelpNLS.singleSelection,m[0].positionLineNumber,m[0].positionColumn):E?i.format(l.AccessibilityHelpNLS.multiSelectionRange,m.length,E):m.length>0?i.format(l.AccessibilityHelpNLS.multiSelection,m.length):""}let _=class Tt extends S.Widget{constructor(E,I,k,A){super();this._contextKeyService=I,this._keybindingService=k,this._openerService=A,this._editor=E,this._isVisibleKey=h.bindTo(this._contextKeyService),this._domNode=(0,N.createFastDomNode)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,N.createFastDomNode)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(y.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",P=>{if(!!this._isVisible&&(P.equals(2048|35)&&((0,D.alert)(l.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),y.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),P.preventDefault(),P.stopPropagation()),P.equals(2048|38))){(0,D.alert)(l.AccessibilityHelpNLS.openingDocs);let F=this._editor.getRawOptions().accessibilityHelpUrl;typeof F=="undefined"&&(F="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(f.URI.parse(F)),P.preventDefault(),P.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Tt.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(E,I,k){let A=this._keybindingService.lookupKeybinding(E);return A?i.format(I,A.getAriaLabel()):i.format(k,E)}_buildContent(){const E=this._editor.getOptions(),I=this._editor.getSelections();let k=0;if(I){const M=this._editor.getModel();M&&I.forEach(R=>{k+=M.getValueLengthInRange(R)})}let A=w(I,k);E.get(53)?E.get(80)?A+=l.AccessibilityHelpNLS.readonlyDiffEditor:A+=l.AccessibilityHelpNLS.editableDiffEditor:E.get(80)?A+=l.AccessibilityHelpNLS.readonlyEditor:A+=l.AccessibilityHelpNLS.editableEditor;const P=b.isMacintosh?l.AccessibilityHelpNLS.changeConfigToOnMac:l.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(E.get(2)){case 0:A+=`

 - `+P;break;case 2:A+=`

 - `+l.AccessibilityHelpNLS.auto_on;break;case 1:A+=`

 - `+l.AccessibilityHelpNLS.auto_off,A+=" "+P;break}E.get(128)?A+=`

 - `+this._descriptionForCommand(d.ToggleTabFocusModeAction.ID,l.AccessibilityHelpNLS.tabFocusModeOnMsg,l.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):A+=`

 - `+this._descriptionForCommand(d.ToggleTabFocusModeAction.ID,l.AccessibilityHelpNLS.tabFocusModeOffMsg,l.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);const F=b.isMacintosh?l.AccessibilityHelpNLS.openDocMac:l.AccessibilityHelpNLS.openDocWinLinux;A+=`

 - `+F,A+=`

`+l.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild((0,T.renderFormattedText)(A)),this._contentDomNode.domNode.setAttribute("aria-label",A)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,y.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){let E=this._editor.getLayoutInfo(),I=Math.max(5,Math.min(Tt.WIDTH,E.width-40)),k=Math.max(5,Math.min(Tt.HEIGHT,E.height-40));this._domNode.setWidth(I),this._domNode.setHeight(k);let A=Math.round((E.height-k)/2);this._domNode.setTop(A);let P=Math.round((E.width-I)/2);this._domNode.setLeft(P)}};_.ID="editor.contrib.accessibilityHelpWidget",_.WIDTH=500,_.HEIGHT=300,_=Fe([Ce(1,c.IContextKeyService),Ce(2,s.IKeybindingService),Ce(3,n.IOpenerService)],_);class C extends r.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:l.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:512|59,weight:100,linux:{primary:512|1024|59,secondary:[512|59]}}})}run(E,I){let k=g.get(I);k&&k.show()}}(0,r.registerEditorContribution)(g.ID,g),(0,r.registerEditorAction)(C);const v=r.EditorCommand.bindToContribution(g.get);(0,r.registerEditorCommand)(new v({id:"closeAccessibilityHelp",precondition:h,handler:m=>m.hide(),kbOpts:{weight:100+100,kbExpr:o.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,t.registerThemingParticipant)((m,E)=>{const I=m.getColor(a.editorWidgetBackground);I&&E.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${I}; }`);const k=m.getColor(a.editorWidgetForeground);k&&E.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${k}; }`);const A=m.getColor(a.widgetShadow);A&&E.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${A}; }`);const P=m.getColor(a.contrastBorder);P&&E.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${P}; }`)})}),define(te[669],ie([0,1,7,2,16,17,373]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class S extends N.Disposable{constructor(i){super();this.editor=i,this.widget=null,D.isIOS&&(this._register(i.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const i=!this.editor.getOption(80);!this.widget&&i?this.widget=new p(this.editor):this.widget&&!i&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=S,S.ID="editor.contrib.iPadShowKeyboard";class p extends N.Disposable{constructor(i){super();this.editor=i,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(y.addDisposableListener(this._domNode,"touchstart",f=>{this.editor.focus()})),this._register(y.addDisposableListener(this._domNode,"focus",f=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return p.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}p.ID="editor.contrib.ShowKeyboardWidget",(0,T.registerEditorContribution)(S.ID,S)}),define(te[670],ie([0,1,7,29,2,16,18,78,56,122,22,12,64,101,374]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let c=class Di extends T.Disposable{constructor(l,h,g){super();this._editor=l,this._modeService=g,this._widget=null,this._register(this._editor.onDidChangeModel(w=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(w=>this.stop())),this._register(S.TokenizationRegistry.onDidChange(w=>this.stop())),this._register(this._editor.onKeyUp(w=>w.keyCode===9&&this.stop()))}static get(l){return l.getContribution(Di.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new a(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};c.ID="editor.contrib.inspectTokens",c=Fe([Ce(1,i.IStandaloneThemeService),Ce(2,b.IModeService)],c);class u extends D.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:o.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(l,h){let g=c.get(h);g&&g.launch()}}function s(t){let l="";for(let h=0,g=t.length;h<g;h++){let w=t.charCodeAt(h);switch(w){case 9:l+="\u2192";break;case 32:l+="\xB7";break;default:l+=String.fromCharCode(w)}}return l}function n(t){let l=S.TokenizationRegistry.get(t.language);return l||{getInitialState:()=>p.NULL_STATE,tokenize:(h,g,w,_)=>(0,p.nullTokenize)(t.language,h,w,_),tokenize2:(h,g,w,_)=>(0,p.nullTokenize2)(t.id,h,w,_)}}class a extends T.Disposable{constructor(l,h){super();this.allowEditorOverflow=!0,this._editor=l,this._modeService=h,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=n(this._model.getLanguageIdentifier()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(g=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return a._ID}_compute(l){let h=this._getTokensAtLine(l.lineNumber),g=0;for(let m=h.tokens1.length-1;m>=0;m--){let E=h.tokens1[m];if(l.column-1>=E.offset){g=m;break}}let w=0;for(let m=h.tokens2.length>>>1;m>=0;m--)if(l.column-1>=h.tokens2[m<<1]){w=m;break}let _=this._model.getLineContent(l.lineNumber),C="";if(g<h.tokens1.length){let m=h.tokens1[g].offset,E=g+1<h.tokens1.length?h.tokens1[g+1].offset:_.length;C=_.substring(m,E)}(0,y.reset)(this._domNode,(0,y.$)("h2.tm-token",void 0,s(C),(0,y.$)("span.tm-token-length",void 0,`${C.length} ${C.length===1?"char":"chars"}`))),(0,y.append)(this._domNode,(0,y.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const v=(w<<1)+1<h.tokens2.length?this._decodeMetadata(h.tokens2[(w<<1)+1]):null;(0,y.append)(this._domNode,(0,y.$)("table.tm-metadata-table",void 0,(0,y.$)("tbody",void 0,(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"language"),(0,y.$)("td.tm-metadata-value",void 0,`${v?v.languageIdentifier.language:"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"token type"),(0,y.$)("td.tm-metadata-value",void 0,`${v?this._tokenTypeToString(v.tokenType):"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"font style"),(0,y.$)("td.tm-metadata-value",void 0,`${v?this._fontStyleToString(v.fontStyle):"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"foreground"),(0,y.$)("td.tm-metadata-value",void 0,`${v?N.Color.Format.CSS.formatHex(v.foreground):"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"background"),(0,y.$)("td.tm-metadata-value",void 0,`${v?N.Color.Format.CSS.formatHex(v.background):"-?-"}`))))),(0,y.append)(this._domNode,(0,y.$)("hr.tokens-inspect-separator")),g<h.tokens1.length&&(0,y.append)(this._domNode,(0,y.$)("span.tm-token-type",void 0,h.tokens1[g].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(l){let h=S.TokenizationRegistry.getColorMap(),g=S.TokenMetadata.getLanguageId(l),w=S.TokenMetadata.getTokenType(l),_=S.TokenMetadata.getFontStyle(l),C=S.TokenMetadata.getForeground(l),v=S.TokenMetadata.getBackground(l);return{languageIdentifier:this._modeService.getLanguageIdentifier(g),tokenType:w,fontStyle:_,foreground:h[C],background:h[v]}}_tokenTypeToString(l){switch(l){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(l){let h="";return l&1&&(h+="italic "),l&2&&(h+="bold "),l&4&&(h+="underline "),h.length===0&&(h="---"),h}_getTokensAtLine(l){let h=this._getStateBeforeLine(l),g=this._tokenizationSupport.tokenize(this._model.getLineContent(l),!0,h,0),w=this._tokenizationSupport.tokenize2(this._model.getLineContent(l),!0,h,0);return{startState:h,tokens1:g.tokens,tokens2:w.tokens,endState:g.endState}}_getStateBeforeLine(l){let h=this._tokenizationSupport.getInitialState();for(let g=1;g<l;g++)h=this._tokenizationSupport.tokenize(this._model.getLineContent(g),!0,h,0).endState;return h}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}a._ID="editor.contrib.inspectTokensWidget",(0,D.registerEditorContribution)(c.ID,c),(0,D.registerEditorAction)(u),(0,r.registerThemingParticipant)((t,l)=>{const h=t.getColor(f.editorHoverBorder);if(h){let _=t.type===d.ColorScheme.HIGH_CONTRAST?2:1;l.addRule(`.monaco-editor .tokens-inspect-widget { border: ${_}px solid ${h}; }`),l.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${h}; }`)}const g=t.getColor(f.editorHoverBackground);g&&l.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${g}; }`);const w=t.getColor(f.editorHoverForeground);w&&l.addRule(`.monaco-editor .tokens-inspect-widget { color: ${w}; }`)})}),define(te[671],ie([0,1,32,100,64,28,594,20,9,40,26,90,123,16,25,79]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let s=class extends S.AbstractEditorCommandsQuickAccessProvider{constructor(t,l,h,g,w,_){super({showAlias:!1},t,h,g,w,_);this.codeEditorService=l}get activeTextEditorControl(){return(0,p.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return Me(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};s=Fe([Ce(0,b.IInstantiationService),Ce(1,D.ICodeEditorService),Ce(2,i.IKeybindingService),Ce(3,f.ICommandService),Ce(4,r.ITelemetryService),Ce(5,o.IDialogService)],s),e.StandaloneCommandsQuickAccessProvider=s,y.Registry.as(N.Extensions.Quickaccess).registerQuickAccessProvider({ctor:s,prefix:s.PREFIX,helpEntries:[{description:T.QuickCommandNLS.quickCommandHelp,needsEditor:!0}]});class n extends d.EditorAction{constructor(){super({id:"editor.action.quickCommand",label:T.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:c.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(t){t.get(u.IQuickInputService).quickAccess.show(s.PREFIX)}}e.GotoLineAction=n,(0,d.registerEditorAction)(n)}),define(te[672],ie([0,1,627,32,100,28,20,64,6,16,25,79]),function(q,e,y,N,T,D,S,p,b,i,f,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let o=class extends y.AbstractGotoLineQuickAccessProvider{constructor(u){super();this.editorService=u,this.onDidActiveTextEditorControlChange=b.Event.None}get activeTextEditorControl(){return(0,S.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};o=Fe([Ce(0,D.ICodeEditorService)],o),e.StandaloneGotoLineQuickAccessProvider=o,N.Registry.as(T.Extensions.Quickaccess).registerQuickAccessProvider({ctor:o,prefix:o.PREFIX,helpEntries:[{description:p.GoToLineNLS.gotoLineActionLabel,needsEditor:!0}]});class d extends i.EditorAction{constructor(){super({id:"editor.action.gotoLine",label:p.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:f.EditorContextKeys.focus,primary:2048|37,mac:{primary:256|37},weight:100}})}run(u){u.get(r.IQuickInputService).quickAccess.show(o.PREFIX)}}e.GotoLineAction=d,(0,i.registerEditorAction)(d)}),define(te[673],ie([0,1,628,32,100,28,20,64,6,16,25,79,133,273]),function(q,e,y,N,T,D,S,p,b,i,f,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let o=class extends y.AbstractGotoSymbolQuickAccessProvider{constructor(u){super();this.editorService=u,this.onDidActiveTextEditorControlChange=b.Event.None}get activeTextEditorControl(){return(0,S.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};o=Fe([Ce(0,D.ICodeEditorService)],o),e.StandaloneGotoSymbolQuickAccessProvider=o,N.Registry.as(T.Extensions.Quickaccess).registerQuickAccessProvider({ctor:o,prefix:y.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:p.QuickOutlineNLS.quickOutlineActionLabel,prefix:y.AbstractGotoSymbolQuickAccessProvider.PREFIX,needsEditor:!0},{description:p.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:y.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,needsEditor:!0}]});class d extends i.EditorAction{constructor(){super({id:"editor.action.quickOutline",label:p.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:f.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:f.EditorContextKeys.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(u){u.get(r.IQuickInputService).quickAccess.show(y.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}e.GotoLineAction=d,(0,i.registerEditorAction)(d)}),define(te[674],ie([0,1,16,122,64]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends y.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:T.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0});this._originalThemeName=null}run(p,b){const i=p.get(N.IStandaloneThemeService);this._originalThemeName?(i.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=i.getColorTheme().themeName,i.setTheme("hc-black"))}}(0,y.registerEditorAction)(D)}),define(te[198],ie([0,1,7,52,120,449,51,187,2,17,541,33,15,70,9,40,35,72,12,377]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=void 0;function t(v,m,E,I,k,A,P){const F=v.getActions(m),M=typeof I=="string"?R=>R===I:I;return h(F,E,!1,M,k,A,P),l(F)}e.createAndFillInActionBarActions=t;function l(v){const m=new b.DisposableStore;for(const[,E]of v)for(const I of E)m.add(I);return m}function h(v,m,E,I=F=>F==="navigation",k=Number.MAX_SAFE_INTEGER,A=()=>!1,P=!1){let F,M;Array.isArray(m)?(F=m,M=m):(F=m.primary,M=m.secondary);const R=new Set;for(const[O,L]of v){let B;I(O)?(B=F,B.length>0&&P&&B.push(new S.Separator)):(B=M,B.length>0&&B.push(new S.Separator));for(let z of L){E&&(z=z instanceof r.MenuItemAction&&z.alt?z.alt:z);const $=B.push(z);z instanceof S.SubmenuAction&&R.add({group:O,action:z,index:$-1})}}for(const{group:O,action:L,index:B}of R){const z=I(O)?F:M,$=L.actions;($.length<=1||z.length+$.length-2<=k)&&A(L,O,z.length)&&z.splice(B,1,...$)}if(F!==M&&F.length>k){const O=F.splice(k,F.length-k);M.unshift(...O,new S.Separator)}}let g=class extends T.ActionViewItem{constructor(m,E,I,k,A){super(void 0,m,{icon:!!(m.class||m.item.icon),label:!m.class&&!m.item.icon,draggable:E==null?void 0:E.draggable});this._keybindingService=I,this._notificationService=k,this._contextKeyService=A,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new b.MutableDisposable),this._altKey=y.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(m){return Me(this,void 0,void 0,function*(){m.preventDefault(),m.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(E){this._notificationService.error(E)}})}render(m){super.render(m),m.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let E=!1,I=this._altKey.keyStatus.altKey||(i.isWindows||i.isLinux)&&this._altKey.keyStatus.shiftKey;const k=()=>{const A=E&&I;A!==this._wantsAltCommand&&(this._wantsAltCommand=A,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(A=>{I=A.altKey||(i.isWindows||i.isLinux)&&A.shiftKey,k()})),this._register((0,y.addDisposableListener)(m,"mouseleave",A=>{E=!1,k()})),this._register((0,y.addDisposableListener)(m,"mouseenter",A=>{E=!0,k()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const m=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),E=m&&m.getLabel(),I=this._commandAction.tooltip||this._commandAction.label;let k=E?(0,f.localize)(0,null,I,E):I;if(!this._wantsAltCommand&&this._menuItemAction.alt){const A=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,P=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),F=P&&P.getLabel(),M=F?(0,f.localize)(1,null,A,F):A;k+=`
[${p.UILabelProvider.modifierLabels[i.OS].altKey}] ${M}`}this.label.title=k}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(m){var E;this._itemClassDispose.value=void 0;const{element:I,label:k}=this;if(!I||!k)return;const A=this._commandAction.checked&&((E=m.toggled)===null||E===void 0?void 0:E.icon)?m.toggled.icon:m.icon;if(!!A)if(a.ThemeIcon.isThemeIcon(A)){const P=a.ThemeIcon.asClassNameArray(A);k.classList.add(...P),this._itemClassDispose.value=(0,b.toDisposable)(()=>{k.classList.remove(...P)})}else A.light&&k.style.setProperty("--menu-entry-icon-light",(0,y.asCSSUrl)(A.light)),A.dark&&k.style.setProperty("--menu-entry-icon-dark",(0,y.asCSSUrl)(A.dark)),k.classList.add("icon"),this._itemClassDispose.value=(0,b.toDisposable)(()=>{k.classList.remove("icon"),k.style.removeProperty("--menu-entry-icon-light"),k.style.removeProperty("--menu-entry-icon-dark")})}};g=Fe([Ce(2,u.IKeybindingService),Ce(3,s.INotificationService),Ce(4,o.IContextKeyService)],g),e.MenuEntryActionViewItem=g;let w=class extends D.DropdownMenuActionViewItem{constructor(m,E,I){var k,A;const P=Object.assign({},E??Object.create(null),{menuAsChild:(k=E==null?void 0:E.menuAsChild)!==null&&k!==void 0?k:!0,classNames:(A=E==null?void 0:E.classNames)!==null&&A!==void 0?A:a.ThemeIcon.isThemeIcon(m.item.icon)?a.ThemeIcon.asClassName(m.item.icon):void 0});super(m,{getActions:()=>m.actions},I,P)}render(m){if(super.render(m),this.element){m.classList.add("menu-entry");const{icon:E}=this._action.item;E&&!a.ThemeIcon.isThemeIcon(E)&&(this.element.classList.add("icon"),E.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,y.asCSSUrl)(E.light)),E.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,y.asCSSUrl)(E.dark)))}}};w=Fe([Ce(2,d.IContextMenuService)],w),e.SubmenuEntryActionViewItem=w;let _=class extends T.BaseActionViewItem{constructor(m,E,I,k,A,P,F,M){var R,O,L;super(null,m);this._keybindingService=I,this._notificationService=k,this._contextMenuService=A,this._menuService=P,this._instaService=F,this._storageService=M,this._container=null,this._storageKey=`${m.item.submenu._debugName}_lastActionId`;let B,z=M.get(this._storageKey,1);z&&(B=m.actions.find(j=>z===j.id)),B||(B=m.actions[0]),this._defaultAction=this._instaService.createInstance(g,B,void 0);const $=Object.assign({},E??Object.create(null),{menuAsChild:(R=E==null?void 0:E.menuAsChild)!==null&&R!==void 0?R:!0,classNames:(O=E==null?void 0:E.classNames)!==null&&O!==void 0?O:["codicon","codicon-chevron-down"],actionRunner:(L=E==null?void 0:E.actionRunner)!==null&&L!==void 0?L:new S.ActionRunner});this._dropdown=new D.DropdownMenuActionViewItem(m,m.actions,this._contextMenuService,$),this._dropdown.actionRunner.onDidRun(j=>{j.action instanceof r.MenuItemAction&&this.update(j.action)})}update(m){this._storageService.store(this._storageKey,m.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(g,m,void 0),this._defaultAction.actionRunner=new class extends S.ActionRunner{runAction(E,I){return Me(this,void 0,void 0,function*(){yield E.run(void 0)})}},this._container&&this._defaultAction.render((0,y.prepend)(this._container,(0,y.$)(".action-container")))}setActionContext(m){super.setActionContext(m),this._defaultAction.setActionContext(m),this._dropdown.setActionContext(m)}render(m){this._container=m,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const E=(0,y.$)(".action-container");this._defaultAction.render((0,y.append)(this._container,E)),this._register((0,y.addDisposableListener)(E,y.EventType.KEY_DOWN,k=>{const A=new N.StandardKeyboardEvent(k);A.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),A.stopPropagation())}));const I=(0,y.$)(".dropdown-action-container");this._dropdown.render((0,y.append)(this._container,I)),this._register((0,y.addDisposableListener)(I,y.EventType.KEY_DOWN,k=>{var A;const P=new N.StandardKeyboardEvent(k);P.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(A=this._defaultAction.element)===null||A===void 0||A.focus(),P.stopPropagation())}))}focus(m){m?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(m){m?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};_=Fe([Ce(2,u.IKeybindingService),Ce(3,s.INotificationService),Ce(4,d.IContextMenuService),Ce(5,r.IMenuService),Ce(6,c.IInstantiationService),Ce(7,n.IStorageService)],_);function C(v,m,E){return m instanceof r.MenuItemAction?v.createInstance(g,m,void 0):m instanceof r.SubmenuItemAction?m.item.rememberDefaultAction?v.createInstance(_,m,E):v.createInstance(w,m,E):void 0}e.createActionViewItem=C}),define(te[127],ie([0,1,7,86,51,27,29,6,37,16,28,153,630,521,198,15,76,9,22,367]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,n.createDecorator)("IPeekViewService"),(0,s.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(_,C){const v=this._widgets.get(_);v&&(v.listener.dispose(),v.widget.dispose());const m=()=>{const E=this._widgets.get(_);E&&E.widget===C&&(E.listener.dispose(),this._widgets.delete(_))};this._widgets.set(_,{widget:C,listener:C.onDidClose(m)})}});var t;(function(_){_.inPeekEditor=new u.RawContextKey("inReferenceSearchEditor",!0,d.localize(0,null)),_.notInPeekEditor=_.inPeekEditor.toNegated()})(t=e.PeekContext||(e.PeekContext={}));let l=class{constructor(C,v){C instanceof r.EmbeddedCodeEditorWidget&&t.inPeekEditor.bindTo(v)}dispose(){}};l.ID="editor.contrib.referenceController",l=Fe([Ce(1,u.IContextKeyService)],l),(0,i.registerEditorContribution)(l.ID,l);function h(_){let C=_.get(f.ICodeEditorService).getFocusedCodeEditor();return C instanceof r.EmbeddedCodeEditorWidget?C.getParentEditor():C}e.getOuterEditor=h;const g={headerBackgroundColor:S.Color.white,primaryHeadingColor:S.Color.fromHex("#333333"),secondaryHeadingColor:S.Color.fromHex("#6c6c6cb3")};let w=class extends o.ZoneWidget{constructor(C,v,m){super(C,v);this.instantiationService=m,this._onDidClose=new p.Emitter,this.onDidClose=this._onDidClose.event,b.mixin(this.options,g,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(C){let v=this.options;C.headerBackgroundColor&&(v.headerBackgroundColor=C.headerBackgroundColor),C.primaryHeadingColor&&(v.primaryHeadingColor=C.primaryHeadingColor),C.secondaryHeadingColor&&(v.secondaryHeadingColor=C.secondaryHeadingColor),super.style(C)}_applyStyles(){super._applyStyles();let C=this.options;this._headElement&&C.headerBackgroundColor&&(this._headElement.style.backgroundColor=C.headerBackgroundColor.toString()),this._primaryHeading&&C.primaryHeadingColor&&(this._primaryHeading.style.color=C.primaryHeadingColor.toString()),this._secondaryHeading&&C.secondaryHeadingColor&&(this._secondaryHeading.style.color=C.secondaryHeadingColor.toString()),this._bodyElement&&C.frameColor&&(this._bodyElement.style.borderColor=C.frameColor.toString())}_fillContainer(C){this.setCssClass("peekview-widget"),this._headElement=y.$(".head"),this._bodyElement=y.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),C.appendChild(this._headElement),C.appendChild(this._bodyElement)}_fillHead(C,v){const m=y.$(".peekview-title");this.options.supportOnTitleClick&&(m.classList.add("clickable"),y.addStandardDisposableListener(m,"click",k=>this._onTitleClick(k))),y.append(this._headElement,m),this._fillTitleIcon(m),this._primaryHeading=y.$("span.filename"),this._secondaryHeading=y.$("span.dirname"),this._metaHeading=y.$("span.meta"),y.append(m,this._primaryHeading,this._secondaryHeading,this._metaHeading);const E=y.$(".peekview-actions");y.append(this._headElement,E);const I=this._getActionBarOptions();this._actionbarWidget=new N.ActionBar(E,I),this._disposables.add(this._actionbarWidget),v||this._actionbarWidget.push(new T.Action("peekview.close",d.localize(1,null),D.Codicon.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(C){}_getActionBarOptions(){return{actionViewItemProvider:c.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(C){}setTitle(C,v){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=C,this._primaryHeading.setAttribute("title",C),v?this._secondaryHeading.innerText=v:y.clearNode(this._secondaryHeading))}setMetaTitle(C){this._metaHeading&&(C?(this._metaHeading.innerText=C,y.show(this._metaHeading)):y.hide(this._metaHeading))}_doLayout(C,v){if(!this._isShowing&&C<0){this.dispose();return}const m=Math.ceil(this.editor.getOption(58)*1.2),E=Math.round(C-(m+2));this._doLayoutHead(m,v),this._doLayoutBody(E,v)}_doLayoutHead(C,v){this._headElement&&(this._headElement.style.height=`${C}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(C,v){this._bodyElement&&(this._bodyElement.style.height=`${C}px`)}};w=Fe([Ce(2,n.IInstantiationService)],w),e.PeekViewWidget=w,e.peekViewTitleBackground=(0,a.registerColor)("peekViewTitle.background",{dark:(0,a.transparent)(a.editorInfoForeground,.1),light:(0,a.transparent)(a.editorInfoForeground,.1),hc:null},d.localize(2,null)),e.peekViewTitleForeground=(0,a.registerColor)("peekViewTitleLabel.foreground",{dark:S.Color.white,light:S.Color.black,hc:S.Color.white},d.localize(3,null)),e.peekViewTitleInfoForeground=(0,a.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},d.localize(4,null)),e.peekViewBorder=(0,a.registerColor)("peekView.border",{dark:a.editorInfoForeground,light:a.editorInfoForeground,hc:a.contrastBorder},d.localize(5,null)),e.peekViewResultsBackground=(0,a.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:S.Color.black},d.localize(6,null)),e.peekViewResultsMatchForeground=(0,a.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:S.Color.white},d.localize(7,null)),e.peekViewResultsFileForeground=(0,a.registerColor)("peekViewResult.fileForeground",{dark:S.Color.white,light:"#1E1E1E",hc:S.Color.white},d.localize(8,null)),e.peekViewResultsSelectionBackground=(0,a.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},d.localize(9,null)),e.peekViewResultsSelectionForeground=(0,a.registerColor)("peekViewResult.selectionForeground",{dark:S.Color.white,light:"#6C6C6C",hc:S.Color.white},d.localize(10,null)),e.peekViewEditorBackground=(0,a.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:S.Color.black},d.localize(11,null)),e.peekViewEditorGutterBackground=(0,a.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hc:e.peekViewEditorBackground},d.localize(12,null)),e.peekViewResultsMatchHighlight=(0,a.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},d.localize(13,null)),e.peekViewEditorMatchHighlight=(0,a.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},d.localize(14,null)),e.peekViewEditorMatchHighlightBorder=(0,a.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:a.activeContrastBorder},d.localize(15,null))}),define(te[675],ie([0,1,7,86,2,102,534,198,33,15,9]),function(q,e,y,N,T,D,S,p,b,i,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class r extends p.MenuEntryActionViewItem{updateLabel(){const c=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!c)return super.updateLabel();this.label&&(this.label.textContent=(0,S.localize)(0,null,this._action.label,r.symbolPrintEnter(c)))}static symbolPrintEnter(c){var u;return(u=c.getLabel())===null||u===void 0?void 0:u.replace(/\benter\b/gi,"\u23CE")}}let o=class{constructor(c,u,s,n){this._menuService=s,this._contextKeyService=n,this._menuDisposables=new T.DisposableStore,this.element=y.append(c,y.$(".suggest-status-bar"));const a=t=>t instanceof b.MenuItemAction?u.createInstance(r,t,void 0):void 0;this._leftActions=new N.ActionBar(this.element,{actionViewItemProvider:a}),this._rightActions=new N.ActionBar(this.element,{actionViewItemProvider:a}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const c=this._menuService.createMenu(D.suggestWidgetStatusbarMenu,this._contextKeyService),u=()=>{const s=[],n=[];for(let[a,t]of c.getActions())a==="left"?s.push(...t):n.push(...t);this._leftActions.clear(),this._leftActions.push(s),this._rightActions.clear(),this._rightActions.push(n)};this._menuDisposables.add(c.onDidChange(()=>u())),this._menuDisposables.add(c)}hide(){this._menuDisposables.clear()}};o=Fe([Ce(1,f.IInstantiationService),Ce(2,b.IMenuService),Ce(3,i.IContextKeyService)],o),e.SuggestWidgetStatus=o}),define(te[676],ie([0,1,14,6,2,33,26,15]),function(q,e,y,N,T,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let b=class{constructor(r){this._commandService=r}createMenu(r,o,d){return new i(r,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},d),this._commandService,o,this)}};b=Fe([Ce(0,S.ICommandService)],b),e.MenuService=b;let i=class mt{constructor(r,o,d,c,u){this._id=r,this._options=o,this._commandService=d,this._contextKeyService=c,this._menuService=u,this._disposables=new T.DisposableStore,this._menuGroups=[],this._contextKeys=new Set,this._build();const s=new y.RunOnceScheduler(()=>{this._build(),this._onDidChange.fire(this)},o.eventDebounceDelay);this._disposables.add(s),this._disposables.add(D.MenuRegistry.onDidChangeMenu(t=>{t.has(r)&&s.schedule()}));const n=this._disposables.add(new T.DisposableStore),a=()=>{const t=new y.RunOnceScheduler(()=>this._onDidChange.fire(this),o.eventDebounceDelay);n.add(t),n.add(c.onDidChangeContext(l=>{l.affectsSome(this._contextKeys)&&t.schedule()}))};this._onDidChange=new N.Emitter({onFirstListenerAdd:a,onLastListenerRemove:n.clear.bind(n)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const r=D.MenuRegistry.getMenuItems(this._id);let o;r.sort(mt._compareMenuItems);for(const d of r){const c=d.group||"";(!o||o[0]!==c)&&(o=[c,[]],this._menuGroups.push(o)),o[1].push(d),this._collectContextKeys(d)}}_collectContextKeys(r){if(mt._fillInKbExprKeys(r.when,this._contextKeys),(0,D.isIMenuItem)(r)){if(r.command.precondition&&mt._fillInKbExprKeys(r.command.precondition,this._contextKeys),r.command.toggled){const o=r.command.toggled.condition||r.command.toggled;mt._fillInKbExprKeys(o,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&D.MenuRegistry.getMenuItems(r.submenu).forEach(this._collectContextKeys,this)}getActions(r){const o=[];for(let d of this._menuGroups){const[c,u]=d,s=[];for(const n of u)if(this._contextKeyService.contextMatchesRules(n.when)){const a=(0,D.isIMenuItem)(n)?new D.MenuItemAction(n.command,n.alt,r,this._contextKeyService,this._commandService):new D.SubmenuItemAction(n,this._menuService,this._contextKeyService,r);s.push(a)}s.length>0&&o.push([c,s])}return o}static _fillInKbExprKeys(r,o){if(r)for(let d of r.keys())o.add(d)}static _compareMenuItems(r,o){let d=r.group,c=o.group;if(d!==c){if(d){if(!c)return-1}else return 1;if(d==="navigation")return-1;if(c==="navigation")return 1;let n=d.localeCompare(c);if(n!==0)return n}let u=r.order||0,s=o.order||0;return u<s?-1:u>s?1:mt._compareTitles((0,D.isIMenuItem)(r)?r.command.title:r.title,(0,D.isIMenuItem)(o)?o.command.title:o.title)}static _compareTitles(r,o){const d=typeof r=="string"?r:r.original,c=typeof o=="string"?o:o.original;return d.localeCompare(c)}};i=Fe([Ce(2,S.ICommandService),Ce(3,p.IContextKeyService),Ce(4,D.IMenuService)],i)}),define(te[677],ie([0,1,450,451,15,80,102]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.createAndBindHistoryNavigationWidgetScopedContextKeyService=e.HistoryNavigationWidgetContext=void 0,e.HistoryNavigationWidgetContext="historyNavigationWidget";const p="historyNavigationForwardsEnabled",b="historyNavigationBackwardsEnabled";function i(u,s,n){new T.RawContextKey(n,s).bindTo(u)}function f(u,s){return u.createScoped(s.target)}function r(u,s){return u.getContext(document.activeElement).getValue(s)}function o(u,s){const n=f(u,s);i(n,s,e.HistoryNavigationWidgetContext);const a=new T.RawContextKey(p,!0).bindTo(n),t=new T.RawContextKey(b,!0).bindTo(n);return{scopedContextKeyService:n,historyNavigationForwardsEnablement:a,historyNavigationBackwardsEnablement:t}}e.createAndBindHistoryNavigationWidgetScopedContextKeyService=o;let d=class extends y.FindInput{constructor(s,n,a,t,l=!1){super(s,n,l,a);this._register(o(t,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};d=Fe([Ce(3,T.IContextKeyService)],d),e.ContextScopedFindInput=d;let c=class extends N.ReplaceInput{constructor(s,n,a,t,l=!1){super(s,n,l,a);this._register(o(t,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};c=Fe([Ce(3,T.IContextKeyService)],c),e.ContextScopedReplaceInput=c,D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:T.ContextKeyExpr.and(T.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),T.ContextKeyExpr.equals(b,!0),S.Context.Visible.isEqualTo(!1)),primary:16,secondary:[512|16],handler:u=>{const s=r(u.get(T.IContextKeyService),e.HistoryNavigationWidgetContext);s&&s.historyNavigator.showPreviousValue()}}),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:T.ContextKeyExpr.and(T.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),T.ContextKeyExpr.equals(p,!0),S.Context.Visible.isEqualTo(!1)),primary:18,secondary:[512|18],handler:u=>{const s=r(u.get(T.IContextKeyService),e.HistoryNavigationWidgetContext);s&&s.historyNavigator.showNextValue()}})}),define(te[678],ie([0,1,7,2,40,35,90,12,595,70]),function(q,e,y,N,T,D,S,p,b,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuService=void 0;let f=class extends N.Disposable{constructor(o,d,c,u,s){super();this.contextMenuHandler=new b.ContextMenuHandler(c,o,d,u,s)}configure(o){this.contextMenuHandler.configure(o)}showContextMenu(o){this.contextMenuHandler.showContextMenu(o),y.ModifierKeyEmitter.getInstance().resetKeyStatus()}};f=Fe([Ce(0,S.ITelemetryService),Ce(1,D.INotificationService),Ce(2,i.IContextViewService),Ce(3,T.IKeybindingService),Ce(4,p.IThemeService)],f),e.ContextMenuService=f}),define(te[156],ie([0,1,7,329,110,332,446,445,248,6,2,546,60,41,99,15,261,9,40,32,126,12]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchListAutomaticKeyboardNavigationKey=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,n.createDecorator)("listService");let g=class{constructor(W){this._themeService=W,this.disposables=new f.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(W,G){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const ee=new T.DefaultStyleController((0,y.createStyleSheet)(),"");this.disposables.add((0,l.attachListStyler)(ee,this._themeService))}if(this.lists.some(ee=>ee.widget===W))throw new Error("Cannot register the same widget multiple times");const re={widget:W,extraContextKeys:G};return this.lists.push(re),W.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=W),(0,f.combinedDisposable)(W.onDidFocus(()=>this._lastFocusedWidget=W),(0,f.toDisposable)(()=>this.lists.splice(this.lists.indexOf(re),1)),W.onDidDispose(()=>{this.lists=this.lists.filter(ee=>ee!==re),this._lastFocusedWidget===W&&(this._lastFocusedWidget=void 0)}))}dispose(){this.disposables.dispose()}};g=Fe([Ce(0,h.IThemeService)],g),e.ListService=g;const w=new u.RawContextKey("listFocus",!0);e.WorkbenchListSupportsMultiSelectContextKey=new u.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=u.ContextKeyExpr.and(w,u.ContextKeyExpr.not(s.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new u.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new u.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new u.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new u.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListAutomaticKeyboardNavigationKey="listAutomaticKeyboardNavigation";function _(ge,W){const G=ge.createScoped(W.getHTMLElement());return w.bindTo(G),G}const C="workbench.list.multiSelectModifier",v="workbench.list.openMode",m="workbench.list.horizontalScrolling",E="workbench.list.keyboardNavigation",I="workbench.list.automaticKeyboardNavigation",k="workbench.tree.indent",A="workbench.tree.renderIndentGuides",P="workbench.list.smoothScrolling",F="workbench.list.mouseWheelScrollSensitivity",M="workbench.list.fastScrollSensitivity",R="workbench.tree.expandMode";function O(ge){return ge.getValue(C)==="alt"}class L extends f.Disposable{constructor(W){super();this.configurationService=W,this.useAltAsMultipleSelectionModifier=O(W),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(W=>{W.affectsConfiguration(C)&&(this.useAltAsMultipleSelectionModifier=O(this.configurationService))}))}isSelectionSingleChangeEvent(W){return this.useAltAsMultipleSelectionModifier?W.browserEvent.altKey:(0,T.isSelectionSingleChangeEvent)(W)}isSelectionRangeChangeEvent(W){return(0,T.isSelectionRangeChangeEvent)(W)}}function B(ge,W,G){var re;const ee=new f.DisposableStore;return[Object.assign(Object.assign({},ge),{keyboardNavigationDelegate:{mightProducePrintableCharacter(ae){return G.mightProducePrintableCharacter(ae)}},smoothScrolling:Boolean(W.getValue(P)),mouseWheelScrollSensitivity:W.getValue(F),fastScrollSensitivity:W.getValue(M),multipleSelectionController:(re=ge.multipleSelectionController)!==null&&re!==void 0?re:ee.add(new L(W))}),ee]}let z=class extends T.List{constructor(W,G,re,ee,de,ae,ce,J,Z,le){const he=typeof de.horizontalScrolling!="undefined"?de.horizontalScrolling:Boolean(Z.getValue(m)),[ve,be]=B(de,Z,le);super(W,G,re,ee,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,l.computeStyles)(J.getColorTheme(),l.defaultListStyles)),ve),{horizontalScrolling:he}));this.disposables.add(be),this.contextKeyService=_(ae,this),this.themeService=J,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(de.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(de.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=de.horizontalScrolling,this._useAltAsMultipleSelectionModifier=O(Z),this.disposables.add(this.contextKeyService),this.disposables.add(ce.register(this)),de.overrideStyles&&this.updateStyles(de.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Te=this.getSelection(),Pe=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Te.length>0||Pe.length>0),this.listMultiSelection.set(Te.length>1),this.listDoubleSelection.set(Te.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Te=this.getSelection(),Pe=this.getFocus();this.listHasSelectionOrFocus.set(Te.length>0||Pe.length>0)})),this.disposables.add(Z.onDidChangeConfiguration(Te=>{Te.affectsConfiguration(C)&&(this._useAltAsMultipleSelectionModifier=O(Z));let Pe={};if(Te.affectsConfiguration(m)&&this.horizontalScrolling===void 0){const Oe=Boolean(Z.getValue(m));Pe=Object.assign(Object.assign({},Pe),{horizontalScrolling:Oe})}if(Te.affectsConfiguration(P)){const Oe=Boolean(Z.getValue(P));Pe=Object.assign(Object.assign({},Pe),{smoothScrolling:Oe})}if(Te.affectsConfiguration(F)){const Oe=Z.getValue(F);Pe=Object.assign(Object.assign({},Pe),{mouseWheelScrollSensitivity:Oe})}if(Te.affectsConfiguration(M)){const Oe=Z.getValue(M);Pe=Object.assign(Object.assign({},Pe),{fastScrollSensitivity:Oe})}Object.keys(Pe).length>0&&this.updateOptions(Pe)})),this.navigator=new Q(this,Object.assign({configurationService:Z},de)),this.disposables.add(this.navigator)}updateOptions(W){super.updateOptions(W),W.overrideStyles&&this.updateStyles(W.overrideStyles),W.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!W.multipleSelectionSupport)}updateStyles(W){var G;(G=this._styler)===null||G===void 0||G.dispose(),this._styler=(0,l.attachListStyler)(this,this.themeService,W)}dispose(){var W;(W=this._styler)===null||W===void 0||W.dispose(),super.dispose()}};z=Fe([Ce(5,u.IContextKeyService),Ce(6,e.IListService),Ce(7,h.IThemeService),Ce(8,d.IConfigurationService),Ce(9,a.IKeybindingService)],z),e.WorkbenchList=z;let $=class extends N.PagedList{constructor(W,G,re,ee,de,ae,ce,J,Z,le){const he=typeof de.horizontalScrolling!="undefined"?de.horizontalScrolling:Boolean(Z.getValue(m)),[ve,be]=B(de,Z,le);super(W,G,re,ee,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,l.computeStyles)(J.getColorTheme(),l.defaultListStyles)),ve),{horizontalScrolling:he}));this.disposables=new f.DisposableStore,this.disposables.add(be),this.contextKeyService=_(ae,this),this.themeService=J,this.horizontalScrolling=de.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(de.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(de.selectionNavigation)),this._useAltAsMultipleSelectionModifier=O(Z),this.disposables.add(this.contextKeyService),this.disposables.add(ce.register(this)),de.overrideStyles&&this.updateStyles(de.overrideStyles),de.overrideStyles&&this.disposables.add((0,l.attachListStyler)(this,J,de.overrideStyles)),this.disposables.add(Z.onDidChangeConfiguration(Te=>{Te.affectsConfiguration(C)&&(this._useAltAsMultipleSelectionModifier=O(Z));let Pe={};if(Te.affectsConfiguration(m)&&this.horizontalScrolling===void 0){const Oe=Boolean(Z.getValue(m));Pe=Object.assign(Object.assign({},Pe),{horizontalScrolling:Oe})}if(Te.affectsConfiguration(P)){const Oe=Boolean(Z.getValue(P));Pe=Object.assign(Object.assign({},Pe),{smoothScrolling:Oe})}if(Te.affectsConfiguration(F)){const Oe=Z.getValue(F);Pe=Object.assign(Object.assign({},Pe),{mouseWheelScrollSensitivity:Oe})}if(Te.affectsConfiguration(M)){const Oe=Z.getValue(M);Pe=Object.assign(Object.assign({},Pe),{fastScrollSensitivity:Oe})}Object.keys(Pe).length>0&&this.updateOptions(Pe)})),this.navigator=new Q(this,Object.assign({configurationService:Z},de)),this.disposables.add(this.navigator)}updateOptions(W){super.updateOptions(W),W.overrideStyles&&this.updateStyles(W.overrideStyles),W.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!W.multipleSelectionSupport)}updateStyles(W){var G;(G=this._styler)===null||G===void 0||G.dispose(),this._styler=(0,l.attachListStyler)(this,this.themeService,W)}dispose(){var W;(W=this._styler)===null||W===void 0||W.dispose(),this.disposables.dispose(),super.dispose()}};$=Fe([Ce(5,u.IContextKeyService),Ce(6,e.IListService),Ce(7,h.IThemeService),Ce(8,d.IConfigurationService),Ce(9,a.IKeybindingService)],$),e.WorkbenchPagedList=$;let j=class extends D.Table{constructor(W,G,re,ee,de,ae,ce,J,Z,le,he){const ve=typeof ae.horizontalScrolling!="undefined"?ae.horizontalScrolling:Boolean(le.getValue(m)),[be,we]=B(ae,le,he);super(W,G,re,ee,de,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,l.computeStyles)(Z.getColorTheme(),l.defaultListStyles)),be),{horizontalScrolling:ve}));this.disposables=new f.DisposableStore,this.disposables.add(we),this.contextKeyService=_(ce,this),this.themeService=Z,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ae.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ae.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=ae.horizontalScrolling,this._useAltAsMultipleSelectionModifier=O(le),this.disposables.add(this.contextKeyService),this.disposables.add(J.register(this)),ae.overrideStyles&&this.updateStyles(ae.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Pe=this.getSelection(),Oe=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Pe.length>0||Oe.length>0),this.listMultiSelection.set(Pe.length>1),this.listDoubleSelection.set(Pe.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Pe=this.getSelection(),Oe=this.getFocus();this.listHasSelectionOrFocus.set(Pe.length>0||Oe.length>0)})),this.disposables.add(le.onDidChangeConfiguration(Pe=>{Pe.affectsConfiguration(C)&&(this._useAltAsMultipleSelectionModifier=O(le));let Oe={};if(Pe.affectsConfiguration(m)&&this.horizontalScrolling===void 0){const Ve=Boolean(le.getValue(m));Oe=Object.assign(Object.assign({},Oe),{horizontalScrolling:Ve})}if(Pe.affectsConfiguration(P)){const Ve=Boolean(le.getValue(P));Oe=Object.assign(Object.assign({},Oe),{smoothScrolling:Ve})}if(Pe.affectsConfiguration(F)){const Ve=le.getValue(F);Oe=Object.assign(Object.assign({},Oe),{mouseWheelScrollSensitivity:Ve})}if(Pe.affectsConfiguration(M)){const Ve=le.getValue(M);Oe=Object.assign(Object.assign({},Oe),{fastScrollSensitivity:Ve})}Object.keys(Oe).length>0&&this.updateOptions(Oe)})),this.navigator=new Y(this,Object.assign({configurationService:le},ae)),this.disposables.add(this.navigator)}updateOptions(W){super.updateOptions(W),W.overrideStyles&&this.updateStyles(W.overrideStyles),W.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!W.multipleSelectionSupport)}updateStyles(W){var G;(G=this._styler)===null||G===void 0||G.dispose(),this._styler=(0,l.attachListStyler)(this,this.themeService,W)}dispose(){var W;(W=this._styler)===null||W===void 0||W.dispose(),this.disposables.dispose(),super.dispose()}};j=Fe([Ce(6,u.IContextKeyService),Ce(7,e.IListService),Ce(8,h.IThemeService),Ce(9,d.IConfigurationService),Ce(10,a.IKeybindingService)],j),e.WorkbenchTable=j;class X extends f.Disposable{constructor(W,G){var re;super();this.widget=W,this._onDidOpen=this._register(new i.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(i.Event.filter(this.widget.onDidChangeSelection,ee=>ee.browserEvent instanceof KeyboardEvent)(ee=>this.onSelectionFromKeyboard(ee))),this._register(this.widget.onPointer(ee=>this.onPointer(ee.element,ee.browserEvent))),this._register(this.widget.onMouseDblClick(ee=>this.onMouseDblClick(ee.element,ee.browserEvent))),typeof(G==null?void 0:G.openOnSingleClick)!="boolean"&&(G==null?void 0:G.configurationService)?(this.openOnSingleClick=(G==null?void 0:G.configurationService.getValue(v))!=="doubleClick",this._register(G==null?void 0:G.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(G==null?void 0:G.configurationService.getValue(v))!=="doubleClick"}))):this.openOnSingleClick=(re=G==null?void 0:G.openOnSingleClick)!==null&&re!==void 0?re:!0}onSelectionFromKeyboard(W){if(W.elements.length!==1)return;const G=W.browserEvent,re=typeof G.preserveFocus=="boolean"?G.preserveFocus:!0,ee=typeof G.pinned=="boolean"?G.pinned:!re,de=!1;this._open(this.getSelectedElement(),re,ee,de,W.browserEvent)}onPointer(W,G){if(!this.openOnSingleClick||G.detail===2)return;const ee=G.button===1,de=!0,ae=ee,ce=G.ctrlKey||G.metaKey||G.altKey;this._open(W,de,ae,ce,G)}onMouseDblClick(W,G){if(!G)return;const re=G.target;if(re.classList.contains("monaco-tl-twistie")||re.classList.contains("monaco-icon-label")&&re.classList.contains("folder-icon")&&G.offsetX<16)return;const de=!1,ae=!0,ce=G.ctrlKey||G.metaKey||G.altKey;this._open(W,de,ae,ce,G)}_open(W,G,re,ee,de){!W||this._onDidOpen.fire({editorOptions:{preserveFocus:G,pinned:re,revealIfVisible:!0},sideBySide:ee,element:W,browserEvent:de})}}class Q extends X{constructor(W,G){super(W,G);this.widget=W}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Y extends X{constructor(W,G){super(W,G)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class oe extends X{constructor(W,G){super(W,G)}getSelectedElement(){var W;return(W=this.widget.getSelection()[0])!==null&&W!==void 0?W:void 0}}function se(ge,W){let G=!1;return re=>{if(G)return G=!1,!1;const ee=W.softDispatch(re,ge);return ee&&ee.enterChord?(G=!0,!1):(G=!1,!0)}}let K=class extends b.ObjectTree{constructor(W,G,re,ee,de,ae,ce,J,Z,le,he){const{options:ve,getAutomaticKeyboardNavigation:be,disposable:we}=ne(G,de,ae,Z,le,he);super(W,G,re,ee,ve);this.disposables.add(we),this.internals=new ue(this,de,be,de.overrideStyles,ae,ce,J,Z,he),this.disposables.add(this.internals)}updateOptions(W){super.updateOptions(W),this.internals.updateOptions(W)}};K=Fe([Ce(5,u.IContextKeyService),Ce(6,e.IListService),Ce(7,h.IThemeService),Ce(8,d.IConfigurationService),Ce(9,a.IKeybindingService),Ce(10,o.IAccessibilityService)],K),e.WorkbenchObjectTree=K;let x=class extends b.CompressibleObjectTree{constructor(W,G,re,ee,de,ae,ce,J,Z,le,he){const{options:ve,getAutomaticKeyboardNavigation:be,disposable:we}=ne(G,de,ae,Z,le,he);super(W,G,re,ee,ve);this.disposables.add(we),this.internals=new ue(this,de,be,de.overrideStyles,ae,ce,J,Z,he),this.disposables.add(this.internals)}updateOptions(W={}){super.updateOptions(W),W.overrideStyles&&this.internals.updateStyleOverrides(W.overrideStyles),this.internals.updateOptions(W)}};x=Fe([Ce(5,u.IContextKeyService),Ce(6,e.IListService),Ce(7,h.IThemeService),Ce(8,d.IConfigurationService),Ce(9,a.IKeybindingService),Ce(10,o.IAccessibilityService)],x),e.WorkbenchCompressibleObjectTree=x;let U=class extends p.DataTree{constructor(W,G,re,ee,de,ae,ce,J,Z,le,he,ve){const{options:be,getAutomaticKeyboardNavigation:we,disposable:Te}=ne(G,ae,ce,le,he,ve);super(W,G,re,ee,de,be);this.disposables.add(Te),this.internals=new ue(this,ae,we,ae.overrideStyles,ce,J,Z,le,ve),this.disposables.add(this.internals)}updateOptions(W={}){super.updateOptions(W),W.overrideStyles&&this.internals.updateStyleOverrides(W.overrideStyles),this.internals.updateOptions(W)}};U=Fe([Ce(6,u.IContextKeyService),Ce(7,e.IListService),Ce(8,h.IThemeService),Ce(9,d.IConfigurationService),Ce(10,a.IKeybindingService),Ce(11,o.IAccessibilityService)],U),e.WorkbenchDataTree=U;let H=class extends S.AsyncDataTree{constructor(W,G,re,ee,de,ae,ce,J,Z,le,he,ve){const{options:be,getAutomaticKeyboardNavigation:we,disposable:Te}=ne(G,ae,ce,le,he,ve);super(W,G,re,ee,de,be);this.disposables.add(Te),this.internals=new ue(this,ae,we,ae.overrideStyles,ce,J,Z,le,ve),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(W={}){super.updateOptions(W),W.overrideStyles&&this.internals.updateStyleOverrides(W.overrideStyles),this.internals.updateOptions(W)}};H=Fe([Ce(6,u.IContextKeyService),Ce(7,e.IListService),Ce(8,h.IThemeService),Ce(9,d.IConfigurationService),Ce(10,a.IKeybindingService),Ce(11,o.IAccessibilityService)],H),e.WorkbenchAsyncDataTree=H;let V=class extends S.CompressibleAsyncDataTree{constructor(W,G,re,ee,de,ae,ce,J,Z,le,he,ve,be){const{options:we,getAutomaticKeyboardNavigation:Te,disposable:Pe}=ne(G,ce,J,he,ve,be);super(W,G,re,ee,de,ae,we);this.disposables.add(Pe),this.internals=new ue(this,ce,Te,ce.overrideStyles,J,Z,le,he,be),this.disposables.add(this.internals)}updateOptions(W){super.updateOptions(W),this.internals.updateOptions(W)}};V=Fe([Ce(7,u.IContextKeyService),Ce(8,e.IListService),Ce(9,h.IThemeService),Ce(10,d.IConfigurationService),Ce(11,a.IKeybindingService),Ce(12,o.IAccessibilityService)],V),e.WorkbenchCompressibleAsyncDataTree=V;function ne(ge,W,G,re,ee,de){var ae;const ce=()=>{let we=Boolean(G.getContextKeyValue(e.WorkbenchListAutomaticKeyboardNavigationKey));return we&&(we=Boolean(re.getValue(I))),we},J=de.isScreenReaderOptimized(),Z=W.simpleKeyboardNavigation||J?"simple":re.getValue(E),le=W.horizontalScrolling!==void 0?W.horizontalScrolling:Boolean(re.getValue(m)),[he,ve]=B(W,re,ee),be=W.additionalScrollHeight;return{getAutomaticKeyboardNavigation:ce,disposable:ve,options:Object.assign(Object.assign({keyboardSupport:!1},he),{indent:typeof re.getValue(k)=="number"?re.getValue(k):void 0,renderIndentGuides:re.getValue(A),smoothScrolling:Boolean(re.getValue(P)),automaticKeyboardNavigation:ce(),simpleKeyboardNavigation:Z==="simple",filterOnType:Z==="filter",horizontalScrolling:le,keyboardNavigationEventFilter:se(ge,ee),additionalScrollHeight:be,hideTwistiesOfChildlessElements:W.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(ae=W.expandOnlyOnTwistieClick)!==null&&ae!==void 0?ae:re.getValue(R)==="doubleClick"})}}let ue=class{constructor(W,G,re,ee,de,ae,ce,J,Z){this.tree=W,this.themeService=ce,this.disposables=[],this.contextKeyService=_(de,W),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(G.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(G.selectionNavigation)),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=O(J);const he=new Set;he.add(e.WorkbenchListAutomaticKeyboardNavigationKey);const ve=()=>{const we=Z.isScreenReaderOptimized()?"simple":J.getValue(E);W.updateOptions({simpleKeyboardNavigation:we==="simple",filterOnType:we==="filter"})};this.updateStyleOverrides(ee),this.disposables.push(this.contextKeyService,ae.register(W),W.onDidChangeSelection(()=>{const be=W.getSelection(),we=W.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(be.length>0||we.length>0),this.hasMultiSelection.set(be.length>1),this.hasDoubleSelection.set(be.length===2)})}),W.onDidChangeFocus(()=>{const be=W.getSelection(),we=W.getFocus();this.hasSelectionOrFocus.set(be.length>0||we.length>0)}),J.onDidChangeConfiguration(be=>{let we={};if(be.affectsConfiguration(C)&&(this._useAltAsMultipleSelectionModifier=O(J)),be.affectsConfiguration(k)){const Te=J.getValue(k);we=Object.assign(Object.assign({},we),{indent:Te})}if(be.affectsConfiguration(A)){const Te=J.getValue(A);we=Object.assign(Object.assign({},we),{renderIndentGuides:Te})}if(be.affectsConfiguration(P)){const Te=Boolean(J.getValue(P));we=Object.assign(Object.assign({},we),{smoothScrolling:Te})}if(be.affectsConfiguration(E)&&ve(),be.affectsConfiguration(I)&&(we=Object.assign(Object.assign({},we),{automaticKeyboardNavigation:re()})),be.affectsConfiguration(m)&&G.horizontalScrolling===void 0){const Te=Boolean(J.getValue(m));we=Object.assign(Object.assign({},we),{horizontalScrolling:Te})}if(be.affectsConfiguration(R)&&G.expandOnlyOnTwistieClick===void 0&&(we=Object.assign(Object.assign({},we),{expandOnlyOnTwistieClick:J.getValue(R)==="doubleClick"})),be.affectsConfiguration(F)){const Te=J.getValue(F);we=Object.assign(Object.assign({},we),{mouseWheelScrollSensitivity:Te})}if(be.affectsConfiguration(M)){const Te=J.getValue(M);we=Object.assign(Object.assign({},we),{fastScrollSensitivity:Te})}Object.keys(we).length>0&&W.updateOptions(we)}),this.contextKeyService.onDidChangeContext(be=>{be.affectsSome(he)&&W.updateOptions({automaticKeyboardNavigation:re()})}),Z.onDidChangeScreenReaderOptimized(()=>ve())),this.navigator=new oe(W,Object.assign({configurationService:J},G)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(W){W.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!W.multipleSelectionSupport)}updateStyleOverrides(W){(0,f.dispose)(this.styler),this.styler=W?(0,l.attachListStyler)(this.tree,this.themeService,W):f.Disposable.None}dispose(){this.disposables=(0,f.dispose)(this.disposables),(0,f.dispose)(this.styler),this.styler=void 0}};ue=Fe([Ce(4,u.IContextKeyService),Ce(5,e.IListService),Ce(6,h.IThemeService),Ce(7,d.IConfigurationService),Ce(8,o.IAccessibilityService)],ue),t.Registry.as(c.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,r.localize)(0,null),type:"object",properties:{[C]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,r.localize)(1,null),(0,r.localize)(2,null)],default:"ctrlCmd",description:(0,r.localize)(3,null)},[v]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,r.localize)(4,null)},[m]:{type:"boolean",default:!1,description:(0,r.localize)(5,null)},[k]:{type:"number",default:8,minimum:0,maximum:40,description:(0,r.localize)(6,null)},[A]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,r.localize)(7,null)},[P]:{type:"boolean",default:!1,description:(0,r.localize)(8,null)},[F]:{type:"number",default:1,description:(0,r.localize)(9,null)},[M]:{type:"number",default:5,description:(0,r.localize)(10,null)},[E]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,r.localize)(11,null),(0,r.localize)(12,null),(0,r.localize)(13,null)],default:"highlight",description:(0,r.localize)(14,null)},[I]:{type:"boolean",default:!0,markdownDescription:(0,r.localize)(15,null)},[R]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,r.localize)(16,null)}}})}),define(te[679],ie([0,1,23,461,60,15,9,147,156,590,22,126,12]),function(q,e,y,N,T,D,S,p,b,i,f,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let d=class extends o.Themable{constructor(u,s,n,a,t){super(n);this.instantiationService=u,this.contextKeyService=s,this.accessibilityService=a,this.layoutService=t,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(i.QuickAccessController))),this._quickAccess}createController(u=this.layoutService,s){var n,a;const t={idPrefix:"quickInput_",container:u.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:h=>this.setContextKey(h),returnFocus:()=>u.focus(),createList:(h,g,w,_,C)=>this.instantiationService.createInstance(b.WorkbenchList,h,g,w,_,C),styles:this.computeStyles()},l=this._register(new N.QuickInputController(Object.assign(Object.assign({},t),s)));return l.layout(u.dimension,(a=(n=u.offset)===null||n===void 0?void 0:n.top)!==null&&a!==void 0?a:0),this._register(u.onDidLayout(h=>{var g,w;return l.layout(h,(w=(g=u.offset)===null||g===void 0?void 0:g.top)!==null&&w!==void 0?w:0)})),this._register(l.onShow(()=>this.resetContextKeys())),this._register(l.onHide(()=>this.resetContextKeys())),l}setContextKey(u){let s;u&&(s=this.contexts.get(u),s||(s=new D.RawContextKey(u,!1).bindTo(this.contextKeyService),this.contexts.set(u,s))),!(s&&s.get())&&(this.resetContextKeys(),s&&s.set(!0))}resetContextKeys(){this.contexts.forEach(u=>{u.get()&&u.reset()})}pick(u,s={},n=y.CancellationToken.None){return this.controller.pick(u,s,n)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,r.computeStyles)(this.theme,{quickInputBackground:f.quickInputBackground,quickInputForeground:f.quickInputForeground,quickInputTitleBackground:f.quickInputTitleBackground,contrastBorder:f.contrastBorder,widgetShadow:f.widgetShadow})),inputBox:(0,r.computeStyles)(this.theme,{inputForeground:f.inputForeground,inputBackground:f.inputBackground,inputBorder:f.inputBorder,inputValidationInfoBackground:f.inputValidationInfoBackground,inputValidationInfoForeground:f.inputValidationInfoForeground,inputValidationInfoBorder:f.inputValidationInfoBorder,inputValidationWarningBackground:f.inputValidationWarningBackground,inputValidationWarningForeground:f.inputValidationWarningForeground,inputValidationWarningBorder:f.inputValidationWarningBorder,inputValidationErrorBackground:f.inputValidationErrorBackground,inputValidationErrorForeground:f.inputValidationErrorForeground,inputValidationErrorBorder:f.inputValidationErrorBorder}),countBadge:(0,r.computeStyles)(this.theme,{badgeBackground:f.badgeBackground,badgeForeground:f.badgeForeground,badgeBorder:f.contrastBorder}),button:(0,r.computeStyles)(this.theme,{buttonForeground:f.buttonForeground,buttonBackground:f.buttonBackground,buttonHoverBackground:f.buttonHoverBackground,buttonBorder:f.contrastBorder}),progressBar:(0,r.computeStyles)(this.theme,{progressBarBackground:f.progressBarBackground}),keybindingLabel:(0,r.computeStyles)(this.theme,{keybindingLabelBackground:f.keybindingLabelBackground,keybindingLabelForeground:f.keybindingLabelForeground,keybindingLabelBorder:f.keybindingLabelBorder,keybindingLabelBottomBorder:f.keybindingLabelBottomBorder,keybindingLabelShadow:f.widgetShadow}),list:(0,r.computeStyles)(this.theme,{listBackground:f.quickInputBackground,listInactiveFocusForeground:f.quickInputListFocusForeground,listInactiveSelectionIconForeground:f.quickInputListFocusIconForeground,listInactiveFocusBackground:f.quickInputListFocusBackground,listFocusOutline:f.activeContrastBorder,listInactiveFocusOutline:f.activeContrastBorder,pickerGroupBorder:f.pickerGroupBorder,pickerGroupForeground:f.pickerGroupForeground})}}};d=Fe([Ce(0,S.IInstantiationService),Ce(1,D.IContextKeyService),Ce(2,o.IThemeService),Ce(3,T.IAccessibilityService),Ce(4,p.ILayoutService)],d),e.QuickInputService=d}),define(te[680],ie([0,1,16,12,23,9,15,60,147,28,679,82,375]),function(q,e,y,N,T,D,S,p,b,i,f,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputServiceImpl=e.EditorScopedQuickInputServiceImpl=void 0;let o=class extends f.QuickInputService{constructor(n,a,t,l,h,g){super(a,t,l,h,g);this.host=void 0;const w=c.get(n);this.host={_serviceBrand:void 0,get container(){return w.widget.getDomNode()},get dimension(){return n.getLayoutInfo()},get onDidLayout(){return n.onDidLayoutChange},focus:()=>n.focus()}}createController(){return super.createController(this.host)}};o=Fe([Ce(1,D.IInstantiationService),Ce(2,S.IContextKeyService),Ce(3,N.IThemeService),Ce(4,p.IAccessibilityService),Ce(5,b.ILayoutService)],o),e.EditorScopedQuickInputServiceImpl=o;let d=class{constructor(n,a){this.instantiationService=n,this.codeEditorService=a,this.mapEditorToService=new Map}get activeService(){const n=this.codeEditorService.getFocusedCodeEditor();if(!n)throw new Error("Quick input service needs a focused editor to work.");let a=this.mapEditorToService.get(n);if(!a){const t=a=this.instantiationService.createInstance(o,n);this.mapEditorToService.set(n,a),(0,r.once)(n.onDidDispose)(()=>{t.dispose(),this.mapEditorToService.delete(n)})}return a}get quickAccess(){return this.activeService.quickAccess}pick(n,a={},t=T.CancellationToken.None){return this.activeService.pick(n,a,t)}createQuickPick(){return this.activeService.createQuickPick()}};d=Fe([Ce(0,D.IInstantiationService),Ce(1,i.ICodeEditorService)],d),e.StandaloneQuickInputServiceImpl=d;class c{constructor(n){this.editor=n,this.widget=new u(this.editor)}static get(n){return n.getContribution(c.ID)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=c,c.ID="editor.controller.quickInput";class u{constructor(n){this.codeEditor=n,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return u.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=u,u.ID="editor.contrib.quickInputWidget",(0,y.registerEditorContribution)(c.ID,c)}),define(te[681],ie([0,1,27,75,22,12]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var S;(function(p){function b(i){switch(i){case N.default.Ignore:return"severity-ignore "+y.Codicon.info.classNames;case N.default.Info:return y.Codicon.info.classNames;case N.default.Warning:return y.Codicon.warning.classNames;case N.default.Error:return y.Codicon.error.classNames;default:return""}}p.className=b})(S=e.SeverityIcon||(e.SeverityIcon={})),(0,D.registerThemingParticipant)((p,b)=>{const i=p.getColor(T.problemsErrorIconForeground);if(i){const o=y.Codicon.error.cssSelector;b.addRule(`
			.monaco-editor .zone-widget ${o},
			.markers-panel .marker-icon${o},
			.text-search-provider-messages .providerMessage ${o},
			.extensions-viewlet > .extensions ${o} {
				color: ${i};
			}
		`)}const f=p.getColor(T.problemsWarningIconForeground);if(f){const o=y.Codicon.warning.cssSelector;b.addRule(`
			.monaco-editor .zone-widget ${o},
			.markers-panel .marker-icon${o},
			.extensions-viewlet > .extensions ${o},
			.extension-editor ${o},
			.text-search-provider-messages .providerMessage ${o},
			.preferences-editor ${o} {
				color: ${f};
			}
		`)}const r=p.getColor(T.problemsInfoIconForeground);if(r){const o=y.Codicon.info.cssSelector;b.addRule(`
			.monaco-editor .zone-widget ${o},
			.markers-panel .marker-icon${o},
			.extensions-viewlet > .extensions ${o},
			.text-search-provider-messages .providerMessage ${o},
			.extension-editor ${o} {
				color: ${r};
			}
		`)}})}),define(te[682],ie([0,1,7,62,19,29,6,166,2,44,8,3,127,499,198,33,15,9,124,89,57,681,22,12,360]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h,g,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorMarkerNavigationBackground=e.editorMarkerNavigationInfoHeader=e.editorMarkerNavigationInfo=e.editorMarkerNavigationWarningHeader=e.editorMarkerNavigationWarning=e.editorMarkerNavigationErrorHeader=e.editorMarkerNavigationError=e.MarkerNavigationWidget=void 0;class _{constructor(k,A,P,F,M){this._openerService=F,this._labelService=M,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new b.DisposableStore,this._editor=A;const R=document.createElement("div");R.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),R.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),R.appendChild(this._relatedBlock),this._disposables.add(y.addStandardDisposableListener(this._relatedBlock,"click",O=>{O.preventDefault();const L=this._relatedDiagnostics.get(O.target);L&&P(L)})),this._scrollable=new N.ScrollableElement(R,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),k.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(O=>{R.style.left=`-${O.scrollLeft}px`,R.style.top=`-${O.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,b.dispose)(this._disposables)}update(k){const{source:A,message:P,relatedInformation:F,code:M}=k;let R=((A==null?void 0:A.length)||0)+"()".length;M&&(typeof M=="string"?R+=M.length:R+=M.value.length);const O=(0,f.splitLines)(P);this._lines=O.length,this._longestLineLength=0;for(const j of O)this._longestLineLength=Math.max(j.length+R,this._longestLineLength);y.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(k)),this._editor.applyFontInfo(this._messageBlock);let L=this._messageBlock;for(const j of O)L=document.createElement("div"),L.innerText=j,j===""&&(L.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(L);if(A||M){const j=document.createElement("span");if(j.classList.add("details"),L.appendChild(j),A){const X=document.createElement("span");X.innerText=A,X.classList.add("source"),j.appendChild(X)}if(M)if(typeof M=="string"){const X=document.createElement("span");X.innerText=`(${M})`,X.classList.add("code"),j.appendChild(X)}else{this._codeLink=y.$("a.code-link"),this._codeLink.setAttribute("href",`${M.target.toString()}`),this._codeLink.onclick=Q=>{this._openerService.open(M.target,{allowCommands:!0}),Q.preventDefault(),Q.stopPropagation()};const X=y.append(this._codeLink,y.$("span"));X.innerText=M.value,j.appendChild(this._codeLink)}}if(y.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,T.isNonEmptyArray)(F)){const j=this._relatedBlock.appendChild(document.createElement("div"));j.style.paddingTop=`${Math.floor(this._editor.getOption(58)*.66)}px`,this._lines+=1;for(const X of F){let Q=document.createElement("div"),Y=document.createElement("a");Y.classList.add("filename"),Y.innerText=`${(0,p.getBaseLabel)(X.resource)}(${X.startLineNumber}, ${X.startColumn}): `,Y.title=this._labelService.getUriLabel(X.resource),this._relatedDiagnostics.set(Y,X);let oe=document.createElement("span");oe.innerText=X.message,Q.appendChild(Y),Q.appendChild(oe),this._lines+=1,j.appendChild(Q)}}const B=this._editor.getOption(43),z=Math.ceil(B.typicalFullwidthCharacterWidth*this._longestLineLength*.75),$=B.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:z,scrollHeight:$})}layout(k,A){this._scrollable.getDomNode().style.height=`${k}px`,this._scrollable.getDomNode().style.width=`${A}px`,this._scrollable.setScrollDimensions({width:A,height:k})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(k){let A="";switch(k.severity){case t.MarkerSeverity.Error:A=d.localize(0,null);break;case t.MarkerSeverity.Warning:A=d.localize(1,null);break;case t.MarkerSeverity.Info:A=d.localize(2,null);break;case t.MarkerSeverity.Hint:A=d.localize(3,null);break}let P=d.localize(4,null,A,k.startLineNumber+":"+k.startColumn);const F=this._editor.getModel();return F&&k.startLineNumber<=F.getLineCount()&&k.startLineNumber>=1&&(P=`${F.getLineContent(k.startLineNumber)}, ${P}`),P}}let C=class Ii extends o.PeekViewWidget{constructor(k,A,P,F,M,R,O){super(k,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},M);this._themeService=A,this._openerService=P,this._menuService=F,this._contextKeyService=R,this._labelService=O,this._callOnDispose=new b.DisposableStore,this._onDidSelectRelatedInformation=new S.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=t.MarkerSeverity.Warning,this._backgroundColor=D.Color.white,this._applyTheme(A.getColorTheme()),this._callOnDispose.add(A.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(k){this._backgroundColor=k.getColor(e.editorMarkerNavigationBackground);let A=e.editorMarkerNavigationError,P=e.editorMarkerNavigationErrorHeader;this._severity===t.MarkerSeverity.Warning?(A=e.editorMarkerNavigationWarning,P=e.editorMarkerNavigationWarningHeader):this._severity===t.MarkerSeverity.Info&&(A=e.editorMarkerNavigationInfo,P=e.editorMarkerNavigationInfoHeader);const F=k.getColor(A),M=k.getColor(P);this.style({arrowColor:F,frameColor:F,headerBackgroundColor:M,primaryHeadingColor:k.getColor(o.peekViewTitleForeground),secondaryHeadingColor:k.getColor(o.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(k){super._fillHead(k),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(F=>this.editor.focus()));const A=[],P=this._menuService.createMenu(Ii.TitleMenu,this._contextKeyService);(0,c.createAndFillInActionBarActions)(P,void 0,A),this._actionbarWidget.push(A,{label:!1,icon:!0,index:0}),P.dispose()}_fillTitleIcon(k){this._icon=y.append(k,y.$(""))}_fillBody(k){this._parentContainer=k,k.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),k.appendChild(this._container),this._message=new _(this._container,this.editor,A=>this._onDidSelectRelatedInformation.fire(A),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(k,A,P){this._container.classList.remove("stale"),this._message.update(k),this._severity=k.severity,this._applyTheme(this._themeService.getColorTheme());let F=r.Range.lift(k);const M=this.editor.getPosition();let R=M&&F.containsPosition(M)?M:F.getStartPosition();super.show(R,this.computeRequiredHeight());const O=this.editor.getModel();if(O){const L=P>1?d.localize(5,null,A,P):d.localize(6,null,A,P);this.setTitle((0,i.basename)(O.uri),L)}this._icon.className=`codicon ${h.SeverityIcon.className(t.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(R,0),this.editor.focus()}updateMarker(k){this._container.classList.remove("stale"),this._message.update(k)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(k,A){super._doLayoutBody(k,A),this._heightInPixel=k,this._message.layout(k,A),this._container.style.height=`${k}px`}_onWidth(k){this._message.layout(this._heightInPixel,k)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};C.TitleMenu=new u.MenuId("gotoErrorTitleMenu"),C=Fe([Ce(1,w.IThemeService),Ce(2,l.IOpenerService),Ce(3,u.IMenuService),Ce(4,n.IInstantiationService),Ce(5,s.IContextKeyService),Ce(6,a.ILabelService)],C),e.MarkerNavigationWidget=C;let v=(0,g.oneOf)(g.editorErrorForeground,g.editorErrorBorder),m=(0,g.oneOf)(g.editorWarningForeground,g.editorWarningBorder),E=(0,g.oneOf)(g.editorInfoForeground,g.editorInfoBorder);e.editorMarkerNavigationError=(0,g.registerColor)("editorMarkerNavigationError.background",{dark:v,light:v,hc:g.contrastBorder},d.localize(7,null)),e.editorMarkerNavigationErrorHeader=(0,g.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,g.transparent)(e.editorMarkerNavigationError,.1),light:(0,g.transparent)(e.editorMarkerNavigationError,.1),hc:null},d.localize(8,null)),e.editorMarkerNavigationWarning=(0,g.registerColor)("editorMarkerNavigationWarning.background",{dark:m,light:m,hc:g.contrastBorder},d.localize(9,null)),e.editorMarkerNavigationWarningHeader=(0,g.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,g.transparent)(e.editorMarkerNavigationWarning,.1),light:(0,g.transparent)(e.editorMarkerNavigationWarning,.1),hc:"#0C141F"},d.localize(10,null)),e.editorMarkerNavigationInfo=(0,g.registerColor)("editorMarkerNavigationInfo.background",{dark:E,light:E,hc:g.contrastBorder},d.localize(11,null)),e.editorMarkerNavigationInfoHeader=(0,g.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,g.transparent)(e.editorMarkerNavigationInfo,.1),light:(0,g.transparent)(e.editorMarkerNavigationInfo,.1),hc:null},d.localize(12,null)),e.editorMarkerNavigationBackground=(0,g.registerColor)("editorMarkerNavigation.background",{dark:g.editorBackground,light:g.editorBackground,hc:g.editorBackground},d.localize(13,null)),(0,w.registerThemingParticipant)((I,k)=>{const A=I.getColor(g.textLinkForeground);A&&k.addRule(`.monaco-editor .marker-widget a.code-link span { color: ${A}; }`);const P=I.getColor(g.textLinkActiveForeground);P&&k.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${P}; }`)})}),define(te[81],ie([0,1,14,27,6,551,190,32,12]),function(q,e,y,N,T,D,S,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};class i{constructor(){this._onDidChange=new T.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,D.localize)(0,null)},fontCharacter:{type:"string",description:(0,D.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${N.CSSIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(n,a,t,l){const h=this.iconsById[n];if(h){if(t&&!h.description){h.description=t,this.iconSchema.properties[n].markdownDescription=`${t} $(${n})`;const _=this.iconReferenceSchema.enum.indexOf(n);_!==-1&&(this.iconReferenceSchema.enumDescriptions[_]=t),this._onDidChange.fire()}return h}let g={id:n,description:t,defaults:a,deprecationMessage:l};this.iconsById[n]=g;let w={$ref:"#/definitions/icons"};return l&&(w.deprecationMessage=l),t&&(w.markdownDescription=`${t}: $(${n})`),this.iconSchema.properties[n]=w,this.iconReferenceSchema.enum.push(n),this.iconReferenceSchema.enumDescriptions.push(t||""),this._onDidChange.fire(),{id:n}}getIcons(){return Object.keys(this.iconsById).map(n=>this.iconsById[n])}getIcon(n){return this.iconsById[n]}getIconSchema(){return this.iconSchema}getIconFont(n){return this.iconFontsById[n]}toString(){const n=(h,g)=>h.id.localeCompare(g.id),a=h=>{for(;b.ThemeIcon.isThemeIcon(h.defaults);)h=this.iconsById[h.defaults.id];return`codicon codicon-${h?h.id:""}`};let t=[];t.push("| preview     | identifier                        | default codicon ID                | description"),t.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const l=Object.keys(this.iconsById).map(h=>this.iconsById[h]);for(const h of l.filter(g=>!!g.description).sort(n))t.push(`|<i class="${a(h)}"></i>|${h.id}|${b.ThemeIcon.isThemeIcon(h.defaults)?h.defaults.id:h.id}|${h.description||""}|`);t.push("| preview     | identifier                        "),t.push("| ----------- | --------------------------------- |");for(const h of l.filter(g=>!b.ThemeIcon.isThemeIcon(g.defaults)).sort(n))t.push(`|<i class="${a(h)}"></i>|${h.id}|`);return t.join(`
`)}}const f=new i;p.Registry.add(e.Extensions.IconContribution,f);function r(s,n,a,t){return f.registerIcon(s,n,a,t)}e.registerIcon=r;function o(){return f}e.getIconRegistry=o;function d(){for(const s of N.iconRegistry.all)f.registerIcon(s.id,s.definition,s.description);N.iconRegistry.onDidRegister(s=>f.registerIcon(s.id,s.definition,s.description))}d(),e.iconsSchemaId="vscode://schemas/icons";let c=p.Registry.as(S.Extensions.JSONContribution);c.registerSchema(e.iconsSchemaId,f.getIconSchema());const u=new y.RunOnceScheduler(()=>c.notifySchemaChanged(e.iconsSchemaId),200);f.onDidChange(()=>{u.isScheduled()||u.schedule()}),e.widgetClose=r("widget-close",N.Codicon.close,(0,D.localize)(2,null))}),define(te[683],ie([0,1,468,7,30,86,62,51,2,65,16,28,34,87,13,46,117,63,15,22,12,27,81,350]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h,g){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const _=3;class C{constructor(R,O,L,B){this.originalLineStart=R,this.originalLineEnd=O,this.modifiedLineStart=L,this.modifiedLineEnd=B}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class v{constructor(R){this.entries=R}}const m=(0,g.registerIcon)("diff-review-insert",h.Codicon.add,y.localize(0,null)),E=(0,g.registerIcon)("diff-review-remove",h.Codicon.remove,y.localize(1,null)),I=(0,g.registerIcon)("diff-review-close",h.Codicon.close,y.localize(2,null));class k extends b.Disposable{constructor(R){super();this._width=0,this._diffEditor=R,this._isVisible=!1,this.shadow=(0,T.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,T.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new D.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new p.Action("diffreview.close",y.localize(3,null),"close-diff-review "+l.ThemeIcon.asClassName(I),!0,()=>Me(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,T.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,T.createFastDomNode)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new S.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(R.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(R.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(N.addStandardDisposableListener(this.domNode.domNode,"click",O=>{O.preventDefault();let L=N.findParentWithClass(O.target,"diff-review-row");L&&this._goToRow(L)})),this._register(N.addStandardDisposableListener(this.domNode.domNode,"keydown",O=>{(O.equals(18)||O.equals(2048|18)||O.equals(512|18))&&(O.preventDefault(),this._goToRow(this._getNextRow())),(O.equals(16)||O.equals(2048|16)||O.equals(512|16))&&(O.preventDefault(),this._goToRow(this._getPrevRow())),(O.equals(9)||O.equals(2048|9)||O.equals(512|9)||O.equals(1024|9))&&(O.preventDefault(),this.hide()),(O.equals(10)||O.equals(3))&&(O.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let R=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let L=-1;for(let B=0,z=this._diffs.length;B<z;B++)if(this._diffs[B]===this._currentDiff){L=B;break}R=this._diffs.length+L-1}else R=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;R=R%this._diffs.length;const O=this._diffs[R].entries;this._diffEditor.setPosition(new c.Position(O[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:O[0].modifiedLineStart,endColumn:1073741824,endLineNumber:O[O.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let R=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let L=-1;for(let B=0,z=this._diffs.length;B<z;B++)if(this._diffs[B]===this._currentDiff){L=B;break}R=L+1}else R=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;R=R%this._diffs.length;const O=this._diffs[R].entries;this._diffEditor.setPosition(new c.Position(O[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:O[0].modifiedLineStart,endColumn:1073741824,endLineNumber:O[O.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let R=-1,O=this._getCurrentFocusedRow();if(O){let L=parseInt(O.getAttribute("data-line"),10);isNaN(L)||(R=L)}this.hide(),R!==-1&&(this._diffEditor.setPosition(new c.Position(R,1)),this._diffEditor.revealPosition(new c.Position(R,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let R=this._getCurrentFocusedRow();return R?R.previousElementSibling?R.previousElementSibling:R:this._getFirstRow()}_getNextRow(){let R=this._getCurrentFocusedRow();return R?R.nextElementSibling?R.nextElementSibling:R:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let R=document.activeElement;return R&&/diff-review-row/.test(R.className)?R:null}_goToRow(R){let O=this._getCurrentFocusedRow();R.tabIndex=0,R.focus(),O&&O!==R&&(O.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(R,O,L){this._width=O,this.shadow.setTop(R-6),this.shadow.setWidth(O),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(R),this.domNode.setWidth(O),this.domNode.setHeight(L),this._content.setHeight(L),this._content.setWidth(O),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const R=this._diffEditor.getLineChanges();if(!R||R.length===0)return[];const O=this._diffEditor.getOriginalEditor().getModel(),L=this._diffEditor.getModifiedEditor().getModel();return!O||!L?[]:k._mergeAdjacent(R,O.getLineCount(),L.getLineCount())}static _mergeAdjacent(R,O,L){if(!R||R.length===0)return[];let B=[],z=0;for(let Q=0,Y=R.length;Q<Y;Q++){const oe=R[Q],se=oe.originalStartLineNumber,K=oe.originalEndLineNumber,x=oe.modifiedStartLineNumber,U=oe.modifiedEndLineNumber;let H=[],V=0;{const ne=K===0?se:se-1,ue=U===0?x:x-1;let pe=1,ge=1;if(Q>0){const re=R[Q-1];re.originalEndLineNumber===0?pe=re.originalStartLineNumber+1:pe=re.originalEndLineNumber+1,re.modifiedEndLineNumber===0?ge=re.modifiedStartLineNumber+1:ge=re.modifiedEndLineNumber+1}let W=ne-_+1,G=ue-_+1;if(W<pe){const re=pe-W;W=W+re,G=G+re}if(G<ge){const re=ge-G;W=W+re,G=G+re}H[V++]=new C(W,ne,G,ue)}K!==0&&(H[V++]=new C(se,K,0,0)),U!==0&&(H[V++]=new C(0,0,x,U));{const ne=K===0?se+1:K+1,ue=U===0?x+1:U+1;let pe=O,ge=L;if(Q+1<Y){const re=R[Q+1];re.originalEndLineNumber===0?pe=re.originalStartLineNumber:pe=re.originalStartLineNumber-1,re.modifiedEndLineNumber===0?ge=re.modifiedStartLineNumber:ge=re.modifiedStartLineNumber-1}let W=ne+_-1,G=ue+_-1;if(W>pe){const re=pe-W;W=W+re,G=G+re}if(G>ge){const re=ge-G;W=W+re,G=G+re}H[V++]=new C(ne,W,ue,G)}B[z++]=new v(H)}let $=B[0].entries,j=[],X=0;for(let Q=1,Y=B.length;Q<Y;Q++){const oe=B[Q].entries,se=$[$.length-1],K=oe[0];if(se.getType()===0&&K.getType()===0&&K.originalLineStart<=se.originalLineEnd){$[$.length-1]=new C(se.originalLineStart,K.originalLineEnd,se.modifiedLineStart,K.modifiedLineEnd),$=$.concat(oe.slice(1));continue}j[X++]=new v($),$=oe}return j[X++]=new v($),j}_findDiffIndex(R){const O=R.lineNumber;for(let L=0,B=this._diffs.length;L<B;L++){const z=this._diffs[L].entries,$=z[z.length-1].modifiedLineEnd;if(O<=$)return L}return 0}_render(){const R=this._diffEditor.getOriginalEditor().getOptions(),O=this._diffEditor.getModifiedEditor().getOptions(),L=this._diffEditor.getOriginalEditor().getModel(),B=this._diffEditor.getModifiedEditor().getModel(),z=L.getOptions(),$=B.getOptions();if(!this._isVisible||!L||!B){N.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const j=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[j]===this._currentDiff)return;this._currentDiff=this._diffs[j];const X=this._diffs[j].entries;let Q=document.createElement("div");Q.className="diff-review-table",Q.setAttribute("role","list"),Q.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),i.Configuration.applyFontInfoSlow(Q,O.get(43));let Y=0,oe=0,se=0,K=0;for(let G=0,re=X.length;G<re;G++){const ee=X[G],de=ee.originalLineStart,ae=ee.originalLineEnd,ce=ee.modifiedLineStart,J=ee.modifiedLineEnd;de!==0&&(Y===0||de<Y)&&(Y=de),ae!==0&&(oe===0||ae>oe)&&(oe=ae),ce!==0&&(se===0||ce<se)&&(se=ce),J!==0&&(K===0||J>K)&&(K=J)}let x=document.createElement("div");x.className="diff-review-row";let U=document.createElement("div");U.className="diff-review-cell diff-review-summary";const H=oe-Y+1,V=K-se+1;U.appendChild(document.createTextNode(`${j+1}/${this._diffs.length}: @@ -${Y},${H} +${se},${V} @@`)),x.setAttribute("data-line",String(se));const ne=G=>G===0?y.localize(4,null):G===1?y.localize(5,null):y.localize(6,null,G),ue=ne(H),pe=ne(V);x.setAttribute("aria-label",y.localize(7,null,j+1,this._diffs.length,Y,ue,se,pe)),x.appendChild(U),x.setAttribute("role","listitem"),Q.appendChild(x);const ge=O.get(58);let W=se;for(let G=0,re=X.length;G<re;G++){const ee=X[G];k._renderSection(Q,ee,W,ge,this._width,R,L,z,O,B,$),ee.modifiedLineStart!==0&&(W=ee.modifiedLineEnd)}N.clearNode(this._content.domNode),this._content.domNode.appendChild(Q),this.scrollbar.scanDomNode()}static _renderSection(R,O,L,B,z,$,j,X,Q,Y,oe){const se=O.getType();let K="diff-review-row",x="";const U="diff-review-spacer";let H=null;switch(se){case 1:K="diff-review-row line-insert",x=" char-insert",H=m;break;case 2:K="diff-review-row line-delete",x=" char-delete",H=E;break}const V=O.originalLineStart,ne=O.originalLineEnd,ue=O.modifiedLineStart,pe=O.modifiedLineEnd,ge=Math.max(pe-ue,ne-V),W=$.get(129),G=W.glyphMarginWidth+W.lineNumbersWidth,re=Q.get(129),ee=10+re.glyphMarginWidth+re.lineNumbersWidth;for(let de=0;de<=ge;de++){const ae=V===0?0:V+de,ce=ue===0?0:ue+de,J=document.createElement("div");J.style.minWidth=z+"px",J.className=K,J.setAttribute("role","listitem"),ce!==0&&(L=ce),J.setAttribute("data-line",String(L));let Z=document.createElement("div");Z.className="diff-review-cell",Z.style.height=`${B}px`,J.appendChild(Z);const le=document.createElement("span");le.style.width=G+"px",le.style.minWidth=G+"px",le.className="diff-review-line-number"+x,ae!==0?le.appendChild(document.createTextNode(String(ae))):le.innerText="\xA0",Z.appendChild(le);const he=document.createElement("span");he.style.width=ee+"px",he.style.minWidth=ee+"px",he.style.paddingRight="10px",he.className="diff-review-line-number"+x,ce!==0?he.appendChild(document.createTextNode(String(ce))):he.innerText="\xA0",Z.appendChild(he);const ve=document.createElement("span");if(ve.className=U,H){const Te=document.createElement("span");Te.className=l.ThemeIcon.asClassName(H),Te.innerText="\xA0\xA0",ve.appendChild(Te)}else ve.innerText="\xA0\xA0";Z.appendChild(ve);let be;if(ce!==0){let Te=this._renderLine(Y,Q,oe.tabSize,ce);k._ttPolicy&&(Te=k._ttPolicy.createHTML(Te)),Z.insertAdjacentHTML("beforeend",Te),be=Y.getLineContent(ce)}else{let Te=this._renderLine(j,$,X.tabSize,ae);k._ttPolicy&&(Te=k._ttPolicy.createHTML(Te)),Z.insertAdjacentHTML("beforeend",Te),be=j.getLineContent(ae)}be.length===0&&(be=y.localize(8,null));let we="";switch(se){case 0:ae===ce?we=y.localize(9,null,be,ae):we=y.localize(10,null,be,ae,ce);break;case 1:we=y.localize(11,null,be,ce);break;case 2:we=y.localize(12,null,be,ae);break}J.setAttribute("aria-label",we),R.appendChild(J)}}static _renderLine(R,O,L,B){const z=R.getLineContent(B),$=O.get(43),j=d.LineTokens.createEmpty(z),X=n.ViewLineRenderingData.isBasicASCII(z,R.mightContainNonBasicASCII()),Q=n.ViewLineRenderingData.containsRTL(z,X,R.mightContainRTL());return(0,s.renderViewLine2)(new s.RenderLineInput($.isMonospace&&!O.get(29),$.canUseHalfwidthRightwardsArrow,z,!1,X,Q,0,j,[],L,0,$.spaceWidth,$.middotWidth,$.wsmiddotWidth,O.get(104),O.get(87),O.get(82),O.get(44)!==o.EditorFontLigatures.OFF,null)).html}}e.DiffReview=k,k._ttPolicy=(w=window.trustedTypes)===null||w===void 0?void 0:w.createPolicy("diffReview",{createHTML:M=>M}),(0,l.registerThemingParticipant)((M,R)=>{const O=M.getColor(u.editorLineNumbers);O&&R.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${O}; }`);const L=M.getColor(t.scrollbarShadow);L&&R.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${L} 0 -6px 6px -6px inset; }`)});class A extends f.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:y.localize(13,null),alias:"Go to Next Difference",precondition:a.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(R,O){const L=F(R);L&&L.diffReviewNext()}}class P extends f.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:y.localize(14,null),alias:"Go to Previous Difference",precondition:a.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}run(R,O){const L=F(R);L&&L.diffReviewPrev()}}function F(M){const R=M.get(r.ICodeEditorService),O=R.listDiffEditors(),L=R.getActiveCodeEditor();if(!L)return null;for(let B=0,z=O.length;B<z;B++){const $=O[B];if($.getModifiedEditor().getId()===L.getId()||$.getOriginalEditor().getId()===L.getId())return $}return null}(0,f.registerEditorAction)(A),(0,f.registerEditorAction)(P)}),define(te[281],ie([0,1,467,7,30,109,14,6,2,65,66,28,152,683,34,3,84,112,31,77,232,140,117,63,15,9,146,35,22,12,70,470,88,16,10,61,221,27,134,81,349]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h,g,w,_,C,v,m,E,I,k,A,P,F,M,R,O,L,B,z){"use strict";var $;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;class j{constructor(Z,le){this._contextMenuService=Z,this._clipboardService=le,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(Z){return Z.filter(le=>!this._zonesMap[String(le.id)])}clean(Z){this._zones.length>0&&Z.changeViewZones(le=>{for(const he of this._zones)le.removeZone(he)}),this._zones=[],this._zonesMap={},this._decorations=Z.deltaDecorations(this._decorations,[])}apply(Z,le,he,ve){const be=ve?f.StableEditorScrollState.capture(Z):null;Z.changeViewZones(we=>{for(const Te of this._zones)we.removeZone(Te);for(const Te of this._inlineDiffMargins)Te.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Te=0,Pe=he.zones.length;Te<Pe;Te++){const Oe=he.zones[Te];Oe.suppressMouseDown=!0;const Ve=we.addZone(Oe);this._zones.push(Ve),this._zonesMap[String(Ve)]=!0,he.zones[Te].diff&&Oe.marginDomNode&&(Oe.suppressMouseDown=!1,this._inlineDiffMargins.push(new A.InlineDiffMargin(Ve,Oe.marginDomNode,Z,he.zones[Te].diff,this._contextMenuService,this._clipboardService)))}}),be&&be.restore(Z),this._decorations=Z.deltaDecorations(this._decorations,he.decorations),le&&le.setZones(he.overviewZones)}}let X=0;const Q=(0,z.registerIcon)("diff-insert",L.Codicon.add,y.localize(0,null)),Y=(0,z.registerIcon)("diff-remove",L.Codicon.remove,y.localize(1,null)),oe=($=window.trustedTypes)===null||$===void 0?void 0:$.createPolicy("diffEditorWidget",{createHTML:J=>J});let se=class nt extends b.Disposable{constructor(Z,le,he,ve,be,we,Te,Pe,Oe,Ve,Be,He){super();this._editorProgressService=He,this._onDidDispose=this._register(new p.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new p.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new p.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=be,this._codeEditorService=Pe,this._contextKeyService=this._register(we.createScoped(Z)),this._instantiationService=Te.createChild(new v.ServiceCollection([_.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Oe,this._notificationService=Ve,this._id=++X,this._state=0,this._updatingDiffProgress=null,this._domElement=Z,le=le||{},this._options=ae(le,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof le.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",le.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new S.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=nt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,T.createFastDomNode)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(N.addStandardDisposableListener(this._overviewDomElement,"mousedown",Le=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(Le)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new j(Be,ve),this._modifiedEditorState=new j(Be,ve),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new O.ElementSizeObserver(this._containerDomElement,le.dimension,()=>this._onDidContainerSizeChanged())),le.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(le,he.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(le,he.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=new d.DiffReview(this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new ne(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new pe(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(Oe.onDidColorThemeChange(Le=>{this._strategy&&this._strategy.applyColors(Le)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=nt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const je=F.EditorExtensionsRegistry.getDiffEditorContributions();for(const Le of je)try{this._register(Te.createInstance(Le.ctor,this))}catch(Ee){(0,M.onUnexpectedError)(Ee)}this._codeEditorService.addDiffEditor(this)}_setState(Z){this._state!==Z&&(this._state=Z,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(Z,le){let he="monaco-diff-editor monaco-editor-background ";return le&&(he+="side-by-side "),he+=(0,I.getThemeTypeSelector)(Z.type),he}_recreateOverviewRulers(){!this._options.renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(Z,le){const he=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(Z),le);this._register(he.onDidScrollChange(be=>{this._isHandlingScrollEvent||!be.scrollTopChanged&&!be.scrollLeftChanged&&!be.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:be.scrollLeft,scrollTop:be.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(he.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(he.onDidChangeConfiguration(be=>{!he.getModel()||(be.hasChanged(43)&&this._updateDecorationsRunner.schedule(),be.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(he.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const ve=this._contextKeyService.createKey("isInDiffLeftEditor",he.hasWidgetFocus());return this._register(he.onDidFocusEditorWidget(()=>ve.set(!0))),this._register(he.onDidBlurEditorWidget(()=>ve.set(!1))),this._register(he.onDidContentSizeChange(be=>{const we=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+nt.ONE_OVERVIEW_WIDTH,Te=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Te,contentWidth:we,contentHeightChanged:be.contentHeightChanged,contentWidthChanged:be.contentWidthChanged})})),he}_createRightHandSideEditor(Z,le){const he=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(Z),le);this._register(he.onDidScrollChange(be=>{this._isHandlingScrollEvent||!be.scrollTopChanged&&!be.scrollLeftChanged&&!be.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:be.scrollLeft,scrollTop:be.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(he.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(he.onDidChangeConfiguration(be=>{!he.getModel()||(be.hasChanged(43)&&this._updateDecorationsRunner.schedule(),be.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(he.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(he.onDidChangeModelOptions(be=>{be.tabSize&&this._updateDecorationsRunner.schedule()}));const ve=this._contextKeyService.createKey("isInDiffRightEditor",he.hasWidgetFocus());return this._register(he.onDidFocusEditorWidget(()=>ve.set(!0))),this._register(he.onDidBlurEditorWidget(()=>ve.set(!1))),this._register(he.onDidContentSizeChange(be=>{const we=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+nt.ONE_OVERVIEW_WIDTH,Te=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Te,contentWidth:we,contentHeightChanged:be.contentHeightChanged,contentWidthChanged:be.contentWidthChanged})})),he}_createInnerEditor(Z,le,he,ve){return Z.createInstance(o.CodeEditorWidget,le,he,ve)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return n.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(Z){const le=ae(Z,this._options),he=ce(this._options,le);this._options=le;const ve=he.ignoreTrimWhitespace||he.renderIndicators,be=this._isVisible&&(he.maxComputationTime||he.maxFileSize);ve?this._beginUpdateDecorations():be&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(Z)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(Z)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),he.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new ne(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new pe(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=nt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),he.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(Z){if(Z&&(!Z.original||!Z.modified))throw new Error(Z.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(Z?Z.original:null),this._modifiedEditor.setModel(Z?Z.modified:null),this._updateDecorationsRunner.cancel(),Z&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),Z&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(Z){return this._modifiedEditor.getVisibleColumnFromPosition(Z)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(Z){this._modifiedEditor.setPosition(Z)}revealLine(Z,le=0){this._modifiedEditor.revealLine(Z,le)}revealLineInCenter(Z,le=0){this._modifiedEditor.revealLineInCenter(Z,le)}revealLineInCenterIfOutsideViewport(Z,le=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(Z,le)}revealLineNearTop(Z,le=0){this._modifiedEditor.revealLineNearTop(Z,le)}revealPosition(Z,le=0){this._modifiedEditor.revealPosition(Z,le)}revealPositionInCenter(Z,le=0){this._modifiedEditor.revealPositionInCenter(Z,le)}revealPositionInCenterIfOutsideViewport(Z,le=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(Z,le)}revealPositionNearTop(Z,le=0){this._modifiedEditor.revealPositionNearTop(Z,le)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(Z){this._modifiedEditor.setSelection(Z)}setSelections(Z){this._modifiedEditor.setSelections(Z)}revealLines(Z,le,he=0){this._modifiedEditor.revealLines(Z,le,he)}revealLinesInCenter(Z,le,he=0){this._modifiedEditor.revealLinesInCenter(Z,le,he)}revealLinesInCenterIfOutsideViewport(Z,le,he=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(Z,le,he)}revealLinesNearTop(Z,le,he=0){this._modifiedEditor.revealLinesNearTop(Z,le,he)}revealRange(Z,le=0,he=!1,ve=!0){this._modifiedEditor.revealRange(Z,le,he,ve)}revealRangeInCenter(Z,le=0){this._modifiedEditor.revealRangeInCenter(Z,le)}revealRangeInCenterIfOutsideViewport(Z,le=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(Z,le)}revealRangeNearTop(Z,le=0){this._modifiedEditor.revealRangeNearTop(Z,le)}revealRangeNearTopIfOutsideViewport(Z,le=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(Z,le)}revealRangeAtTop(Z,le=0){this._modifiedEditor.revealRangeAtTop(Z,le)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const Z=this._originalEditor.saveViewState(),le=this._modifiedEditor.saveViewState();return{original:Z,modified:le}}restoreViewState(Z){if(Z&&Z.original&&Z.modified){const le=Z;this._originalEditor.restoreViewState(le.original),this._modifiedEditor.restoreViewState(le.modified)}}layout(Z){this._elementSizeObserver.observe(Z)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(Z,le,he){this._modifiedEditor.trigger(Z,le,he)}changeDecorations(Z){return this._modifiedEditor.changeDecorations(Z)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const Z=this._elementSizeObserver.getHeight(),le=this._getReviewHeight(),he=nt.ENTIRE_DIFF_OVERVIEW_WIDTH-2*nt.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:nt.ONE_OVERVIEW_WIDTH,right:he+nt.ONE_OVERVIEW_WIDTH,height:Z-le}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:nt.ONE_OVERVIEW_WIDTH,height:Z-le}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),nt.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(Z,le){return!Z&&!le?!0:!Z||!le?!1:Z.toString()===le.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const Z=this._originalEditor.getModel(),le=this._modifiedEditor.getModel();if(!Z||!le)return;this._diffComputationToken++;const he=this._diffComputationToken,ve=this._options.maxFileSize*1024*1024,be=we=>{const Te=we.getValueLength();return ve===0||Te<=ve};if(!be(Z)||!be(le)){(!nt._equals(Z.uri,this._lastOriginalWarning)||!nt._equals(le.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=Z.uri,this._lastModifiedWarning=le.uri,this._notificationService.warn(y.localize(2,null)));return}this._setState(1),this._editorWorkerService.computeDiff(Z.uri,le.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(we=>{he===this._diffComputationToken&&Z===this._originalEditor.getModel()&&le===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=we,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},we=>{he===this._diffComputationToken&&Z===this._originalEditor.getModel()&&le===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const Z=this._diffComputationResult?this._diffComputationResult.changes:[],le=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),he=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),ve=this._strategy.getEditorsDiffDecorations(Z,this._options.ignoreTrimWhitespace,this._options.renderIndicators,le,he);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,ve.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,ve.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(Z){const le=Object.assign({},Z);return le.inDiffEditor=!0,le.automaticLayout=!1,le.scrollbar=Object.assign({},le.scrollbar||{}),le.scrollbar.vertical="visible",le.folding=!1,le.codeLens=this._options.diffCodeLens,le.fixedOverflowWidgets=!0,le.minimap=Object.assign({},le.minimap||{}),le.minimap.enabled=!1,le}_adjustOptionsForLeftHandSide(Z){const le=this._adjustOptionsForSubEditor(Z);return this._options.renderSideBySide?le.wordWrapOverride1=this._options.diffWordWrap:le.wordWrapOverride1="off",Z.originalAriaLabel&&(le.ariaLabel=Z.originalAriaLabel),le.readOnly=!this._options.originalEditable,le.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},le),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(Z){const le=this._adjustOptionsForSubEditor(Z);return Z.modifiedAriaLabel&&(le.ariaLabel=Z.modifiedAriaLabel),le.wordWrapOverride1=this._options.diffWordWrap,le.revealHorizontalRightPadding=c.EditorOptions.revealHorizontalRightPadding.defaultValue+nt.ENTIRE_DIFF_OVERVIEW_WIDTH,le.scrollbar.verticalHasArrows=!1,le.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},le),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const Z=this._elementSizeObserver.getWidth(),le=this._elementSizeObserver.getHeight(),he=this._getReviewHeight(),ve=this._strategy.layout();this._originalDomNode.style.width=ve+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=Z-ve+"px",this._modifiedDomNode.style.left=ve+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=le-he+"px",this._overviewDomElement.style.width=nt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=Z-nt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(nt.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:ve,height:le-he}),this._modifiedEditor.layout({width:Z-ve-(this._options.renderOverviewRuler?nt.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:le-he}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(le-he,Z,he),this._layoutOverviewViewport()}_layoutOverviewViewport(){const Z=this._computeOverviewViewport();Z?(this._overviewViewportDomElement.setTop(Z.top),this._overviewViewportDomElement.setHeight(Z.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const Z=this._modifiedEditor.getLayoutInfo();if(!Z)return null;const le=this._modifiedEditor.getScrollTop(),he=this._modifiedEditor.getScrollHeight(),ve=Math.max(0,Z.height),be=Math.max(0,ve-2*0),we=he>0?be/he:0,Te=Math.max(0,Math.floor(Z.height*we)),Pe=Math.floor(le*we);return{height:Te,top:Pe}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(Z){this._strategy&&this._strategy.dispose(),this._strategy=Z,Z.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(Z,le){const he=this._diffComputationResult?this._diffComputationResult.changes:[];if(he.length===0||Z<le(he[0]))return null;let ve=0,be=he.length-1;for(;ve<be;){const we=Math.floor((ve+be)/2),Te=le(he[we]),Pe=we+1<=be?le(he[we+1]):1073741824;Z<Te?be=we-1:Z>=Pe?ve=we+1:(ve=we,be=we)}return he[ve]}_getEquivalentLineForOriginalLineNumber(Z){const le=this._getLineChangeAtOrBeforeLineNumber(Z,Pe=>Pe.originalStartLineNumber);if(!le)return Z;const he=le.originalStartLineNumber+(le.originalEndLineNumber>0?-1:0),ve=le.modifiedStartLineNumber+(le.modifiedEndLineNumber>0?-1:0),be=le.originalEndLineNumber>0?le.originalEndLineNumber-le.originalStartLineNumber+1:0,we=le.modifiedEndLineNumber>0?le.modifiedEndLineNumber-le.modifiedStartLineNumber+1:0,Te=Z-he;return Te<=be?ve+Math.min(Te,we):ve+we-be+Te}_getEquivalentLineForModifiedLineNumber(Z){const le=this._getLineChangeAtOrBeforeLineNumber(Z,Pe=>Pe.modifiedStartLineNumber);if(!le)return Z;const he=le.originalStartLineNumber+(le.originalEndLineNumber>0?-1:0),ve=le.modifiedStartLineNumber+(le.modifiedEndLineNumber>0?-1:0),be=le.originalEndLineNumber>0?le.originalEndLineNumber-le.originalStartLineNumber+1:0,we=le.modifiedEndLineNumber>0?le.modifiedEndLineNumber-le.modifiedStartLineNumber+1:0,Te=Z-ve;return Te<=we?he+Math.min(Te,be):he+be-we+Te}getDiffLineInformationForOriginal(Z){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(Z)}:null}getDiffLineInformationForModified(Z){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(Z)}:null}};se.ONE_OVERVIEW_WIDTH=15,se.ENTIRE_DIFF_OVERVIEW_WIDTH=30,se.UPDATE_DIFF_DECORATIONS_DELAY=200,se=Fe([Ce(3,P.IClipboardService),Ce(4,t.IEditorWorkerService),Ce(5,_.IContextKeyService),Ce(6,C.IInstantiationService),Ce(7,r.ICodeEditorService),Ce(8,I.IThemeService),Ce(9,m.INotificationService),Ce(10,k.IContextMenuService),Ce(11,R.IEditorProgressService)],se),e.DiffEditorWidget=se;class K extends b.Disposable{constructor(Z){super();this._dataSource=Z,this._insertColor=null,this._removeColor=null}applyColors(Z){const le=(Z.getColor(E.diffInserted)||E.defaultInsertColor).transparent(2),he=(Z.getColor(E.diffRemoved)||E.defaultRemoveColor).transparent(2),ve=!le.equals(this._insertColor)||!he.equals(this._removeColor);return this._insertColor=le,this._removeColor=he,ve}getEditorsDiffDecorations(Z,le,he,ve,be){be=be.sort((Oe,Ve)=>Oe.afterLineNumber-Ve.afterLineNumber),ve=ve.sort((Oe,Ve)=>Oe.afterLineNumber-Ve.afterLineNumber);const we=this._getViewZones(Z,ve,be,he),Te=this._getOriginalEditorDecorations(Z,le,he),Pe=this._getModifiedEditorDecorations(Z,le,he);return{original:{decorations:Te.decorations,overviewZones:Te.overviewZones,zones:we.original},modified:{decorations:Pe.decorations,overviewZones:Pe.overviewZones,zones:we.modified}}}}class x{constructor(Z){this._source=Z,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class U{constructor(Z,le,he,ve,be){this._lineChanges=Z,this._originalForeignVZ=le,this._modifiedForeignVZ=he,this._originalEditor=ve,this._modifiedEditor=be}static _getViewLineCount(Z,le,he){const ve=Z.getModel(),be=Z._getViewModel();if(ve&&be){const we=de(ve,be,le,he);return we.endLineNumber-we.startLineNumber+1}return he-le+1}getViewZones(){const Z=this._originalEditor.getOption(58),le=this._modifiedEditor.getOption(58),he=this._originalEditor.getOption(130).wrappingColumn!==-1,ve=this._modifiedEditor.getOption(130).wrappingColumn!==-1,be=he||ve,we=this._originalEditor.getModel(),Te=this._originalEditor._getViewModel().coordinatesConverter,Pe=this._modifiedEditor._getViewModel().coordinatesConverter,Oe={original:[],modified:[]};let Ve=0,Be=0,He=0,je=0,Le=0,Ee=0;const Re=(Ne,fe)=>Ne.afterLineNumber-fe.afterLineNumber,ze=(Ne,fe)=>{if(fe.domNode===null&&Ne.length>0){const me=Ne[Ne.length-1];if(me.afterLineNumber===fe.afterLineNumber&&me.domNode===null){me.heightInLines+=fe.heightInLines;return}}Ne.push(fe)},We=new x(this._modifiedForeignVZ),Ze=new x(this._originalForeignVZ);let ke=1,De=1;for(let Ne=0,fe=this._lineChanges.length;Ne<=fe;Ne++){const me=Ne<fe?this._lineChanges[Ne]:null;me!==null?(He=me.originalStartLineNumber+(me.originalEndLineNumber>0?-1:0),je=me.modifiedStartLineNumber+(me.modifiedEndLineNumber>0?-1:0),Be=me.originalEndLineNumber>0?U._getViewLineCount(this._originalEditor,me.originalStartLineNumber,me.originalEndLineNumber):0,Ve=me.modifiedEndLineNumber>0?U._getViewLineCount(this._modifiedEditor,me.modifiedStartLineNumber,me.modifiedEndLineNumber):0,Le=Math.max(me.originalStartLineNumber,me.originalEndLineNumber),Ee=Math.max(me.modifiedStartLineNumber,me.modifiedEndLineNumber)):(He+=1e7+Be,je+=1e7+Ve,Le=He,Ee=je);let ye=[],Se=[];if(be){let Ie;me?me.originalEndLineNumber>0?Ie=me.originalStartLineNumber-ke:Ie=me.modifiedStartLineNumber-De:Ie=we.getLineCount()-ke;for(let xe=0;xe<Ie;xe++){const qe=ke+xe,Ue=De+xe,$e=Te.getModelLineViewLineCount(qe),Ge=Pe.getModelLineViewLineCount(Ue);$e<Ge?ye.push({afterLineNumber:qe,heightInLines:Ge-$e,domNode:null,marginDomNode:null}):$e>Ge&&Se.push({afterLineNumber:Ue,heightInLines:$e-Ge,domNode:null,marginDomNode:null})}me&&(ke=(me.originalEndLineNumber>0?me.originalEndLineNumber:me.originalStartLineNumber)+1,De=(me.modifiedEndLineNumber>0?me.modifiedEndLineNumber:me.modifiedStartLineNumber)+1)}for(;We.current&&We.current.afterLineNumber<=Ee;){let Ie;We.current.afterLineNumber<=je?Ie=He-je+We.current.afterLineNumber:Ie=Le;let xe=null;me&&me.modifiedStartLineNumber<=We.current.afterLineNumber&&We.current.afterLineNumber<=me.modifiedEndLineNumber&&(xe=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),ye.push({afterLineNumber:Ie,heightInLines:We.current.height/le,domNode:null,marginDomNode:xe}),We.advance()}for(;Ze.current&&Ze.current.afterLineNumber<=Le;){let Ie;Ze.current.afterLineNumber<=He?Ie=je-He+Ze.current.afterLineNumber:Ie=Ee,Se.push({afterLineNumber:Ie,heightInLines:Ze.current.height/Z,domNode:null}),Ze.advance()}if(me!==null&&G(me)){const Ie=this._produceOriginalFromDiff(me,Be,Ve);Ie&&ye.push(Ie)}if(me!==null&&re(me)){const Ie=this._produceModifiedFromDiff(me,Be,Ve);Ie&&Se.push(Ie)}let _e=0,Ae=0;for(ye=ye.sort(Re),Se=Se.sort(Re);_e<ye.length&&Ae<Se.length;){const Ie=ye[_e],xe=Se[Ae],qe=Ie.afterLineNumber-He,Ue=xe.afterLineNumber-je;qe<Ue?(ze(Oe.original,Ie),_e++):Ue<qe?(ze(Oe.modified,xe),Ae++):Ie.shouldNotShrink?(ze(Oe.original,Ie),_e++):xe.shouldNotShrink?(ze(Oe.modified,xe),Ae++):Ie.heightInLines>=xe.heightInLines?(Ie.heightInLines-=xe.heightInLines,Ae++):(xe.heightInLines-=Ie.heightInLines,_e++)}for(;_e<ye.length;)ze(Oe.original,ye[_e]),_e++;for(;Ae<Se.length;)ze(Oe.modified,Se[Ae]),Ae++}return{original:U._ensureDomNodes(Oe.original),modified:U._ensureDomNodes(Oe.modified)}}static _ensureDomNodes(Z){return Z.map(le=>(le.domNode||(le.domNode=ee()),le))}}function H(J,Z,le,he,ve){return{range:new u.Range(J,Z,le,he),options:ve}}const V={charDelete:a.ModelDecorationOptions.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:a.ModelDecorationOptions.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:a.ModelDecorationOptions.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:a.ModelDecorationOptions.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:a.ModelDecorationOptions.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:a.ModelDecorationOptions.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+I.ThemeIcon.asClassName(Q),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:a.ModelDecorationOptions.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:a.ModelDecorationOptions.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+I.ThemeIcon.asClassName(Y),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:a.ModelDecorationOptions.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class ne extends K{constructor(Z,le){super(Z);this._disableSash=le===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new D.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(he=>this._onSashDrag(he)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(Z){const le=Z===!1;this._disableSash!==le&&(this._disableSash=le,this._sash.state=this._disableSash?0:3)}layout(Z=this._sashRatio){const he=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?se.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let ve=Math.floor((Z||.5)*he);const be=Math.floor(.5*he);return ve=this._disableSash?be:ve||be,he>ne.MINIMUM_EDITOR_WIDTH*2?(ve<ne.MINIMUM_EDITOR_WIDTH&&(ve=ne.MINIMUM_EDITOR_WIDTH),ve>he-ne.MINIMUM_EDITOR_WIDTH&&(ve=he-ne.MINIMUM_EDITOR_WIDTH)):ve=be,this._sashPosition!==ve&&(this._sashPosition=ve,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(Z){const he=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?se.ENTIRE_DIFF_OVERVIEW_WIDTH:0),ve=this.layout((this._startSashPosition+(Z.currentX-Z.startX))/he);this._sashRatio=ve/he,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(Z){return 0}getVerticalSashLeft(Z){return this._sashPosition}getVerticalSashHeight(Z){return this._dataSource.getHeight()}_getViewZones(Z,le,he){const ve=this._dataSource.getOriginalEditor(),be=this._dataSource.getModifiedEditor();return new ue(Z,le,he,ve,be).getViewZones()}_getOriginalEditorDecorations(Z,le,he){const ve=this._dataSource.getOriginalEditor(),be=String(this._removeColor),we={decorations:[],overviewZones:[]},Te=ve.getModel(),Pe=ve._getViewModel();for(const Oe of Z)if(re(Oe)){we.decorations.push({range:new u.Range(Oe.originalStartLineNumber,1,Oe.originalEndLineNumber,1073741824),options:he?V.lineDeleteWithSign:V.lineDelete}),(!G(Oe)||!Oe.charChanges)&&we.decorations.push(H(Oe.originalStartLineNumber,1,Oe.originalEndLineNumber,1073741824,V.charDeleteWholeLine));const Ve=de(Te,Pe,Oe.originalStartLineNumber,Oe.originalEndLineNumber);if(we.overviewZones.push(new l.OverviewRulerZone(Ve.startLineNumber,Ve.endLineNumber,be)),Oe.charChanges){for(const Be of Oe.charChanges)if(re(Be))if(le)for(let He=Be.originalStartLineNumber;He<=Be.originalEndLineNumber;He++){let je,Le;He===Be.originalStartLineNumber?je=Be.originalStartColumn:je=Te.getLineFirstNonWhitespaceColumn(He),He===Be.originalEndLineNumber?Le=Be.originalEndColumn:Le=Te.getLineLastNonWhitespaceColumn(He),we.decorations.push(H(He,je,He,Le,V.charDelete))}else we.decorations.push(H(Be.originalStartLineNumber,Be.originalStartColumn,Be.originalEndLineNumber,Be.originalEndColumn,V.charDelete))}}return we}_getModifiedEditorDecorations(Z,le,he){const ve=this._dataSource.getModifiedEditor(),be=String(this._insertColor),we={decorations:[],overviewZones:[]},Te=ve.getModel(),Pe=ve._getViewModel();for(const Oe of Z)if(G(Oe)){we.decorations.push({range:new u.Range(Oe.modifiedStartLineNumber,1,Oe.modifiedEndLineNumber,1073741824),options:he?V.lineInsertWithSign:V.lineInsert}),(!re(Oe)||!Oe.charChanges)&&we.decorations.push(H(Oe.modifiedStartLineNumber,1,Oe.modifiedEndLineNumber,1073741824,V.charInsertWholeLine));const Ve=de(Te,Pe,Oe.modifiedStartLineNumber,Oe.modifiedEndLineNumber);if(we.overviewZones.push(new l.OverviewRulerZone(Ve.startLineNumber,Ve.endLineNumber,be)),Oe.charChanges){for(const Be of Oe.charChanges)if(G(Be))if(le)for(let He=Be.modifiedStartLineNumber;He<=Be.modifiedEndLineNumber;He++){let je,Le;He===Be.modifiedStartLineNumber?je=Be.modifiedStartColumn:je=Te.getLineFirstNonWhitespaceColumn(He),He===Be.modifiedEndLineNumber?Le=Be.modifiedEndColumn:Le=Te.getLineLastNonWhitespaceColumn(He),we.decorations.push(H(He,je,He,Le,V.charInsert))}else we.decorations.push(H(Be.modifiedStartLineNumber,Be.modifiedStartColumn,Be.modifiedEndLineNumber,Be.modifiedEndColumn,V.charInsert))}}return we}}ne.MINIMUM_EDITOR_WIDTH=100;class ue extends U{constructor(Z,le,he,ve,be){super(Z,le,he,ve,be)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(Z,le,he){return he>le?{afterLineNumber:Math.max(Z.originalStartLineNumber,Z.originalEndLineNumber),heightInLines:he-le,domNode:null}:null}_produceModifiedFromDiff(Z,le,he){return le>he?{afterLineNumber:Math.max(Z.modifiedStartLineNumber,Z.modifiedEndLineNumber),heightInLines:le-he,domNode:null}:null}}class pe extends K{constructor(Z,le){super(Z);this._decorationsLeft=Z.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(Z.getOriginalEditor().onDidLayoutChange(he=>{this._decorationsLeft!==he.decorationsLeft&&(this._decorationsLeft=he.decorationsLeft,Z.relayoutEditors())}))}setEnableSplitViewResizing(Z){}_getViewZones(Z,le,he,ve){const be=this._dataSource.getOriginalEditor(),we=this._dataSource.getModifiedEditor();return new ge(Z,le,he,be,we,ve).getViewZones()}_getOriginalEditorDecorations(Z,le,he){const ve=String(this._removeColor),be={decorations:[],overviewZones:[]},we=this._dataSource.getOriginalEditor(),Te=we.getModel(),Pe=we._getViewModel();for(const Oe of Z)if(re(Oe)){be.decorations.push({range:new u.Range(Oe.originalStartLineNumber,1,Oe.originalEndLineNumber,1073741824),options:V.lineDeleteMargin});const Ve=de(Te,Pe,Oe.originalStartLineNumber,Oe.originalEndLineNumber);be.overviewZones.push(new l.OverviewRulerZone(Ve.startLineNumber,Ve.endLineNumber,ve))}return be}_getModifiedEditorDecorations(Z,le,he){const ve=this._dataSource.getModifiedEditor(),be=String(this._insertColor),we={decorations:[],overviewZones:[]},Te=ve.getModel(),Pe=ve._getViewModel();for(const Oe of Z)if(G(Oe)){we.decorations.push({range:new u.Range(Oe.modifiedStartLineNumber,1,Oe.modifiedEndLineNumber,1073741824),options:he?V.lineInsertWithSign:V.lineInsert});const Ve=de(Te,Pe,Oe.modifiedStartLineNumber,Oe.modifiedEndLineNumber);if(we.overviewZones.push(new l.OverviewRulerZone(Ve.startLineNumber,Ve.endLineNumber,be)),Oe.charChanges){for(const Be of Oe.charChanges)if(G(Be))if(le)for(let He=Be.modifiedStartLineNumber;He<=Be.modifiedEndLineNumber;He++){let je,Le;He===Be.modifiedStartLineNumber?je=Be.modifiedStartColumn:je=Te.getLineFirstNonWhitespaceColumn(He),He===Be.modifiedEndLineNumber?Le=Be.modifiedEndColumn:Le=Te.getLineLastNonWhitespaceColumn(He),we.decorations.push(H(He,je,He,Le,V.charInsert))}else we.decorations.push(H(Be.modifiedStartLineNumber,Be.modifiedStartColumn,Be.modifiedEndLineNumber,Be.modifiedEndColumn,V.charInsert))}else we.decorations.push(H(Oe.modifiedStartLineNumber,1,Oe.modifiedEndLineNumber,1073741824,V.charInsertWholeLine))}return we}layout(){return Math.max(5,this._decorationsLeft)}}class ge extends U{constructor(Z,le,he,ve,be,we){super(Z,le,he,ve,be);this._originalModel=ve.getModel(),this._renderIndicators=we,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const Z=super.getViewZones();return this._finalize(Z),Z}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const Z=document.createElement("div");return Z.className="inline-added-margin-view-zone",Z}_produceOriginalFromDiff(Z,le,he){const ve=document.createElement("div");return ve.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(Z.originalStartLineNumber,Z.originalEndLineNumber),heightInLines:he,domNode:document.createElement("div"),marginDomNode:ve}}_produceModifiedFromDiff(Z,le,he){const ve=document.createElement("div");ve.className=`view-lines line-delete ${B.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const be=document.createElement("div");be.className="inline-deleted-margin-view-zone";const we={shouldNotShrink:!0,afterLineNumber:Z.modifiedEndLineNumber===0?Z.modifiedStartLineNumber:Z.modifiedStartLineNumber-1,heightInLines:le,minWidthInPx:0,domNode:ve,marginDomNode:be,diff:{originalStartLineNumber:Z.originalStartLineNumber,originalEndLineNumber:Z.originalEndLineNumber,modifiedStartLineNumber:Z.modifiedStartLineNumber,modifiedEndLineNumber:Z.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let Te=Z.originalStartLineNumber;Te<=Z.originalEndLineNumber;Te++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(Te),null,null);return this._pendingLineChange.push(Z),this._pendingViewZones.push(we),we}_finalize(Z){const le=this._modifiedEditor.getOptions(),he=this._modifiedEditor.getModel().getOptions().tabSize,ve=le.get(43),be=le.get(29),we=ve.typicalHalfwidthCharacterWidth,Te=le.get(92),Pe=this._originalModel.mightContainNonBasicASCII(),Oe=this._originalModel.mightContainRTL(),Ve=le.get(58),He=le.get(129).decorationsWidth,je=le.get(104),Le=le.get(87),Ee=le.get(82),Re=le.get(44),ze=this._lineBreaksComputer.finalize();let We=0;for(let Ze=0;Ze<this._pendingLineChange.length;Ze++){const ke=this._pendingLineChange[Ze],De=this._pendingViewZones[Ze],Ne=De.domNode;i.Configuration.applyFontInfoSlow(Ne,ve);const fe=De.marginDomNode;i.Configuration.applyFontInfoSlow(fe,ve);const me=[];if(ke.charChanges)for(const Ue of ke.charChanges)re(Ue)&&me.push(new w.InlineDecoration(new u.Range(Ue.originalStartLineNumber,Ue.originalStartColumn,Ue.originalEndLineNumber,Ue.originalEndColumn),"char-delete",0));const ye=me.length>0,Se=(0,s.createStringBuilder)(1e4);let _e=0,Ae=0,Ie=null;for(let Ue=ke.originalStartLineNumber;Ue<=ke.originalEndLineNumber;Ue++){const $e=Ue-ke.originalStartLineNumber,Ge=this._originalModel.getLineTokens(Ue),Ke=Ge.getLineContent(),Qe=ze[We++],Ye=h.LineDecoration.filter(me,Ue,1,Ke.length+1);if(Qe){let Je=0;for(const et of Qe.breakOffsets){const at=Ge.sliceAndInflate(Je,et,0),ft=Ke.substring(Je,et);_e=Math.max(_e,this._renderOriginalLine(Ae++,ft,at,h.LineDecoration.extractWrapped(Ye,Je,et),ye,Pe,Oe,ve,be,Ve,He,je,Le,Ee,Re,he,Se,fe)),Je=et}for(Ie||(Ie=[]);Ie.length<$e;)Ie[Ie.length]=1;Ie[$e]=Qe.breakOffsets.length,De.heightInLines+=Qe.breakOffsets.length-1;const tt=document.createElement("div");tt.className="line-delete",Z.original.push({afterLineNumber:Ue,afterColumn:0,heightInLines:Qe.breakOffsets.length-1,domNode:ee(),marginDomNode:tt})}else _e=Math.max(_e,this._renderOriginalLine(Ae++,Ke,Ge,Ye,ye,Pe,Oe,ve,be,Ve,He,je,Le,Ee,Re,he,Se,fe))}_e+=Te;const xe=Se.build(),qe=oe?oe.createHTML(xe):xe;if(Ne.innerHTML=qe,De.minWidthInPx=_e*we,Ie){const Ue=ke.originalEndLineNumber-ke.originalStartLineNumber;for(;Ie.length<=Ue;)Ie[Ie.length]=1}De.diff.viewLineCounts=Ie}Z.original.sort((Ze,ke)=>Ze.afterLineNumber-ke.afterLineNumber)}_renderOriginalLine(Z,le,he,ve,be,we,Te,Pe,Oe,Ve,Be,He,je,Le,Ee,Re,ze,We){ze.appendASCIIString('<div class="view-line'),be||ze.appendASCIIString(" char-delete"),ze.appendASCIIString('" style="top:'),ze.appendASCIIString(String(Z*Ve)),ze.appendASCIIString('px;width:1000000px;">');const Ze=w.ViewLineRenderingData.isBasicASCII(le,we),ke=w.ViewLineRenderingData.containsRTL(le,Ze,Te),De=(0,g.renderViewLine)(new g.RenderLineInput(Pe.isMonospace&&!Oe,Pe.canUseHalfwidthRightwardsArrow,le,!1,Ze,ke,0,he,ve,Re,0,Pe.spaceWidth,Pe.middotWidth,Pe.wsmiddotWidth,He,je,Le,Ee!==c.EditorFontLigatures.OFF,null),ze);if(ze.appendASCIIString("</div>"),this._renderIndicators){const Ne=document.createElement("div");Ne.className=`delete-sign ${I.ThemeIcon.asClassName(Y)}`,Ne.setAttribute("style",`position:absolute;top:${Z*Ve}px;width:${Be}px;height:${Ve}px;right:0;`),We.appendChild(Ne)}return De.characterMapping.getAbsoluteOffset(De.characterMapping.length)}}function W(J,Z){return(0,c.stringSet)(J,Z,["off","on","inherit"])}function G(J){return J.modifiedEndLineNumber>0}function re(J){return J.originalEndLineNumber>0}function ee(){const J=document.createElement("div");return J.className="diagonal-fill",J}function de(J,Z,le,he){const ve=J.getLineCount();return le=Math.min(ve,Math.max(1,le)),he=Math.min(ve,Math.max(1,he)),Z.coordinatesConverter.convertModelRangeToViewRange(new u.Range(le,J.getLineMinColumn(le),he,J.getLineMaxColumn(he)))}function ae(J,Z){return{enableSplitViewResizing:(0,c.boolean)(J.enableSplitViewResizing,Z.enableSplitViewResizing),renderSideBySide:(0,c.boolean)(J.renderSideBySide,Z.renderSideBySide),maxComputationTime:(0,c.clampedInt)(J.maxComputationTime,Z.maxComputationTime,0,1073741824),maxFileSize:(0,c.clampedInt)(J.maxFileSize,Z.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,c.boolean)(J.ignoreTrimWhitespace,Z.ignoreTrimWhitespace),renderIndicators:(0,c.boolean)(J.renderIndicators,Z.renderIndicators),originalEditable:(0,c.boolean)(J.originalEditable,Z.originalEditable),diffCodeLens:(0,c.boolean)(J.diffCodeLens,Z.diffCodeLens),renderOverviewRuler:(0,c.boolean)(J.renderOverviewRuler,Z.renderOverviewRuler),diffWordWrap:W(J.diffWordWrap,Z.diffWordWrap)}}function ce(J,Z){return{enableSplitViewResizing:J.enableSplitViewResizing!==Z.enableSplitViewResizing,renderSideBySide:J.renderSideBySide!==Z.renderSideBySide,maxComputationTime:J.maxComputationTime!==Z.maxComputationTime,maxFileSize:J.maxFileSize!==Z.maxFileSize,ignoreTrimWhitespace:J.ignoreTrimWhitespace!==Z.ignoreTrimWhitespace,renderIndicators:J.renderIndicators!==Z.renderIndicators,originalEditable:J.originalEditable!==Z.originalEditable,diffCodeLens:J.diffCodeLens!==Z.diffCodeLens,renderOverviewRuler:J.renderOverviewRuler!==Z.renderOverviewRuler,diffWordWrap:J.diffWordWrap!==Z.diffWordWrap}}(0,I.registerThemingParticipant)((J,Z)=>{const le=J.getColor(E.diffInserted);le&&(Z.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${le}; }`),Z.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${le}; }`),Z.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${le}; }`));const he=J.getColor(E.diffRemoved);he&&(Z.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${he}; }`),Z.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${he}; }`),Z.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${he}; }`));const ve=J.getColor(E.diffInsertedOutline);ve&&Z.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${J.type==="hc"?"dashed":"solid"} ${ve}; }`);const be=J.getColor(E.diffRemovedOutline);be&&Z.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${J.type==="hc"?"dashed":"solid"} ${be}; }`);const we=J.getColor(E.scrollbarShadow);we&&Z.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${we}; }`);const Te=J.getColor(E.diffBorder);Te&&Z.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${Te}; }`);const Pe=J.getColor(E.scrollbarSliderBackground);Pe&&Z.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Pe};
			}
		`);const Oe=J.getColor(E.scrollbarSliderHoverBackground);Oe&&Z.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${Oe};
			}
		`);const Ve=J.getColor(E.scrollbarSliderActiveBackground);Ve&&Z.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${Ve};
			}
		`);const Be=J.getColor(E.diffDiagonalFill);Z.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${Be} 12.5%,
			#0000 12.5%, #0000 50%,
			${Be} 50%, ${Be} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(te[684],ie([0,1,7,45,168,109,53,14,27,10,2,17,8,3,150,492,677,553,22,81,12,358]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const h=(0,t.registerIcon)("find-selection",b.Codicon.selection,u.localize(0,null)),g=(0,t.registerIcon)("find-collapsed",b.Codicon.chevronRight,u.localize(1,null)),w=(0,t.registerIcon)("find-expanded",b.Codicon.chevronDown,u.localize(2,null));e.findReplaceIcon=(0,t.registerIcon)("find-replace",b.Codicon.replace,u.localize(3,null)),e.findReplaceAllIcon=(0,t.registerIcon)("find-replace-all",b.Codicon.replaceAll,u.localize(4,null)),e.findPreviousMatchIcon=(0,t.registerIcon)("find-previous-match",b.Codicon.arrowUp,u.localize(5,null)),e.findNextMatchIcon=(0,t.registerIcon)("find-next-match",b.Codicon.arrowDown,u.localize(6,null));const _=u.localize(7,null),C=u.localize(8,null),v=u.localize(9,null),m=u.localize(10,null),E=u.localize(11,null),I=u.localize(12,null),k=u.localize(13,null),A=u.localize(14,null),P=u.localize(15,null),F=u.localize(16,null),M=u.localize(17,null),R=u.localize(18,null,c.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=u.localize(19,null),e.NLS_NO_RESULTS=u.localize(20,null);const O=419,B=275-54;let z=69;const $=33,j="ctrlEnterReplaceAll.windows.donotask",X=r.isMacintosh?256:2048;class Q{constructor(U){this.afterLineNumber=U,this.heightInPx=$,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=Q;function Y(x,U,H){const V=!!U.match(/\n/);if(H&&V&&H.selectionStart>0){x.stopPropagation();return}}function oe(x,U,H){const V=!!U.match(/\n/);if(H&&V&&H.selectionEnd<H.value.length){x.stopPropagation();return}}class se extends S.Widget{constructor(U,H,V,ne,ue,pe,ge,W,G){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=U,this._controller=H,this._state=V,this._contextViewProvider=ne,this._keybindingService=ue,this._contextKeyService=pe,this._storageService=W,this._notificationService=G,this._ctrlEnterReplaceAllWarningPrompted=!!W.getBoolean(j,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new p.Delayer(500),this._register((0,f.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(re=>this._onStateChanged(re))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(re=>{if(re.hasChanged(80)&&(this._codeEditor.getOption(80)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),re.hasChanged(129)&&this._tryUpdateWidgetWidth(),re.hasChanged(2)&&this.updateAccessibilitySupport(),re.hasChanged(35)){const ee=this._codeEditor.getOption(35).addExtraSpaceOnTop;ee&&!this._viewZone&&(this._viewZone=new Q(0),this._showViewZone()),!ee&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Me(this,void 0,void 0,function*(){if(this._isVisible){let re=yield this._controller.getGlobalBufferTerm();re&&re!==this._state.searchString&&(this._state.change({searchString:re},!1),this._findInput.select())}}))),this._findInputFocused=c.CONTEXT_FIND_INPUT_FOCUSED.bindTo(pe),this._findFocusTracker=this._register(y.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=c.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(pe),this._replaceFocusTracker=this._register(y.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new Q(0)),this._applyTheme(ge.getColorTheme()),this._register(ge.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(re=>{if(re.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return se.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(U){if(U.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(U.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),U.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),U.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(80)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=y.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(U.isRevealed||U.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),U.isRegex&&this._findInput.setRegex(this._state.isRegex),U.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),U.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),U.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),U.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),U.searchString||U.matchesCount||U.matchesPosition){let H=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",H),this._updateMatchesCount(),this._updateButtons()}(U.searchString||U.currentMatch)&&this._layoutViewZone(),U.updateHistory&&this._delayedUpdateHistory(),U.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,i.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=z+"px",this._state.matchesCount>=c.MATCHES_LIMIT?this._matchesCount.title=R:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let U;if(this._state.matchesCount>0){let H=String(this._state.matchesCount);this._state.matchesCount>=c.MATCHES_LIMIT&&(H+="+");let V=String(this._state.matchesPosition);V==="0"&&(V="?"),U=o.format(e.NLS_MATCHES_LOCATION,V,H)}else U=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(U)),(0,N.alert)(this._getAriaLabel(U,this._state.currentMatch,this._state.searchString)),z=Math.max(z,this._matchesCount.clientWidth)}_getAriaLabel(U,H,V){if(U===e.NLS_NO_RESULTS)return V===""?u.localize(21,null,U):u.localize(22,null,U,V);if(H){const ne=u.localize(23,null,U,V,H.startLineNumber+":"+H.startColumn),ue=this._codeEditor.getModel();return ue&&H.startLineNumber<=ue.getLineCount()&&H.startLineNumber>=1?`${ue.getLineContent(H.startLineNumber)}, ${ne}`:ne}return u.localize(24,null,U,V)}_updateToggleSelectionFindButton(){let U=this._codeEditor.getSelection(),H=U?U.startLineNumber!==U.endLineNumber||U.startColumn!==U.endColumn:!1,V=this._toggleSelectionFind.checked;this._isVisible&&(V||H)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let U=this._state.searchString.length>0,H=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&U&&H&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&U&&H&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&U),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&U),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let V=!this._codeEditor.getOption(80);this._toggleReplaceBtn.setEnabled(this._isVisible&&V)}_reveal(){if(this._revealTimeouts.forEach(U=>{clearTimeout(U)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const U=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const V=!!U&&U.startLineNumber!==U.endLineNumber;this._toggleSelectionFind.checked=V;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let H=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&U){const V=this._codeEditor.getDomNode();if(V){const ne=y.getDomNodePagePosition(V),ue=this._codeEditor.getScrolledVisiblePosition(U.getStartPosition()),pe=ne.left+(ue?ue.left:0),ge=ue?ue.top:0;if(this._viewZone&&ge<this._viewZone.heightInPx){U.endLineNumber>U.startLineNumber&&(H=!1);const W=y.getTopLeftOffset(this._domNode).left;pe>W&&(H=!1);const G=this._codeEditor.getScrolledVisiblePosition(U.getEndPosition());ne.left+(G?G.left:0)>W&&(H=!1)}}}this._showViewZone(H)}}_hide(U){this._revealTimeouts.forEach(H=>{clearTimeout(H)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),U&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(U){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const V=this._viewZone;this._viewZoneId!==void 0||!V||this._codeEditor.changeViewZones(ne=>{V.heightInPx=this._getHeight(),this._viewZoneId=ne.addZone(V),this._codeEditor.setScrollTop(U||this._codeEditor.getScrollTop()+V.heightInPx)})}_showViewZone(U=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new Q(0));const V=this._viewZone;this._codeEditor.changeViewZones(ne=>{if(this._viewZoneId!==void 0){const ue=this._getHeight();if(ue===V.heightInPx)return;let pe=ue-V.heightInPx;V.heightInPx=ue,ne.layoutZone(this._viewZoneId),U&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+pe);return}else{let ue=this._getHeight();if(ue-=this._codeEditor.getOption(74).top,ue<=0)return;V.heightInPx=ue,this._viewZoneId=ne.addZone(V),U&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+ue)}})}_removeViewZone(){this._codeEditor.changeViewZones(U=>{this._viewZoneId!==void 0&&(U.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(U){let H={inputActiveOptionBorder:U.getColor(a.inputActiveOptionBorder),inputActiveOptionBackground:U.getColor(a.inputActiveOptionBackground),inputActiveOptionForeground:U.getColor(a.inputActiveOptionForeground),inputBackground:U.getColor(a.inputBackground),inputForeground:U.getColor(a.inputForeground),inputBorder:U.getColor(a.inputBorder),inputValidationInfoBackground:U.getColor(a.inputValidationInfoBackground),inputValidationInfoForeground:U.getColor(a.inputValidationInfoForeground),inputValidationInfoBorder:U.getColor(a.inputValidationInfoBorder),inputValidationWarningBackground:U.getColor(a.inputValidationWarningBackground),inputValidationWarningForeground:U.getColor(a.inputValidationWarningForeground),inputValidationWarningBorder:U.getColor(a.inputValidationWarningBorder),inputValidationErrorBackground:U.getColor(a.inputValidationErrorBackground),inputValidationErrorForeground:U.getColor(a.inputValidationErrorForeground),inputValidationErrorBorder:U.getColor(a.inputValidationErrorBorder)};this._findInput.style(H),this._replaceInput.style(H),this._toggleSelectionFind.style(H)}_tryUpdateWidgetWidth(){if(!this._isVisible||!y.isInDOM(this._domNode))return;const U=this._codeEditor.getLayoutInfo();if(U.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const V=U.width,ne=U.minimap.minimapWidth;let ue=!1,pe=!1,ge=!1;if(this._resized&&y.getTotalWidth(this._domNode)>O){this._domNode.style.maxWidth=`${V-28-ne-15}px`,this._replaceInput.width=y.getTotalWidth(this._findInput.domNode);return}if(O+28+ne>=V&&(pe=!0),O+28+ne-z>=V&&(ge=!0),O+28+ne-z>=V+50&&(ue=!0),this._domNode.classList.toggle("collapsed-find-widget",ue),this._domNode.classList.toggle("narrow-find-widget",ge),this._domNode.classList.toggle("reduced-find-widget",pe),!ge&&!ue&&(this._domNode.style.maxWidth=`${V-28-ne-15}px`),this._resized){this._findInput.inputBox.layout();let W=this._findInput.inputBox.element.clientWidth;W>0&&(this._replaceInput.width=W)}else this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode))}_getHeight(){let U=0;return U+=4,U+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(U+=4,U+=this._replaceInput.inputBox.height+2),U+=4,U}_tryUpdateHeight(){const U=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===U?!1:(this._cachedHeight=U,this._domNode.style.height=`${U}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let U=this._codeEditor.getSelections();U.map(H=>{H.endColumn===1&&H.endLineNumber>H.startLineNumber&&(H=H.setEndPosition(H.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(H.endLineNumber-1)));const V=this._state.currentMatch;return H.startLineNumber!==H.endLineNumber&&!d.Range.equalsRange(H,V)?H:null}).filter(H=>!!H),U.length&&this._state.change({searchScope:U},!0)}}_onFindInputMouseDown(U){U.middleButton&&U.stopPropagation()}_onFindInputKeyDown(U){if(U.equals(X|3))if(this._keybindingService.dispatchEvent(U,U.target)){U.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),U.preventDefault();return}if(U.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),U.preventDefault();return}if(U.equals(2048|18)){this._codeEditor.focus(),U.preventDefault();return}if(U.equals(16))return Y(U,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(U.equals(18))return oe(U,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(U){if(U.equals(X|3))if(this._keybindingService.dispatchEvent(U,U.target)){U.preventDefault();return}else{r.isWindows&&r.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(u.localize(25,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(j,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),U.preventDefault();return}if(U.equals(2)){this._findInput.focusOnCaseSensitive(),U.preventDefault();return}if(U.equals(1024|2)){this._findInput.focus(),U.preventDefault();return}if(U.equals(2048|18)){this._codeEditor.focus(),U.preventDefault();return}if(U.equals(16))return Y(U,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(U.equals(18))return oe(U,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(U){return 0}_keybindingLabelFor(U){let H=this._keybindingService.lookupKeybinding(U);return H?` (${H.getLabel()})`:""}_buildDomNode(){const U=!0,H=!0;this._findInput=this._register(new s.ContextScopedFindInput(null,this._contextViewProvider,{width:B,label:_,placeholder:C,appendCaseSensitiveLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleRegexCommand),validation:W=>{if(W.length===0||!this._findInput.getRegex())return null;try{return new RegExp(W,"gu"),null}catch(G){return{content:G.message}}},flexibleHeight:U,flexibleWidth:H,flexibleMaxHeight:118,showHistoryHint:()=>(0,n.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(W=>this._onFindInputKeyDown(W))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(W=>{W.equals(1024|2)&&this._isReplaceVisible&&(this._replaceInput.focus(),W.preventDefault())})),this._register(this._findInput.onRegexKeyDown(W=>{W.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),W.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(W=>{this._tryUpdateHeight()&&this._showViewZone()})),r.isLinux&&this._register(this._findInput.onMouseDown(W=>this._onFindInputMouseDown(W))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new K({label:v+this._keybindingLabelFor(c.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{this._codeEditor.getAction(c.FIND_IDS.PreviousMatchFindAction).run().then(void 0,i.onUnexpectedError)}})),this._nextBtn=this._register(new K({label:m+this._keybindingLabelFor(c.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{this._codeEditor.getAction(c.FIND_IDS.NextMatchFindAction).run().then(void 0,i.onUnexpectedError)}}));let V=document.createElement("div");V.className="find-part",V.appendChild(this._findInput.domNode);const ne=document.createElement("div");ne.className="find-actions",V.appendChild(ne),ne.appendChild(this._matchesCount),ne.appendChild(this._prevBtn.domNode),ne.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new T.Checkbox({icon:h,title:E+this._keybindingLabelFor(c.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let W=this._codeEditor.getSelections();W.map(G=>(G.endColumn===1&&G.endLineNumber>G.startLineNumber&&(G=G.setEndPosition(G.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(G.endLineNumber-1))),G.isEmpty()?null:G)).filter(G=>!!G),W.length&&this._state.change({searchScope:W},!0)}}else this._state.change({searchScope:null},!0)})),ne.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new K({label:I+this._keybindingLabelFor(c.FIND_IDS.CloseFindWidgetCommand),icon:t.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:W=>{W.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),W.preventDefault())}})),ne.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new s.ContextScopedReplaceInput(null,void 0,{label:k,placeholder:A,appendPreserveCaseLabel:this._keybindingLabelFor(c.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:U,flexibleWidth:H,flexibleMaxHeight:118,showHistoryHint:()=>(0,n.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(W=>this._onReplaceInputKeyDown(W))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(W=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(W=>{W.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),W.preventDefault())})),this._replaceBtn=this._register(new K({label:P+this._keybindingLabelFor(c.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:W=>{W.equals(1024|2)&&(this._closeBtn.focus(),W.preventDefault())}})),this._replaceAllBtn=this._register(new K({label:F+this._keybindingLabelFor(c.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));let ue=document.createElement("div");ue.className="replace-part",ue.appendChild(this._replaceInput.domNode);const pe=document.createElement("div");pe.className="replace-actions",ue.appendChild(pe),pe.appendChild(this._replaceBtn.domNode),pe.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new K({label:M,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${O}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(V),this._domNode.appendChild(ue),this._resizeSash=new D.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let ge=O;this._register(this._resizeSash.onDidStart(()=>{ge=y.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(W=>{this._resized=!0;let G=ge+W.startX-W.currentX;if(G<O)return;const re=parseFloat(y.getComputedStyle(this._domNode).maxWidth)||0;G>re||(this._domNode.style.width=`${G}px`,this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const W=y.getTotalWidth(this._domNode);if(W<O)return;let G=O;if(!this._resized||W===O){const re=this._codeEditor.getLayoutInfo();G=re.width-28-re.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${G}px`,this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const U=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(U!==2)}}e.FindWidget=se,se.ID="editor.contrib.findWidget";class K extends S.Widget{constructor(U){super();this._opts=U;let H="button";this._opts.className&&(H=H+" "+this._opts.className),this._opts.icon&&(H=H+" "+l.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=H,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,V=>{this._opts.onTrigger(),V.preventDefault()}),this.onkeydown(this._domNode,V=>{if(V.equals(10)||V.equals(3)){this._opts.onTrigger(),V.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(V)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(U){this._domNode.classList.toggle("disabled",!U),this._domNode.setAttribute("aria-disabled",String(!U)),this._domNode.tabIndex=U?0:-1}setExpanded(U){this._domNode.setAttribute("aria-expanded",String(!!U)),U?(this._domNode.classList.remove(...l.ThemeIcon.asClassNameArray(g)),this._domNode.classList.add(...l.ThemeIcon.asClassNameArray(w))):(this._domNode.classList.remove(...l.ThemeIcon.asClassNameArray(w)),this._domNode.classList.add(...l.ThemeIcon.asClassNameArray(g)))}}e.SimpleButton=K,(0,l.registerThemingParticipant)((x,U)=>{const H=(ce,J)=>{J&&U.addRule(`.monaco-editor ${ce} { background-color: ${J}; }`)};H(".findMatch",x.getColor(a.editorFindMatchHighlight)),H(".currentFindMatch",x.getColor(a.editorFindMatch)),H(".findScope",x.getColor(a.editorFindRangeHighlight));const V=x.getColor(a.editorWidgetBackground);H(".find-widget",V);const ne=x.getColor(a.widgetShadow);ne&&U.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${ne}; }`);const ue=x.getColor(a.editorFindMatchHighlightBorder);ue&&U.addRule(`.monaco-editor .findMatch { border: 1px ${x.type==="hc"?"dotted":"solid"} ${ue}; box-sizing: border-box; }`);const pe=x.getColor(a.editorFindMatchBorder);pe&&U.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${pe}; padding: 1px; box-sizing: border-box; }`);const ge=x.getColor(a.editorFindRangeHighlightBorder);ge&&U.addRule(`.monaco-editor .findScope { border: 1px ${x.type==="hc"?"dashed":"solid"} ${ge}; }`);const W=x.getColor(a.contrastBorder);W&&U.addRule(`.monaco-editor .find-widget { border: 1px solid ${W}; }`);const G=x.getColor(a.editorWidgetForeground);G&&U.addRule(`.monaco-editor .find-widget { color: ${G}; }`);const re=x.getColor(a.errorForeground);re&&U.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${re}; }`);const ee=x.getColor(a.editorWidgetResizeBorder);if(ee)U.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ee}; }`);else{const ce=x.getColor(a.editorWidgetBorder);ce&&U.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ce}; }`)}const de=x.getColor(a.toolbarHoverBackground);de&&U.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${de} !important;
		}
	`);const ae=x.getColor(a.focusBorder);ae&&U.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${ae}; }`)})}),define(te[282],ie([0,1,14,2,8,16,25,150,621,622,684,491,33,88,15,70,40,35,72,12]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const l=524288;function h(P,F="single",M=!1){if(!P.hasModel())return null;const R=P.getSelection();if(F==="single"&&R.startLineNumber===R.endLineNumber||F==="multiple"){if(R.isEmpty()){const O=P.getConfiguredWordAtPosition(R.getStartPosition());if(O&&M===!1)return O.word}else if(P.getModel().getValueLengthInRange(R)<l)return P.getModel().getValueInRange(R)}return null}e.getSelectionSearchString=h;let g=class ki extends N.Disposable{constructor(F,M,R,O){super();this._editor=F,this._findWidgetVisible=p.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(M),this._contextKeyService=M,this._storageService=R,this._clipboardService=O,this._updateHistoryDelayer=new y.Delayer(500),this._state=this._register(new i.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(L=>this._onStateChanged(L))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let L=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),L&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(F){return F.getContribution(ki.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(F){this.saveQueryState(F),F.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),F.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(F){F.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),F.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),F.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),F.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!p.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let F=this._editor.getSelections();F.map(M=>(M.endColumn===1&&M.endLineNumber>M.startLineNumber&&(M=M.setEndPosition(M.endLineNumber-1,this._editor.getModel().getLineMaxColumn(M.endLineNumber-1))),M.isEmpty()?null:M)).filter(M=>!!M),F.length&&this._state.change({searchScope:F},!0)}}setSearchString(F){this._state.isRegex&&(F=T.escapeRegExpCharacters(F)),this._state.change({searchString:F},!1)}highlightFindOptions(F=!1){}_start(F){return Me(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let M={isRevealed:!0};if(F.seedSearchStringFromSelection==="single"){let R=h(this._editor,F.seedSearchStringFromSelection,F.seedSearchStringFromNonEmptySelection);R&&(this._state.isRegex?M.searchString=T.escapeRegExpCharacters(R):M.searchString=R)}else if(F.seedSearchStringFromSelection==="multiple"&&!F.updateSearchScope){let R=h(this._editor,F.seedSearchStringFromSelection);R&&(M.searchString=R)}if(!M.searchString&&F.seedSearchStringFromGlobalClipboard){let R=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;R&&(M.searchString=R)}if(F.forceRevealReplace?M.isReplaceRevealed=!0:this._findWidgetVisible.get()||(M.isReplaceRevealed=!1),F.updateSearchScope){let R=this._editor.getSelections();R.some(O=>!O.isEmpty())&&(M.searchScope=R)}M.loop=F.loop,this._state.change(M,!1),this._model||(this._model=new p.FindModelBoundToEditorModel(this._editor,this._state))})}start(F){return this._start(F)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Me(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(F){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(F)}};g.ID="editor.contrib.findController",g=Fe([Ce(1,c.IContextKeyService),Ce(2,a.IStorageService),Ce(3,d.IClipboardService)],g),e.CommonFindController=g;let w=class extends g{constructor(F,M,R,O,L,B,z,$){super(F,R,z,$);this._contextViewService=M,this._keybindingService=O,this._themeService=L,this._notificationService=B,this._widget=null,this._findOptionsWidget=null}_start(F){const M=Object.create(null,{_start:{get:()=>super._start}});return Me(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const R=this._editor.getSelection();let O=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":O=!0;break;case"never":O=!1;break;case"multiline":O=!!R&&R.startLineNumber!==R.endLineNumber;break;default:break}F.updateSearchScope=O,yield M._start.call(this,F),this._widget&&(F.shouldFocus===2?this._widget.focusReplaceInput():F.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(F=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!F?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new f.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new b.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}};w=Fe([Ce(1,u.IContextViewService),Ce(2,c.IContextKeyService),Ce(3,s.IKeybindingService),Ce(4,t.IThemeService),Ce(5,n.INotificationService),Ce(6,a.IStorageService),Ce(7,d.IClipboardService)],w),e.FindController=w,e.StartFindAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:p.FIND_IDS.StartFindAction,label:r.localize(0,null),alias:"Find",precondition:c.ContextKeyExpr.or(S.EditorContextKeys.focus,c.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:o.MenuId.MenubarEditMenu,group:"3_find",title:r.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(P,F,M)=>{const R=g.get(F);return R?R.start({forceRevealReplace:!1,seedSearchStringFromSelection:F.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:F.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:F.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:F.getOption(35).loop}):!1});class _ extends D.EditorAction{constructor(){super({id:p.FIND_IDS.StartFindWithSelection,label:r.localize(2,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}run(F,M){return Me(this,void 0,void 0,function*(){let R=g.get(M);R&&(yield R.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:M.getOption(35).loop}),R.setGlobalBufferTerm(R.getState().searchString))})}}e.StartFindWithSelectionAction=_;class C extends D.EditorAction{run(F,M){return Me(this,void 0,void 0,function*(){let R=g.get(M);R&&!this._run(R)&&(yield R.start({forceRevealReplace:!1,seedSearchStringFromSelection:R.getState().searchString.length===0&&M.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:M.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:M.getOption(35).loop}),this._run(R))})}}e.MatchFindAction=C;class v extends C{constructor(){super({id:p.FIND_IDS.NextMatchFindAction,label:r.localize(3,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:S.EditorContextKeys.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100},{kbExpr:c.ContextKeyExpr.and(S.EditorContextKeys.focus,p.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(F){return F.moveToNextMatch()?(F.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=v;class m extends C{constructor(){super({id:p.FIND_IDS.PreviousMatchFindAction,label:r.localize(4,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:S.EditorContextKeys.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100},{kbExpr:c.ContextKeyExpr.and(S.EditorContextKeys.focus,p.CONTEXT_FIND_INPUT_FOCUSED),primary:1024|3,weight:100}]})}_run(F){return F.moveToPrevMatch()}}e.PreviousMatchFindAction=m;class E extends D.EditorAction{run(F,M){return Me(this,void 0,void 0,function*(){let R=g.get(M);if(!R)return;const O=M.getOption(35).seedSearchStringFromSelection==="selection";let L=null;M.getOption(35).seedSearchStringFromSelection!=="never"&&(L=h(M,"single",O)),L&&R.setSearchString(L),this._run(R)||(yield R.start({forceRevealReplace:!1,seedSearchStringFromSelection:M.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:O,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:M.getOption(35).loop}),this._run(R))})}}e.SelectionMatchFindAction=E;class I extends E{constructor(){super({id:p.FIND_IDS.NextSelectionMatchFindAction,label:r.localize(5,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.focus,primary:2048|61,weight:100}})}_run(F){return F.moveToNextMatch()}}e.NextSelectionMatchFindAction=I;class k extends E{constructor(){super({id:p.FIND_IDS.PreviousSelectionMatchFindAction,label:r.localize(6,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.focus,primary:2048|1024|61,weight:100}})}_run(F){return F.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=k,e.StartFindReplaceAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:p.FIND_IDS.StartFindReplaceAction,label:r.localize(7,null),alias:"Replace",precondition:c.ContextKeyExpr.or(S.EditorContextKeys.focus,c.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:o.MenuId.MenubarEditMenu,group:"3_find",title:r.localize(8,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(P,F,M)=>{if(!F.hasModel()||F.getOption(80))return!1;const R=g.get(F);if(!R)return!1;const O=F.getSelection(),L=R.isFindInputFocused(),B=!O.isEmpty()&&O.startLineNumber===O.endLineNumber&&F.getOption(35).seedSearchStringFromSelection!=="never"&&!L,z=L||B?2:1;return R.start({forceRevealReplace:!0,seedSearchStringFromSelection:B?"single":"none",seedSearchStringFromNonEmptySelection:F.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:F.getOption(35).seedSearchStringFromSelection!=="never",shouldFocus:z,shouldAnimate:!0,updateSearchScope:!1,loop:F.getOption(35).loop})}),(0,D.registerEditorContribution)(g.ID,w),(0,D.registerEditorAction)(_),(0,D.registerEditorAction)(v),(0,D.registerEditorAction)(m),(0,D.registerEditorAction)(I),(0,D.registerEditorAction)(k);const A=D.EditorCommand.bindToContribution(g.get);(0,D.registerEditorCommand)(new A({id:p.FIND_IDS.CloseFindWidgetCommand,precondition:p.CONTEXT_FIND_WIDGET_VISIBLE,handler:P=>P.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(S.EditorContextKeys.focus,c.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1024|9]}})),(0,D.registerEditorCommand)(new A({id:p.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:P=>P.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:p.ToggleCaseSensitiveKeybinding.primary,mac:p.ToggleCaseSensitiveKeybinding.mac,win:p.ToggleCaseSensitiveKeybinding.win,linux:p.ToggleCaseSensitiveKeybinding.linux}})),(0,D.registerEditorCommand)(new A({id:p.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:P=>P.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:p.ToggleWholeWordKeybinding.primary,mac:p.ToggleWholeWordKeybinding.mac,win:p.ToggleWholeWordKeybinding.win,linux:p.ToggleWholeWordKeybinding.linux}})),(0,D.registerEditorCommand)(new A({id:p.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:P=>P.toggleRegex(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:p.ToggleRegexKeybinding.primary,mac:p.ToggleRegexKeybinding.mac,win:p.ToggleRegexKeybinding.win,linux:p.ToggleRegexKeybinding.linux}})),(0,D.registerEditorCommand)(new A({id:p.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:P=>P.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:p.ToggleSearchScopeKeybinding.primary,mac:p.ToggleSearchScopeKeybinding.mac,win:p.ToggleSearchScopeKeybinding.win,linux:p.ToggleSearchScopeKeybinding.linux}})),(0,D.registerEditorCommand)(new A({id:p.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:P=>P.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:p.TogglePreserveCaseKeybinding.primary,mac:p.TogglePreserveCaseKeybinding.mac,win:p.TogglePreserveCaseKeybinding.win,linux:p.TogglePreserveCaseKeybinding.linux}})),(0,D.registerEditorCommand)(new A({id:p.FIND_IDS.ReplaceOneAction,precondition:p.CONTEXT_FIND_WIDGET_VISIBLE,handler:P=>P.replace(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:2048|1024|22}})),(0,D.registerEditorCommand)(new A({id:p.FIND_IDS.ReplaceOneAction,precondition:p.CONTEXT_FIND_WIDGET_VISIBLE,handler:P=>P.replace(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(S.EditorContextKeys.focus,p.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,D.registerEditorCommand)(new A({id:p.FIND_IDS.ReplaceAllAction,precondition:p.CONTEXT_FIND_WIDGET_VISIBLE,handler:P=>P.replaceAll(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:2048|512|3}})),(0,D.registerEditorCommand)(new A({id:p.FIND_IDS.ReplaceAllAction,precondition:p.CONTEXT_FIND_WIDGET_VISIBLE,handler:P=>P.replaceAll(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(S.EditorContextKeys.focus,p.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2048|3}}})),(0,D.registerEditorCommand)(new A({id:p.FIND_IDS.SelectAllMatchesAction,precondition:p.CONTEXT_FIND_WIDGET_VISIBLE,handler:P=>P.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:512|3}}))}),define(te[685],ie([0,1,27,31,494,81,12]),function(q,e,y,N,T,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0,e.foldingExpandedIcon=(0,D.registerIcon)("folding-expanded",y.Codicon.chevronDown,(0,T.localize)(0,null)),e.foldingCollapsedIcon=(0,D.registerIcon)("folding-collapsed",y.Codicon.chevronRight,(0,T.localize)(1,null));class p{constructor(i){this.editor=i,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(i,f){return f?p.HIDDEN_RANGE_DECORATION:i?this.showFoldingHighlights?p.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:p.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?p.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:p.EXPANDED_VISUAL_DECORATION}deltaDecorations(i,f){return this.editor.deltaDecorations(i,f)}changeDecorations(i){return this.editor.changeDecorations(i)}}e.FoldingDecorationProvider=p,p.COLLAPSED_VISUAL_DECORATION=N.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),p.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=N.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),p.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=N.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingExpandedIcon)}),p.EXPANDED_VISUAL_DECORATION=N.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+S.ThemeIcon.asClassName(e.foldingExpandedIcon)}),p.HIDDEN_RANGE_DECORATION=N.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(te[686],ie([0,1,14,10,43,2,8,20,66,16,25,18,38,423,424,623,425,493,15,22,12,685,236,359]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorFoldForeground=e.foldBackgroundBackground=e.FoldingController=void 0;const w=new a.RawContextKey("foldingEnabled",!1);let _=class Ni extends D.Disposable{constructor(Y,oe){super();this.contextKeyService=oe,this.localToDispose=this._register(new D.DisposableStore),this.editor=Y;const se=this.editor.getOptions();this._isEnabled=se.get(37),this._useFoldingProviders=se.get(38)!=="indentation",this._unfoldOnClickAfterEndOfLine=se.get(41),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=se.get(40),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new h.FoldingDecorationProvider(Y),this.foldingDecorationProvider.autoHideFoldingControls=se.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=se.get(39),this.foldingEnabled=w.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(K=>{if(K.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),K.hasChanged(98)||K.hasChanged(39)){const x=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=x.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=x.get(39),this.onModelContentChanged()}K.hasChanged(38)&&(this._useFoldingProviders=this.editor.getOptions().get(38)!=="indentation",this.onFoldingStrategyChanged()),K.hasChanged(41)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(41)),K.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(Y){return Y.getContribution(Ni.ID)}saveViewState(){let Y=this.editor.getModel();if(!Y||!this._isEnabled||Y.isTooLargeForTokenization())return{};if(this.foldingModel){let oe=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),se=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:oe,lineCount:Y.getLineCount(),provider:se,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(Y){let oe=this.editor.getModel();if(!oe||!this._isEnabled||oe.isTooLargeForTokenization()||!this.hiddenRangeModel||!Y||Y.lineCount!==oe.getLineCount()||(this._currentModelHasFoldedImports=!!Y.foldedImports,!Y.collapsedRegions))return;(Y.provider===g.ID_SYNTAX_PROVIDER||Y.provider===s.ID_INIT_PROVIDER)&&(this.foldingStateMemento=Y);const se=Y.collapsedRegions;if(this.hiddenRangeModel.applyMemento(se)){const K=this.getFoldingModel();K&&K.then(x=>{if(x){this._restoringViewState=!0;try{x.applyMemento(se)}finally{this._restoringViewState=!1}}}).then(void 0,N.onUnexpectedError)}}onModelChanged(){this.localToDispose.clear();let Y=this.editor.getModel();!this._isEnabled||!Y||Y.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new d.FoldingModel(Y,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new c.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(oe=>this.onHiddenRangesChanges(oe))),this.updateScheduler=new y.Delayer(200),this.cursorChangedScheduler=new y.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(r.FoldingRangeProviderRegistry.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(()=>this.onModelContentChanged())),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(oe=>this.onEditorMouseDown(oe))),this.localToDispose.add(this.editor.onMouseUp(oe=>this.onEditorMouseUp(oe))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(Y){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new u.IndentRangeProvider(Y),this._useFoldingProviders&&this.foldingModel){let oe=r.FoldingRangeProviderRegistry.ordered(this.foldingModel.textModel);if(oe.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new s.InitializingRangeProvider(Y,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);oe.length>0&&(this.rangeProvider=new g.SyntaxRangeProvider(Y,oe,()=>this.onModelContentChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const Y=this.foldingModel;if(!Y)return null;const oe=this.getRangeProvider(Y.textModel);let se=this.foldingRegionPromise=(0,y.createCancelablePromise)(K=>oe.compute(K));return se.then(K=>{if(K&&se===this.foldingRegionPromise){let x;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const V=K.setCollapsedAllOfType(r.FoldingRangeKind.Imports.value,!0);V&&(x=b.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=V)}let U=this.editor.getSelections(),H=U?U.map(V=>V.startLineNumber):[];Y.update(K,H),x&&x.restore(this.editor)}return Y})}).then(void 0,Y=>((0,N.onUnexpectedError)(Y),null)))}onHiddenRangesChanges(Y){if(this.hiddenRangeModel&&Y.length&&!this._restoringViewState){let oe=this.editor.getSelections();oe&&this.hiddenRangeModel.adjustSelections(oe)&&this.editor.setSelections(oe)}this.editor.setHiddenAreas(Y)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const Y=this.getFoldingModel();!Y||Y.then(oe=>{if(oe){let se=this.editor.getSelections();if(se&&se.length>0){let K=[];for(let x of se){let U=x.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(U)&&K.push(...oe.getAllRegionsAtLine(U,H=>H.isCollapsed&&U>H.startLineNumber))}K.length&&(oe.toggleCollapseState(K),this.reveal(se[0].getPosition()))}}}).then(void 0,N.onUnexpectedError)}onEditorMouseDown(Y){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!Y.target||!Y.target.range||!Y.event.leftButton&&!Y.event.middleButton)return;const oe=Y.target.range;let se=!1;switch(Y.target.type){case 4:const K=Y.target.detail,x=Y.target.element.offsetLeft;if(K.offsetX-x<5)return;se=!0;break;case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!Y.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let H=this.editor.getModel();if(H&&oe.startColumn===H.getLineMaxColumn(oe.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:oe.startLineNumber,iconClicked:se}}onEditorMouseUp(Y){const oe=this.getFoldingModel();if(!oe||!this.mouseDownInfo||!Y.target)return;let se=this.mouseDownInfo.lineNumber,K=this.mouseDownInfo.iconClicked,x=Y.target.range;if(!(!x||x.startLineNumber!==se)){if(K){if(Y.target.type!==4)return}else{let U=this.editor.getModel();if(!U||x.startColumn!==U.getLineMaxColumn(se))return}oe.then(U=>{if(U){let H=U.getRegionAtLine(se);if(H&&H.startLineNumber===se){let V=H.isCollapsed;if(K||V){let ne=Y.event.altKey,ue=[];if(ne){let pe=W=>!W.containedBy(H)&&!H.containedBy(W),ge=U.getRegionsInside(null,pe);for(const W of ge)W.isCollapsed&&ue.push(W);ue.length===0&&(ue=ge)}else{let pe=Y.event.middleButton||Y.event.shiftKey;if(pe)for(const ge of U.getRegionsInside(H))ge.isCollapsed===V&&ue.push(ge);(V||!pe||ue.length===0)&&ue.push(H)}U.toggleCollapseState(ue),this.reveal({lineNumber:se,column:1})}}}}).then(void 0,N.onUnexpectedError)}}reveal(Y){this.editor.revealPositionInCenterIfOutsideViewport(Y,0)}};_.ID="editor.contrib.folding",_=Fe([Ce(1,a.IContextKeyService)],_),e.FoldingController=_;class C extends i.EditorAction{runEditorCommand(Y,oe,se){let K=_.get(oe);if(!K)return;let x=K.getFoldingModel();if(x)return this.reportTelemetry(Y,oe),x.then(U=>{if(U){this.invoke(K,U,oe,se);const H=oe.getSelection();H&&K.reveal(H.getStartPosition())}})}getSelectedLines(Y){let oe=Y.getSelections();return oe?oe.map(se=>se.startLineNumber):[]}getLineNumbers(Y,oe){return Y&&Y.selectionLines?Y.selectionLines.map(se=>se+1):this.getSelectedLines(oe)}run(Y,oe){}}function v(Q){if(!p.isUndefined(Q)){if(!p.isObject(Q))return!1;const Y=Q;if(!p.isUndefined(Y.levels)&&!p.isNumber(Y.levels)||!p.isUndefined(Y.direction)&&!p.isString(Y.direction)||!p.isUndefined(Y.selectionLines)&&(!p.isArray(Y.selectionLines)||!Y.selectionLines.every(p.isNumber)))return!1}return!0}class m extends C{constructor(){super({id:"editor.unfold",label:n.localize(0,null),alias:"Unfold",precondition:w,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:2048|1024|89,mac:{primary:2048|512|89},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:v,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Y,oe,se,K){let x=K&&K.levels||1,U=this.getLineNumbers(K,se);K&&K.direction==="up"?(0,d.setCollapseStateLevelsUp)(oe,!1,x,U):(0,d.setCollapseStateLevelsDown)(oe,!1,x,U)}}class E extends C{constructor(){super({id:"editor.unfoldRecursively",label:n.localize(1,null),alias:"Unfold Recursively",precondition:w,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|89),weight:100}})}invoke(Y,oe,se,K){(0,d.setCollapseStateLevelsDown)(oe,!1,Number.MAX_VALUE,this.getSelectedLines(se))}}class I extends C{constructor(){super({id:"editor.fold",label:n.localize(2,null),alias:"Fold",precondition:w,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:2048|1024|87,mac:{primary:2048|512|87},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:v,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Y,oe,se,K){let x=this.getLineNumbers(K,se);const U=K&&K.levels,H=K&&K.direction;typeof U!="number"&&typeof H!="string"?(0,d.setCollapseStateUp)(oe,!0,x):H==="up"?(0,d.setCollapseStateLevelsUp)(oe,!0,U||1,x):(0,d.setCollapseStateLevelsDown)(oe,!0,U||1,x)}}class k extends C{constructor(){super({id:"editor.toggleFold",label:n.localize(3,null),alias:"Toggle Fold",precondition:w,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|42),weight:100}})}invoke(Y,oe,se){let K=this.getSelectedLines(se);(0,d.toggleCollapseState)(oe,1,K)}}class A extends C{constructor(){super({id:"editor.foldRecursively",label:n.localize(4,null),alias:"Fold Recursively",precondition:w,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|87),weight:100}})}invoke(Y,oe,se){let K=this.getSelectedLines(se);(0,d.setCollapseStateLevelsDown)(oe,!0,Number.MAX_VALUE,K)}}class P extends C{constructor(){super({id:"editor.foldAllBlockComments",label:n.localize(5,null),alias:"Fold All Block Comments",precondition:w,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|85),weight:100}})}invoke(Y,oe,se){if(oe.regions.hasTypes())(0,d.setCollapseStateForType)(oe,r.FoldingRangeKind.Comment.value,!0);else{const K=se.getModel();if(!K)return;let x=o.LanguageConfigurationRegistry.getComments(K.getLanguageIdentifier().id);if(x&&x.blockCommentStartToken){let U=new RegExp("^\\s*"+(0,S.escapeRegExpCharacters)(x.blockCommentStartToken));(0,d.setCollapseStateForMatchingLines)(oe,U,!0)}}}}class F extends C{constructor(){super({id:"editor.foldAllMarkerRegions",label:n.localize(6,null),alias:"Fold All Regions",precondition:w,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|29),weight:100}})}invoke(Y,oe,se){if(oe.regions.hasTypes())(0,d.setCollapseStateForType)(oe,r.FoldingRangeKind.Region.value,!0);else{const K=se.getModel();if(!K)return;let x=o.LanguageConfigurationRegistry.getFoldingRules(K.getLanguageIdentifier().id);if(x&&x.markers&&x.markers.start){let U=new RegExp(x.markers.start);(0,d.setCollapseStateForMatchingLines)(oe,U,!0)}}}}class M extends C{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:n.localize(7,null),alias:"Unfold All Regions",precondition:w,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|30),weight:100}})}invoke(Y,oe,se){if(oe.regions.hasTypes())(0,d.setCollapseStateForType)(oe,r.FoldingRangeKind.Region.value,!1);else{const K=se.getModel();if(!K)return;let x=o.LanguageConfigurationRegistry.getFoldingRules(K.getLanguageIdentifier().id);if(x&&x.markers&&x.markers.start){let U=new RegExp(x.markers.start);(0,d.setCollapseStateForMatchingLines)(oe,U,!1)}}}}class R extends C{constructor(){super({id:"editor.foldAllExcept",label:n.localize(8,null),alias:"Fold All Regions Except Selected",precondition:w,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|83),weight:100}})}invoke(Y,oe,se){let K=this.getSelectedLines(se);(0,d.setCollapseStateForRest)(oe,!0,K)}}class O extends C{constructor(){super({id:"editor.unfoldAllExcept",label:n.localize(9,null),alias:"Unfold All Regions Except Selected",precondition:w,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|81),weight:100}})}invoke(Y,oe,se){let K=this.getSelectedLines(se);(0,d.setCollapseStateForRest)(oe,!1,K)}}class L extends C{constructor(){super({id:"editor.foldAll",label:n.localize(10,null),alias:"Fold All",precondition:w,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|21),weight:100}})}invoke(Y,oe,se){(0,d.setCollapseStateLevelsDown)(oe,!0)}}class B extends C{constructor(){super({id:"editor.unfoldAll",label:n.localize(11,null),alias:"Unfold All",precondition:w,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|40),weight:100}})}invoke(Y,oe,se){(0,d.setCollapseStateLevelsDown)(oe,!1)}}class z extends C{getFoldingLevel(){return parseInt(this.id.substr(z.ID_PREFIX.length))}invoke(Y,oe,se){(0,d.setCollapseStateAtLevel)(oe,this.getFoldingLevel(),!0,this.getSelectedLines(se))}}z.ID_PREFIX="editor.foldLevel",z.ID=Q=>z.ID_PREFIX+Q;class $ extends C{constructor(){super({id:"editor.gotoParentFold",label:n.localize(12,null),alias:"Go to Parent Fold",precondition:w,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,weight:100}})}invoke(Y,oe,se){let K=this.getSelectedLines(se);if(K.length>0){let x=(0,d.getParentFoldLine)(K[0],oe);x!==null&&se.setSelection({startLineNumber:x,startColumn:1,endLineNumber:x,endColumn:1})}}}class j extends C{constructor(){super({id:"editor.gotoPreviousFold",label:n.localize(13,null),alias:"Go to Previous Folding Range",precondition:w,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,weight:100}})}invoke(Y,oe,se){let K=this.getSelectedLines(se);if(K.length>0){let x=(0,d.getPreviousFoldLine)(K[0],oe);x!==null&&se.setSelection({startLineNumber:x,startColumn:1,endLineNumber:x,endColumn:1})}}}class X extends C{constructor(){super({id:"editor.gotoNextFold",label:n.localize(14,null),alias:"Go to Next Folding Range",precondition:w,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,weight:100}})}invoke(Y,oe,se){let K=this.getSelectedLines(se);if(K.length>0){let x=(0,d.getNextFoldLine)(K[0],oe);x!==null&&se.setSelection({startLineNumber:x,startColumn:1,endLineNumber:x,endColumn:1})}}}(0,i.registerEditorContribution)(_.ID,_),(0,i.registerEditorAction)(m),(0,i.registerEditorAction)(E),(0,i.registerEditorAction)(I),(0,i.registerEditorAction)(A),(0,i.registerEditorAction)(L),(0,i.registerEditorAction)(B),(0,i.registerEditorAction)(P),(0,i.registerEditorAction)(F),(0,i.registerEditorAction)(M),(0,i.registerEditorAction)(R),(0,i.registerEditorAction)(O),(0,i.registerEditorAction)(k),(0,i.registerEditorAction)($),(0,i.registerEditorAction)(j),(0,i.registerEditorAction)(X);for(let Q=1;Q<=7;Q++)(0,i.registerInstantiatedEditorAction)(new z({id:z.ID(Q),label:n.localize(15,null,Q),alias:`Fold Level ${Q}`,precondition:w,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|21+Q),weight:100}}));e.foldBackgroundBackground=(0,t.registerColor)("editor.foldBackground",{light:(0,t.transparent)(t.editorSelectionBackground,.3),dark:(0,t.transparent)(t.editorSelectionBackground,.3),hc:null},n.localize(16,null),!0),e.editorFoldForeground=(0,t.registerColor)("editorGutter.foldingControlForeground",{dark:t.iconForeground,light:t.iconForeground,hc:t.iconForeground},n.localize(17,null)),(0,l.registerThemingParticipant)((Q,Y)=>{const oe=Q.getColor(e.foldBackgroundBackground);oe&&Y.addRule(`.monaco-editor .folded-background { background-color: ${oe}; }`);const se=Q.getColor(e.editorFoldForeground);se&&Y.addRule(`
		.monaco-editor .cldr${l.ThemeIcon.asCSSSelector(h.foldingExpandedIcon)},
		.monaco-editor .cldr${l.ThemeIcon.asCSSSelector(h.foldingCollapsedIcon)} {
			color: ${se} !important;
		}
		`)})}),define(te[283],ie([0,1,27,2,16,28,13,3,25,574,498,33,15,9,81,682]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let s=class Mt{constructor(C,v,m,E,I){this._markerNavigationService=v,this._contextKeyService=m,this._editorService=E,this._instantiationService=I,this._sessionDispoables=new N.DisposableStore,this._editor=C,this._widgetVisible=g.bindTo(this._contextKeyService)}static get(C){return C.getContribution(Mt.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(C){if(this._model&&this._model.matches(C))return this._model;let v=!1;return this._model&&(v=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(C),v&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(u.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(m=>{var E,I,k;(!((E=this._model)===null||E===void 0?void 0:E.selected)||!p.Range.containsPosition((I=this._model)===null||I===void 0?void 0:I.selected.marker,m.position))&&((k=this._model)===null||k===void 0||k.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const m=this._model.find(this._editor.getModel().uri,this._widget.position);m?this._widget.updateMarker(m.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(m=>{this._editorService.openCodeEditor({resource:m.resource,options:{pinned:!0,revealIfOpened:!0,selection:p.Range.lift(m).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(C=!0){this._cleanUp(),C&&this._editor.focus()}showAtMarker(C){if(this._editor.hasModel()){const v=this._getOrCreateModel(this._editor.getModel().uri);v.resetIndex(),v.move(!0,this._editor.getModel(),new S.Position(C.startLineNumber,C.startColumn)),v.selected&&this._widget.showAtMarker(v.selected.marker,v.selected.index,v.selected.total)}}nagivate(C,v){return Me(this,void 0,void 0,function*(){if(this._editor.hasModel()){const m=this._getOrCreateModel(v?void 0:this._editor.getModel().uri);if(m.move(C,this._editor.getModel(),this._editor.getPosition()),!m.selected)return;if(m.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const E=yield this._editorService.openCodeEditor({resource:m.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:m.selected.marker}},this._editor);E&&(Mt.get(E).close(),Mt.get(E).nagivate(C,v))}else this._widget.showAtMarker(m.selected.marker,m.selected.index,m.selected.total)}})}};s.ID="editor.contrib.markerController",s=Fe([Ce(1,i.IMarkerNavigationService),Ce(2,o.IContextKeyService),Ce(3,D.ICodeEditorService),Ce(4,d.IInstantiationService)],s),e.MarkerController=s;class n extends T.EditorAction{constructor(C,v,m){super(m);this._next=C,this._multiFile=v}run(C,v){return Me(this,void 0,void 0,function*(){v.hasModel()&&s.get(v).nagivate(this._next,this._multiFile)})}}class a extends n{constructor(){super(!0,!1,{id:a.ID,label:a.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:512|66,weight:100},menuOpts:{menuId:u.MarkerNavigationWidget.TitleMenu,title:a.LABEL,icon:(0,c.registerIcon)("marker-navigation-next",y.Codicon.arrowDown,f.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=a,a.ID="editor.action.marker.next",a.LABEL=f.localize(0,null);class t extends n{constructor(){super(!1,!1,{id:t.ID,label:t.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:u.MarkerNavigationWidget.TitleMenu,title:a.LABEL,icon:(0,c.registerIcon)("marker-navigation-previous",y.Codicon.arrowUp,f.localize(3,null)),group:"navigation",order:2}})}}t.ID="editor.action.marker.prev",t.LABEL=f.localize(2,null);class l extends n{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:f.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:r.MenuId.MenubarGoMenu,title:f.localize(5,null),group:"6_problem_nav",order:1}})}}class h extends n{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:f.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:1024|66,weight:100},menuOpts:{menuId:r.MenuId.MenubarGoMenu,title:f.localize(7,null),group:"6_problem_nav",order:2}})}}(0,T.registerEditorContribution)(s.ID,s),(0,T.registerEditorAction)(a),(0,T.registerEditorAction)(t),(0,T.registerEditorAction)(l),(0,T.registerEditorAction)(h);const g=new o.RawContextKey("markersNavigationVisible",!1),w=T.EditorCommand.bindToContribution(s.get);(0,T.registerEditorCommand)(new w({id:"closeMarkersNavigation",precondition:g,handler:_=>_.close(),kbOpts:{weight:100+50,kbExpr:b.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}))}),define(te[687],ie([0,1,7,19,14,10,2,44,3,188,154,278,141,283,509,89,57,61,22,12]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const l=y.$;class h{constructor(C,v,m){this.owner=C,this.range=v,this.marker=m}isValidForHoverAnchor(C){return C.type===1&&this.range.startColumn<=C.range.startColumn&&this.range.endColumn>=C.range.endColumn}}e.MarkerHover=h;const g={type:1,filter:{include:o.CodeActionKind.QuickFix}};let w=class{constructor(C,v,m,E){this._editor=C,this._hover=v,this._markerDecorationsService=m,this._openerService=E,this.recentMarkerCodeActionsInfo=void 0}computeSync(C,v){if(!this._editor.hasModel()||C.type!==1)return[];const m=this._editor.getModel(),E=C.range.startLineNumber,I=m.getLineMaxColumn(E),k=[];for(const A of v){const P=A.range.startLineNumber===E?A.range.startColumn:1,F=A.range.endLineNumber===E?A.range.endColumn:I,M=this._markerDecorationsService.getMarker(m.uri,A);if(!M)continue;const R=new b.Range(C.range.startLineNumber,P,C.range.startLineNumber,F);k.push(new h(this,R,M))}return k}renderHoverParts(C,v,m){if(!C.length)return S.Disposable.None;const E=new S.DisposableStore;C.forEach(k=>v.appendChild(this.renderMarkerHover(k,E)));const I=C.length===1?C[0]:C.sort((k,A)=>u.MarkerSeverity.compare(k.marker.severity,A.marker.severity))[0];return this.renderMarkerStatusbar(I,m,E),E}renderMarkerHover(C,v){const m=l("div.hover-row"),E=y.append(m,l("div.marker.hover-contents")),{source:I,message:k,code:A,relatedInformation:P}=C.marker;this._editor.applyFontInfo(E);const F=y.append(E,l("span"));if(F.style.whiteSpace="pre-wrap",F.innerText=k,I||A)if(A&&typeof A!="string"){const M=l("span");if(I){const B=y.append(M,l("span"));B.innerText=I}const R=y.append(M,l("a.code-link"));R.setAttribute("href",A.target.toString()),v.add(y.addDisposableListener(R,"click",B=>{this._openerService.open(A.target,{allowCommands:!0}),B.preventDefault(),B.stopPropagation()}));const O=y.append(R,l("span"));O.innerText=A.value;const L=y.append(E,M);L.style.opacity="0.6",L.style.paddingLeft="6px"}else{const M=y.append(E,l("span"));M.style.opacity="0.6",M.style.paddingLeft="6px",M.innerText=I&&A?`${I}(${A})`:I||`(${A})`}if((0,N.isNonEmptyArray)(P))for(const{message:M,resource:R,startLineNumber:O,startColumn:L}of P){const B=y.append(E,l("div"));B.style.marginTop="8px";const z=y.append(B,l("a"));z.innerText=`${(0,p.basename)(R)}(${O}, ${L}): `,z.style.cursor="pointer",v.add(y.addDisposableListener(z,"click",j=>{j.stopPropagation(),j.preventDefault(),this._openerService&&this._openerService.open(R,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:O,startColumn:L}}}).catch(D.onUnexpectedError)}));const $=y.append(B,l("span"));$.innerText=M,this._editor.applyFontInfo($)}return m}renderMarkerStatusbar(C,v,m){if((C.marker.severity===u.MarkerSeverity.Error||C.marker.severity===u.MarkerSeverity.Warning||C.marker.severity===u.MarkerSeverity.Info)&&v.addAction({label:c.localize(0,null),commandId:d.NextMarkerAction.ID,run:()=>{this._hover.hide(),d.MarkerController.get(this._editor).showAtMarker(C.marker),this._editor.focus()}}),!this._editor.getOption(80)){const E=v.append(l("div"));this.recentMarkerCodeActionsInfo&&(u.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===u.IMarkerData.makeKey(C.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(E.textContent=c.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const I=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?S.Disposable.None:m.add((0,T.disposableTimeout)(()=>E.textContent=c.localize(2,null),200));E.textContent||(E.textContent=String.fromCharCode(160));const k=this.getCodeActions(C.marker);m.add((0,S.toDisposable)(()=>k.cancel())),k.then(A=>{if(I.dispose(),this.recentMarkerCodeActionsInfo={marker:C.marker,hasCodeActions:A.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){A.dispose(),E.textContent=c.localize(3,null);return}E.style.display="none";let P=!1;m.add((0,S.toDisposable)(()=>{P||A.dispose()})),v.addAction({label:c.localize(4,null),commandId:r.QuickFixAction.Id,run:F=>{P=!0;const M=r.QuickFixController.get(this._editor),R=y.getDomNodePagePosition(F);this._hover.hide(),M.showCodeActions(g,A,{x:R.left+6,y:R.top+R.height+6})}})},D.onUnexpectedError)}}getCodeActions(C){return(0,T.createCancelablePromise)(v=>(0,f.getCodeActions)(this._editor.getModel(),new b.Range(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn),g,n.Progress.None,v))}};w=Fe([Ce(2,i.IMarkerDecorationsService),Ce(3,s.IOpenerService)],w),e.MarkerHoverParticipant=w,(0,t.registerThemingParticipant)((_,C)=>{const v=_.getColor(a.textLinkForeground);v&&C.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${v}; }`);const m=_.getColor(a.textLinkActiveForeground);m&&C.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${m}; }`)})}),define(te[688],ie([0,1,45,14,43,2,16,270,3,21,25,49,31,18,282,518,33,15,22,12]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function l($,j){const X=j.filter(Q=>!$.find(Y=>Y.equals(Q)));if(X.length>=1){const Q=X.map(oe=>`line ${oe.viewState.position.lineNumber} column ${oe.viewState.position.column}`).join(", "),Y=X.length===1?u.localize(0,null,Q):u.localize(1,null,Q);(0,y.status)(Y)}}class h extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:u.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"3_multi",title:u.localize(3,null),order:2}})}run(j,X,Q){if(!X.hasModel())return;const Y=Q&&Q.logicalLine===!0,oe=X._getViewModel();if(oe.cursorConfig.readOnly)return;oe.pushStackElement();const se=oe.getCursorStates();oe.setCursorStates(Q.source,3,p.CursorMoveCommands.addCursorUp(oe,se,Y)),oe.revealTopMostCursor(Q.source),l(se,oe.getCursorStates())}}e.InsertCursorAbove=h;class g extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:u.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"3_multi",title:u.localize(5,null),order:3}})}run(j,X,Q){if(!X.hasModel())return;const Y=Q&&Q.logicalLine===!0,oe=X._getViewModel();if(oe.cursorConfig.readOnly)return;oe.pushStackElement();const se=oe.getCursorStates();oe.setCursorStates(Q.source,3,p.CursorMoveCommands.addCursorDown(oe,se,Y)),oe.revealBottomMostCursor(Q.source),l(se,oe.getCursorStates())}}e.InsertCursorBelow=g;class w extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:u.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"3_multi",title:u.localize(7,null),order:4}})}getCursorsForSelection(j,X,Q){if(!j.isEmpty()){for(let Y=j.startLineNumber;Y<j.endLineNumber;Y++){let oe=X.getLineMaxColumn(Y);Q.push(new i.Selection(Y,oe,Y,oe))}j.endColumn>1&&Q.push(new i.Selection(j.endLineNumber,j.endColumn,j.endLineNumber,j.endColumn))}}run(j,X){if(!X.hasModel())return;const Q=X.getModel(),Y=X.getSelections(),oe=X._getViewModel(),se=oe.getCursorStates();let K=[];Y.forEach(x=>this.getCursorsForSelection(x,Q,K)),K.length>0&&X.setSelections(K),l(se,oe.getCursorStates())}}class _ extends S.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:u.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(j,X){if(!X.hasModel())return;const Q=X.getSelections(),Y=X.getModel().getLineCount();let oe=[];for(let x=Q[0].startLineNumber;x<=Y;x++)oe.push(new i.Selection(x,Q[0].startColumn,x,Q[0].endColumn));const se=X._getViewModel(),K=se.getCursorStates();oe.length>0&&X.setSelections(oe),l(K,se.getCursorStates())}}class C extends S.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:u.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(j,X){if(!X.hasModel())return;const Q=X.getSelections();let Y=[];for(let K=Q[0].startLineNumber;K>=1;K--)Y.push(new i.Selection(K,Q[0].startColumn,K,Q[0].endColumn));const oe=X._getViewModel(),se=oe.getCursorStates();Y.length>0&&X.setSelections(Y),l(se,oe.getCursorStates())}}class v{constructor(j,X,Q){this.selections=j,this.revealRange=X,this.revealScrollType=Q}}e.MultiCursorSessionResult=v;class m{constructor(j,X,Q,Y,oe,se,K){this._editor=j,this.findController=X,this.isDisconnectedFromFindController=Q,this.searchText=Y,this.wholeWord=oe,this.matchCase=se,this.currentMatch=K}static create(j,X){if(!j.hasModel())return null;const Q=X.getState();if(!j.hasTextFocus()&&Q.isRevealed&&Q.searchString.length>0)return new m(j,X,!1,Q.searchString,Q.wholeWord,Q.matchCase,null);let Y=!1,oe,se;const K=j.getSelections();K.length===1&&K[0].isEmpty()?(Y=!0,oe=!0,se=!0):(oe=Q.wholeWord,se=Q.matchCase);const x=j.getSelection();let U,H=null;if(x.isEmpty()){const V=j.getConfiguredWordAtPosition(x.getStartPosition());if(!V)return null;U=V.word,H=new i.Selection(x.startLineNumber,V.startColumn,x.startLineNumber,V.endColumn)}else U=j.getModel().getValueInRange(x).replace(/\r\n/g,`
`);return new m(j,X,Y,U,oe,se,H)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const j=this._getNextMatch();if(!j)return null;const X=this._editor.getSelections();return new v(X.concat(j),j,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const j=this._getNextMatch();if(!j)return null;const X=this._editor.getSelections();return new v(X.slice(0,X.length-1).concat(j),j,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const Y=this.currentMatch;return this.currentMatch=null,Y}this.findController.highlightFindOptions();const j=this._editor.getSelections(),X=j[j.length-1],Q=this._editor.getModel().findNextMatch(this.searchText,X.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1);return Q?new i.Selection(Q.range.startLineNumber,Q.range.startColumn,Q.range.endLineNumber,Q.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const j=this._getPreviousMatch();if(!j)return null;const X=this._editor.getSelections();return new v(X.concat(j),j,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const j=this._getPreviousMatch();if(!j)return null;const X=this._editor.getSelections();return new v(X.slice(0,X.length-1).concat(j),j,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const Y=this.currentMatch;return this.currentMatch=null,Y}this.findController.highlightFindOptions();const j=this._editor.getSelections(),X=j[j.length-1],Q=this._editor.getModel().findPreviousMatch(this.searchText,X.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1);return Q?new i.Selection(Q.range.startLineNumber,Q.range.startColumn,Q.range.endLineNumber,Q.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1,1073741824)):[]}}e.MultiCursorSession=m;class E extends D.Disposable{constructor(j){super();this._sessionDispose=this._register(new D.DisposableStore),this._editor=j,this._ignoreSelectionChange=!1,this._session=null}static get(j){return j.getContribution(E.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(j){if(!this._session){const X=m.create(this._editor,j);if(!X)return;this._session=X;const Q={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(Q.wholeWordOverride=1,Q.matchCaseOverride=1,Q.isRegexOverride=2),j.getState().change(Q,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(Y=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(j.getState().onFindReplaceStateChange(Y=>{(Y.matchCase||Y.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const j={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(j,!1)}this._session=null}_setSelections(j){this._ignoreSelectionChange=!0,this._editor.setSelections(j),this._ignoreSelectionChange=!1}_expandEmptyToWord(j,X){if(!X.isEmpty())return X;const Q=this._editor.getConfiguredWordAtPosition(X.getStartPosition());return Q?new i.Selection(X.startLineNumber,Q.startColumn,X.startLineNumber,Q.endColumn):X}_applySessionResult(j){!j||(this._setSelections(j.selections),j.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(j.revealRange,j.revealScrollType))}getSession(j){return this._session}addSelectionToNextFindMatch(j){if(!!this._editor.hasModel()){if(!this._session){const X=this._editor.getSelections();if(X.length>1){const Y=j.getState().matchCase;if(!B(this._editor.getModel(),X,Y)){const se=this._editor.getModel();let K=[];for(let x=0,U=X.length;x<U;x++)K[x]=this._expandEmptyToWord(se,X[x]);this._editor.setSelections(K);return}}}this._beginSessionIfNeeded(j),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(j){this._beginSessionIfNeeded(j),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(j){this._beginSessionIfNeeded(j),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(j){this._beginSessionIfNeeded(j),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(j){if(!this._editor.hasModel())return;let X=null;const Q=j.getState();if(Q.isRevealed&&Q.searchString.length>0&&Q.isRegex)X=this._editor.getModel().findMatches(Q.searchString,!0,Q.isRegex,Q.matchCase,Q.wholeWord?this._editor.getOption(115):null,!1,1073741824);else{if(this._beginSessionIfNeeded(j),!this._session)return;X=this._session.selectAll()}if(Q.searchScope){const Y=Q.searchScope;let oe=[];X.forEach(se=>{Y.forEach(K=>{se.range.endLineNumber<=K.endLineNumber&&se.range.startLineNumber>=K.startLineNumber&&oe.push(se)})}),X=oe}if(X.length>0){const Y=this._editor.getSelection();for(let oe=0,se=X.length;oe<se;oe++){const K=X[oe];if(K.range.intersectRanges(Y)){X[oe]=X[0],X[0]=K;break}}this._setSelections(X.map(oe=>new i.Selection(oe.range.startLineNumber,oe.range.startColumn,oe.range.endLineNumber,oe.range.endColumn)))}}}e.MultiCursorSelectionController=E,E.ID="editor.contrib.multiCursorController";class I extends S.EditorAction{run(j,X){const Q=E.get(X);if(!Q)return;const Y=c.CommonFindController.get(X);if(!Y)return;const oe=X._getViewModel();if(oe){const se=oe.getCursorStates();this._run(Q,Y),l(se,oe.getCursorStates())}}}e.MultiCursorSelectionControllerAction=I;class k extends I{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:u.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:f.EditorContextKeys.focus,primary:2048|34,weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"3_multi",title:u.localize(11,null),order:5}})}_run(j,X){j.addSelectionToNextFindMatch(X)}}e.AddSelectionToNextFindMatchAction=k;class A extends I{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:u.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"3_multi",title:u.localize(13,null),order:6}})}_run(j,X){j.addSelectionToPreviousFindMatch(X)}}e.AddSelectionToPreviousFindMatchAction=A;class P extends I{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:u.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:f.EditorContextKeys.focus,primary:(0,T.KeyChord)(2048|41,2048|34),weight:100}})}_run(j,X){j.moveSelectionToNextFindMatch(X)}}e.MoveSelectionToNextFindMatchAction=P;class F extends I{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:u.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(j,X){j.moveSelectionToPreviousFindMatch(X)}}e.MoveSelectionToPreviousFindMatchAction=F;class M extends I{constructor(){super({id:"editor.action.selectHighlights",label:u.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:f.EditorContextKeys.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"3_multi",title:u.localize(17,null),order:7}})}_run(j,X){j.selectAll(X)}}e.SelectHighlightsAction=M;class R extends I{constructor(){super({id:"editor.action.changeAll",label:u.localize(18,null),alias:"Change All Occurrences",precondition:n.ContextKeyExpr.and(f.EditorContextKeys.writable,f.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(j,X){j.selectAll(X)}}e.CompatChangeAll=R;class O{constructor(j,X,Q,Y){this.searchText=j,this.matchCase=X,this.wordSeparators=Q,this.modelVersionId=Y}static softEquals(j,X){return!j&&!X?!0:!j||!X?!1:j.searchText===X.searchText&&j.matchCase===X.matchCase&&j.wordSeparators===X.wordSeparators&&j.modelVersionId===X.modelVersionId}}class L extends D.Disposable{constructor(j){super();this.editor=j,this._isEnabled=j.getOption(96),this.decorations=[],this.updateSoon=this._register(new N.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(j.onDidChangeConfiguration(X=>{this._isEnabled=j.getOption(96)})),this._register(j.onDidChangeCursorSelection(X=>{!this._isEnabled||(X.selection.isEmpty()?X.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(j.onDidChangeModel(X=>{this._setState(null)})),this._register(j.onDidChangeModelContent(X=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(c.CommonFindController.get(j).getState().onFindReplaceStateChange(X=>{this._update()}))}_update(){this._setState(L._createState(this._isEnabled,this.editor))}static _createState(j,X){if(!j||!X.hasModel())return null;const Q=X.getSelection();if(Q.startLineNumber!==Q.endLineNumber)return null;const Y=E.get(X);if(!Y)return null;const oe=c.CommonFindController.get(X);if(!oe)return null;let se=Y.getSession(oe);if(!se){const U=X.getSelections();if(U.length>1){const V=oe.getState().matchCase;if(!B(X.getModel(),U,V))return null}se=m.create(X,oe)}if(!se||se.currentMatch||/^[ \t]+$/.test(se.searchText)||se.searchText.length>200)return null;const K=oe.getState(),x=K.matchCase;if(K.isRevealed){let U=K.searchString;x||(U=U.toLowerCase());let H=se.searchText;if(x||(H=H.toLowerCase()),U===H&&se.matchCase===K.matchCase&&se.wholeWord===K.wholeWord&&!K.isRegex)return null}return new O(se.searchText,se.matchCase,se.wholeWord?X.getOption(115):null,X.getModel().getVersionId())}_setState(j){if(O.softEquals(this.state,j)){this.state=j;return}if(this.state=j,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!this.editor.hasModel())return;const X=this.editor.getModel();if(X.isTooLargeForTokenization())return;const Q=d.DocumentHighlightProviderRegistry.has(X)&&this.editor.getOption(71);let Y=X.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(x=>x.range);Y.sort(b.Range.compareRangesUsingStarts);let oe=this.editor.getSelections();oe.sort(b.Range.compareRangesUsingStarts);let se=[];for(let x=0,U=0,H=Y.length,V=oe.length;x<H;){const ne=Y[x];if(U>=V)se.push(ne),x++;else{const ue=b.Range.compareRangesUsingStarts(ne,oe[U]);ue<0?((oe[U].isEmpty()||!b.Range.areIntersecting(ne,oe[U]))&&se.push(ne),x++):(ue>0||x++,U++)}}const K=se.map(x=>({range:x,options:Q?L._SELECTION_HIGHLIGHT:L._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,K)}dispose(){this._setState(null),super.dispose()}}e.SelectionHighlighter=L,L.ID="editor.contrib.selectionHighlighter",L._SELECTION_HIGHLIGHT_OVERVIEW=o.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,t.themeColorFromId)(a.minimapSelectionOccurrenceHighlight),position:r.MinimapPosition.Inline},overviewRuler:{color:(0,t.themeColorFromId)(a.overviewRulerSelectionHighlightForeground),position:r.OverviewRulerLane.Center}}),L._SELECTION_HIGHLIGHT=o.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"});function B($,j,X){const Q=z($,j[0],!X);for(let Y=1,oe=j.length;Y<oe;Y++){const se=j[Y];if(se.isEmpty())return!1;const K=z($,se,!X);if(Q!==K)return!1}return!0}function z($,j,X){const Q=$.getValueInRange(j);return X?Q.toLowerCase():Q}(0,S.registerEditorContribution)(E.ID,E),(0,S.registerEditorContribution)(L.ID,L),(0,S.registerEditorAction)(h),(0,S.registerEditorAction)(g),(0,S.registerEditorAction)(w),(0,S.registerEditorAction)(k),(0,S.registerEditorAction)(A),(0,S.registerEditorAction)(P),(0,S.registerEditorAction)(F),(0,S.registerEditorAction)(M),(0,S.registerEditorAction)(R),(0,S.registerEditorAction)(_),(0,S.registerEditorAction)(C)}),define(te[689],ie([0,1,7,45,62,27,6,2,8,20,125,56,564,189,520,15,57,22,81,101,12,366]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const h=y.$,g=(0,a.registerIcon)("parameter-hints-next",D.Codicon.chevronDown,c.localize(0,null)),w=(0,a.registerIcon)("parameter-hints-previous",D.Codicon.chevronUp,c.localize(1,null));let _=class Ti extends p.Disposable{constructor(v,m,E,I){super();this.editor=v,this.renderDisposeables=this._register(new p.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new f.MarkdownRenderer({editor:v},I,E)),this.model=this._register(new o.ParameterHintsModel(v)),this.keyVisible=d.Context.Visible.bindTo(m),this.keyMultipleSignatures=d.Context.MultipleSignatures.bindTo(m),this._register(this.model.onChangedHints(k=>{k?(this.show(),this.render(k)):this.hide()}))}createParameterHintDOMNodes(){const v=h(".editor-widget.parameter-hints-widget"),m=y.append(v,h(".phwrapper"));m.tabIndex=-1;const E=y.append(m,h(".controls")),I=y.append(E,h(".button"+l.ThemeIcon.asCSSSelector(w))),k=y.append(E,h(".overloads")),A=y.append(E,h(".button"+l.ThemeIcon.asCSSSelector(g)));this._register(y.addDisposableListener(I,"click",L=>{y.EventHelper.stop(L),this.previous()})),this._register(y.addDisposableListener(A,"click",L=>{y.EventHelper.stop(L),this.next()}));const P=h(".body"),F=new T.DomScrollableElement(P,{});this._register(F),m.appendChild(F.getDomNode());const M=y.append(P,h(".signature")),R=y.append(P,h(".docs"));v.style.userSelect="text",this.domNodes={element:v,signature:M,overloads:k,docs:R,scrollbar:F},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(L=>{this.visible&&this.editor.layoutContentWidget(this)}));const O=()=>{if(!this.domNodes)return;const L=this.editor.getOption(43);this.domNodes.element.style.fontSize=`${L.fontSize}px`};O(),this._register(S.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(L=>L.hasChanged(43)).on(O,null)),this._register(this.editor.onDidLayoutChange(L=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(v){var m;if(this.renderDisposeables.clear(),!this.domNodes)return;const E=v.signatures.length>1;this.domNodes.element.classList.toggle("multiple",E),this.keyMultipleSignatures.set(E),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const I=v.signatures[v.activeSignature];if(!I)return;const k=y.append(this.domNodes.signature,h(".code")),A=this.editor.getOption(43);k.style.fontSize=`${A.fontSize}px`,k.style.fontFamily=A.fontFamily;const P=I.parameters.length>0,F=(m=I.activeParameter)!==null&&m!==void 0?m:v.activeParameter;if(P)this.renderParameters(k,I,F);else{const O=y.append(k,h("span"));O.textContent=I.label}const M=I.parameters[F];if(M==null?void 0:M.documentation){const O=h("span.documentation");if(typeof M.documentation=="string")O.textContent=M.documentation;else{const L=this.renderMarkdownDocs(M.documentation);O.appendChild(L.element)}y.append(this.domNodes.docs,h("p",{},O))}if(I.documentation!==void 0)if(typeof I.documentation=="string")y.append(this.domNodes.docs,h("p",{},I.documentation));else{const O=this.renderMarkdownDocs(I.documentation);y.append(this.domNodes.docs,O.element)}const R=this.hasDocs(I,M);if(this.domNodes.signature.classList.toggle("has-docs",R),this.domNodes.docs.classList.toggle("empty",!R),this.domNodes.overloads.textContent=String(v.activeSignature+1).padStart(v.signatures.length.toString().length,"0")+"/"+v.signatures.length,M){let O="";const L=I.parameters[F];Array.isArray(L.label)?O=I.label.substring(L.label[0],L.label[1]):O=L.label,L.documentation&&(O+=typeof L.documentation=="string"?`, ${L.documentation}`:`, ${L.documentation.value}`),I.documentation&&(O+=typeof I.documentation=="string"?`, ${I.documentation}`:`, ${I.documentation.value}`),this.announcedLabel!==O&&(N.alert(c.localize(2,null,O)),this.announcedLabel=O)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(v){const m=this.renderDisposeables.add(this.markdownRenderer.render(v,{asyncRenderCallback:()=>{var E;(E=this.domNodes)===null||E===void 0||E.scrollbar.scanDomNode()}}));return m.element.classList.add("markdown-docs"),m}hasDocs(v,m){return!!(m&&typeof m.documentation=="string"&&(0,i.assertIsDefined)(m.documentation).length>0||m&&typeof m.documentation=="object"&&(0,i.assertIsDefined)(m.documentation).value.length>0||v.documentation&&typeof v.documentation=="string"&&(0,i.assertIsDefined)(v.documentation).length>0||v.documentation&&typeof v.documentation=="object"&&(0,i.assertIsDefined)(v.documentation.value).length>0)}renderParameters(v,m,E){const[I,k]=this.getParameterLabelOffsets(m,E),A=document.createElement("span");A.textContent=m.label.substring(0,I);const P=document.createElement("span");P.textContent=m.label.substring(I,k),P.className="parameter active";const F=document.createElement("span");F.textContent=m.label.substring(k),y.append(v,A,P,F)}getParameterLabelOffsets(v,m){const E=v.parameters[m];if(E){if(Array.isArray(E.label))return E.label;if(E.label.length){const I=new RegExp(`(\\W|^)${(0,b.escapeRegExpCharacters)(E.label)}(?=\\W|$)`,"g");I.test(v.label);const k=I.lastIndex-E.label.length;return k>=0?[k,I.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Ti.ID}trigger(v){this.model.trigger(v,0)}updateMaxHeight(){if(!this.domNodes)return;const m=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=m;const E=this.domNodes.element.getElementsByClassName("phwrapper");E.length&&(E[0].style.maxHeight=m)}};_.ID="editor.widget.parameterHintsWidget",_=Fe([Ce(1,u.IContextKeyService),Ce(2,s.IOpenerService),Ce(3,r.IModeService)],_),e.ParameterHintsWidget=_,(0,l.registerThemingParticipant)((C,v)=>{const m=C.getColor(n.editorHoverBorder);if(m){const F=C.type===t.ColorScheme.HIGH_CONTRAST?2:1;v.addRule(`.monaco-editor .parameter-hints-widget { border: ${F}px solid ${m}; }`),v.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${m.transparent(.5)}; }`),v.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${m.transparent(.5)}; }`)}const E=C.getColor(n.editorHoverBackground);E&&v.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${E}; }`);const I=C.getColor(n.textLinkForeground);I&&v.addRule(`.monaco-editor .parameter-hints-widget a { color: ${I}; }`);const k=C.getColor(n.textLinkActiveForeground);k&&v.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${k}; }`);const A=C.getColor(n.editorHoverForeground);A&&v.addRule(`.monaco-editor .parameter-hints-widget { color: ${A}; }`);const P=C.getColor(n.textCodeBlockBackground);P&&v.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${P}; }`)})}),define(te[690],ie([0,1,2,16,25,18,189,519,15,9,689]),function(q,e,y,N,T,D,S,p,b,i,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=void 0;let r=class Mi extends y.Disposable{constructor(s,n){super();this.editor=s,this.widget=this._register(n.createInstance(f.ParameterHintsWidget,this.editor))}static get(s){return s.getContribution(Mi.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(s){this.widget.trigger(s)}};r.ID="editor.controller.parameterHints",r=Fe([Ce(1,i.IInstantiationService)],r);class o extends N.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:p.localize(0,null),alias:"Trigger Parameter Hints",precondition:T.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:T.EditorContextKeys.editorTextFocus,primary:2048|1024|10,weight:100}})}run(s,n){const a=r.get(n);a&&a.trigger({triggerKind:D.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=o,(0,N.registerEditorContribution)(r.ID,r),(0,N.registerEditorAction)(o);const d=100+75,c=N.EditorCommand.bindToContribution(r.get);(0,N.registerEditorCommand)(new c({id:"closeParameterHints",precondition:S.Context.Visible,handler:u=>u.cancel(),kbOpts:{weight:d,kbExpr:T.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,N.registerEditorCommand)(new c({id:"showPrevParameterHint",precondition:b.ContextKeyExpr.and(S.Context.Visible,S.Context.MultipleSignatures),handler:u=>u.previous(),kbOpts:{weight:d,kbExpr:T.EditorContextKeys.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}})),(0,N.registerEditorCommand)(new c({id:"showNextParameterHint",precondition:b.ContextKeyExpr.and(S.Context.Visible,S.Context.MultipleSignatures),handler:u=>u.next(),kbOpts:{weight:d,kbExpr:T.EditorContextKeys.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}))}),define(te[691],ie([0,1,7,184,19,27,6,67,2,24,18,579,39,56,533,250,81,12,265]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.suggestMoreInfoIcon=e.getAriaId=void 0;function l(_){return`suggest-aria-id:${_}`}e.getAriaId=l,e.suggestMoreInfoIcon=(0,s.registerIcon)("suggest-more-info",D.Codicon.chevronRight,c.localize(0,null));const h=new(t=class At{extract(C,v){if(C.textLabel.match(At._regexStrict))return v[0]=C.textLabel,!0;if(C.completion.detail&&C.completion.detail.match(At._regexStrict))return v[0]=C.completion.detail,!0;if(typeof C.completion.documentation=="string"){const m=At._regexRelaxed.exec(C.completion.documentation);if(m&&(m.index===0||m.index+m[0].length===C.completion.documentation.length))return v[0]=m[0],!0}return!1}},t._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,t._regexStrict=new RegExp(`^${t._regexRelaxed.source}$`,"i"),t);let g=class{constructor(C,v,m,E){this._editor=C,this._modelService=v,this._modeService=m,this._themeService=E,this._onDidToggleDetails=new S.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(C){const v=Object.create(null);v.disposables=new b.DisposableStore,v.root=C,v.root.classList.add("show-file-icons"),v.icon=(0,y.append)(C,(0,y.$)(".icon")),v.colorspan=(0,y.append)(v.icon,(0,y.$)("span.colorspan"));const m=(0,y.append)(C,(0,y.$)(".contents")),E=(0,y.append)(m,(0,y.$)(".main"));v.iconContainer=(0,y.append)(E,(0,y.$)(".icon-label.codicon")),v.left=(0,y.append)(E,(0,y.$)("span.left")),v.right=(0,y.append)(E,(0,y.$)("span.right")),v.iconLabel=new N.IconLabel(v.left,{supportHighlights:!0,supportIcons:!0}),v.disposables.add(v.iconLabel),v.parametersLabel=(0,y.append)(v.left,(0,y.$)("span.signature-label")),v.qualifierLabel=(0,y.append)(v.left,(0,y.$)("span.qualifier-label")),v.detailsLabel=(0,y.append)(v.right,(0,y.$)("span.details-label")),v.readMore=(0,y.append)(v.right,(0,y.$)("span.readMore"+n.ThemeIcon.asCSSSelector(e.suggestMoreInfoIcon))),v.readMore.title=c.localize(1,null);const I=()=>{const k=this._editor.getOptions(),A=k.get(43),P=A.fontFamily,F=A.fontFeatureSettings,M=k.get(106)||A.fontSize,R=k.get(107)||A.lineHeight,O=A.fontWeight,L=`${M}px`,B=`${R}px`;v.root.style.fontSize=L,v.root.style.fontWeight=O,E.style.fontFamily=P,E.style.fontFeatureSettings=F,E.style.lineHeight=B,v.icon.style.height=B,v.icon.style.width=B,v.readMore.style.height=B,v.readMore.style.width=B};return I(),v.disposables.add(this._editor.onDidChangeConfiguration(k=>{(k.hasChanged(43)||k.hasChanged(106)||k.hasChanged(107))&&I()})),v}renderElement(C,v,m){const{completion:E}=C;m.root.id=l(v),m.colorspan.style.backgroundColor="";const I={labelEscapeNewLines:!0,matches:(0,p.createMatches)(C.score)};let k=[];if(E.kind===19&&h.extract(C,k))m.icon.className="icon customcolor",m.iconContainer.className="icon hide",m.colorspan.style.backgroundColor=k[0];else if(E.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){m.icon.className="icon hide",m.iconContainer.className="icon hide";const A=(0,r.getIconClasses)(this._modelService,this._modeService,i.URI.from({scheme:"fake",path:C.textLabel}),u.FileKind.FILE),P=(0,r.getIconClasses)(this._modelService,this._modeService,i.URI.from({scheme:"fake",path:E.detail}),u.FileKind.FILE);I.extraClasses=A.length>P.length?A:P}else E.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(m.icon.className="icon hide",m.iconContainer.className="icon hide",I.extraClasses=(0,T.flatten)([(0,r.getIconClasses)(this._modelService,this._modeService,i.URI.from({scheme:"fake",path:C.textLabel}),u.FileKind.FOLDER),(0,r.getIconClasses)(this._modelService,this._modeService,i.URI.from({scheme:"fake",path:E.detail}),u.FileKind.FOLDER)])):(m.icon.className="icon hide",m.iconContainer.className="",m.iconContainer.classList.add("suggest-icon",...(0,f.completionKindToCssClass)(E.kind).split(" ")));E.tags&&E.tags.indexOf(1)>=0&&(I.extraClasses=(I.extraClasses||[]).concat(["deprecated"]),I.matches=[]),m.iconLabel.setLabel(C.textLabel,void 0,I),typeof E.label=="string"?(m.parametersLabel.textContent="",m.detailsLabel.textContent=w(E.detail||""),m.root.classList.add("string-label")):(m.parametersLabel.textContent=w(E.label.detail||""),m.detailsLabel.textContent=w(E.label.description||""),m.root.classList.remove("string-label")),this._editor.getOption(105).showInlineDetails?(0,y.show)(m.detailsLabel):(0,y.hide)(m.detailsLabel),(0,a.canExpandCompletionItem)(C)?(m.right.classList.add("can-expand-details"),(0,y.show)(m.readMore),m.readMore.onmousedown=A=>{A.stopPropagation(),A.preventDefault()},m.readMore.onclick=A=>{A.stopPropagation(),A.preventDefault(),this._onDidToggleDetails.fire()}):(m.right.classList.remove("can-expand-details"),(0,y.hide)(m.readMore),m.readMore.onmousedown=null,m.readMore.onclick=null)}disposeTemplate(C){C.disposables.dispose()}};g=Fe([Ce(1,o.IModelService),Ce(2,d.IModeService),Ce(3,n.IThemeService)],g),e.ItemRenderer=g;function w(_){return _.replace(/\r\n|\r|\n/g,"")}}),define(te[692],ie([0,1,7,110,14,10,6,2,105,8,153,675,531,15,9,72,22,126,12,245,102,265,691,133,370,273]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetHighlightFocusForeground=e.editorSuggestWidgetHighlightForeground=e.editorSuggestWidgetSelectedBackground=e.editorSuggestWidgetSelectedIconForeground=e.editorSuggestWidgetSelectedForeground=e.editorSuggestWidgetForeground=e.editorSuggestWidgetBorder=e.editorSuggestWidgetBackground=void 0,e.editorSuggestWidgetBackground=(0,s.registerColor)("editorSuggestWidget.background",{dark:s.editorWidgetBackground,light:s.editorWidgetBackground,hc:s.editorWidgetBackground},o.localize(0,null)),e.editorSuggestWidgetBorder=(0,s.registerColor)("editorSuggestWidget.border",{dark:s.editorWidgetBorder,light:s.editorWidgetBorder,hc:s.editorWidgetBorder},o.localize(1,null)),e.editorSuggestWidgetForeground=(0,s.registerColor)("editorSuggestWidget.foreground",{dark:s.editorForeground,light:s.editorForeground,hc:s.editorForeground},o.localize(2,null)),e.editorSuggestWidgetSelectedForeground=(0,s.registerColor)("editorSuggestWidget.selectedForeground",{dark:s.quickInputListFocusForeground,light:s.quickInputListFocusForeground,hc:s.quickInputListFocusForeground},o.localize(3,null)),e.editorSuggestWidgetSelectedIconForeground=(0,s.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:s.quickInputListFocusIconForeground,light:s.quickInputListFocusIconForeground,hc:s.quickInputListFocusIconForeground},o.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,s.registerColor)("editorSuggestWidget.selectedBackground",{dark:s.quickInputListFocusBackground,light:s.quickInputListFocusBackground,hc:s.quickInputListFocusBackground},o.localize(5,null)),e.editorSuggestWidgetHighlightForeground=(0,s.registerColor)("editorSuggestWidget.highlightForeground",{dark:s.listHighlightForeground,light:s.listHighlightForeground,hc:s.listHighlightForeground},o.localize(6,null)),e.editorSuggestWidgetHighlightFocusForeground=(0,s.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:s.listFocusHighlightForeground,light:s.listFocusHighlightForeground,hc:s.listFocusHighlightForeground},o.localize(7,null));class w{constructor(m,E){this._service=m,this._key=`suggestWidget.size/${E.getEditorType()}/${E instanceof f.EmbeddedCodeEditorWidget}`}restore(){var m;const E=(m=this._service.get(this._key,0))!==null&&m!==void 0?m:"";try{const I=JSON.parse(E);if(y.Dimension.is(I))return y.Dimension.lift(I)}catch(I){}}store(m){this._service.store(this._key,JSON.stringify(m),0,1)}reset(){this._service.remove(this._key,0)}}let _=class $t{constructor(m,E,I,k,A){this.editor=m,this._storageService=E,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new T.TimeoutTimer,this._disposables=new p.DisposableStore,this._onDidSelect=new S.Emitter,this._onDidFocus=new S.Emitter,this._onDidHide=new S.Emitter,this._onDidShow=new S.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new S.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new t.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new C(this,m),this._persistedSize=new w(E,m);class P{constructor(z,$,j=!1,X=!1){this.persistedSize=z,this.currentSize=$,this.persistHeight=j,this.persistWidth=X}}let F;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),F=new P(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(B=>{var z,$,j,X;if(this._resize(B.dimension.width,B.dimension.height),F&&(F.persistHeight=F.persistHeight||!!B.north||!!B.south,F.persistWidth=F.persistWidth||!!B.east||!!B.west),!!B.done){if(F){const{itemHeight:Q,defaultSize:Y}=this.getLayoutInfo(),oe=Math.round(Q/2);let{width:se,height:K}=this.element.size;(!F.persistHeight||Math.abs(F.currentSize.height-K)<=oe)&&(K=($=(z=F.persistedSize)===null||z===void 0?void 0:z.height)!==null&&$!==void 0?$:Y.height),(!F.persistWidth||Math.abs(F.currentSize.width-se)<=oe)&&(se=(X=(j=F.persistedSize)===null||j===void 0?void 0:j.width)!==null&&X!==void 0?X:Y.width),this._persistedSize.store(new y.Dimension(se,K))}this._contentWidget.unlockPreference(),F=void 0}})),this._messageElement=y.append(this.element.domNode,y.$(".message")),this._listElement=y.append(this.element.domNode,y.$(".tree"));const M=A.createInstance(h.SuggestDetailsWidget,this.editor);M.onDidClose(this.toggleDetails,this,this._disposables),this._details=new h.SuggestDetailsOverlay(M,this.editor);const R=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(105).showIcons);R();const O=A.createInstance(g.ItemRenderer,this.editor);this._disposables.add(O),this._disposables.add(O.onDidToggleDetails(()=>this.toggleDetails())),this._list=new N.List("SuggestWidget",this._listElement,{getHeight:B=>this.getLayoutInfo().itemHeight,getTemplateId:B=>"suggestion"},[O],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:B=>{if(B.isResolved&&this._isDetailsVisible()){const{documentation:z,detail:$}=B.completion,j=i.format("{0}{1}",$||"",z?typeof z=="string"?z:z.value:"");return o.localize(10,null,B.textLabel,j)}else return B.textLabel},getWidgetAriaLabel:()=>o.localize(11,null),getWidgetRole:()=>"listbox"}}),this._status=A.createInstance(r.SuggestWidgetStatus,this.element.domNode);const L=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(105).showStatusBar);L(),this._disposables.add((0,n.attachListStyler)(this._list,k,{listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:s.activeContrastBorder})),this._disposables.add(k.onDidColorThemeChange(B=>this._onThemeChange(B))),this._onThemeChange(k.getColorTheme()),this._disposables.add(this._list.onMouseDown(B=>this._onListMouseDownOrTap(B))),this._disposables.add(this._list.onTap(B=>this._onListMouseDownOrTap(B))),this._disposables.add(this._list.onDidChangeSelection(B=>this._onListSelection(B))),this._disposables.add(this._list.onDidChangeFocus(B=>this._onListFocus(B))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(B=>{B.hasChanged(105)&&(L(),R())})),this._ctxSuggestWidgetVisible=l.Context.Visible.bindTo(I),this._ctxSuggestWidgetDetailsVisible=l.Context.DetailsVisible.bindTo(I),this._ctxSuggestWidgetMultipleSuggestions=l.Context.MultipleSuggestions.bindTo(I),this._disposables.add(y.addStandardDisposableListener(this._details.widget.domNode,"keydown",B=>{this._onDetailsKeydown.fire(B)})),this._disposables.add(this.editor.onMouseDown(B=>this._onEditorMouseDown(B)))}dispose(){var m;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(m=this._loadingTimeout)===null||m===void 0||m.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(m){this._details.widget.domNode.contains(m.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(m.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(m){typeof m.element=="undefined"||typeof m.index=="undefined"||(m.browserEvent.preventDefault(),m.browserEvent.stopPropagation(),this._select(m.element,m.index))}_onListSelection(m){m.elements.length&&this._select(m.elements[0],m.indexes[0])}_select(m,E){const I=this._completionModel;I&&(this._onDidSelect.fire({item:m,index:E,model:I}),this.editor.focus())}_onThemeChange(m){const E=m.getColor(e.editorSuggestWidgetBackground);E&&(this.element.domNode.style.backgroundColor=E.toString(),this._messageElement.style.backgroundColor=E.toString(),this._details.widget.domNode.style.backgroundColor=E.toString());const I=m.getColor(e.editorSuggestWidgetBorder);I&&(this.element.domNode.style.borderColor=I.toString(),this._messageElement.style.borderColor=I.toString(),this._status.element.style.borderTopColor=I.toString(),this._details.widget.domNode.style.borderColor=I.toString(),this._detailsBorderColor=I.toString());const k=m.getColor(s.focusBorder);k&&(this._detailsFocusBorderColor=k.toString()),this._details.widget.borderWidth=m.type==="hc"?2:1}_onListFocus(m){var E;if(this._ignoreFocusEvents)return;if(!m.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;const I=m.elements[0],k=m.indexes[0];I!==this._focusedItem&&((E=this._currentSuggestionDetails)===null||E===void 0||E.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=I,this._list.reveal(k),this._currentSuggestionDetails=(0,T.createCancelablePromise)(A=>Me(this,void 0,void 0,function*(){const P=(0,T.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);A.onCancellationRequested(()=>P.dispose());const F=yield I.resolve(A);return P.dispose(),F})),this._currentSuggestionDetails.then(()=>{k>=this._list.length||I!==this._list.element(k)||(this._ignoreFocusEvents=!0,this._list.splice(k,1,[I]),this._list.setFocus([k]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,g.getAriaId)(k)}))}).catch(D.onUnexpectedError)),this._onDidFocus.fire({item:I,index:k,model:this._completionModel})}_setState(m){if(this._state!==m)switch(this._state=m,this.element.domNode.classList.toggle("frozen",m===4),this.element.domNode.classList.remove("message"),m){case 0:y.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=$t.LOADING_MESSAGE,y.hide(this._listElement,this._status.element),y.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=$t.NO_SUGGESTIONS_MESSAGE,y.hide(this._listElement,this._status.element),y.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:y.hide(this._messageElement),y.show(this._listElement,this._status.element),this._show();break;case 4:y.hide(this._messageElement),y.show(this._listElement,this._status.element),this._show();break;case 5:y.hide(this._messageElement),y.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(m,E){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!m,this._isAuto||(this._loadingTimeout=(0,T.disposableTimeout)(()=>this._setState(1),E)))}showSuggestions(m,E,I,k){var A,P;if(this._contentWidget.setPosition(this.editor.getPosition()),(A=this._loadingTimeout)===null||A===void 0||A.dispose(),(P=this._currentSuggestionDetails)===null||P===void 0||P.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==m&&(this._completionModel=m),I&&this._state!==2&&this._state!==0){this._setState(4);return}const F=this._completionModel.items.length,M=F===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(F>1),M){this._setState(k?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(I?4:3),this._list.reveal(E,0),this._list.setFocus([E]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,h.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(m){this._details.show(),m?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var m;(m=this._loadingTimeout)===null||m===void 0||m.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const E=this._persistedSize.restore(),I=Math.ceil(this.getLayoutInfo().itemHeight*4.3);E&&E.height<I&&this._persistedSize.store(E.with(void 0,I))}isFrozen(){return this._state===4}_afterRender(m){if(m===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(m){var E,I,k;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const A=y.getClientArea(document.body),P=this.getLayoutInfo();m||(m=P.defaultSize);let F=m.height,M=m.width;if(this._status.element.style.lineHeight=`${P.itemHeight}px`,this._state===2||this._state===1)F=P.itemHeight+P.borderHeight,M=P.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new y.Dimension(M,F),this._contentWidget.setPreference(2);else{const R=A.width-P.borderHeight-2*P.horizontalPadding;M>R&&(M=R);const O=this._completionModel?this._completionModel.stats.pLabelLen*P.typicalHalfwidthCharacterWidth:M,L=P.statusBarHeight+this._list.contentHeight+P.borderHeight,B=P.itemHeight+P.statusBarHeight,z=y.getDomNodePagePosition(this.editor.getDomNode()),$=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),j=z.top+$.top+$.height,X=Math.min(A.height-j-P.verticalPadding,L),Q=z.top+$.top-P.verticalPadding,Y=Math.min(Q,L);let oe=Math.min(Math.max(Y,X)+P.borderHeight,L);F===((E=this._cappedHeight)===null||E===void 0?void 0:E.capped)&&(F=this._cappedHeight.wanted),F<B&&(F=B),F>oe&&(F=oe);const se=150;F>X||this._forceRenderingAbove&&Q>se?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),oe=Y):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),oe=X),this.element.preferredSize=new y.Dimension(O,P.defaultSize.height),this.element.maxSize=new y.Dimension(R,oe),this.element.minSize=new y.Dimension(220,B),this._cappedHeight=F===L?{wanted:(k=(I=this._cappedHeight)===null||I===void 0?void 0:I.wanted)!==null&&k!==void 0?k:m.height,capped:F}:void 0}this._resize(M,F)}_resize(m,E){const{width:I,height:k}=this.element.maxSize;m=Math.min(I,m),E=Math.min(k,E);const{statusBarHeight:A}=this.getLayoutInfo();this._list.layout(E-A,m),this._listElement.style.height=`${E-A}px`,this.element.layout(E,m),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){const m=this.editor.getOption(43),E=(0,b.clamp)(this.editor.getOption(107)||m.lineHeight,8,1e3),I=!this.editor.getOption(105).showStatusBar||this._state===2||this._state===1?0:E,k=this._details.widget.borderWidth,A=2*k;return{itemHeight:E,statusBarHeight:I,borderWidth:k,borderHeight:A,typicalHalfwidthCharacterWidth:m.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new y.Dimension(430,I+12*E+A)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(m){this._storageService.store("expandSuggestionDocs",m,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};_.LOADING_MESSAGE=o.localize(8,null),_.NO_SUGGESTIONS_MESSAGE=o.localize(9,null),_=Fe([Ce(1,u.IStorageService),Ce(2,d.IContextKeyService),Ce(3,a.IThemeService),Ce(4,c.IInstantiationService)],_),e.SuggestWidget=_;class C{constructor(m,E){this._widget=m,this._editor=E,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:m,width:E}=this._widget.element.size,{borderWidth:I,horizontalPadding:k}=this._widget.getLayoutInfo();return new y.Dimension(E+2*I+k,m+2*I)}afterRender(m){this._widget._afterRender(m)}setPreference(m){this._preferenceLocked||(this._preference=m)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(m){this._position=m}}e.SuggestContentWidget=C,(0,a.registerThemingParticipant)((v,m)=>{const E=v.getColor(e.editorSuggestWidgetHighlightForeground);E&&m.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${E}; }`);const I=v.getColor(e.editorSuggestWidgetHighlightFocusForeground);E&&m.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .monaco-highlighted-label .highlight { color: ${I}; }`);const k=v.getColor(e.editorSuggestWidgetForeground);k&&m.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${k}; }`);const A=v.getColor(e.editorSuggestWidgetSelectedForeground);A&&m.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused { color: ${A}; }`);const P=v.getColor(e.editorSuggestWidgetSelectedIconForeground);P&&m.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon { color: ${P}; }`);const F=v.getColor(s.textLinkForeground);F&&m.addRule(`.monaco-editor .suggest-details a { color: ${F}; }`);const M=v.getColor(s.textLinkActiveForeground);M&&m.addRule(`.monaco-editor .suggest-details a:hover { color: ${M}; }`);const R=v.getColor(s.textCodeBlockBackground);R&&m.addRule(`.monaco-editor .suggest-details code { background-color: ${R}; }`)})}),define(te[693],ie([0,1,7,6,81,12]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconsStyleSheet=void 0;function S(){const p=new N.Emitter,b=(0,T.getIconRegistry)();return b.onDidChange(()=>p.fire()),{onDidChange:p.event,getCSS(){const i={},f=o=>{let d=o.defaults;for(;D.ThemeIcon.isThemeIcon(d);){const u=b.getIcon(d.id);if(!u)return;d=u.defaults}const c=d.fontId;if(c){const u=b.getIconFont(c);if(u)return i[c]=u,`.codicon-${o.id}:before { content: '${d.fontCharacter}'; font-family: ${(0,y.asCSSPropertyValue)(c)}; }`}return`.codicon-${o.id}:before { content: '${d.fontCharacter}'; }`},r=[];for(let o of b.getIcons()){const d=f(o);d&&r.push(d)}for(let o in i){const c=i[o].definition.src.map(u=>`${(0,y.asCSSUrl)(u.location)} format('${u.format}')`).join(", ");r.push(`@font-face { src: ${c}; font-family: ${(0,y.asCSSPropertyValue)(o)}; font-display: block; }`)}return r.join(`
`)}}}e.getIconsStyleSheet=S}),define(te[694],ie([0,1,7,29,6,18,399,631,32,22,12,2,101,693]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeServiceImpl=void 0;const c="vs",u="vs-dark",s="hc-black",n=b.Registry.as(i.Extensions.ColorContribution),a=b.Registry.as(f.Extensions.ThemingContribution);class t{constructor(C,v){this.semanticHighlighting=!1,this.themeData=v;let m=v.base;C.length>0?(l(C)?this.id=C:this.id=m+" "+C,this.themeName=C):(this.id=m,this.themeName=m),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const C=new Map;for(let v in this.themeData.colors)C.set(v,N.Color.fromHex(this.themeData.colors[v]));if(this.themeData.inherit){let v=h(this.themeData.base);for(let m in v.colors)C.has(m)||C.set(m,N.Color.fromHex(v.colors[m]))}this.colors=C}return this.colors}getColor(C,v){const m=this.getColors().get(C);if(m)return m;if(v!==!1)return this.getDefault(C)}getDefault(C){let v=this.defaultColors[C];return v||(v=n.resolveDefaultColor(C,this),this.defaultColors[C]=v,v)}defines(C){return Object.prototype.hasOwnProperty.call(this.getColors(),C)}get type(){switch(this.base){case c:return o.ColorScheme.LIGHT;case s:return o.ColorScheme.HIGH_CONTRAST;default:return o.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let C=[],v=[];if(this.themeData.inherit){let m=h(this.themeData.base);C=m.rules,m.encodedTokensColors&&(v=m.encodedTokensColors)}C=C.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(v=this.themeData.encodedTokensColors),this._tokenTheme=S.TokenTheme.createFromRawTokenTheme(C,v)}return this._tokenTheme}getTokenStyleMetadata(C,v,m){const I=this.tokenTheme._match([C].concat(v).join(".")).metadata,k=D.TokenMetadata.getForeground(I),A=D.TokenMetadata.getFontStyle(I);return{foreground:k,italic:Boolean(A&1),bold:Boolean(A&2),underline:Boolean(A&4)}}}function l(_){return _===c||_===u||_===s}function h(_){switch(_){case c:return p.vs;case u:return p.vs_dark;case s:return p.hc_black}}function g(_){let C=h(_);return new t(_,C)}class w extends r.Disposable{constructor(){super();this._onColorThemeChange=this._register(new T.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(c,g(c)),this._knownThemes.set(u,g(u)),this._knownThemes.set(s,g(s));const C=(0,d.getIconsStyleSheet)();this._codiconCSS=C.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(c),C.onDidChange(()=>{this._codiconCSS=C.getCSS(),this._updateCSS()}),y.addMatchMediaChangeListener("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(C){return y.isInShadowDOM(C)?this._registerShadowDomContainer(C):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=y.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),r.Disposable.None}_registerShadowDomContainer(C){const v=y.createStyleSheet(C);return v.className="monaco-colors",v.textContent=this._allCSS,this._styleElements.push(v),{dispose:()=>{for(let m=0;m<this._styleElements.length;m++)if(this._styleElements[m]===v){this._styleElements.splice(m,1);return}}}}defineTheme(C,v){if(!/^[a-z0-9\-]+$/i.test(C))throw new Error("Illegal theme name!");if(!l(v.base)&&!l(C))throw new Error("Illegal theme base!");this._knownThemes.set(C,new t(C,v)),l(C)&&this._knownThemes.forEach(m=>{m.base===C&&m.notifyBaseUpdated()}),this._theme.themeName===C&&this.setTheme(C)}getColorTheme(){return this._theme}setColorMapOverride(C){this._colorMapOverride=C,this._updateThemeOrColorMap()}setTheme(C){let v;this._knownThemes.has(C)?v=this._knownThemes.get(C):v=this._knownThemes.get(c),this._desiredTheme=v,this._updateActualTheme()}_updateActualTheme(){const C=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(s):this._desiredTheme;this._theme!==C&&(this._theme=C,this._updateThemeOrColorMap())}setAutoDetectHighContrast(C){this._autoDetectHighContrast=C,this._updateActualTheme()}_updateThemeOrColorMap(){let C=[],v={},m={addRule:I=>{v[I]||(C.push(I),v[I]=!0)}};a.getThemingParticipants().forEach(I=>I(this._theme,m,this._environment));const E=this._colorMapOverride||this._theme.tokenTheme.getColorMap();m.addRule((0,S.generateTokensCSSForColorMap)(E)),this._themeCSS=C.join(`
`),this._updateCSS(),D.TokenizationRegistry.setColorMap(E),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(C=>C.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}e.StandaloneThemeServiceImpl=w}),define(te[157],ie([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,y.createDecorator)("undoRedoService");class N{constructor(p,b){this.resource=p,this.elements=b}}e.ResourceEditStackSnapshot=N;class T{constructor(){this.id=T._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=T,T._ID=0,T.None=new T;class D{constructor(){this.id=D._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=D,D._ID=0,D.None=new D}),define(te[284],ie([0,1,6,2,17,10,34,31,18,148,145,41,14,23,12,71,157,93,249,48,264,258,37]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelSemanticColoring=e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=e.ModelServiceImpl=void 0;function w(M){return M.toString()}function _(M){const R=new n.StringSHA1,O=M.createSnapshot();let L;for(;L=O.read();)R.update(L);return R.digest()}class C{constructor(R,O,L){this._modelEventListeners=new N.DisposableStore,this.model=R,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(R.onWillDispose(()=>O(R))),this._modelEventListeners.add(R.onDidChangeLanguage(B=>L(R,B)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(R){this._disposeLanguageSelection(),this._languageSelection=R,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(R.languageIdentifier)),this.model.setMode(R.languageIdentifier)}}const v=T.isLinux||T.isMacintosh?1:2;class m{constructor(R,O,L,B,z,$,j,X){this.uri=R,this.initialUndoRedoSnapshot=O,this.time=L,this.sharesUndoRedoStack=B,this.heapSize=z,this.sha1=$,this.versionId=j,this.alternativeVersionId=X}}let E=class bt extends N.Disposable{constructor(R,O,L,B,z){super();this._configurationService=R,this._resourcePropertiesService=O,this._themeService=L,this._logService=B,this._undoRedoService=z,this._onModelAdded=this._register(new y.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new y.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new y.Emitter),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new A(this._themeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new k(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(R,O){var L;let B=S.EDITOR_MODEL_DEFAULTS.tabSize;if(R.editor&&typeof R.editor.tabSize!="undefined"){const K=parseInt(R.editor.tabSize,10);isNaN(K)||(B=K),B<1&&(B=1)}let z=B;if(R.editor&&typeof R.editor.indentSize!="undefined"&&R.editor.indentSize!=="tabSize"){const K=parseInt(R.editor.indentSize,10);isNaN(K)||(z=K),z<1&&(z=1)}let $=S.EDITOR_MODEL_DEFAULTS.insertSpaces;R.editor&&typeof R.editor.insertSpaces!="undefined"&&($=R.editor.insertSpaces==="false"?!1:Boolean(R.editor.insertSpaces));let j=v;const X=R.eol;X===`\r
`?j=2:X===`
`&&(j=1);let Q=S.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;R.editor&&typeof R.editor.trimAutoWhitespace!="undefined"&&(Q=R.editor.trimAutoWhitespace==="false"?!1:Boolean(R.editor.trimAutoWhitespace));let Y=S.EDITOR_MODEL_DEFAULTS.detectIndentation;R.editor&&typeof R.editor.detectIndentation!="undefined"&&(Y=R.editor.detectIndentation==="false"?!1:Boolean(R.editor.detectIndentation));let oe=S.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;R.editor&&typeof R.editor.largeFileOptimizations!="undefined"&&(oe=R.editor.largeFileOptimizations==="false"?!1:Boolean(R.editor.largeFileOptimizations));let se=S.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return((L=R.editor)===null||L===void 0?void 0:L.bracketPairColorization)&&typeof R.editor.bracketPairColorization=="object"&&(se={enabled:!!R.editor.bracketPairColorization.enabled}),{isForSimpleWidget:O,tabSize:B,indentSize:z,insertSpaces:$,detectIndentation:Y,defaultEOL:j,trimAutoWhitespace:Q,largeFileOptimizations:oe,bracketPairColorizationOptions:se}}_getEOL(R,O){if(R)return this._resourcePropertiesService.getEOL(R,O);const L=this._configurationService.getValue("files.eol",{overrideIdentifier:O});return L&&typeof L=="string"&&L!=="auto"?L:T.OS===3||T.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const R=this._configurationService.getValue("files.restoreUndoStack");return typeof R=="boolean"?R:!0}getCreationOptions(R,O,L){let B=this._modelCreationOptionsByLanguageAndResource[R+O];if(!B){const z=this._configurationService.getValue("editor",{overrideIdentifier:R,resource:O}),$=this._getEOL(O,R);B=bt._readModelOptions({editor:z,eol:$},L),this._modelCreationOptionsByLanguageAndResource[R+O]=B}return B}_updateModelOptions(){const R=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const O=Object.keys(this._models);for(let L=0,B=O.length;L<B;L++){const z=O[L],$=this._models[z],j=$.model.getLanguageIdentifier().language,X=$.model.uri,Q=R[j+X],Y=this.getCreationOptions(j,X,$.model.isForSimpleWidget);bt._setModelOptionsForModel($.model,Y,Q)}}static _setModelOptionsForModel(R,O,L){L&&L.defaultEOL!==O.defaultEOL&&R.getLineCount()===1&&R.setEOL(O.defaultEOL===1?0:1),!(L&&L.detectIndentation===O.detectIndentation&&L.insertSpaces===O.insertSpaces&&L.tabSize===O.tabSize&&L.indentSize===O.indentSize&&L.trimAutoWhitespace===O.trimAutoWhitespace&&(0,g.equals)(L.bracketPairColorizationOptions,O.bracketPairColorizationOptions))&&(O.detectIndentation?(R.detectIndentation(O.insertSpaces,O.tabSize),R.updateOptions({trimAutoWhitespace:O.trimAutoWhitespace,bracketColorizationOptions:O.bracketPairColorizationOptions})):R.updateOptions({insertSpaces:O.insertSpaces,tabSize:O.tabSize,indentSize:O.indentSize,trimAutoWhitespace:O.trimAutoWhitespace,bracketColorizationOptions:O.bracketPairColorizationOptions}))}_insertDisposedModel(R){this._disposedModels.set(w(R.uri),R),this._disposedModelsHeapSize+=R.heapSize}_removeDisposedModel(R){const O=this._disposedModels.get(w(R));return O&&(this._disposedModelsHeapSize-=O.heapSize),this._disposedModels.delete(w(R)),O}_ensureDisposedModelsHeapSize(R){if(this._disposedModelsHeapSize>R){const O=[];for(this._disposedModels.forEach(L=>{L.sharesUndoRedoStack||O.push(L)}),O.sort((L,B)=>L.time-B.time);O.length>0&&this._disposedModelsHeapSize>R;){const L=O.shift();this._removeDisposedModel(L.uri),L.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(L.initialUndoRedoSnapshot)}}}_createModelData(R,O,L,B){const z=this.getCreationOptions(O.language,L,B),$=new p.TextModel(R,z,O,L,this._undoRedoService);if(L&&this._disposedModels.has(w(L))){const Q=this._removeDisposedModel(L),Y=this._undoRedoService.getElements(L),oe=_($)===Q.sha1;if(oe||Q.sharesUndoRedoStack){for(const se of Y.past)(0,a.isEditStackElement)(se)&&se.matchesResource(L)&&se.setModel($);for(const se of Y.future)(0,a.isEditStackElement)(se)&&se.matchesResource(L)&&se.setModel($);this._undoRedoService.setElementsValidFlag(L,!0,se=>(0,a.isEditStackElement)(se)&&se.matchesResource(L)),oe&&($._overwriteVersionId(Q.versionId),$._overwriteAlternativeVersionId(Q.alternativeVersionId),$._overwriteInitialUndoRedoSnapshot(Q.initialUndoRedoSnapshot))}else Q.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(Q.initialUndoRedoSnapshot)}const j=w($.uri);if(this._models[j])throw new Error("ModelService: Cannot add model because it already exists!");const X=new C($,Q=>this._onWillDispose(Q),(Q,Y)=>this._onDidChangeLanguage(Q,Y));return this._models[j]=X,X}createModel(R,O,L,B=!1){let z;return O?(z=this._createModelData(R,O.languageIdentifier,L,B),this.setMode(z.model,O)):z=this._createModelData(R,i.PLAINTEXT_LANGUAGE_IDENTIFIER,L,B),this._onModelAdded.fire(z.model),z.model}setMode(R,O){if(!O)return;const L=this._models[w(R.uri)];!L||L.setLanguage(O)}getModels(){const R=[],O=Object.keys(this._models);for(let L=0,B=O.length;L<B;L++){const z=O[L];R.push(this._models[z].model)}return R}getModel(R){const O=w(R),L=this._models[O];return L?L.model:null}getSemanticTokensProviderStyling(R){return this._semanticStyling.get(R)}_schemaShouldMaintainUndoRedoElements(R){return R.scheme===t.Schemas.file||R.scheme===t.Schemas.vscodeRemote||R.scheme===t.Schemas.userData||R.scheme===t.Schemas.vscodeNotebookCell||R.scheme==="fake-fs"}_onWillDispose(R){const O=w(R.uri),L=this._models[O],B=this._undoRedoService.getUriComparisonKey(R.uri)!==R.uri.toString();let z=!1,$=0;if(B||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(R.uri)){const X=this._undoRedoService.getElements(R.uri);if(X.past.length>0||X.future.length>0){for(const Q of X.past)(0,a.isEditStackElement)(Q)&&Q.matchesResource(R.uri)&&(z=!0,$+=Q.heapSize(R.uri),Q.setModel(R.uri));for(const Q of X.future)(0,a.isEditStackElement)(Q)&&Q.matchesResource(R.uri)&&(z=!0,$+=Q.heapSize(R.uri),Q.setModel(R.uri))}}const j=bt.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(z)if(!B&&$>j){const X=L.model.getInitialUndoRedoSnapshot();X!==null&&this._undoRedoService.restoreSnapshot(X)}else this._ensureDisposedModelsHeapSize(j-$),this._undoRedoService.setElementsValidFlag(R.uri,!1,X=>(0,a.isEditStackElement)(X)&&X.matchesResource(R.uri)),this._insertDisposedModel(new m(R.uri,L.model.getInitialUndoRedoSnapshot(),Date.now(),B,$,_(R),R.getVersionId(),R.getAlternativeVersionId()));else if(!B){const X=L.model.getInitialUndoRedoSnapshot();X!==null&&this._undoRedoService.restoreSnapshot(X)}delete this._models[O],L.dispose(),delete this._modelCreationOptionsByLanguageAndResource[R.getLanguageIdentifier().language+R.uri],this._onModelRemoved.fire(R)}_onDidChangeLanguage(R,O){const L=O.oldLanguage,B=R.getLanguageIdentifier().language,z=this.getCreationOptions(L,R.uri,R.isForSimpleWidget),$=this.getCreationOptions(B,R.uri,R.isForSimpleWidget);bt._setModelOptionsForModel(R,$,z),this._onModelModeChanged.fire({model:R,oldModeId:L})}};E.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,E=Fe([Ce(0,r.IConfigurationService),Ce(1,f.ITextResourcePropertiesService),Ce(2,c.IThemeService),Ce(3,u.ILogService),Ce(4,s.IUndoRedoService)],E),e.ModelServiceImpl=E,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function I(M,R,O){var L;const B=(L=O.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:M.getLanguageIdentifier().language,resource:M.uri}))===null||L===void 0?void 0:L.enabled;return typeof B=="boolean"?B:R.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=I;class k extends N.Disposable{constructor(R,O,L,B){super();this._watchers=Object.create(null),this._semanticStyling=B;const z=X=>{this._watchers[X.uri.toString()]=new F(X,O,this._semanticStyling)},$=(X,Q)=>{Q.dispose(),delete this._watchers[X.uri.toString()]},j=()=>{for(let X of R.getModels()){const Q=this._watchers[X.uri.toString()];I(X,O,L)?Q||z(X):Q&&$(X,Q)}};this._register(R.onModelAdded(X=>{I(X,O,L)&&z(X)})),this._register(R.onModelRemoved(X=>{const Q=this._watchers[X.uri.toString()];Q&&$(X,Q)})),this._register(L.onDidChangeConfiguration(X=>{X.affectsConfiguration(e.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&j()})),this._register(O.onDidColorThemeChange(j))}}class A extends N.Disposable{constructor(R,O){super();this._themeService=R,this._logService=O,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(R){return this._caches.has(R)||this._caches.set(R,new l.SemanticTokensProviderStyling(R.getLegend(),this._themeService,this._logService)),this._caches.get(R)}}class P{constructor(R,O,L){this._provider=R,this.resultId=O,this.data=L}dispose(){this._provider.releaseDocumentSemanticTokens(this.resultId)}}class F extends N.Disposable{constructor(R,O,L){super();this._isDisposed=!1,this._model=R,this._semanticStyling=L,this._fetchDocumentSemanticTokens=this._register(new o.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),F.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const B=()=>{(0,N.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const z of b.DocumentSemanticTokensProviderRegistry.all(R))typeof z.onDidChange=="function"&&this._documentProvidersChangeListeners.push(z.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};B(),this._register(b.DocumentSemanticTokensProviderRegistry.onDidChange(()=>{B(),this._fetchDocumentSemanticTokens.schedule()})),this._register(O.onDidColorThemeChange(z=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;const R=new d.CancellationTokenSource,O=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,L=(0,h.getDocumentSemanticTokens)(this._model,O,R.token);if(!L){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const{provider:B,request:z}=L;this._currentDocumentRequestCancellationTokenSource=R;const $=[],j=this._model.onDidChangeContent(Q=>{$.push(Q)}),X=this._semanticStyling.get(B);z.then(Q=>{this._currentDocumentRequestCancellationTokenSource=null,j.dispose(),this._setDocumentSemanticTokens(B,Q||null,X,$)},Q=>{Q&&(D.isPromiseCanceledError(Q)||typeof Q.message=="string"&&Q.message.indexOf("busy")!==-1)||D.onUnexpectedError(Q),this._currentDocumentRequestCancellationTokenSource=null,j.dispose(),$.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(R,O,L,B,z){for(let $=0;$<z;$++)L[B+$]=R[O+$]}_setDocumentSemanticTokens(R,O,L,B){const z=this._currentDocumentResponse,$=()=>{B.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){R&&O&&R.releaseDocumentSemanticTokens(O.resultId);return}if(!R||!L){this._model.setSemanticTokens(null,!1);return}if(!O){this._model.setSemanticTokens(null,!0),$();return}if((0,h.isSemanticTokensEdits)(O)){if(!z){this._model.setSemanticTokens(null,!0);return}if(O.edits.length===0)O={resultId:O.resultId,data:z.data};else{let j=0;for(const se of O.edits)j+=(se.data?se.data.length:0)-se.deleteCount;const X=z.data,Q=new Uint32Array(X.length+j);let Y=X.length,oe=Q.length;for(let se=O.edits.length-1;se>=0;se--){const K=O.edits[se],x=Y-(K.start+K.deleteCount);x>0&&(F._copy(X,Y-x,Q,oe-x,x),oe-=x),K.data&&(F._copy(K.data,0,Q,oe-K.data.length,K.data.length),oe-=K.data.length),Y=K.start}Y>0&&F._copy(X,0,Q,0,Y),O={resultId:O.resultId,data:Q}}}if((0,h.isSemanticTokens)(O)){this._currentDocumentResponse=new P(R,O.resultId,O.data);const j=(0,l.toMultilineTokens2)(O,L,this._model.getLanguageIdentifier());if(B.length>0)for(const X of B)for(const Q of j)for(const Y of X.changes)Q.applyEdit(Y.range,Y.text);this._model.setSemanticTokens(j,!0)}else this._model.setSemanticTokens(null,!0);$()}}e.ModelSemanticColoring=F,F.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300}),define(te[695],ie([0,1,7,219,29,6,2,48,44,153,3,31,69,624,127,504,9,40,124,156,22,12,157,121,362]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h,g,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class _{constructor(I,k){this._editor=I,this._model=k,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new S.DisposableStore,this._callOnModelChange=new S.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const I=this._editor.getModel();if(!!I){for(let k of this._model.references)if(k.uri.toString()===I.uri.toString()){this._addDecorations(k.parent);return}}}_addDecorations(I){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const k=[],A=[];for(let F=0,M=I.children.length;F<M;F++){let R=I.children[F];this._decorationIgnoreSet.has(R.id)||R.uri.toString()===this._editor.getModel().uri.toString()&&(k.push({range:R.range,options:_.DecorationOptions}),A.push(F))}const P=this._editor.deltaDecorations([],k);for(let F=0;F<P.length;F++)this._decorations.set(P[F],I.children[A[F]])}_onDecorationChanged(){const I=[],k=this._editor.getModel();if(!!k){for(let[A,P]of this._decorations){const F=k.getDecorationRange(A);if(!F)continue;let M=!1;if(!f.Range.equalsRange(F,P.range)){if(f.Range.spansMultipleLines(F))M=!0;else{const R=P.range.endColumn-P.range.startColumn,O=F.endColumn-F.startColumn;R!==O&&(M=!0)}M?(this._decorationIgnoreSet.add(P.id),I.push(A)):P.range=F}}for(let A=0,P=I.length;A<P;A++)this._decorations.delete(I[A]);this._editor.deltaDecorations(I,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}_.DecorationOptions=r.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class C{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(I){let k,A;try{const P=JSON.parse(I);k=P.ratio,A=P.heightInLines}catch(P){}return{ratio:k||.7,heightInLines:A||18}}}e.LayoutData=C;class v extends t.WorkbenchAsyncDataTree{}let m=class extends c.PeekViewWidget{constructor(I,k,A,P,F,M,R,O,L,B){super(I,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},M);this._defaultTreeKeyboardSupport=k,this.layoutData=A,this._textModelResolverService=F,this._instantiationService=M,this._peekViewService=R,this._uriLabel=O,this._undoRedoService=L,this._keybindingService=B,this._disposeOnNewModel=new S.DisposableStore,this._callOnDispose=new S.DisposableStore,this._onDidSelectReference=new D.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new y.Dimension(0,0),this._applyTheme(P.getColorTheme()),this._callOnDispose.add(P.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(I,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,S.dispose)(this._preview),(0,S.dispose)(this._previewNotAvailableMessage),(0,S.dispose)(this._tree),(0,S.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(I){const k=I.getColor(c.peekViewBorder)||T.Color.transparent;this.style({arrowColor:k,frameColor:k,headerBackgroundColor:I.getColor(c.peekViewTitleBackground)||T.Color.transparent,primaryHeadingColor:I.getColor(c.peekViewTitleForeground),secondaryHeadingColor:I.getColor(c.peekViewTitleInfoForeground)})}show(I){this.editor.revealRangeInCenterIfOutsideViewport(I,0),super.show(I,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(I){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:I.ctrlKey||I.metaKey||I.altKey?"side":"open",source:"title"})}_fillBody(I){this.setCssClass("reference-zone-widget"),this._messageContainer=y.append(I,y.$("div.messages")),y.hide(this._messageContainer),this._splitView=new N.SplitView(I,{orientation:1}),this._previewContainer=y.append(I,y.$("div.preview.inline"));let k={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(i.EmbeddedCodeEditorWidget,this._previewContainer,k,this.editor),y.hide(this._previewContainer),this._previewNotAvailableMessage=new r.TextModel(u.localize(0,null),r.TextModel.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService),this._treeContainer=y.append(I,y.$("div.ref-tree.inline"));const A={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new d.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(d.StringRepresentationProvider),identityProvider:new d.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:c.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(y.addStandardDisposableListener(this._treeContainer,"keydown",F=>{F.equals(9)&&(this._keybindingService.dispatchEvent(F,F.target),F.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(v,"ReferencesWidget",this._treeContainer,new d.Delegate,[this._instantiationService.createInstance(d.FileReferencesRenderer),this._instantiationService.createInstance(d.OneReferenceRenderer)],this._instantiationService.createInstance(d.DataSource),A),this._splitView.addView({onDidChange:D.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:F=>{this._preview.layout({height:this._dim.height,width:F})}},N.Sizing.Distribute),this._splitView.addView({onDidChange:D.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:F=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${F}px`,this._tree.layout(this._dim.height,F)}},N.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let P=(F,M)=>{F instanceof w.OneReference&&(M==="show"&&this._revealReference(F,!1),this._onDidSelectReference.fire({element:F,kind:M,source:"tree"}))};this._tree.onDidOpen(F=>{F.sideBySide?P(F.element,"side"):F.editorOptions.pinned?P(F.element,"goto"):P(F.element,"show")}),y.hide(this._treeContainer)}_onWidth(I){this._dim&&this._doLayoutBody(this._dim.height,I)}_doLayoutBody(I,k){super._doLayoutBody(I,k),this._dim=new y.Dimension(k,I),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(k),this._splitView.resizeView(0,k*this.layoutData.ratio)}setSelection(I){return this._revealReference(I,!0).then(()=>{!this._model||(this._tree.setSelection([I]),this._tree.setFocus([I]))})}setModel(I){return this._disposeOnNewModel.clear(),this._model=I,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=u.localize(1,null),y.show(this._messageContainer),Promise.resolve(void 0)):(y.hide(this._messageContainer),this._decorationsManager=new _(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(I=>this._tree.rerender(I))),this._disposeOnNewModel.add(this._preview.onMouseDown(I=>{const{event:k,target:A}=I;if(k.detail!==2)return;const P=this._getFocusedReference();!P||this._onDidSelectReference.fire({element:{uri:P.uri,range:A.range},kind:k.ctrlKey||k.metaKey||k.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),y.show(this._treeContainer),y.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[I]=this._tree.getFocus();if(I instanceof w.OneReference)return I;if(I instanceof w.FileReferences&&I.children.length>0)return I.children[0]}revealReference(I){return Me(this,void 0,void 0,function*(){yield this._revealReference(I,!1),this._onDidSelectReference.fire({element:I,kind:"goto",source:"tree"})})}_revealReference(I,k){return Me(this,void 0,void 0,function*(){if(this._revealedReference===I)return;this._revealedReference=I,I.uri.scheme!==p.Schemas.inMemory?this.setTitle((0,b.basenameOrAuthority)(I.uri),this._uriLabel.getUriLabel((0,b.dirname)(I.uri))):this.setTitle(u.localize(2,null));const A=this._textModelResolverService.createModelReference(I.uri);this._tree.getInput()===I.parent?this._tree.reveal(I):(k&&this._tree.reveal(I.parent),yield this._tree.expand(I.parent),this._tree.reveal(I));const P=yield A;if(!this._model){P.dispose();return}(0,S.dispose)(this._previewModelReference);const F=P.object;if(F){const M=this._preview.getModel()===F.textEditorModel?0:1,R=f.Range.lift(I.range).collapseToStart();this._previewModelReference=P,this._preview.setModel(F.textEditorModel),this._preview.setSelection(R),this._preview.revealRangeInCenter(R,M)}else this._preview.setModel(this._previewNotAvailableMessage),P.dispose()})}};m=Fe([Ce(3,h.IThemeService),Ce(4,o.ITextModelService),Ce(5,s.IInstantiationService),Ce(6,c.IPeekViewService),Ce(7,a.ILabelService),Ce(8,g.IUndoRedoService),Ce(9,n.IKeybindingService)],m),e.ReferenceWidget=m,(0,h.registerThemingParticipant)((E,I)=>{const k=E.getColor(c.peekViewResultsMatchHighlight);k&&I.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${k}; }`);const A=E.getColor(c.peekViewEditorMatchHighlight);A&&I.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${A}; }`);const P=E.getColor(c.peekViewEditorMatchHighlightBorder);P&&I.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${P}; box-sizing: border-box; }`);const F=E.getColor(l.activeContrastBorder);F&&I.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${F}; box-sizing: border-box; }`);const M=E.getColor(c.peekViewResultsBackground);M&&I.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${M}; }`);const R=E.getColor(c.peekViewResultsMatchForeground);R&&I.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${R}; }`);const O=E.getColor(c.peekViewResultsFileForeground);O&&I.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${O}; }`);const L=E.getColor(c.peekViewResultsSelectionBackground);L&&I.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${L}; }`);const B=E.getColor(c.peekViewResultsSelectionForeground);B&&I.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${B} !important; }`);const z=E.getColor(c.peekViewEditorBackground);z&&I.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {	background-color: ${z};}`);const $=E.getColor(c.peekViewEditorGutterBackground);$&&I.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {	background-color: ${$};}`)})}),define(te[285],ie([0,1,14,10,43,2,28,13,3,127,502,26,41,15,9,80,156,35,72,121,695]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new d.RawContextKey("referenceSearchVisible",!1,f.localize(0,null));let h=class jt{constructor(_,C,v,m,E,I,k,A){this._defaultTreeKeyboardSupport=_,this._editor=C,this._editorService=m,this._notificationService=E,this._instantiationService=I,this._storageService=k,this._configurationService=A,this._disposables=new D.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(v)}static get(_){return _.getContribution(jt.ID)}dispose(){var _,C;this._referenceSearchVisible.reset(),this._disposables.dispose(),(_=this._widget)===null||_===void 0||_.dispose(),(C=this._model)===null||C===void 0||C.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(_,C,v){let m;if(this._widget&&(m=this._widget.position),this.closeWidget(),!!m&&_.containsPosition(m))return;this._peekMode=v,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const E="peekViewLayout",I=l.LayoutData.fromJSON(this._storageService.get(E,0,"{}"));this._widget=this._instantiationService.createInstance(l.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,I),this._widget.setTitle(f.localize(1,null)),this._widget.show(_),this._disposables.add(this._widget.onDidClose(()=>{C.cancel(),this._widget&&(this._storageService.store(E,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(A=>{let{element:P,kind:F}=A;if(!!P)switch(F){case"open":(A.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(P,!1,!1);break;case"side":this.openReference(P,!0,!1);break;case"goto":v?this._gotoReference(P):this.openReference(P,!1,!0);break}}));const k=++this._requestIdPool;C.then(A=>{var P;if(k!==this._requestIdPool||!this._widget){A.dispose();return}return(P=this._model)===null||P===void 0||P.dispose(),this._model=A,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(f.localize(2,null,this._model.title,this._model.references.length));let F=this._editor.getModel().uri,M=new p.Position(_.startLineNumber,_.startColumn),R=this._model.nearestReference(F,M);if(R)return this._widget.setSelection(R).then(()=>{this._widget&&this._editor.getOption(76)==="editor"&&this._widget.focusOnPreviewEditor()})}})},A=>{this._notificationService.error(A)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(_){return Me(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const C=this._widget.position;if(!C)return;const v=this._model.nearestReference(this._editor.getModel().uri,C);if(!v)return;const m=this._model.nextOrPreviousReference(v,_),E=this._editor.hasTextFocus(),I=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(m),yield this._gotoReference(m),E?this._editor.focus():this._widget&&I&&this._widget.focusOnPreviewEditor()})}revealReference(_){return Me(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(_))})}closeWidget(_=!0){var C,v;(C=this._widget)===null||C===void 0||C.dispose(),(v=this._model)===null||v===void 0||v.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,_&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(_){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const C=b.Range.lift(_.range).collapseToStart();return this._editorService.openCodeEditor({resource:_.uri,options:{selection:C}},this._editor).then(v=>{var m;if(this._ignoreModelChangeEvent=!1,!v||!this._widget){this.closeWidget();return}if(this._editor===v)this._widget.show(C),this._widget.focusOnReferenceTree();else{const E=jt.get(v),I=this._model.clone();this.closeWidget(),v.focus(),E.toggleWidget(C,(0,y.createCancelablePromise)(k=>Promise.resolve(I)),(m=this._peekMode)!==null&&m!==void 0?m:!1)}},v=>{this._ignoreModelChangeEvent=!1,(0,N.onUnexpectedError)(v)})}openReference(_,C,v){C||this.closeWidget();const{uri:m,range:E}=_;this._editorService.openCodeEditor({resource:m,options:{selection:E,pinned:v}},this._editor,C)}};h.ID="editor.contrib.referencesController",h=Fe([Ce(2,d.IContextKeyService),Ce(3,S.ICodeEditorService),Ce(4,n.INotificationService),Ce(5,c.IInstantiationService),Ce(6,a.IStorageService),Ce(7,o.IConfigurationService)],h),e.ReferencesController=h;function g(w,_){const C=(0,i.getOuterEditor)(w);if(!C)return;let v=h.get(C);v&&_(v)}u.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,T.KeyChord)(2048|41,60),when:d.ContextKeyExpr.or(e.ctxReferenceSearchVisible,i.PeekContext.inPeekEditor),handler(w){g(w,_=>{_.changeFocusBetweenPreviewAndReferences()})}}),u.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:d.ContextKeyExpr.or(e.ctxReferenceSearchVisible,i.PeekContext.inPeekEditor),handler(w){g(w,_=>{_.goToNextOrPreviousReference(!0)})}}),u.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:d.ContextKeyExpr.or(e.ctxReferenceSearchVisible,i.PeekContext.inPeekEditor),handler(w){g(w,_=>{_.goToNextOrPreviousReference(!1)})}}),r.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),r.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),r.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),r.CommandsRegistry.registerCommand("closeReferenceSearch",w=>g(w,_=>_.closeWidget())),u.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:d.ContextKeyExpr.and(i.PeekContext.inPeekEditor,d.ContextKeyExpr.not("config.editor.stablePeek"))}),u.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:d.ContextKeyExpr.and(e.ctxReferenceSearchVisible,d.ContextKeyExpr.not("config.editor.stablePeek"))}),u.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:d.ContextKeyExpr.and(e.ctxReferenceSearchVisible,s.WorkbenchListFocusContextKey),handler(w){var _;const v=(_=w.get(s.IListService).lastFocusedList)===null||_===void 0?void 0:_.getFocus();Array.isArray(v)&&v[0]instanceof t.OneReference&&g(w,m=>m.revealReference(v[0]))}}),u.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:d.ContextKeyExpr.and(e.ctxReferenceSearchVisible,s.WorkbenchListFocusContextKey),handler(w){var _;const v=(_=w.get(s.IListService).lastFocusedList)===null||_===void 0?void 0:_.getFocus();Array.isArray(v)&&v[0]instanceof t.OneReference&&g(w,m=>m.openReference(v[0],!0,!0))}}),r.CommandsRegistry.registerCommand("openReference",w=>{var _;const v=(_=w.get(s.IListService).lastFocusedList)===null||_===void 0?void 0:_.getFocus();Array.isArray(v)&&v[0]instanceof t.OneReference&&g(w,m=>m.openReference(v[0],!1,!0))})}),define(te[286],ie([0,1,36,45,14,43,17,20,24,66,113,16,28,153,13,3,25,18,285,121,650,155,127,500,33,26,15,9,35,61,277]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h,g,w,_,C,v,m,E,I,k){"use strict";var A,P,F,M,R,O,L,B;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=void 0,_.MenuRegistry.appendMenuItem(_.MenuId.EditorContext,{submenu:_.MenuId.EditorContextPeek,title:w.localize(0,null),group:"navigation",order:100});const z=new Set;function $(U){const H=new U;return(0,r.registerInstantiatedEditorAction)(H),z.add(H.id),H}class j extends r.EditorAction{constructor(H,V){super(V);this._configuration=H}run(H,V){if(!V.hasModel())return Promise.resolve(void 0);const ne=H.get(E.INotificationService),ue=H.get(o.ICodeEditorService),pe=H.get(I.IEditorProgressService),ge=H.get(l.ISymbolNavigationService),W=V.getModel(),G=V.getPosition(),re=new i.EditorStateCancellationTokenSource(V,1|4),ee=(0,T.raceCancellation)(this._getLocationModel(W,G,re.token),re.token).then(de=>Me(this,void 0,void 0,function*(){if(!de||re.token.isCancellationRequested)return;(0,N.alert)(de.ariaMessage);let ae;if(de.referenceAt(W.uri,G)){const J=this._getAlternativeCommand(V);J!==this.id&&z.has(J)&&(ae=V.getAction(J))}const ce=de.references.length;if(ce===0){if(!this._configuration.muteMessage){const J=W.getWordAtPosition(G);h.MessageController.get(V).showMessage(this._getNoResultFoundMessage(J),G)}}else if(ce===1&&ae)ae.run();else return this._onResult(ue,ge,V,de)}),de=>{ne.error(de)}).finally(()=>{re.dispose()});return pe.showWhile(ee,250),ee}_onResult(H,V,ne,ue){return Me(this,void 0,void 0,function*(){const pe=this._getGoToPreference(ne);if(!(ne instanceof d.EmbeddedCodeEditorWidget)&&(this._configuration.openInPeek||pe==="peek"&&ue.references.length>1))this._openInPeek(ne,ue);else{const ge=ue.firstReference(),W=ue.references.length>1&&pe==="gotoAndPeek",G=yield this._openReference(ne,H,ge,this._configuration.openToSide,!W);W&&G?this._openInPeek(G,ue):ue.dispose(),pe==="goto"&&V.put(ge)}})}_openReference(H,V,ne,ue,pe){return Me(this,void 0,void 0,function*(){let ge;if((0,n.isLocationLink)(ne)&&(ge=ne.targetSelectionRange),ge||(ge=ne.range),!ge)return;const W=yield V.openCodeEditor({resource:ne.uri,options:{selection:u.Range.collapseToStart(ge),selectionRevealType:3}},H,ue);if(!!W){if(pe){const G=W.getModel(),re=W.deltaDecorations([],[{range:ge,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{W.getModel()===G&&W.deltaDecorations(re,[])},350)}return W}})}_openInPeek(H,V){let ne=a.ReferencesController.get(H);ne&&H.hasModel()?ne.toggleWidget(H.getSelection(),(0,T.createCancelablePromise)(ue=>Promise.resolve(V)),this._configuration.openInPeek):V.dispose()}}class X extends j{_getLocationModel(H,V,ne){return Me(this,void 0,void 0,function*(){return new t.ReferencesModel(yield(0,k.getDefinitionsAtPosition)(H,V,ne),w.localize(1,null))})}_getNoResultFoundMessage(H){return H&&H.word?w.localize(2,null,H.word):w.localize(3,null)}_getAlternativeCommand(H){return H.getOption(50).alternativeDefinitionCommand}_getGoToPreference(H){return H.getOption(50).multipleDefinitions}}e.DefinitionAction=X;const Q=S.isWeb&&!y.isStandalone?2048|70:70;$((A=class Gt extends X{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Gt.id,label:w.localize(4,null),alias:"Go to Definition",precondition:v.ContextKeyExpr.and(s.EditorContextKeys.hasDefinitionProvider,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:Q,weight:100},contextMenuOpts:{group:"navigation",order:1.1}});C.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",Gt.id)}},A.id="editor.action.revealDefinition",A)),$((P=class Zt extends X{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Zt.id,label:w.localize(5,null),alias:"Open Definition to the Side",precondition:v.ContextKeyExpr.and(s.EditorContextKeys.hasDefinitionProvider,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2048|41,Q),weight:100}});C.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",Zt.id)}},P.id="editor.action.revealDefinitionAside",P)),$((F=class Yt extends X{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Yt.id,label:w.localize(6,null),alias:"Peek Definition",precondition:v.ContextKeyExpr.and(s.EditorContextKeys.hasDefinitionProvider,g.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},contextMenuOpts:{menuId:_.MenuId.EditorContextPeek,group:"peek",order:2}});C.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",Yt.id)}},F.id="editor.action.peekDefinition",F));class Y extends j{_getLocationModel(H,V,ne){return Me(this,void 0,void 0,function*(){return new t.ReferencesModel(yield(0,k.getDeclarationsAtPosition)(H,V,ne),w.localize(7,null))})}_getNoResultFoundMessage(H){return H&&H.word?w.localize(8,null,H.word):w.localize(9,null)}_getAlternativeCommand(H){return H.getOption(50).alternativeDeclarationCommand}_getGoToPreference(H){return H.getOption(50).multipleDeclarations}}$((M=class Ai extends Y{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Ai.id,label:w.localize(10,null),alias:"Go to Declaration",precondition:v.ContextKeyExpr.and(s.EditorContextKeys.hasDeclarationProvider,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(H){return H&&H.word?w.localize(11,null,H.word):w.localize(12,null)}},M.id="editor.action.revealDeclaration",M)),$(class extends Y{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:w.localize(13,null),alias:"Peek Declaration",precondition:v.ContextKeyExpr.and(s.EditorContextKeys.hasDeclarationProvider,g.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:_.MenuId.EditorContextPeek,group:"peek",order:3}})}});class oe extends j{_getLocationModel(H,V,ne){return Me(this,void 0,void 0,function*(){return new t.ReferencesModel(yield(0,k.getTypeDefinitionsAtPosition)(H,V,ne),w.localize(14,null))})}_getNoResultFoundMessage(H){return H&&H.word?w.localize(15,null,H.word):w.localize(16,null)}_getAlternativeCommand(H){return H.getOption(50).alternativeTypeDefinitionCommand}_getGoToPreference(H){return H.getOption(50).multipleTypeDefinitions}}$((R=class Ri extends oe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Ri.ID,label:w.localize(17,null),alias:"Go to Type Definition",precondition:v.ContextKeyExpr.and(s.EditorContextKeys.hasTypeDefinitionProvider,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},R.ID="editor.action.goToTypeDefinition",R)),$((O=class Oi extends oe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Oi.ID,label:w.localize(18,null),alias:"Peek Type Definition",precondition:v.ContextKeyExpr.and(s.EditorContextKeys.hasTypeDefinitionProvider,g.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:_.MenuId.EditorContextPeek,group:"peek",order:4}})}},O.ID="editor.action.peekTypeDefinition",O));class se extends j{_getLocationModel(H,V,ne){return Me(this,void 0,void 0,function*(){return new t.ReferencesModel(yield(0,k.getImplementationsAtPosition)(H,V,ne),w.localize(19,null))})}_getNoResultFoundMessage(H){return H&&H.word?w.localize(20,null,H.word):w.localize(21,null)}_getAlternativeCommand(H){return H.getOption(50).alternativeImplementationCommand}_getGoToPreference(H){return H.getOption(50).multipleImplementations}}$((L=class Pi extends se{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Pi.ID,label:w.localize(22,null),alias:"Go to Implementations",precondition:v.ContextKeyExpr.and(s.EditorContextKeys.hasImplementationProvider,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},L.ID="editor.action.goToImplementation",L)),$((B=class Fi extends se{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Fi.ID,label:w.localize(23,null),alias:"Peek Implementations",precondition:v.ContextKeyExpr.and(s.EditorContextKeys.hasImplementationProvider,g.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|1024|70,weight:100},contextMenuOpts:{menuId:_.MenuId.EditorContextPeek,group:"peek",order:5}})}},B.ID="editor.action.peekImplementation",B));class K extends j{_getNoResultFoundMessage(H){return H?w.localize(24,null,H.word):w.localize(25,null)}_getAlternativeCommand(H){return H.getOption(50).alternativeReferenceCommand}_getGoToPreference(H){return H.getOption(50).multipleReferences}}$(class extends K{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:w.localize(26,null),alias:"Go to References",precondition:v.ContextKeyExpr.and(s.EditorContextKeys.hasReferenceProvider,g.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:1024|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(H,V,ne){return Me(this,void 0,void 0,function*(){return new t.ReferencesModel(yield(0,k.getReferencesAtPosition)(H,V,!0,ne),w.localize(27,null))})}}),$(class extends K{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:w.localize(28,null),alias:"Peek References",precondition:v.ContextKeyExpr.and(s.EditorContextKeys.hasReferenceProvider,g.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:_.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(H,V,ne){return Me(this,void 0,void 0,function*(){return new t.ReferencesModel(yield(0,k.getReferencesAtPosition)(H,V,!1,ne),w.localize(29,null))})}});class x extends j{constructor(H,V,ne){super(H,{id:"editor.action.goToLocation",label:w.localize(30,null),alias:"Go To Any Symbol",precondition:v.ContextKeyExpr.and(g.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated())});this._references=V,this._gotoMultipleBehaviour=ne}_getLocationModel(H,V,ne){return Me(this,void 0,void 0,function*(){return new t.ReferencesModel(this._references,w.localize(31,null))})}_getNoResultFoundMessage(H){return H&&w.localize(32,null,H.word)||""}_getGoToPreference(H){var V;return(V=this._gotoMultipleBehaviour)!==null&&V!==void 0?V:H.getOption(50).multipleReferences}_getAlternativeCommand(){return""}}C.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:b.URI},{name:"position",description:"The position at which to start",constraint:c.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(U,H,V,ne,ue,pe,ge)=>Me(void 0,void 0,void 0,function*(){(0,p.assertType)(b.URI.isUri(H)),(0,p.assertType)(c.Position.isIPosition(V)),(0,p.assertType)(Array.isArray(ne)),(0,p.assertType)(typeof ue=="undefined"||typeof ue=="string"),(0,p.assertType)(typeof ge=="undefined"||typeof ge=="boolean");const W=U.get(o.ICodeEditorService),G=yield W.openCodeEditor({resource:H},W.getFocusedCodeEditor());if((0,f.isCodeEditor)(G))return G.setPosition(V),G.revealPositionInCenterIfOutsideViewport(V,0),G.invokeWithinContext(re=>{const ee=new class extends x{_getNoResultFoundMessage(de){return pe||super._getNoResultFoundMessage(de)}}({muteMessage:!Boolean(pe),openInPeek:Boolean(ge),openToSide:!1},ne,ue);re.get(m.IInstantiationService).invokeFunction(ee.run.bind(ee),G)})})}),C.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:b.URI},{name:"position",description:"The position at which to start",constraint:c.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(U,H,V,ne,ue)=>Me(void 0,void 0,void 0,function*(){U.get(C.ICommandService).executeCommand("editor.action.goToLocations",H,V,ne,ue,void 0,!0)})}),C.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(U,H,V)=>{(0,p.assertType)(b.URI.isUri(H)),(0,p.assertType)(c.Position.isIPosition(V));const ne=U.get(o.ICodeEditorService);return ne.openCodeEditor({resource:H},ne.getFocusedCodeEditor()).then(ue=>{if(!(0,f.isCodeEditor)(ue)||!ue.hasModel())return;const pe=a.ReferencesController.get(ue);if(!pe)return;const ge=(0,T.createCancelablePromise)(G=>(0,k.getReferencesAtPosition)(ue.getModel(),c.Position.lift(V),!1,G).then(re=>new t.ReferencesModel(re,w.localize(33,null)))),W=new u.Range(V.lineNumber,V.column,V.lineNumber,V.column);return Promise.resolve(pe.toggleWidget(W,ge,!1))})}}),C.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),_.MenuRegistry.appendMenuItems([{id:_.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:w.localize(34,null)},group:"4_symbol_nav",order:2}},{id:_.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:w.localize(35,null)},group:"4_symbol_nav",order:3}},{id:_.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:w.localize(36,null)},group:"4_symbol_nav",order:3}},{id:_.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:w.localize(37,null)},group:"4_symbol_nav",order:4}},{id:_.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:w.localize(38,null)},group:"4_symbol_nav",order:5}}])}),define(te[287],ie([0,1,14,10,68,2,20,66,16,13,3,18,56,69,238,127,501,15,22,12,286,277,361]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let g=class _t{constructor(_,C,v){this.textModelResolverService=C,this.modeService=v,this.toUnhook=new D.DisposableStore,this.toUnhookForKeyboard=new D.DisposableStore,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=_;let m=new c.ClickLinkGesture(_);this.toUnhook.add(m),this.toUnhook.add(m.onMouseMoveOrRelevantKeyDown(([E,I])=>{this.startFindDefinitionFromMouse(E,(0,S.withNullAsUndefined)(I))})),this.toUnhook.add(m.onExecute(E=>{this.isEnabled(E)&&this.gotoDefinition(E.target.position,E.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},I=>{this.removeLinkDecorations(),(0,N.onUnexpectedError)(I)})})),this.toUnhook.add(m.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(_){return _.getContribution(_t.ID)}startFindDefinitionFromCursor(_){return this.startFindDefinition(_).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(C=>{C&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(_,C){if(_.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(_,C)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const v=_.target.position;this.startFindDefinition(v)}startFindDefinition(_){var C;this.toUnhookForKeyboard.clear();const v=_?(C=this.editor.getModel())===null||C===void 0?void 0:C.getWordAtPosition(_):null;if(!v)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===v.startColumn&&this.currentWordAtPosition.endColumn===v.endColumn&&this.currentWordAtPosition.word===v.word)return Promise.resolve(0);this.currentWordAtPosition=v;let m=new p.EditorState(this.editor,4|1|2|8);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,y.createCancelablePromise)(E=>this.findDefinition(_,E)),this.previousPromise.then(E=>{if(!E||!E.length||!m.validate(this.editor)){this.removeLinkDecorations();return}if(E.length>1)this.addDecoration(new f.Range(_.lineNumber,v.startColumn,_.lineNumber,v.endColumn),new T.MarkdownString().appendText(s.localize(0,null,E.length)));else{let I=E[0];if(!I.uri)return;this.textModelResolverService.createModelReference(I.uri).then(k=>{if(!k.object||!k.object.textEditorModel){k.dispose();return}const{object:{textEditorModel:A}}=k,{startLineNumber:P}=I.range;if(P<1||P>A.getLineCount()){k.dispose();return}const F=this.getPreviewValue(A,P,I);let M;I.originSelectionRange?M=f.Range.lift(I.originSelectionRange):M=new f.Range(_.lineNumber,v.startColumn,_.lineNumber,v.endColumn);const R=this.modeService.getModeIdByFilepathOrFirstLine(A.uri);this.addDecoration(M,new T.MarkdownString().appendCodeblock(R||"",F)),k.dispose()})}}).then(void 0,N.onUnexpectedError)}getPreviewValue(_,C,v){let m=v.targetSelectionRange?v.range:this.getPreviewRangeBasedOnBrackets(_,C);return m.endLineNumber-m.startLineNumber>=_t.MAX_SOURCE_PREVIEW_LINES&&(m=this.getPreviewRangeBasedOnIndentation(_,C)),this.stripIndentationFromPreviewRange(_,C,m)}stripIndentationFromPreviewRange(_,C,v){let E=_.getLineFirstNonWhitespaceColumn(C);for(let k=C+1;k<v.endLineNumber;k++){const A=_.getLineFirstNonWhitespaceColumn(k);E=Math.min(E,A)}return _.getValueInRange(v).replace(new RegExp(`^\\s{${E-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(_,C){const v=_.getLineFirstNonWhitespaceColumn(C),m=Math.min(_.getLineCount(),C+_t.MAX_SOURCE_PREVIEW_LINES);let E=C+1;for(;E<m;E++){let I=_.getLineFirstNonWhitespaceColumn(E);if(v===I)break}return new f.Range(C,1,E+1,1)}getPreviewRangeBasedOnBrackets(_,C){const v=Math.min(_.getLineCount(),C+_t.MAX_SOURCE_PREVIEW_LINES),m=[];let E=!0,I=_.findNextBracket(new i.Position(C,1));for(;I!==null;){if(m.length===0)m.push(I);else{const F=m[m.length-1];if(F.open[0]===I.open[0]&&F.isOpen&&!I.isOpen?m.pop():m.push(I),m.length===0)if(E)E=!1;else return new f.Range(C,1,I.range.endLineNumber+1,1)}const k=_.getLineMaxColumn(C);let A=I.range.endLineNumber,P=I.range.endColumn;if(k===I.range.endColumn&&(A++,P=1),A>v)return new f.Range(C,1,v+1,1);I=_.findNextBracket(new i.Position(A,P))}return new f.Range(C,1,v+1,1)}addDecoration(_,C){const v={range:_,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:C}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[v])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(_,C){return this.editor.hasModel()&&_.isNoneOrSingleMouseDown&&_.target.type===6&&(_.hasTriggerModifier||(C?C.keyCodeIsTriggerKey:!1))&&r.DefinitionProviderRegistry.has(this.editor.getModel())}findDefinition(_,C){const v=this.editor.getModel();return v?(0,h.getDefinitionsAtPosition)(v,_,C):Promise.resolve(null)}gotoDefinition(_,C){return this.editor.setPosition(_),this.editor.invokeWithinContext(v=>{const m=!C&&this.editor.getOption(77)&&!this.isInPeekEditor(v);return new l.DefinitionAction({openToSide:C,openInPeek:m,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(v,this.editor)})}isInPeekEditor(_){const C=_.get(n.IContextKeyService);return u.PeekContext.inPeekEditor.getValue(C)}dispose(){this.toUnhook.dispose()}};g.ID="editor.contrib.gotodefinitionatposition",g.MAX_SOURCE_PREVIEW_LINES=8,g=Fe([Ce(1,d.ITextModelService),Ce(2,o.IModeService)],g),e.GotoDefinitionAtPositionEditorContribution=g,(0,b.registerEditorContribution)(g.ID,g),(0,t.registerThemingParticipant)((w,_)=>{const C=w.getColor(a.editorActiveLinkForeground);C&&_.addRule(`.monaco-editor .goto-definition-link { color: ${C} !important; }`)})}),define(te[696],ie([0,1,14,2,16,18,258,39,284,264,41,12]),function(q,e,y,N,T,D,S,p,b,i,f,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let o=class extends N.Disposable{constructor(c,u,s,n){super();this._modelService=u,this._themeService=s,this._configurationService=n,this._editor=c,this._tokenizeViewport=new y.RunOnceScheduler(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(a=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(D.DocumentRangeSemanticTokensProviderRegistry.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration(b.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}_cancelAll(){for(const c of this._outstandingRequests)c.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(c){for(let u=0,s=this._outstandingRequests.length;u<s;u++)if(this._outstandingRequests[u]===c){this._outstandingRequests.splice(u,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const c=this._editor.getModel();if(c.hasCompleteSemanticTokens())return;if(!(0,b.isSemanticColoringEnabled)(c,this._themeService,this._configurationService)){c.hasSomeSemanticTokens()&&c.setSemanticTokens(null,!1);return}const u=(0,S.getDocumentRangeSemanticTokensProvider)(c);if(!u){c.hasSomeSemanticTokens()&&c.setSemanticTokens(null,!1);return}const s=this._modelService.getSemanticTokensProviderStyling(u),n=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(n.map(a=>this._requestRange(c,a,u,s)))}_requestRange(c,u,s,n){const a=c.getVersionId(),t=(0,y.createCancelablePromise)(l=>Promise.resolve(s.provideDocumentRangeSemanticTokens(c,u,l)));return t.then(l=>{!l||c.isDisposed()||c.getVersionId()!==a||c.setPartialSemanticTokens(u,(0,i.toMultilineTokens2)(l,n,c.getLanguageIdentifier()))}).then(()=>this._removeOutstandingRequest(t),()=>this._removeOutstandingRequest(t)),t}};o.ID="editor.contrib.viewportSemanticTokens",o=Fe([Ce(1,p.IModelService),Ce(2,r.IThemeService),Ce(3,f.IConfigurationService)],o),(0,T.registerEditorContribution)(o.ID,o)}),define(te[697],ie([0,1,16,28,285,41,15,9,35,72]),function(q,e,y,N,T,D,S,p,b,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let f=class extends T.ReferencesController{constructor(o,d,c,u,s,n,a){super(!0,o,d,c,u,s,n,a)}};f=Fe([Ce(1,S.IContextKeyService),Ce(2,N.ICodeEditorService),Ce(3,b.INotificationService),Ce(4,p.IInstantiationService),Ce(5,i.IStorageService),Ce(6,D.IConfigurationService)],f),e.StandaloneReferencesController=f,(0,y.registerEditorContribution)(T.ReferencesController.ID,f)}),define(te[698],ie([0,1,10,2,48,75,552,123,76,35,157]),function(q,e,y,N,T,D,S,p,b,i,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const r=!1;function o(w){return w.scheme===T.Schemas.file?w.fsPath:w.path}let d=0;class c{constructor(_,C,v,m,E,I,k){this.id=++d,this.type=0,this.actual=_,this.label=_.label,this.confirmBeforeUndo=_.confirmBeforeUndo||!1,this.resourceLabel=C,this.strResource=v,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=m,this.groupOrder=E,this.sourceId=I,this.sourceOrder=k,this.isValid=!0}setValid(_){this.isValid=_}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class u{constructor(_,C){this.resourceLabel=_,this.reason=C}}class s{constructor(){this.elements=new Map}createMessage(){const _=[],C=[];for(const[,m]of this.elements)(m.reason===0?_:C).push(m.resourceLabel);let v=[];return _.length>0&&v.push(S.localize(0,null,_.join(", "))),C.length>0&&v.push(S.localize(1,null,C.join(", "))),v.join(`
`)}get size(){return this.elements.size}has(_){return this.elements.has(_)}set(_,C){this.elements.set(_,C)}delete(_){return this.elements.delete(_)}}class n{constructor(_,C,v,m,E,I,k){this.id=++d,this.type=1,this.actual=_,this.label=_.label,this.confirmBeforeUndo=_.confirmBeforeUndo||!1,this.resourceLabels=C,this.strResources=v,this.groupId=m,this.groupOrder=E,this.sourceId=I,this.sourceOrder=k,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(_,C,v){this.removedResources||(this.removedResources=new s),this.removedResources.has(C)||this.removedResources.set(C,new u(_,v))}setValid(_,C,v){v?this.invalidatedResources&&(this.invalidatedResources.delete(C),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new s),this.invalidatedResources.has(C)||this.invalidatedResources.set(C,new u(_,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class a{constructor(_,C){this.resourceLabel=_,this.strResource=C,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const _ of this._past)_.type===1&&_.removeResource(this.resourceLabel,this.strResource,0);for(const _ of this._future)_.type===1&&_.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let _=[];_.push(`* ${this.strResource}:`);for(let C=0;C<this._past.length;C++)_.push(`   * [UNDO] ${this._past[C]}`);for(let C=this._future.length-1;C>=0;C--)_.push(`   * [REDO] ${this._future[C]}`);return _.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(_,C){_.type===1?_.setValid(this.resourceLabel,this.strResource,C):_.setValid(C)}setElementsValidFlag(_,C){for(const v of this._past)C(v.actual)&&this._setElementValidFlag(v,_);for(const v of this._future)C(v.actual)&&this._setElementValidFlag(v,_)}pushElement(_){for(const C of this._future)C.type===1&&C.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(_),this.versionId++}createSnapshot(_){const C=[];for(let v=0,m=this._past.length;v<m;v++)C.push(this._past[v].id);for(let v=this._future.length-1;v>=0;v--)C.push(this._future[v].id);return new f.ResourceEditStackSnapshot(_,C)}restoreSnapshot(_){const C=_.elements.length;let v=!0,m=0,E=-1;for(let k=0,A=this._past.length;k<A;k++,m++){const P=this._past[k];v&&(m>=C||P.id!==_.elements[m])&&(v=!1,E=0),!v&&P.type===1&&P.removeResource(this.resourceLabel,this.strResource,0)}let I=-1;for(let k=this._future.length-1;k>=0;k--,m++){const A=this._future[k];v&&(m>=C||A.id!==_.elements[m])&&(v=!1,I=k),!v&&A.type===1&&A.removeResource(this.resourceLabel,this.strResource,0)}E!==-1&&(this._past=this._past.slice(0,E)),I!==-1&&(this._future=this._future.slice(I+1)),this.versionId++}getElements(){const _=[],C=[];for(const v of this._past)_.push(v.actual);for(const v of this._future)C.push(v.actual);return{past:_,future:C}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(_,C){for(let v=this._past.length-1;v>=0;v--)if(this._past[v]===_){C.has(this.strResource)?this._past[v]=C.get(this.strResource):this._past.splice(v,1);break}this.versionId++}splitFutureWorkspaceElement(_,C){for(let v=this._future.length-1;v>=0;v--)if(this._future[v]===_){C.has(this.strResource)?this._future[v]=C.get(this.strResource):this._future.splice(v,1);break}this.versionId++}moveBackward(_){this._past.pop(),this._future.push(_),this.versionId++}moveForward(_){this._future.pop(),this._past.push(_),this.versionId++}}class t{constructor(_){this.editStacks=_,this._versionIds=[];for(let C=0,v=this.editStacks.length;C<v;C++)this._versionIds[C]=this.editStacks[C].versionId}isValid(){for(let _=0,C=this.editStacks.length;_<C;_++)if(this._versionIds[_]!==this.editStacks[_].versionId)return!1;return!0}}const l=new a("","");l.locked=!0;let h=class{constructor(_,C){this._dialogService=_,this._notificationService=C,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(_){for(const C of this._uriComparisonKeyComputers)if(C[0]===_.scheme)return C[1].getComparisonKey(_);return _.toString()}_print(_){console.log("------------------------------------"),console.log(`AFTER ${_}: `);let C=[];for(const v of this._editStacks)C.push(v[1].toString());console.log(C.join(`
`))}pushElement(_,C=f.UndoRedoGroup.None,v=f.UndoRedoSource.None){if(_.type===0){const m=o(_.resource),E=this.getUriComparisonKey(_.resource);this._pushElement(new c(_,m,E,C.id,C.nextOrder(),v.id,v.nextOrder()))}else{const m=new Set,E=[],I=[];for(const k of _.resources){const A=o(k),P=this.getUriComparisonKey(k);m.has(P)||(m.add(P),E.push(A),I.push(P))}E.length===1?this._pushElement(new c(_,E[0],I[0],C.id,C.nextOrder(),v.id,v.nextOrder())):this._pushElement(new n(_,E,I,C.id,C.nextOrder(),v.id,v.nextOrder()))}r&&this._print("pushElement")}_pushElement(_){for(let C=0,v=_.strResources.length;C<v;C++){const m=_.resourceLabels[C],E=_.strResources[C];let I;this._editStacks.has(E)?I=this._editStacks.get(E):(I=new a(m,E),this._editStacks.set(E,I)),I.pushElement(_)}}getLastElement(_){const C=this.getUriComparisonKey(_);if(this._editStacks.has(C)){const v=this._editStacks.get(C);if(v.hasFutureElements())return null;const m=v.getClosestPastElement();return m?m.actual:null}return null}_splitPastWorkspaceElement(_,C){const v=_.actual.split(),m=new Map;for(const E of v){const I=o(E.resource),k=this.getUriComparisonKey(E.resource),A=new c(E,I,k,0,0,0,0);m.set(A.strResource,A)}for(const E of _.strResources){if(C&&C.has(E))continue;this._editStacks.get(E).splitPastWorkspaceElement(_,m)}}_splitFutureWorkspaceElement(_,C){const v=_.actual.split(),m=new Map;for(const E of v){const I=o(E.resource),k=this.getUriComparisonKey(E.resource),A=new c(E,I,k,0,0,0,0);m.set(A.strResource,A)}for(const E of _.strResources){if(C&&C.has(E))continue;this._editStacks.get(E).splitFutureWorkspaceElement(_,m)}}removeElements(_){const C=typeof _=="string"?_:this.getUriComparisonKey(_);this._editStacks.has(C)&&(this._editStacks.get(C).dispose(),this._editStacks.delete(C)),r&&this._print("removeElements")}setElementsValidFlag(_,C,v){const m=this.getUriComparisonKey(_);this._editStacks.has(m)&&this._editStacks.get(m).setElementsValidFlag(C,v),r&&this._print("setElementsValidFlag")}createSnapshot(_){const C=this.getUriComparisonKey(_);return this._editStacks.has(C)?this._editStacks.get(C).createSnapshot(_):new f.ResourceEditStackSnapshot(_,[])}restoreSnapshot(_){const C=this.getUriComparisonKey(_.resource);if(this._editStacks.has(C)){const v=this._editStacks.get(C);v.restoreSnapshot(_),!v.hasPastElements()&&!v.hasFutureElements()&&(v.dispose(),this._editStacks.delete(C))}r&&this._print("restoreSnapshot")}getElements(_){const C=this.getUriComparisonKey(_);return this._editStacks.has(C)?this._editStacks.get(C).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(_){if(!_)return[null,null];let C=null,v=null;for(const[m,E]of this._editStacks){const I=E.getClosestPastElement();!I||I.sourceId===_&&(!C||I.sourceOrder>C.sourceOrder)&&(C=I,v=m)}return[C,v]}canUndo(_){if(_ instanceof f.UndoRedoSource){const[,v]=this._findClosestUndoElementWithSource(_.id);return!!v}const C=this.getUriComparisonKey(_);return this._editStacks.has(C)?this._editStacks.get(C).hasPastElements():!1}_onError(_,C){(0,y.onUnexpectedError)(_);for(const v of C.strResources)this.removeElements(v);this._notificationService.error(_)}_acquireLocks(_){for(const C of _.editStacks)if(C.locked)throw new Error("Cannot acquire edit stack lock");for(const C of _.editStacks)C.locked=!0;return()=>{for(const C of _.editStacks)C.locked=!1}}_safeInvokeWithLocks(_,C,v,m,E){const I=this._acquireLocks(v);let k;try{k=C()}catch(A){return I(),m.dispose(),this._onError(A,_)}return k?k.then(()=>(I(),m.dispose(),E()),A=>(I(),m.dispose(),this._onError(A,_))):(I(),m.dispose(),E())}_invokeWorkspacePrepare(_){return Me(this,void 0,void 0,function*(){if(typeof _.actual.prepareUndoRedo=="undefined")return N.Disposable.None;const C=_.actual.prepareUndoRedo();return typeof C=="undefined"?N.Disposable.None:C})}_invokeResourcePrepare(_,C){if(_.actual.type!==1||typeof _.actual.prepareUndoRedo=="undefined")return C(N.Disposable.None);const v=_.actual.prepareUndoRedo();return v?(0,N.isDisposable)(v)?C(v):v.then(m=>C(m)):C(N.Disposable.None)}_getAffectedEditStacks(_){const C=[];for(const v of _.strResources)C.push(this._editStacks.get(v)||l);return new t(C)}_tryToSplitAndUndo(_,C,v,m){if(C.canSplit())return this._splitPastWorkspaceElement(C,v),this._notificationService.warn(m),new g(this._undo(_,0,!0));for(const E of C.strResources)this.removeElements(E);return this._notificationService.warn(m),new g}_checkWorkspaceUndo(_,C,v,m){if(C.removedResources)return this._tryToSplitAndUndo(_,C,C.removedResources,S.localize(2,null,C.label,C.removedResources.createMessage()));if(m&&C.invalidatedResources)return this._tryToSplitAndUndo(_,C,C.invalidatedResources,S.localize(3,null,C.label,C.invalidatedResources.createMessage()));const E=[];for(const k of v.editStacks)k.getClosestPastElement()!==C&&E.push(k.resourceLabel);if(E.length>0)return this._tryToSplitAndUndo(_,C,null,S.localize(4,null,C.label,E.join(", ")));const I=[];for(const k of v.editStacks)k.locked&&I.push(k.resourceLabel);return I.length>0?this._tryToSplitAndUndo(_,C,null,S.localize(5,null,C.label,I.join(", "))):v.isValid()?null:this._tryToSplitAndUndo(_,C,null,S.localize(6,null,C.label))}_workspaceUndo(_,C,v){const m=this._getAffectedEditStacks(C),E=this._checkWorkspaceUndo(_,C,m,!1);return E?E.returnValue:this._confirmAndExecuteWorkspaceUndo(_,C,m,v)}_isPartOfUndoGroup(_){if(!_.groupId)return!1;for(const[,C]of this._editStacks){const v=C.getClosestPastElement();if(!!v){if(v===_){const m=C.getSecondClosestPastElement();if(m&&m.groupId===_.groupId)return!0}if(v.groupId===_.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(_,C,v,m){return Me(this,void 0,void 0,function*(){if(C.canSplit()&&!this._isPartOfUndoGroup(C)){const k=yield this._dialogService.show(D.default.Info,S.localize(7,null,C.label),[S.localize(8,null,v.editStacks.length),S.localize(9,null),S.localize(10,null)],{cancelId:2});if(k.choice===2)return;if(k.choice===1)return this._splitPastWorkspaceElement(C,null),this._undo(_,0,!0);const A=this._checkWorkspaceUndo(_,C,v,!1);if(A)return A.returnValue;m=!0}let E;try{E=yield this._invokeWorkspacePrepare(C)}catch(k){return this._onError(k,C)}const I=this._checkWorkspaceUndo(_,C,v,!0);if(I)return E.dispose(),I.returnValue;for(const k of v.editStacks)k.moveBackward(C);return this._safeInvokeWithLocks(C,()=>C.actual.undo(),v,E,()=>this._continueUndoInGroup(C.groupId,m))})}_resourceUndo(_,C,v){if(!C.isValid){_.flushAllElements();return}if(_.locked){const m=S.localize(11,null,C.label);this._notificationService.warn(m);return}return this._invokeResourcePrepare(C,m=>(_.moveBackward(C),this._safeInvokeWithLocks(C,()=>C.actual.undo(),new t([_]),m,()=>this._continueUndoInGroup(C.groupId,v))))}_findClosestUndoElementInGroup(_){if(!_)return[null,null];let C=null,v=null;for(const[m,E]of this._editStacks){const I=E.getClosestPastElement();!I||I.groupId===_&&(!C||I.groupOrder>C.groupOrder)&&(C=I,v=m)}return[C,v]}_continueUndoInGroup(_,C){if(!_)return;const[,v]=this._findClosestUndoElementInGroup(_);if(v)return this._undo(v,0,C)}undo(_){if(_ instanceof f.UndoRedoSource){const[,C]=this._findClosestUndoElementWithSource(_.id);return C?this._undo(C,_.id,!1):void 0}return typeof _=="string"?this._undo(_,0,!1):this._undo(this.getUriComparisonKey(_),0,!1)}_undo(_,C=0,v){if(!this._editStacks.has(_))return;const m=this._editStacks.get(_),E=m.getClosestPastElement();if(!E)return;if(E.groupId){const[k,A]=this._findClosestUndoElementInGroup(E.groupId);if(E!==k&&A)return this._undo(A,C,v)}if((E.sourceId!==C||E.confirmBeforeUndo)&&!v)return this._confirmAndContinueUndo(_,C,E);try{return E.type===1?this._workspaceUndo(_,E,v):this._resourceUndo(m,E,v)}finally{r&&this._print("undo")}}_confirmAndContinueUndo(_,C,v){return Me(this,void 0,void 0,function*(){if((yield this._dialogService.show(D.default.Info,S.localize(12,null,v.label),[S.localize(13,null),S.localize(14,null)],{cancelId:1})).choice!==1)return this._undo(_,C,!0)})}_findClosestRedoElementWithSource(_){if(!_)return[null,null];let C=null,v=null;for(const[m,E]of this._editStacks){const I=E.getClosestFutureElement();!I||I.sourceId===_&&(!C||I.sourceOrder<C.sourceOrder)&&(C=I,v=m)}return[C,v]}canRedo(_){if(_ instanceof f.UndoRedoSource){const[,v]=this._findClosestRedoElementWithSource(_.id);return!!v}const C=this.getUriComparisonKey(_);return this._editStacks.has(C)?this._editStacks.get(C).hasFutureElements():!1}_tryToSplitAndRedo(_,C,v,m){if(C.canSplit())return this._splitFutureWorkspaceElement(C,v),this._notificationService.warn(m),new g(this._redo(_));for(const E of C.strResources)this.removeElements(E);return this._notificationService.warn(m),new g}_checkWorkspaceRedo(_,C,v,m){if(C.removedResources)return this._tryToSplitAndRedo(_,C,C.removedResources,S.localize(15,null,C.label,C.removedResources.createMessage()));if(m&&C.invalidatedResources)return this._tryToSplitAndRedo(_,C,C.invalidatedResources,S.localize(16,null,C.label,C.invalidatedResources.createMessage()));const E=[];for(const k of v.editStacks)k.getClosestFutureElement()!==C&&E.push(k.resourceLabel);if(E.length>0)return this._tryToSplitAndRedo(_,C,null,S.localize(17,null,C.label,E.join(", ")));const I=[];for(const k of v.editStacks)k.locked&&I.push(k.resourceLabel);return I.length>0?this._tryToSplitAndRedo(_,C,null,S.localize(18,null,C.label,I.join(", "))):v.isValid()?null:this._tryToSplitAndRedo(_,C,null,S.localize(19,null,C.label))}_workspaceRedo(_,C){const v=this._getAffectedEditStacks(C),m=this._checkWorkspaceRedo(_,C,v,!1);return m?m.returnValue:this._executeWorkspaceRedo(_,C,v)}_executeWorkspaceRedo(_,C,v){return Me(this,void 0,void 0,function*(){let m;try{m=yield this._invokeWorkspacePrepare(C)}catch(I){return this._onError(I,C)}const E=this._checkWorkspaceRedo(_,C,v,!0);if(E)return m.dispose(),E.returnValue;for(const I of v.editStacks)I.moveForward(C);return this._safeInvokeWithLocks(C,()=>C.actual.redo(),v,m,()=>this._continueRedoInGroup(C.groupId))})}_resourceRedo(_,C){if(!C.isValid){_.flushAllElements();return}if(_.locked){const v=S.localize(20,null,C.label);this._notificationService.warn(v);return}return this._invokeResourcePrepare(C,v=>(_.moveForward(C),this._safeInvokeWithLocks(C,()=>C.actual.redo(),new t([_]),v,()=>this._continueRedoInGroup(C.groupId))))}_findClosestRedoElementInGroup(_){if(!_)return[null,null];let C=null,v=null;for(const[m,E]of this._editStacks){const I=E.getClosestFutureElement();!I||I.groupId===_&&(!C||I.groupOrder<C.groupOrder)&&(C=I,v=m)}return[C,v]}_continueRedoInGroup(_){if(!_)return;const[,C]=this._findClosestRedoElementInGroup(_);if(C)return this._redo(C)}redo(_){if(_ instanceof f.UndoRedoSource){const[,C]=this._findClosestRedoElementWithSource(_.id);return C?this._redo(C):void 0}return typeof _=="string"?this._redo(_):this._redo(this.getUriComparisonKey(_))}_redo(_){if(!this._editStacks.has(_))return;const C=this._editStacks.get(_),v=C.getClosestFutureElement();if(!!v){if(v.groupId){const[m,E]=this._findClosestRedoElementInGroup(v.groupId);if(v!==m&&E)return this._redo(E)}try{return v.type===1?this._workspaceRedo(_,v):this._resourceRedo(C,v)}finally{r&&this._print("redo")}}}};h=Fe([Ce(0,p.IDialogService),Ce(1,i.INotificationService)],h),e.UndoRedoService=h;class g{constructor(_){this.returnValue=_}}(0,b.registerSingleton)(f.IUndoRedoService,h)}),define(te[199],ie([0,1,47,9]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceFolder=e.Workspace=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,N.createDecorator)("contextService");class T{constructor(p,b,i,f,r){this._id=p,this._transient=i,this._configuration=f,this._ignorePathCasing=r,this._foldersMap=y.TernarySearchTree.forUris(this._ignorePathCasing),this.folders=b}get folders(){return this._folders}set folders(p){this._folders=p,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(p){this._configuration=p}getFolder(p){return p&&this._foldersMap.findSubstr(p.with({scheme:p.scheme,authority:p.authority,path:p.path}))||null}updateFoldersMap(){this._foldersMap=y.TernarySearchTree.forUris(this._ignorePathCasing);for(const p of this.folders)this._foldersMap.set(p.uri,p)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=T;class D{constructor(p,b){this.raw=b,this.uri=p.uri,this.index=p.index,this.name=p.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=D}),define(te[200],ie([0,1,8,7,52,6,43,2,17,75,24,113,142,191,59,13,3,39,26,41,586,568,262,80,570,571,35,199,64]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h,g,w,_,C,v,m,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleLayoutService=e.SimpleUriLabelService=e.SimpleBulkEditService=e.updateConfigurationService=e.SimpleWorkspaceContextService=e.StandaloneTelemetryService=e.SimpleResourcePropertiesService=e.SimpleResourceConfigurationService=e.SimpleConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.SimpleNotificationService=e.SimpleDialogService=e.SimpleEditorProgressService=e.SimpleEditorModelResolverService=e.SimpleModel=void 0;class I{constructor(x){this.disposed=!1,this.model=x,this._onWillDispose=new D.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}e.SimpleModel=I;function k(K,x,U){return(0,r.isCodeEditor)(K)?x(K):U(K)}let A=class{constructor(x){this.modelService=x}setEditor(x){this.editor=x}createModelReference(x){let U=null;return this.editor&&(U=k(this.editor,H=>this.findModel(H,x),H=>this.findModel(H.getOriginalEditor(),x)||this.findModel(H.getModifiedEditor(),x))),U?Promise.resolve(new p.ImmortalReference(new I(U))):Promise.reject(new Error("Model not found"))}findModel(x,U){let H=this.modelService.getModel(U);return H&&H.uri.toString()!==U.toString()?null:H}};A=Fe([Ce(0,n.IModelService)],A),e.SimpleEditorModelResolverService=A;class P{show(){return P.NULL_PROGRESS_RUNNER}showWhile(x,U){return Me(this,void 0,void 0,function*(){yield x})}}e.SimpleEditorProgressService=P,P.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class F{confirm(x){return this.doConfirm(x).then(U=>({confirmed:U,checkboxChecked:!1}))}doConfirm(x){let U=x.message;return x.detail&&(U=U+`

`+x.detail),Promise.resolve(window.confirm(U))}show(x,U,H,V){return Promise.resolve({choice:0})}}e.SimpleDialogService=F;class M{info(x){return this.notify({severity:i.default.Info,message:x})}warn(x){return this.notify({severity:i.default.Warning,message:x})}error(x){return this.notify({severity:i.default.Error,message:x})}notify(x){switch(x.severity){case i.default.Error:console.error(x.message);break;case i.default.Warning:console.warn(x.message);break;default:console.log(x.message);break}return M.NO_OP}status(x,U){return p.Disposable.None}}e.SimpleNotificationService=M,M.NO_OP=new v.NoOpNotification;class R{constructor(x){this._onWillExecuteCommand=new D.Emitter,this._onDidExecuteCommand=new D.Emitter,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=x}executeCommand(x,...U){const H=a.CommandsRegistry.getCommand(x);if(!H)return Promise.reject(new Error(`command '${x}' not found`));try{this._onWillExecuteCommand.fire({commandId:x,args:U});const V=this._instantiationService.invokeFunction.apply(this._instantiationService,[H.handler,...U]);return this._onDidExecuteCommand.fire({commandId:x,args:U}),Promise.resolve(V)}catch(V){return Promise.reject(V)}}}e.StandaloneCommandService=R;class O extends h.AbstractKeybindingService{constructor(x,U,H,V,ne,ue){super(x,U,H,V,ne);this._cachedResolver=null,this._dynamicKeybindings=[],this._register(N.addDisposableListener(ue,N.EventType.KEY_DOWN,pe=>{const ge=new T.StandardKeyboardEvent(pe);this._dispatch(ge,ge.target)&&(ge.preventDefault(),ge.stopPropagation())})),this._register(N.addDisposableListener(window,N.EventType.KEY_UP,pe=>{const ge=new T.StandardKeyboardEvent(pe);this._singleModifierDispatch(ge,ge.target)&&ge.preventDefault()}))}addDynamicKeybinding(x,U,H,V){const ne=(0,S.createKeybinding)(U,b.OS),ue=new p.DisposableStore;return ne&&(this._dynamicKeybindings.push({keybinding:ne,command:x,when:V,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),ue.add((0,p.toDisposable)(()=>{for(let pe=0;pe<this._dynamicKeybindings.length;pe++)if(this._dynamicKeybindings[pe].command===x){this._dynamicKeybindings.splice(pe,1),this.updateResolver({source:1});return}}))),ue.add(a.CommandsRegistry.registerCommand(x,H)),this.updateResolver({source:1}),ue}updateResolver(x){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(x)}_getResolver(){if(!this._cachedResolver){const x=this._toNormalizedKeybindingItems(w.KeybindingsRegistry.getDefaultKeybindings(),!0),U=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new g.KeybindingResolver(x,U,H=>this._log(H))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(x,U){let H=[],V=0;for(const ne of x){const ue=ne.when||void 0,pe=ne.keybinding;if(!pe)H[V++]=new _.ResolvedKeybindingItem(void 0,ne.command,ne.commandArgs,ue,U,null,!1);else{const ge=this.resolveKeybinding(pe);for(const W of ge)H[V++]=new _.ResolvedKeybindingItem(W,ne.command,ne.commandArgs,ue,U,null,!1)}}return H}resolveKeybinding(x){return[new C.USLayoutResolvedKeybinding(x,b.OS)]}resolveKeyboardEvent(x){let U=new S.SimpleKeybinding(x.ctrlKey,x.shiftKey,x.altKey,x.metaKey,x.keyCode).toChord();return new C.USLayoutResolvedKeybinding(U,b.OS)}}e.StandaloneKeybindingService=O;function L(K){return K&&typeof K=="object"&&(!K.overrideIdentifier||typeof K.overrideIdentifier=="string")&&(!K.resource||K.resource instanceof f.URI)}class B{constructor(){this._onDidChangeConfiguration=new D.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new l.Configuration(new l.DefaultConfigurationModel,new l.ConfigurationModel)}getValue(x,U){const H=typeof x=="string"?x:void 0,V=L(x)?x:L(U)?U:{};return this._configuration.getValue(H,V,void 0)}updateValues(x){const U={data:this._configuration.toData()};let H=[];for(const V of x){const[ne,ue]=V;this.getValue(ne)!==ue&&(this._configuration.updateValue(ne,ue),H.push(ne))}if(H.length>0){const V=new l.ConfigurationChangeEvent({keys:H,overrides:[]},U,this._configuration);V.source=7,V.sourceConfig=null,this._onDidChangeConfiguration.fire(V)}return Promise.resolve()}}e.SimpleConfigurationService=B;class z{constructor(x){this.configurationService=x,this._onDidChangeConfiguration=new D.Emitter,this.configurationService.onDidChangeConfiguration(U=>{this._onDidChangeConfiguration.fire({affectedKeys:U.affectedKeys,affectsConfiguration:(H,V)=>U.affectsConfiguration(V)})})}getValue(x,U,H){const ne=(u.Position.isIPosition(U)?U:null)?typeof H=="string"?H:void 0:typeof U=="string"?U:void 0;return typeof ne=="undefined"?this.configurationService.getValue():this.configurationService.getValue(ne)}}e.SimpleResourceConfigurationService=z;let $=class{constructor(x){this.configurationService=x}getEOL(x,U){const H=this.configurationService.getValue("files.eol",{overrideIdentifier:U,resource:x});return H&&typeof H=="string"&&H!=="auto"?H:b.isLinux||b.isMacintosh?`
`:`\r
`}};$=Fe([Ce(0,t.IConfigurationService)],$),e.SimpleResourcePropertiesService=$;class j{publicLog(x,U){return Promise.resolve(void 0)}publicLog2(x,U){return this.publicLog(x,U)}}e.StandaloneTelemetryService=j;class X{constructor(){const x=f.URI.from({scheme:X.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new m.WorkspaceFolder({uri:x,name:"",index:0})]}}getWorkspace(){return this.workspace}}e.SimpleWorkspaceContextService=X,X.SCHEME="inmemory";function Q(K,x,U){if(!x||!(K instanceof B))return;let H=[];Object.keys(x).forEach(V=>{(0,d.isEditorConfigurationKey)(V)&&H.push([`editor.${V}`,x[V]]),U&&(0,d.isDiffEditorConfigurationKey)(V)&&H.push([`diffEditor.${V}`,x[V]])}),H.length>0&&K.updateValues(H)}e.updateConfigurationService=Q;class Y{constructor(x){this._modelService=x}hasPreviewHandler(){return!1}apply(x,U){return Me(this,void 0,void 0,function*(){const H=new Map;for(let ue of x){if(!(ue instanceof o.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const pe=this._modelService.getModel(ue.resource);if(!pe)throw new Error("bad edit - model not found");if(typeof ue.versionId=="number"&&pe.getVersionId()!==ue.versionId)throw new Error("bad state - model changed in the meantime");let ge=H.get(pe);ge||(ge=[],H.set(pe,ge)),ge.push(c.EditOperation.replaceMove(s.Range.lift(ue.textEdit.range),ue.textEdit.text))}let V=0,ne=0;for(const[ue,pe]of H)ue.pushStackElement(),ue.pushEditOperations([],pe,()=>[]),ue.pushStackElement(),ne+=1,V+=pe.length;return{ariaSummary:y.format(E.SimpleServicesNLS.bulkEditServiceSummary,V,ne)}})}}e.SimpleBulkEditService=Y;class oe{getUriLabel(x,U){return x.scheme==="file"?x.fsPath:x.path}}e.SimpleUriLabelService=oe;class se{constructor(x,U){this._codeEditorService=x,this._container=U,this.onDidLayout=D.Event.None}get dimension(){return this._dimension||(this._dimension=N.getClientArea(window.document.body)),this._dimension}get container(){return this._container}focus(){var x;(x=this._codeEditorService.getFocusedCodeEditor())===null||x===void 0||x.focus()}}e.SimpleLayoutService=se}),define(te[699],ie([0,1,45,2,28,152,281,227,77,200,122,33,26,41,15,70,9,40,35,12,60,64,88,61,39,56,274,108]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h,g,w,_,C,v,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let E=0,I=!1;function k(O){if(!O){if(I)return;I=!0}y.setARIAContainer(O||document.body)}let A=class extends D.CodeEditorWidget{constructor(L,B,z,$,j,X,Q,Y,oe,se){const K=Object.assign({},B);K.ariaLabel=K.ariaLabel||h.StandaloneCodeEditorNLS.editorViewAccessibleLabel,K.ariaLabel=K.ariaLabel+";"+h.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(L,K,{},z,$,j,X,Y,oe,se),Q instanceof i.StandaloneKeybindingService?this._standaloneKeybindingService=Q:this._standaloneKeybindingService=null,k(K.ariaContainerElement)}addCommand(L,B,z){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let $="DYNAMIC_"+ ++E,j=c.ContextKeyExpr.deserialize(z);return this._standaloneKeybindingService.addDynamicKeybinding($,L,B,j),$}createContextKey(L,B){return this._contextKeyService.createKey(L,B)}addAction(L){if(typeof L.id!="string"||typeof L.label!="string"||typeof L.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),N.Disposable.None;const B=L.id,z=L.label,$=c.ContextKeyExpr.and(c.ContextKeyExpr.equals("editorId",this.getId()),c.ContextKeyExpr.deserialize(L.precondition)),j=L.keybindings,X=c.ContextKeyExpr.and($,c.ContextKeyExpr.deserialize(L.keybindingContext)),Q=L.contextMenuGroupId||null,Y=L.contextMenuOrder||0,oe=(U,...H)=>Promise.resolve(L.run(this,...H)),se=new N.DisposableStore,K=this.getId()+":"+B;if(se.add(o.CommandsRegistry.registerCommand(K,oe)),Q){let U={command:{id:K,title:z},when:$,group:Q,order:Y};se.add(r.MenuRegistry.appendMenuItem(r.MenuId.EditorContext,U))}if(Array.isArray(j))for(const U of j)se.add(this._standaloneKeybindingService.addDynamicKeybinding(K,U,oe,X));let x=new p.InternalEditorAction(K,z,z,$,oe,this._contextKeyService);return this._actions[B]=x,se.add((0,N.toDisposable)(()=>{delete this._actions[B]})),se}_triggerCommand(L,B){if(this._codeEditorService instanceof v.StandaloneCodeEditorServiceImpl)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(L,B)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(L,B)}};A=Fe([Ce(2,s.IInstantiationService),Ce(3,T.ICodeEditorService),Ce(4,o.ICommandService),Ce(5,c.IContextKeyService),Ce(6,n.IKeybindingService),Ce(7,t.IThemeService),Ce(8,a.INotificationService),Ce(9,l.IAccessibilityService)],A),e.StandaloneCodeEditor=A;let P=class extends A{constructor(L,B,z,$,j,X,Q,Y,oe,se,K,x,U,H,V){const ne=Object.assign({},B);(0,i.updateConfigurationService)(x,ne,!1);const ue=se.registerEditorContainer(L);typeof ne.theme=="string"&&se.setTheme(ne.theme),typeof ne.autoDetectHighContrast!="undefined"&&se.setAutoDetectHighContrast(Boolean(ne.autoDetectHighContrast));let pe=ne.model;delete ne.model,super(L,ne,$,j,X,Q,Y,se,K,U),this._contextViewService=oe,this._configurationService=x,this._standaloneThemeService=se,this._register(z),this._register(ue);let ge;if(typeof pe=="undefined"?(ge=M(H,V,ne.value||"",ne.language||m.Mimes.text,void 0),this._ownsModel=!0):(ge=pe,this._ownsModel=!1),this._attachModel(ge),ge){let W={oldModelUrl:null,newModelUrl:ge.uri};this._onDidChangeModel.fire(W)}}dispose(){super.dispose()}updateOptions(L){(0,i.updateConfigurationService)(this._configurationService,L,!1),typeof L.theme=="string"&&this._standaloneThemeService.setTheme(L.theme),typeof L.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(L.autoDetectHighContrast)),super.updateOptions(L)}_attachModel(L){super._attachModel(L),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(L){super._postDetachModelCleanup(L),L&&this._ownsModel&&(L.dispose(),this._ownsModel=!1)}};P=Fe([Ce(3,s.IInstantiationService),Ce(4,T.ICodeEditorService),Ce(5,o.ICommandService),Ce(6,c.IContextKeyService),Ce(7,n.IKeybindingService),Ce(8,u.IContextViewService),Ce(9,f.IStandaloneThemeService),Ce(10,a.INotificationService),Ce(11,d.IConfigurationService),Ce(12,l.IAccessibilityService),Ce(13,_.IModelService),Ce(14,C.IModeService)],P),e.StandaloneEditor=P;let F=class extends S.DiffEditorWidget{constructor(L,B,z,$,j,X,Q,Y,oe,se,K,x,U,H,V){const ne=Object.assign({},B);(0,i.updateConfigurationService)(x,ne,!0);const ue=se.registerEditorContainer(L);typeof ne.theme=="string"&&se.setTheme(ne.theme),typeof ne.autoDetectHighContrast!="undefined"&&se.setAutoDetectHighContrast(Boolean(ne.autoDetectHighContrast)),super(L,ne,{},V,Y,j,$,oe,se,K,U,H),this._contextViewService=Q,this._configurationService=x,this._standaloneThemeService=se,this._register(z),this._register(ue),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(L){(0,i.updateConfigurationService)(this._configurationService,L,!0),typeof L.theme=="string"&&this._standaloneThemeService.setTheme(L.theme),typeof L.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(L.autoDetectHighContrast)),super.updateOptions(L)}_createInnerEditor(L,B,z){return L.createInstance(A,B,z)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(L,B,z){return this.getModifiedEditor().addCommand(L,B,z)}createContextKey(L,B){return this.getModifiedEditor().createContextKey(L,B)}addAction(L){return this.getModifiedEditor().addAction(L)}};F=Fe([Ce(3,s.IInstantiationService),Ce(4,c.IContextKeyService),Ce(5,n.IKeybindingService),Ce(6,u.IContextViewService),Ce(7,b.IEditorWorkerService),Ce(8,T.ICodeEditorService),Ce(9,f.IStandaloneThemeService),Ce(10,a.INotificationService),Ce(11,d.IConfigurationService),Ce(12,u.IContextMenuService),Ce(13,w.IEditorProgressService),Ce(14,g.IClipboardService)],F),e.StandaloneDiffEditor=F;function M(O,L,B,z,$){if(B=B||"",!z){const j=B.indexOf(`
`);let X=B;return j!==-1&&(X=B.substring(0,j)),R(O,B,L.createByFilepathOrFirstLine($||null,X),$)}return R(O,B,L.create(z),$)}e.createTextModel=M;function R(O,L,B,z){return O.createModel(L,B,z)}}),define(te[288],ie([0,1,2,142,28,77,263,56,584,39,284,145,200,274,694,122,33,26,41,587,15,678,70,572,123,9,567,146,40,124,156,71,575,89,35,61,72,90,12,199,676,188,614,60,147,76,585,88,554,157,698,680,79]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h,g,w,_,C,v,m,E,I,k,A,P,F,M,R,O,L,B,z,$,j,X,Q,Y,oe,se,K,x,U,H,V,ne){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicStandaloneServices=e.StaticServices=void 0;var ue;(function(ge){const W=new m.ServiceCollection;class G{constructor(J,Z){this._serviceId=J,this._factory=Z,this._value=null}get id(){return this._serviceId}get(J){if(!this._value){if(J&&(this._value=J[this._serviceId.toString()]),this._value||(this._value=this._factory(J)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");W.set(this._serviceId,this._value)}return this._value}}ge.LazyStaticService=G;let re=[];function ee(ce,J){let Z=new G(ce,J);return re.push(Z),Z}function de(ce){let J=new m.ServiceCollection;for(const[le,he]of(0,oe.getSingletonServiceDescriptors)())J.set(le,he);for(let le in ce)ce.hasOwnProperty(le)&&J.set((0,C.createDecorator)(le),ce[le]);re.forEach(le=>J.set(le.id,le.get(ce)));let Z=new v.InstantiationService(J,!0);return J.set(C.IInstantiationService,Z),[J,Z]}ge.init=de,ge.instantiationService=ee(C.IInstantiationService,()=>new v.InstantiationService(W,!0));const ae=new o.SimpleConfigurationService;ge.configurationService=ee(a.IConfigurationService,()=>ae),ge.resourceConfigurationService=ee(r.ITextResourceConfigurationService,()=>new o.SimpleResourceConfigurationService(ae)),ge.resourcePropertiesService=ee(r.ITextResourcePropertiesService,()=>new o.SimpleResourcePropertiesService(ae)),ge.contextService=ee(z.IWorkspaceContextService,()=>new o.SimpleWorkspaceContextService),ge.labelService=ee(I.ILabelService,()=>new o.SimpleUriLabelService),ge.telemetryService=ee(L.ITelemetryService,()=>new o.StandaloneTelemetryService),ge.dialogService=ee(_.IDialogService,()=>new o.SimpleDialogService),ge.notificationService=ee(M.INotificationService,()=>new o.SimpleNotificationService),ge.markerService=ee(F.IMarkerService,()=>new P.MarkerService),ge.modeService=ee(p.IModeService,ce=>new b.ModeServiceImpl),ge.standaloneThemeService=ee(u.IStandaloneThemeService,()=>new c.StandaloneThemeServiceImpl),ge.logService=ee(A.ILogService,()=>new A.LogService(new A.ConsoleLogger)),ge.undoRedoService=ee(U.IUndoRedoService,ce=>new H.UndoRedoService(ge.dialogService.get(ce),ge.notificationService.get(ce))),ge.modelService=ee(i.IModelService,ce=>new f.ModelServiceImpl(ge.configurationService.get(ce),ge.resourcePropertiesService.get(ce),ge.standaloneThemeService.get(ce),ge.logService.get(ce),ge.undoRedoService.get(ce))),ge.markerDecorationsService=ee(j.IMarkerDecorationsService,ce=>new X.MarkerDecorationsService(ge.modelService.get(ce),ge.markerService.get(ce))),ge.contextKeyService=ee(l.IContextKeyService,ce=>new t.ContextKeyService(ge.configurationService.get(ce))),ge.codeEditorService=ee(T.ICodeEditorService,ce=>new d.StandaloneCodeEditorServiceImpl(null,ge.contextKeyService.get(ce),ge.standaloneThemeService.get(ce))),ge.editorProgressService=ee(R.IEditorProgressService,()=>new o.SimpleEditorProgressService),ge.storageService=ee(O.IStorageService,()=>new O.InMemoryStorageService),ge.editorWorkerService=ee(D.IEditorWorkerService,ce=>new S.EditorWorkerServiceImpl(ge.modelService.get(ce),ge.resourceConfigurationService.get(ce),ge.logService.get(ce)))})(ue=e.StaticServices||(e.StaticServices={}));class pe extends y.Disposable{constructor(W,G){super();const[re,ee]=ue.init(G);this._serviceCollection=re,this._instantiationService=ee;const de=this.get(a.IConfigurationService),ae=this.get(M.INotificationService),ce=this.get(L.ITelemetryService),J=this.get(B.IThemeService),Z=this.get(A.ILogService),le=this.get(l.IContextKeyService);let he=(Pe,Oe)=>{let Ve=null;return G&&(Ve=G[Pe.toString()]),Ve||(Ve=Oe()),this._serviceCollection.set(Pe,Ve),Ve};he(Q.IAccessibilityService,()=>new se.AccessibilityService(le,de)),he(k.IListService,()=>new k.ListService(J));let ve=he(n.ICommandService,()=>new o.StandaloneCommandService(this._instantiationService)),be=he(E.IKeybindingService,()=>this._register(new o.StandaloneKeybindingService(le,ve,ce,ae,Z,W))),we=he(Y.ILayoutService,()=>new o.SimpleLayoutService(ue.codeEditorService.get(T.ICodeEditorService),W));he(ne.IQuickInputService,()=>new V.StandaloneQuickInputServiceImpl(ee,ue.codeEditorService.get(T.ICodeEditorService)));let Te=he(g.IContextViewService,()=>this._register(new w.ContextViewService(we)));he(K.IClipboardService,()=>new x.BrowserClipboardService),he(g.IContextMenuService,()=>{const Pe=new h.ContextMenuService(ce,ae,Te,be,J);return Pe.configure({blockMouse:!1}),this._register(Pe)}),he(s.IMenuService,()=>new $.MenuService(ve)),he(N.IBulkEditService,()=>new o.SimpleBulkEditService(ue.modelService.get(i.IModelService)))}get(W){let G=this._serviceCollection.get(W);if(!G)throw new Error("Missing service "+W);return G}set(W,G){this._serviceCollection.set(W,G)}has(W){return this._serviceCollection.has(W)}}e.DynamicStandaloneServices=pe}),define(te[700],ie([0,1,28,576,225,34,171,112,49,18,78,77,56,69,573,177,561,200,699,288,122,26,41,15,70,9,40,35,57,60,65,61,88,8,39,376]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h,g,w,_,C,v,m,E,I,k,A,P,F,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.createDiffNavigator=e.createDiffEditor=e.onDidCreateEditor=e.create=void 0;function R(ae,ce,J){let Z=new t.DynamicStandaloneServices(ae,ce),le=null;Z.has(d.ITextModelService)||(le=new n.SimpleEditorModelResolverService(t.StaticServices.modelService.get()),Z.set(d.ITextModelService,le)),Z.has(E.IOpenerService)||Z.set(E.IOpenerService,new N.OpenerService(Z.get(y.ICodeEditorService),Z.get(h.ICommandService)));let he=J(Z);return le&&le.setEditor(he),he}function O(ae,ce,J){return R(ae,J||{},Z=>new a.StandaloneEditor(ae,ce,Z,Z.get(C.IInstantiationService),Z.get(y.ICodeEditorService),Z.get(h.ICommandService),Z.get(w.IContextKeyService),Z.get(v.IKeybindingService),Z.get(_.IContextViewService),Z.get(l.IStandaloneThemeService),Z.get(m.INotificationService),Z.get(g.IConfigurationService),Z.get(I.IAccessibilityService),Z.get(M.IModelService),Z.get(o.IModeService)))}e.create=O;function L(ae){return t.StaticServices.codeEditorService.get().onCodeEditorAdd(ce=>{ae(ce)})}e.onDidCreateEditor=L;function B(ae,ce,J){return R(ae,J||{},Z=>new a.StandaloneDiffEditor(ae,ce,Z,Z.get(C.IInstantiationService),Z.get(w.IContextKeyService),Z.get(v.IKeybindingService),Z.get(_.IContextViewService),Z.get(r.IEditorWorkerService),Z.get(y.ICodeEditorService),Z.get(l.IStandaloneThemeService),Z.get(m.INotificationService),Z.get(g.IConfigurationService),Z.get(_.IContextMenuService),Z.get(A.IEditorProgressService),Z.get(P.IClipboardService)))}e.createDiffEditor=B;function z(ae,ce){return new T.DiffNavigator(ae,ce)}e.createDiffNavigator=z;function $(ae,ce,J){return(0,a.createTextModel)(t.StaticServices.modelService.get(),t.StaticServices.modeService.get(),ae,ce,J)}e.createModel=$;function j(ae,ce){t.StaticServices.modelService.get().setMode(ae,t.StaticServices.modeService.get().create(ce))}e.setModelLanguage=j;function X(ae,ce,J){ae&&t.StaticServices.markerService.get().changeOne(ce,ae.uri,J)}e.setModelMarkers=X;function Q(ae){return t.StaticServices.markerService.get().read(ae)}e.getModelMarkers=Q;function Y(ae){return t.StaticServices.markerService.get().onMarkerChanged(ae)}e.onDidChangeMarkers=Y;function oe(ae){return t.StaticServices.modelService.get().getModel(ae)}e.getModel=oe;function se(){return t.StaticServices.modelService.get().getModels()}e.getModels=se;function K(ae){return t.StaticServices.modelService.get().onModelAdded(ae)}e.onDidCreateModel=K;function x(ae){return t.StaticServices.modelService.get().onModelRemoved(ae)}e.onWillDisposeModel=x;function U(ae){return t.StaticServices.modelService.get().onModelModeChanged(ce=>{ae({model:ce.model,oldLanguage:ce.oldModeId})})}e.onDidChangeModelLanguage=U;function H(ae){return(0,c.createWebWorker)(t.StaticServices.modelService.get(),ae)}e.createWebWorker=H;function V(ae,ce){const J=t.StaticServices.standaloneThemeService.get();return J.registerEditorContainer(ae),s.Colorizer.colorizeElement(J,t.StaticServices.modeService.get(),ae,ce)}e.colorizeElement=V;function ne(ae,ce,J){return t.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),s.Colorizer.colorize(t.StaticServices.modeService.get(),ae,ce,J)}e.colorize=ne;function ue(ae,ce,J=4){return t.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),s.Colorizer.colorizeModelLine(ae,ce,J)}e.colorizeModelLine=ue;function pe(ae){let ce=i.TokenizationRegistry.get(ae);return ce||{getInitialState:()=>f.NULL_STATE,tokenize:(J,Z,le,he)=>(0,f.nullTokenize)(ae,J,le,he)}}function ge(ae,ce){t.StaticServices.modeService.get().triggerMode(ce);let Z=pe(ce),le=(0,F.splitLines)(ae),he=[],ve=Z.getInitialState();for(let be=0,we=le.length;be<we;be++){let Te=le[be],Pe=Z.tokenize(Te,!0,ve,0);he[be]=Pe.tokens,ve=Pe.endState}return he}e.tokenize=ge;function W(ae,ce){t.StaticServices.standaloneThemeService.get().defineTheme(ae,ce)}e.defineTheme=W;function G(ae){t.StaticServices.standaloneThemeService.get().setTheme(ae)}e.setTheme=G;function re(){(0,k.clearAllFontInfos)()}e.remeasureFonts=re;function ee(ae,ce){return h.CommandsRegistry.registerCommand({id:ae,handler:ce})}e.registerCommand=ee;function de(){return{create:O,onDidCreateEditor:L,createDiffEditor:B,createDiffNavigator:z,createModel:$,setModelLanguage:j,setModelMarkers:X,getModelMarkers:Q,onDidChangeMarkers:Y,getModels:se,getModel:oe,onDidCreateModel:K,onWillDisposeModel:x,onDidChangeModelLanguage:U,createWebWorker:H,colorizeElement:V,colorize:ne,colorizeModelLine:ue,tokenize:ge,defineTheme:W,setTheme:G,remeasureFonts:re,registerCommand:ee,AccessibilitySupport:u.AccessibilitySupport,ContentWidgetPositionPreference:u.ContentWidgetPositionPreference,CursorChangeReason:u.CursorChangeReason,DefaultEndOfLine:u.DefaultEndOfLine,EditorAutoIndentStrategy:u.EditorAutoIndentStrategy,EditorOption:u.EditorOption,EndOfLinePreference:u.EndOfLinePreference,EndOfLineSequence:u.EndOfLineSequence,MinimapPosition:u.MinimapPosition,MouseTargetType:u.MouseTargetType,OverlayWidgetPositionPreference:u.OverlayWidgetPositionPreference,OverviewRulerLane:u.OverviewRulerLane,RenderLineNumbersType:u.RenderLineNumbersType,RenderMinimap:u.RenderMinimap,ScrollbarVisibility:u.ScrollbarVisibility,ScrollType:u.ScrollType,TextEditorCursorBlinkingStyle:u.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:u.TextEditorCursorStyle,TrackedRangeStickiness:u.TrackedRangeStickiness,WrappingIndent:u.WrappingIndent,ConfigurationChangedEvent:D.ConfigurationChangedEvent,BareFontInfo:S.BareFontInfo,FontInfo:S.FontInfo,TextModelResolvedOptions:b.TextModelResolvedOptions,FindMatch:b.FindMatch,EditorType:p.EditorType,EditorOptions:D.EditorOptions}}e.createMonacoEditorAPI=de}),define(te[701],ie([0,1,29,3,137,18,38,148,177,288,434,257]),function(q,e,y,N,T,D,S,p,b,i,f,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.setColorMap=e.TokenizationSupport2Adapter=e.EncodedTokenizationSupport2Adapter=e.setLanguageConfiguration=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function o(H){p.ModesRegistry.registerLanguage(H)}e.register=o;function d(){let H=[];return H=H.concat(p.ModesRegistry.getLanguages()),H}e.getLanguages=d;function c(H){let V=i.StaticServices.modeService.get().getLanguageIdentifier(H);return V?V.id:0}e.getEncodedLanguageId=c;function u(H,V){let ne=i.StaticServices.modeService.get().onDidEncounterLanguage(ue=>{ue.language===H&&(ne.dispose(),V())});return ne}e.onLanguage=u;function s(H,V){let ne=i.StaticServices.modeService.get().getLanguageIdentifier(H);if(!ne)throw new Error(`Cannot set configuration for unknown language ${H}`);return S.LanguageConfigurationRegistry.register(ne,V,100)}e.setLanguageConfiguration=s;class n{constructor(V,ne){this._languageIdentifier=V,this._actual=ne}getInitialState(){return this._actual.getInitialState()}tokenize(V,ne,ue,pe){if(typeof this._actual.tokenize=="function")return a.adaptTokenize(this._languageIdentifier.language,this._actual,V,ue,pe);throw new Error("Not supported!")}tokenize2(V,ne,ue){let pe=this._actual.tokenizeEncoded(V,ue);return new T.TokenizationResult2(pe.tokens,pe.endState)}}e.EncodedTokenizationSupport2Adapter=n;class a{constructor(V,ne,ue){this._standaloneThemeService=V,this._languageIdentifier=ne,this._actual=ue}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(V,ne,ue){let pe=[],ge=0;for(let W=0,G=V.length;W<G;W++){const re=V[W];let ee=re.startIndex;W===0?ee=0:ee<ge&&(ee=ge),pe[W]=new T.Token(ee+ue,re.scopes,ne),ge=ee}return pe}static adaptTokenize(V,ne,ue,pe,ge){let W=ne.tokenize(ue,pe),G=a._toClassicTokens(W.tokens,V,ge),re;return W.endState.equals(pe)?re=pe:re=W.endState,new T.TokenizationResult(G,re)}tokenize(V,ne,ue,pe){return a.adaptTokenize(this._languageIdentifier.language,this._actual,V,ue,pe)}_toBinaryTokens(V,ne){const ue=this._languageIdentifier.id,pe=this._standaloneThemeService.getColorTheme().tokenTheme;let ge=[],W=0,G=0;for(let ee=0,de=V.length;ee<de;ee++){const ae=V[ee],ce=pe.match(ue,ae.scopes);if(W>0&&ge[W-1]===ce)continue;let J=ae.startIndex;ee===0?J=0:J<G&&(J=G),ge[W++]=J+ne,ge[W++]=ce,G=J}let re=new Uint32Array(W);for(let ee=0;ee<W;ee++)re[ee]=ge[ee];return re}tokenize2(V,ne,ue,pe){let ge=this._actual.tokenize(V,ue),W=this._toBinaryTokens(ge.tokens,pe),G;return ge.endState.equals(ue)?G=ue:G=ge.endState,new T.TokenizationResult2(W,G)}}e.TokenizationSupport2Adapter=a;function t(H){return"tokenizeEncoded"in H}function l(H){return H&&typeof H.then=="function"}function h(H){if(H){const V=[null];for(let ne=1,ue=H.length;ne<ue;ne++)V[ne]=y.Color.fromHex(H[ne]);i.StaticServices.standaloneThemeService.get().setColorMapOverride(V)}else i.StaticServices.standaloneThemeService.get().setColorMapOverride(null)}e.setColorMap=h;function g(H,V){let ne=i.StaticServices.modeService.get().getLanguageIdentifier(H);if(!ne)throw new Error(`Cannot set tokens provider for unknown language ${H}`);const ue=pe=>t(pe)?new n(ne,pe):new a(i.StaticServices.standaloneThemeService.get(),ne,pe);return l(V)?D.TokenizationRegistry.registerPromise(H,V.then(pe=>ue(pe))):D.TokenizationRegistry.register(H,ue(V))}e.setTokensProvider=g;function w(H,V){const ne=ue=>(0,r.createTokenizationSupport)(i.StaticServices.modeService.get(),i.StaticServices.standaloneThemeService.get(),H,(0,f.compile)(H,ue));return l(V)?D.TokenizationRegistry.registerPromise(H,V.then(ue=>ne(ue))):D.TokenizationRegistry.register(H,ne(V))}e.setMonarchTokensProvider=w;function _(H,V){return D.ReferenceProviderRegistry.register(H,V)}e.registerReferenceProvider=_;function C(H,V){return D.RenameProviderRegistry.register(H,V)}e.registerRenameProvider=C;function v(H,V){return D.SignatureHelpProviderRegistry.register(H,V)}e.registerSignatureHelpProvider=v;function m(H,V){return D.HoverProviderRegistry.register(H,{provideHover:(ne,ue,pe)=>{let ge=ne.getWordAtPosition(ue);return Promise.resolve(V.provideHover(ne,ue,pe)).then(W=>{if(!!W)return!W.range&&ge&&(W.range=new N.Range(ue.lineNumber,ge.startColumn,ue.lineNumber,ge.endColumn)),W.range||(W.range=new N.Range(ue.lineNumber,ue.column,ue.lineNumber,ue.column)),W})}})}e.registerHoverProvider=m;function E(H,V){return D.DocumentSymbolProviderRegistry.register(H,V)}e.registerDocumentSymbolProvider=E;function I(H,V){return D.DocumentHighlightProviderRegistry.register(H,V)}e.registerDocumentHighlightProvider=I;function k(H,V){return D.LinkedEditingRangeProviderRegistry.register(H,V)}e.registerLinkedEditingRangeProvider=k;function A(H,V){return D.DefinitionProviderRegistry.register(H,V)}e.registerDefinitionProvider=A;function P(H,V){return D.ImplementationProviderRegistry.register(H,V)}e.registerImplementationProvider=P;function F(H,V){return D.TypeDefinitionProviderRegistry.register(H,V)}e.registerTypeDefinitionProvider=F;function M(H,V){return D.CodeLensProviderRegistry.register(H,V)}e.registerCodeLensProvider=M;function R(H,V,ne){return D.CodeActionProviderRegistry.register(H,{providedCodeActionKinds:ne==null?void 0:ne.providedCodeActionKinds,provideCodeActions:(ue,pe,ge,W)=>{let G=i.StaticServices.markerService.get().read({resource:ue.uri}).filter(re=>N.Range.areIntersectingOrTouching(re,pe));return V.provideCodeActions(ue,pe,{markers:G,only:ge.only},W)},resolveCodeAction:V.resolveCodeAction})}e.registerCodeActionProvider=R;function O(H,V){return D.DocumentFormattingEditProviderRegistry.register(H,V)}e.registerDocumentFormattingEditProvider=O;function L(H,V){return D.DocumentRangeFormattingEditProviderRegistry.register(H,V)}e.registerDocumentRangeFormattingEditProvider=L;function B(H,V){return D.OnTypeFormattingEditProviderRegistry.register(H,V)}e.registerOnTypeFormattingEditProvider=B;function z(H,V){return D.LinkProviderRegistry.register(H,V)}e.registerLinkProvider=z;function $(H,V){return D.CompletionProviderRegistry.register(H,V)}e.registerCompletionItemProvider=$;function j(H,V){return D.ColorProviderRegistry.register(H,V)}e.registerColorProvider=j;function X(H,V){return D.FoldingRangeProviderRegistry.register(H,V)}e.registerFoldingRangeProvider=X;function Q(H,V){return D.DeclarationProviderRegistry.register(H,V)}e.registerDeclarationProvider=Q;function Y(H,V){return D.SelectionRangeRegistry.register(H,V)}e.registerSelectionRangeProvider=Y;function oe(H,V){return D.DocumentSemanticTokensProviderRegistry.register(H,V)}e.registerDocumentSemanticTokensProvider=oe;function se(H,V){return D.DocumentRangeSemanticTokensProviderRegistry.register(H,V)}e.registerDocumentRangeSemanticTokensProvider=se;function K(H,V){return D.InlineCompletionsProviderRegistry.register(H,V)}e.registerInlineCompletionsProvider=K;function x(H,V){return D.InlayHintsProviderRegistry.register(H,V)}e.registerInlayHintsProvider=x;function U(){return{register:o,getLanguages:d,onLanguage:u,getEncodedLanguageId:c,setLanguageConfiguration:s,setColorMap:h,setTokensProvider:g,setMonarchTokensProvider:w,registerReferenceProvider:_,registerRenameProvider:C,registerCompletionItemProvider:$,registerSignatureHelpProvider:v,registerHoverProvider:m,registerDocumentSymbolProvider:E,registerDocumentHighlightProvider:I,registerLinkedEditingRangeProvider:k,registerDefinitionProvider:A,registerImplementationProvider:P,registerTypeDefinitionProvider:F,registerCodeLensProvider:M,registerCodeActionProvider:R,registerDocumentFormattingEditProvider:O,registerDocumentRangeFormattingEditProvider:L,registerOnTypeFormattingEditProvider:B,registerLinkProvider:z,registerColorProvider:j,registerFoldingRangeProvider:X,registerDeclarationProvider:Q,registerSelectionRangeProvider:Y,registerDocumentSemanticTokensProvider:oe,registerDocumentRangeSemanticTokensProvider:se,registerInlineCompletionsProvider:K,registerInlayHintsProvider:x,DocumentHighlightKind:b.DocumentHighlightKind,CompletionItemKind:b.CompletionItemKind,CompletionItemTag:b.CompletionItemTag,CompletionItemInsertTextRule:b.CompletionItemInsertTextRule,SymbolKind:b.SymbolKind,SymbolTag:b.SymbolTag,IndentAction:b.IndentAction,CompletionTriggerKind:b.CompletionTriggerKind,SignatureHelpTriggerKind:b.SignatureHelpTriggerKind,InlayHintKind:b.InlayHintKind,InlineCompletionTriggerKind:b.InlineCompletionTriggerKind,FoldingRangeKind:D.FoldingRangeKind}}e.createMonacoLanguagesAPI=U}),define(te[702],ie([0,1,34,231,700,701,17,276]),function(q,e,y,N,T,D,S,p){"use strict";var b;Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,y.EditorOptions.wrappingIndent.defaultValue=0,y.EditorOptions.glyphMargin.defaultValue=!1,y.EditorOptions.autoIndent.defaultValue=3,y.EditorOptions.overviewRulerLanes.defaultValue=2,p.FormattingConflicts.setFormatterSelector((f,r,o)=>Promise.resolve(f[0]));const i=(0,N.createMonacoBaseAPI)();i.editor=(0,T.createMonacoEditorAPI)(),i.languages=(0,D.createMonacoLanguagesAPI)(),e.CancellationTokenSource=i.CancellationTokenSource,e.Emitter=i.Emitter,e.KeyCode=i.KeyCode,e.KeyMod=i.KeyMod,e.Position=i.Position,e.Range=i.Range,e.Selection=i.Selection,e.SelectionDirection=i.SelectionDirection,e.MarkerSeverity=i.MarkerSeverity,e.MarkerTag=i.MarkerTag,e.Uri=i.Uri,e.Token=i.Token,e.editor=i.editor,e.languages=i.languages,(((b=S.globals.MonacoEnvironment)===null||b===void 0?void 0:b.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=i),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})}),define(te[703],ie([0,1,24]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.WORKSPACE_EXTENSION=void 0,e.WORKSPACE_EXTENSION="code-workspace";function N(D){const S=D;return typeof(S==null?void 0:S.id)=="string"&&y.URI.isUri(S.uri)}e.isSingleFolderWorkspaceIdentifier=N;function T(D){if(D.configuration)return{id:D.id,configPath:D.configuration};if(D.folders.length===1)return{id:D.id,uri:D.folders[0].uri}}e.toWorkspaceIdentifier=T}),define(te[704],ie([0,1,166,74,44,8,309,38,119,528,703]),function(q,e,y,N,T,D,S,p,b,i,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=void 0;class r{constructor(l){this._delegates=l}resolve(l){for(const h of this._delegates){let g=h.resolve(l);if(g!==void 0)return g}}}e.CompositeSnippetVariableResolver=r;class o{constructor(l,h,g,w){this._model=l,this._selection=h,this._selectionIdx=g,this._overtypingCapturer=w}resolve(l){const{name:h}=l;if(h==="SELECTION"||h==="TM_SELECTED_TEXT"){let g=this._model.getValueInRange(this._selection)||void 0,w=this._selection.startLineNumber!==this._selection.endLineNumber;if(!g&&this._overtypingCapturer){const _=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);_&&(g=_.value,w=_.multiline)}if(g&&w&&l.snippet){const _=this._model.getLineContent(this._selection.startLineNumber),C=(0,D.getLeadingWhitespace)(_,0,this._selection.startColumn-1);let v=C;l.snippet.walk(E=>E===l?!1:(E instanceof b.Text&&(v=(0,D.getLeadingWhitespace)((0,D.splitLines)(E.value).pop())),!0));const m=(0,D.commonPrefixLength)(v,C);g=g.replace(/(\r\n|\r|\n)(.*)/g,(E,I,k)=>`${I}${v.substr(m)}${k}`)}return g}else{if(h==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(h==="TM_CURRENT_WORD"){const g=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return g&&g.word||void 0}else{if(h==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(h==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}e.SelectionBasedVariableResolver=o;class d{constructor(l,h){this._labelService=l,this._model=h}resolve(l){const{name:h}=l;if(h==="TM_FILENAME")return N.basename(this._model.uri.fsPath);if(h==="TM_FILENAME_BASE"){const g=N.basename(this._model.uri.fsPath),w=g.lastIndexOf(".");return w<=0?g:g.slice(0,w)}else{if(h==="TM_DIRECTORY")return N.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,T.dirname)(this._model.uri));if(h==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(h==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=d;class c{constructor(l,h,g,w){this._readClipboardText=l,this._selectionIdx=h,this._selectionCount=g,this._spread=w}resolve(l){if(l.name!=="CLIPBOARD")return;const h=this._readClipboardText();if(!!h){if(this._spread){const g=h.split(/\r\n|\n|\r/).filter(w=>!(0,D.isFalsyOrWhitespace)(w));if(g.length===this._selectionCount)return g[this._selectionIdx]}return h}}}e.ClipboardBasedVariableResolver=c;class u{constructor(l,h){this._model=l,this._selection=h}resolve(l){const{name:h}=l,g=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),w=p.LanguageConfigurationRegistry.getComments(g);if(!!w){if(h==="LINE_COMMENT")return w.lineCommentToken||void 0;if(h==="BLOCK_COMMENT_START")return w.blockCommentStartToken||void 0;if(h==="BLOCK_COMMENT_END")return w.blockCommentEndToken||void 0}}}e.CommentBasedVariableResolver=u;class s{constructor(){this._date=new Date}resolve(l){const{name:h}=l;if(h==="CURRENT_YEAR")return String(this._date.getFullYear());if(h==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(h==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(h==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(h==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(h==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(h==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(h==="CURRENT_DAY_NAME")return s.dayNames[this._date.getDay()];if(h==="CURRENT_DAY_NAME_SHORT")return s.dayNamesShort[this._date.getDay()];if(h==="CURRENT_MONTH_NAME")return s.monthNames[this._date.getMonth()];if(h==="CURRENT_MONTH_NAME_SHORT")return s.monthNamesShort[this._date.getMonth()];if(h==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}e.TimeBasedVariableResolver=s,s.dayNames=[i.localize(0,null),i.localize(1,null),i.localize(2,null),i.localize(3,null),i.localize(4,null),i.localize(5,null),i.localize(6,null)],s.dayNamesShort=[i.localize(7,null),i.localize(8,null),i.localize(9,null),i.localize(10,null),i.localize(11,null),i.localize(12,null),i.localize(13,null)],s.monthNames=[i.localize(14,null),i.localize(15,null),i.localize(16,null),i.localize(17,null),i.localize(18,null),i.localize(19,null),i.localize(20,null),i.localize(21,null),i.localize(22,null),i.localize(23,null),i.localize(24,null),i.localize(25,null)],s.monthNamesShort=[i.localize(26,null),i.localize(27,null),i.localize(28,null),i.localize(29,null),i.localize(30,null),i.localize(31,null),i.localize(32,null),i.localize(33,null),i.localize(34,null),i.localize(35,null),i.localize(36,null),i.localize(37,null)];class n{constructor(l){this._workspaceService=l}resolve(l){if(!this._workspaceService)return;const h=(0,f.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!!h){if(l.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(h);if(l.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(h)}}_resolveWorkspaceName(l){if((0,f.isSingleFolderWorkspaceIdentifier)(l))return N.basename(l.uri.path);let h=N.basename(l.configPath.path);return h.endsWith(f.WORKSPACE_EXTENSION)&&(h=h.substr(0,h.length-f.WORKSPACE_EXTENSION.length-1)),h}_resoveWorkspacePath(l){if((0,f.isSingleFolderWorkspaceIdentifier)(l))return(0,y.normalizeDriveLetter)(l.uri.fsPath);let h=N.basename(l.configPath.path),g=l.configPath.fsPath;return g.endsWith(h)&&(g=g.substr(0,g.length-h.length-1)),g?(0,y.normalizeDriveLetter)(g):"/"}}e.WorkspaceBasedVariableResolver=n;class a{resolve(l){const{name:h}=l;if(h==="RANDOM")return Math.random().toString().slice(-6);if(h==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(h==="UUID")return(0,S.generateUuid)()}}e.RandomBasedVariableResolver=a}),define(te[289],ie([0,1,19,2,8,59,3,21,31,124,22,12,199,119,704,369]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0,(0,r.registerThemingParticipant)((a,t)=>{function l(h){const g=a.getColor(h);return g?g.toString():"transparent"}t.addRule(`.monaco-editor .snippet-placeholder { background-color: ${l(f.snippetTabstopHighlightBackground)}; outline-color: ${l(f.snippetTabstopHighlightBorder)}; }`),t.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${l(f.snippetFinalTabstopHighlightBackground)}; outline-color: ${l(f.snippetFinalTabstopHighlightBorder)}; }`)});class u{constructor(t,l,h,g){this._editor=t,this._snippet=l,this._offset=h,this._snippetLineLeadingWhitespace=g,this._nestingLevel=1,this._placeholderGroups=(0,y.groupBy)(l.placeholders,d.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const t=this._editor.getModel();this._editor.changeDecorations(l=>{for(const h of this._snippet.placeholders){const g=this._snippet.offset(h),w=this._snippet.fullLen(h),_=S.Range.fromPositions(t.getPositionAt(this._offset+g),t.getPositionAt(this._offset+g+w)),C=h.isFinalTabstop?u._decor.inactiveFinal:u._decor.inactive,v=l.addDecoration(_,C);this._placeholderDecorations.set(h,v)}})}move(t){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let g=[];for(const w of this._placeholderGroups[this._placeholderGroupsIdx])if(w.transform){const _=this._placeholderDecorations.get(w),C=this._editor.getModel().getDecorationRange(_),v=this._editor.getModel().getValueInRange(C),m=w.transform.resolve(v).split(/\r\n|\r|\n/);for(let E=1;E<m.length;E++)m[E]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+m[E]);g.push(D.EditOperation.replace(C,m.join(this._editor.getModel().getEOL())))}g.length>0&&this._editor.executeEdits("snippet.placeholderTransform",g)}let l=!1;t===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,l=!0):t===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,l=!0);const h=this._editor.getModel().changeDecorations(g=>{const w=new Set,_=[];for(const C of this._placeholderGroups[this._placeholderGroupsIdx]){const v=this._placeholderDecorations.get(C),m=this._editor.getModel().getDecorationRange(v);_.push(new p.Selection(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn)),l=l&&this._hasPlaceholderBeenCollapsed(C),g.changeDecorationOptions(v,C.isFinalTabstop?u._decor.activeFinal:u._decor.active),w.add(C);for(const E of this._snippet.enclosingPlaceholders(C)){const I=this._placeholderDecorations.get(E);g.changeDecorationOptions(I,E.isFinalTabstop?u._decor.activeFinal:u._decor.active),w.add(E)}}for(const[C,v]of this._placeholderDecorations)w.has(C)||g.changeDecorationOptions(v,C.isFinalTabstop?u._decor.inactiveFinal:u._decor.inactive);return _});return l?this.move(t):h??[]}_hasPlaceholderBeenCollapsed(t){let l=t;for(;l;){if(l instanceof d.Placeholder){const h=this._placeholderDecorations.get(l);if(this._editor.getModel().getDecorationRange(h).isEmpty()&&l.toString().length>0)return!0}l=l.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const t=new Map;for(const l of this._placeholderGroups){let h;for(const g of l){if(g.isFinalTabstop)break;h||(h=[],t.set(g.index,h));const w=this._placeholderDecorations.get(g),_=this._editor.getModel().getDecorationRange(w);if(!_){t.delete(g.index);break}h.push(_)}}return t}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(t){const l=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(h=>{for(const g of this._placeholderGroups[this._placeholderGroupsIdx]){const w=t.shift();console.assert(!w._placeholderDecorations);const _=w._snippet.placeholderInfo.last.index;for(const v of w._snippet.placeholderInfo.all)v.isFinalTabstop?v.index=g.index+(_+1)/this._nestingLevel:v.index=g.index+v.index/this._nestingLevel;this._snippet.replace(g,w._snippet.children);const C=this._placeholderDecorations.get(g);h.removeDecoration(C),this._placeholderDecorations.delete(g);for(const v of w._snippet.placeholders){const m=w._snippet.offset(v),E=w._snippet.fullLen(v),I=S.Range.fromPositions(l.getPositionAt(w._offset+m),l.getPositionAt(w._offset+m+E)),k=h.addDecoration(I,u._decor.inactive);this._placeholderDecorations.set(v,k)}}this._placeholderGroups=(0,y.groupBy)(this._snippet.placeholders,d.Placeholder.compareByIndex)})}}e.OneSnippet=u,u._decor={active:b.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:b.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:b.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:b.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const s={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class n{constructor(t,l,h=s){this._templateMerges=[],this._snippets=[],this._editor=t,this._template=l,this._options=h}static adjustWhitespace(t,l,h,g,w){const _=t.getLineContent(l.lineNumber),C=(0,T.getLeadingWhitespace)(_,0,l.column-1);let v;return h.walk(m=>{if(!(m instanceof d.Text)||m.parent instanceof d.Choice)return!0;const E=m.value.split(/\r\n|\r|\n/);if(g){const k=h.offset(m);if(k===0)E[0]=t.normalizeIndentation(E[0]);else{v=v??h.toString();let A=v.charCodeAt(k-1);(A===10||A===13)&&(E[0]=t.normalizeIndentation(C+E[0]))}for(let A=1;A<E.length;A++)E[A]=t.normalizeIndentation(C+E[A])}const I=E.join(t.getEOL());return I!==m.value&&(m.parent.replace(m,[new d.Text(I)]),v=void 0),!0}),C}static adjustSelection(t,l,h,g){if(h!==0||g!==0){const{positionLineNumber:w,positionColumn:_}=l,C=_-h,v=_+g,m=t.validateRange({startLineNumber:w,startColumn:C,endLineNumber:w,endColumn:v});l=p.Selection.createWithDirection(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn,l.getDirection())}return l}static createEditsAndSnippets(t,l,h,g,w,_,C,v){const m=[],E=[];if(!t.hasModel())return{edits:m,snippets:E};const I=t.getModel(),k=t.invokeWithinContext(B=>B.get(o.IWorkspaceContextService)),A=t.invokeWithinContext(B=>new c.ModelBasedVariableResolver(B.get(i.ILabelService),I)),P=()=>C;let F=0,M=I.getValueInRange(n.adjustSelection(I,t.getSelection(),h,0)),R=I.getValueInRange(n.adjustSelection(I,t.getSelection(),0,g)),O=I.getLineFirstNonWhitespaceColumn(t.getSelection().positionLineNumber);const L=t.getSelections().map((B,z)=>({selection:B,idx:z})).sort((B,z)=>S.Range.compareRangesUsingStarts(B.selection,z.selection));for(const{selection:B,idx:z}of L){let $=n.adjustSelection(I,B,h,0),j=n.adjustSelection(I,B,0,g);M!==I.getValueInRange($)&&($=B),R!==I.getValueInRange(j)&&(j=B);const X=B.setStartPosition($.startLineNumber,$.startColumn).setEndPosition(j.endLineNumber,j.endColumn),Q=new d.SnippetParser().parse(l,!0,w),Y=X.getStartPosition(),oe=n.adjustWhitespace(I,Y,Q,_||z>0&&O!==I.getLineFirstNonWhitespaceColumn(B.positionLineNumber),!0);Q.resolveVariables(new c.CompositeSnippetVariableResolver([A,new c.ClipboardBasedVariableResolver(P,z,L.length,t.getOption(70)==="spread"),new c.SelectionBasedVariableResolver(I,B,z,v),new c.CommentBasedVariableResolver(I,B),new c.TimeBasedVariableResolver,new c.WorkspaceBasedVariableResolver(k),new c.RandomBasedVariableResolver]));const se=I.getOffsetAt(Y)+F;F+=Q.toString().length-I.getValueLengthInRange(X),m[z]=D.EditOperation.replace(X,Q.toString()),m[z].identifier={major:z,minor:0},E[z]=new u(t,Q,se,oe)}return{edits:m,snippets:E}}dispose(){(0,N.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:t,snippets:l}=n.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=l,this._editor.executeEdits("snippet",t,h=>this._snippets[0].hasPlaceholder?this._move(!0):h.filter(g=>!!g.identifier).map(g=>p.Selection.fromPositions(g.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(t,l=s){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,t]);const{edits:h,snippets:g}=n.createEditsAndSnippets(this._editor,t,l.overwriteBefore,l.overwriteAfter,!0,l.adjustWhitespace,l.clipboardText,l.overtypingCapturer);this._editor.executeEdits("snippet",h,w=>{for(const _ of this._snippets)_.merge(g);return console.assert(g.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):w.filter(_=>!!_.identifier).map(_=>p.Selection.fromPositions(_.range.getEndPosition()))})}next(){const t=this._move(!0);this._editor.setSelections(t),this._editor.revealPositionInCenterIfOutsideViewport(t[0].getPosition())}prev(){const t=this._move(!1);this._editor.setSelections(t),this._editor.revealPositionInCenterIfOutsideViewport(t[0].getPosition())}_move(t){const l=[];for(const h of this._snippets){const g=h.move(t);l.push(...g)}return l}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const t=this._editor.getSelections();if(t.length<this._snippets.length)return!1;let l=new Map;for(const h of this._snippets){const g=h.computePossibleSelections();if(l.size===0)for(const[w,_]of g){_.sort(S.Range.compareRangesUsingStarts);for(const C of t)if(_[0].containsRange(C)){l.set(w,[]);break}}if(l.size===0)return!1;l.forEach((w,_)=>{w.push(...g.get(_))})}t.sort(S.Range.compareRangesUsingStarts);for(let[h,g]of l){if(g.length!==t.length){l.delete(h);continue}g.sort(S.Range.compareRangesUsingStarts);for(let w=0;w<g.length;w++)if(!g[w].containsRange(t[w])){l.delete(h);continue}}return l.size>0}}e.SnippetSession=n}),define(te[201],ie([0,1,2,16,3,21,25,102,527,15,71,289]),function(q,e,y,N,T,D,S,p,b,i,f,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const o={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let d=class St{constructor(s,n,a){this._editor=s,this._logService=n,this._snippetListener=new y.DisposableStore,this._modelVersionId=-1,this._inSnippet=St.InSnippetMode.bindTo(a),this._hasNextTabstop=St.HasNextTabstop.bindTo(a),this._hasPrevTabstop=St.HasPrevTabstop.bindTo(a)}static get(s){return s.getContribution(St.ID)}dispose(){var s;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(s=this._session)===null||s===void 0||s.dispose(),this._snippetListener.dispose()}insert(s,n){try{this._doInsert(s,typeof n=="undefined"?o:Object.assign(Object.assign({},o),n))}catch(a){this.cancel(),this._logService.error(a),this._logService.error("snippet_error"),this._logService.error("insert_template=",s),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(s,n){!this._editor.hasModel()||(this._snippetListener.clear(),n.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(s,n):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new r.SnippetSession(this._editor,s,n),this._session.insert()),n.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(a=>a.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:s}=this._session;if(!s){this._currentChoice=void 0;return}if(this._currentChoice!==s){this._currentChoice=s,this._editor.setSelections(this._editor.getSelections().map(a=>D.Selection.fromPositions(a.getStartPosition())));const[n]=s.options;(0,p.showSimpleSuggestions)(this._editor,s.options.map((a,t)=>({kind:13,label:a.value,insertText:a.value,sortText:"a".repeat(t+1),range:T.Range.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,n.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(s=!1){var n;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(n=this._session)===null||n===void 0||n.dispose(),this._session=void 0,this._modelVersionId=-1,s&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};d.ID="snippetController2",d.InSnippetMode=new i.RawContextKey("inSnippetMode",!1,(0,b.localize)(0,null)),d.HasNextTabstop=new i.RawContextKey("hasNextTabstop",!1,(0,b.localize)(1,null)),d.HasPrevTabstop=new i.RawContextKey("hasPrevTabstop",!1,(0,b.localize)(2,null)),d=Fe([Ce(1,f.ILogService),Ce(2,i.IContextKeyService)],d),e.SnippetController2=d,(0,N.registerEditorContribution)(d.ID,d);const c=N.EditorCommand.bindToContribution(d.get);(0,N.registerEditorCommand)(new c({id:"jumpToNextSnippetPlaceholder",precondition:i.ContextKeyExpr.and(d.InSnippetMode,d.HasNextTabstop),handler:u=>u.next(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:2}})),(0,N.registerEditorCommand)(new c({id:"jumpToPrevSnippetPlaceholder",precondition:i.ContextKeyExpr.and(d.InSnippetMode,d.HasPrevTabstop),handler:u=>u.prev(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:1024|2}})),(0,N.registerEditorCommand)(new c({id:"leaveSnippet",precondition:d.InSnippetMode,handler:u=>u.cancel(!0),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:9,secondary:[1024|9]}})),(0,N.registerEditorCommand)(new c({id:"acceptSnippet",precondition:d.InSnippetMode,handler:u=>u.finish()}))}),define(te[705],ie([0,1,14,23,10,6,2,8,21,18,77,201,433,88,41,15,71,90,430,102]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class l{constructor(v,m,E,I){this.leadingLineContent=v.getLineContent(m.lineNumber).substr(0,m.column-1),this.leadingWord=v.getWordUntilPosition(m),this.lineNumber=m.lineNumber,this.column=m.column,this.auto=E,this.shy=I}static shouldAutoTrigger(v){if(!v.hasModel())return!1;const m=v.getModel(),E=v.getPosition();m.tokenizeIfCheap(E.lineNumber);const I=m.getWordAtPosition(E);return!(!I||I.endColumn!==E.column||!isNaN(Number(I.word)))}}e.LineContext=l;function h(C){return C.getOption(105).preview}function g(C,v,m){if(!Boolean(v.getContextKeyValue("inlineSuggestionVisible")))return!0;const E=m.getValue("editor.inlineSuggest.allowQuickSuggestions");return E!==void 0?Boolean(E):!1}function w(C,v,m){if(!Boolean(v.getContextKeyValue("inlineSuggestionVisible")))return!0;const E=m.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return E!==void 0?Boolean(E):!1}let _=class Bi{constructor(v,m,E,I,k,A,P){this._editor=v,this._editorWorkerService=m,this._clipboardService=E,this._telemetryService=I,this._logService=k,this._contextKeyService=A,this._configurationService=P,this._toDispose=new S.DisposableStore,this._quickSuggestDelay=10,this._triggerCharacterListener=new S.DisposableStore,this._triggerQuickSuggest=new y.TimeoutTimer,this._state=0,this._completionDisposables=new S.DisposableStore,this._onDidCancel=new D.Emitter,this._onDidTrigger=new D.Emitter,this._onDidSuggest=new D.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new b.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(i.CompletionProviderRegistry.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(M=>{this._onCursorChange(M)}));let F=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{F=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{F=!1,this._refilterCompletionItems()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{F||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){(0,S.dispose)(this._triggerCharacterListener),(0,S.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(79),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(80)||!this._editor.hasModel()||!this._editor.getOption(108))return;const v=new Map;for(const E of i.CompletionProviderRegistry.all(this._editor.getModel()))for(const I of E.triggerCharacters||[]){let k=v.get(I);k||(k=new Set,k.add((0,t.getSnippetSuggestSupport)()),v.set(I,k)),k.add(E)}const m=E=>{if(!w(this._editor,this._contextKeyService,this._configurationService)||l.shouldAutoTrigger(this._editor))return;if(!E){const A=this._editor.getPosition();E=this._editor.getModel().getLineContent(A.lineNumber).substr(0,A.column-1)}let I="";(0,p.isLowSurrogate)(E.charCodeAt(E.length-1))?(0,p.isHighSurrogate)(E.charCodeAt(E.length-2))&&(I=E.substr(E.length-2)):I=E.charAt(E.length-1);const k=v.get(I);if(k){const A=this._completionModel?{items:this._completionModel.adopt(k),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:I},Boolean(this._completionModel),k,A)}};this._triggerCharacterListener.add(this._editor.onDidType(m)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(m))}get state(){return this._state}cancel(v=!1){var m;this._state!==0&&(this._triggerQuickSuggest.cancel(),(m=this._requestToken)===null||m===void 0||m.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:v}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!i.CompletionProviderRegistry.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(v){if(!this._editor.hasModel())return;const m=this._editor.getModel(),E=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!v.selection.isEmpty()||v.reason!==0&&v.reason!==3||v.source!=="keyboard"&&v.source!=="deleteLeft"){this.cancel();return}if(!!i.CompletionProviderRegistry.has(m))if(this._state===0&&v.reason===0){if(this._editor.getOption(78)===!1||!E.containsRange(this._currentSelection)&&!E.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition())||this._editor.getOption(105).snippetsPreventQuickSuggestions&&r.SnippetController2.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!l.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const I=this._editor.getModel(),k=this._editor.getPosition(),A=this._editor.getOption(78);if(A!==!1){if(A!==!0){I.tokenizeIfCheap(k.lineNumber);const P=I.getLineTokens(k.lineNumber),F=P.getStandardTokenType(P.findTokenIndexAtOffset(Math.max(k.column-1-1,0)));if(!(A.other&&F===0||A.comments&&F===1||A.strings&&F===2))return}!g(this._editor,this._contextKeyService,this._configurationService)||this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)}else this._state!==0&&v.reason===3&&this._refilterCompletionItems()}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const v=this._editor.getModel(),m=this._editor.getPosition(),E=new l(v,m,this._state===2,!1);this._onNewContext(E)})}trigger(v,m=!1,E,I){var k;if(!this._editor.hasModel())return;const A=this._editor.getModel(),P=v.auto,F=new l(A,this._editor.getPosition(),P,v.shy);this.cancel(m),this._state=P?2:1,this._onDidTrigger.fire({auto:P,shy:v.shy,position:this._editor.getPosition()}),this._context=F;let M={triggerKind:(k=v.triggerKind)!==null&&k!==void 0?k:0};v.triggerCharacter&&(M={triggerKind:1,triggerCharacter:v.triggerCharacter}),this._requestToken=new N.CancellationTokenSource;const R=this._editor.getOption(100);let O=1;switch(R){case"top":O=0;break;case"bottom":O=2;break}const{itemKind:L,showDeprecated:B}=Bi._createSuggestFilter(this._editor),z=o.WordDistance.create(this._editorWorkerService,this._editor),$=(0,t.provideSuggestionItems)(A,this._editor.getPosition(),new t.CompletionOptions(O,L,E,B),M,this._requestToken.token);Promise.all([$,z]).then(([j,X])=>Me(this,void 0,void 0,function*(){var Q;if((Q=this._requestToken)===null||Q===void 0||Q.dispose(),!this._editor.hasModel())return;let Y=I==null?void 0:I.clipboardText;if(!Y&&j.needsClipboard&&(Y=yield this._clipboardService.readText()),this._state===0)return;const oe=this._editor.getModel();let se=j.items;if(I){const x=(0,t.getSuggestionComparator)(O);se=se.concat(I.items).sort(x)}const K=new l(oe,this._editor.getPosition(),P,v.shy);this._completionModel=new a.CompletionModel(se,this._context.column,{leadingLineContent:K.leadingLineContent,characterCountDelta:K.column-this._context.column},X,this._editor.getOption(105),this._editor.getOption(100),Y),this._completionDisposables.add(j.disposable),this._onNewContext(K),this._reportDurationsTelemetry(j.durations)})).catch(T.onUnexpectedError)}_reportDurationsTelemetry(v){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(v)}),this._logService.debug("suggest.durations.json",v)})}static _createSuggestFilter(v){const m=new Set;v.getOption(100)==="none"&&m.add(27);const I=v.getOption(105);return I.showMethods||m.add(0),I.showFunctions||m.add(1),I.showConstructors||m.add(2),I.showFields||m.add(3),I.showVariables||m.add(4),I.showClasses||m.add(5),I.showStructs||m.add(6),I.showInterfaces||m.add(7),I.showModules||m.add(8),I.showProperties||m.add(9),I.showEvents||m.add(10),I.showOperators||m.add(11),I.showUnits||m.add(12),I.showValues||m.add(13),I.showConstants||m.add(14),I.showEnums||m.add(15),I.showEnumMembers||m.add(16),I.showKeywords||m.add(17),I.showWords||m.add(18),I.showColors||m.add(19),I.showFiles||m.add(20),I.showReferences||m.add(21),I.showColors||m.add(22),I.showFolders||m.add(23),I.showTypeParameters||m.add(24),I.showSnippets||m.add(27),I.showUsers||m.add(25),I.showIssues||m.add(26),{itemKind:m,showDeprecated:I.showDeprecated}}_onNewContext(v){if(!!this._context){if(v.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,p.getLeadingWhitespace)(v.leadingLineContent)!==(0,p.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(v.column<this._context.column){v.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(v.leadingWord.word.length!==0&&v.leadingWord.startColumn>this._context.leadingWord.startColumn){const m=new Set(i.CompletionProviderRegistry.all(this._editor.getModel()));for(let I of this._completionModel.allProvider)m.delete(I);const E=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,m,{items:E,clipboardText:this._completionModel.clipboardText});return}if(v.column>this._context.column&&this._completionModel.incomplete.size>0&&v.leadingWord.word.length!==0){const{incomplete:m}=this._completionModel,E=this._completionModel.adopt(m);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,m,{items:E,clipboardText:this._completionModel.clipboardText})}else{let m=this._completionModel.lineContext,E=!1;if(this._completionModel.lineContext={leadingLineContent:v.leadingLineContent,characterCountDelta:v.column-this._context.column},this._completionModel.items.length===0){if(l.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<v.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=m,E=this._completionModel.items.length>0,E&&v.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:E})}}}}};_=Fe([Ce(1,f.IEditorWorkerService),Ce(2,d.IClipboardService),Ce(3,n.ITelemetryService),Ce(4,s.ILogService),Ce(5,u.IContextKeyService),Ce(6,c.IConfigurationService)],_),e.SuggestModel=_}),define(te[290],ie([0,1,45,19,14,23,10,6,43,2,17,83,20,66,16,59,13,3,25,201,119,592,566,530,33,26,15,9,80,71,102,565,431,705,432,692]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a,t,l,h,g,w,_,C,v,m,E,I,k,A,P,F,M,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;let O=!1;class L{constructor(Y,oe){if(this._model=Y,this._position=oe,Y.getLineMaxColumn(oe.lineNumber)!==oe.column){const K=Y.getOffsetAt(oe),x=Y.getPositionAt(K+1);this._marker=Y.deltaDecorations([],[{range:n.Range.fromPositions(oe,x),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(Y){if(this._model.isDisposed()||this._position.lineNumber!==Y.lineNumber)return 0;if(this._marker){const oe=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(oe.getStartPosition())-this._model.getOffsetAt(Y)}else return this._model.getLineMaxColumn(Y.lineNumber)-Y.column}}let B=class xi{constructor(Y,oe,se,K,x,U){this._memoryService=oe,this._commandService=se,this._contextKeyService=K,this._instantiationService=x,this._logService=U,this._lineSuffix=new i.MutableDisposable,this._toDispose=new i.DisposableStore,this._selectors=new z(ue=>ue.priority),this.editor=Y,this.model=x.createInstance(F.SuggestModel,this.editor);const H=k.Context.InsertMode.bindTo(K);H.set(Y.getOption(105).insertMode),this.model.onDidTrigger(()=>H.set(Y.getOption(105).insertMode)),this.widget=this._toDispose.add(new T.IdleValue(()=>{const ue=this._instantiationService.createInstance(R.SuggestWidget,this.editor);this._toDispose.add(ue),this._toDispose.add(ue.onDidSelect(re=>this._insertSuggestion(re,0),this));const pe=new P.CommitCharacterController(this.editor,ue,re=>this._insertSuggestion(re,2));this._toDispose.add(pe),this._toDispose.add(this.model.onDidSuggest(re=>{re.completionModel.items.length===0&&pe.reset()}));const ge=k.Context.MakesTextEdit.bindTo(this._contextKeyService),W=k.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),G=k.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,i.toDisposable)(()=>{ge.reset(),W.reset(),G.reset()})),this._toDispose.add(ue.onDidFocus(({item:re})=>{const ee=this.editor.getPosition(),de=re.editStart.column,ae=ee.column;let ce=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!re.completion.command&&!re.completion.additionalTextEdits&&!(re.completion.insertTextRules&4)&&ae-de===re.completion.insertText.length&&(ce=this.editor.getModel().getValueInRange({startLineNumber:ee.lineNumber,startColumn:de,endLineNumber:ee.lineNumber,endColumn:ae})!==re.completion.insertText),ge.set(ce),W.set(!s.Position.equals(re.editInsertEnd,re.editReplaceEnd)),G.set(Boolean(re.provider.resolveCompletionItem)||Boolean(re.completion.documentation)||re.completion.detail!==re.completion.label)})),this._toDispose.add(ue.onDetailsKeyDown(re=>{if(re.toKeybinding().equals(new b.SimpleKeybinding(!0,!1,!1,!1,33))||f.isMacintosh&&re.toKeybinding().equals(new b.SimpleKeybinding(!1,!1,!1,!0,33))){re.stopPropagation();return}re.toKeybinding().isModifierKey()||this.editor.focus()})),ue})),this._overtypingCapturer=this._toDispose.add(new T.IdleValue(()=>this._toDispose.add(new M.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new T.IdleValue(()=>this._toDispose.add(new A.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(x.createInstance(g.WordContextKey,Y)),this._toDispose.add(this.model.onDidTrigger(ue=>{this.widget.value.showTriggered(ue.auto,ue.shy?250:50),this._lineSuffix.value=new L(this.editor.getModel(),ue.position)})),this._toDispose.add(this.model.onDidSuggest(ue=>{if(!ue.shy){let pe=-1;for(const ge of this._selectors.itemsOrderedByPriorityDesc)if(pe=ge.select(this.editor.getModel(),this.editor.getPosition(),ue.completionModel.items),pe!==-1)break;pe===-1&&(pe=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),ue.completionModel.items)),this.widget.value.showSuggestions(ue.completionModel,pe,ue.isFrozen,ue.auto)}})),this._toDispose.add(this.model.onDidCancel(ue=>{ue.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{O||(this.model.cancel(),this.model.clear())}));let V=k.Context.AcceptSuggestionsOnEnter.bindTo(K),ne=()=>{const ue=this.editor.getOption(1);V.set(ue==="on"||ue==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>ne())),ne()}static get(Y){return Y.getContribution(xi.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(Y,oe){if(!Y||!Y.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const se=this.editor.getModel(),K=se.getAlternativeVersionId(),{item:x}=Y,U=[],H=new D.CancellationTokenSource;oe&1||this.editor.pushUndoStop();const V=this.getOverwriteInfo(x,Boolean(oe&8));if(this._memoryService.memorize(se,this.editor.getPosition(),x),Array.isArray(x.completion.additionalTextEdits)){const ue=d.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",x.completion.additionalTextEdits.map(pe=>u.EditOperation.replace(n.Range.lift(pe.range),pe.text))),ue.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!x.isResolved){const ue=new r.StopWatch(!0);let pe;const ge=se.onDidChangeContent(ee=>{if(ee.isFlush){H.cancel(),ge.dispose();return}for(let de of ee.changes){const ae=n.Range.getEndPosition(de.range);(!pe||s.Position.isBefore(ae,pe))&&(pe=ae)}});let W=oe;oe|=2;let G=!1,re=this.editor.onWillType(()=>{re.dispose(),G=!0,W&2||this.editor.pushUndoStop()});U.push(x.resolve(H.token).then(()=>{if(!x.completion.additionalTextEdits||H.token.isCancellationRequested||pe&&x.completion.additionalTextEdits.some(de=>s.Position.isBefore(pe,n.Range.getStartPosition(de.range))))return!1;G&&this.editor.pushUndoStop();const ee=d.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",x.completion.additionalTextEdits.map(de=>u.EditOperation.replace(n.Range.lift(de.range),de.text))),ee.restoreRelativeVerticalPositionOfCursor(this.editor),(G||!(W&2))&&this.editor.pushUndoStop(),!0}).then(ee=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",ue.elapsed(),ee),ge.dispose(),re.dispose()}))}let{insertText:ne}=x.completion;x.completion.insertTextRules&4||(ne=l.SnippetParser.escape(ne)),t.SnippetController2.get(this.editor).insert(ne,{overwriteBefore:V.overwriteBefore,overwriteAfter:V.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(x.completion.insertTextRules&1),clipboardText:Y.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),oe&2||this.editor.pushUndoStop(),x.completion.command?x.completion.command.id===$.id?this.model.trigger({auto:!0,shy:!1},!0):(U.push(this._commandService.executeCommand(x.completion.command.id,...x.completion.command.arguments?[...x.completion.command.arguments]:[]).catch(S.onUnexpectedError)),this.model.cancel()):this.model.cancel(),oe&4&&this._alternatives.value.set(Y,ue=>{for(H.cancel();se.canUndo();){K!==se.getAlternativeVersionId()&&se.undo(),this._insertSuggestion(ue,1|2|(oe&8?8:0));break}}),this._alertCompletionItem(x),Promise.all(U).finally(()=>{this.model.clear(),H.dispose()})}getOverwriteInfo(Y,oe){(0,o.assertType)(this.editor.hasModel());let se=this.editor.getOption(105).insertMode==="replace";oe&&(se=!se);const K=Y.position.column-Y.editStart.column,x=(se?Y.editReplaceEnd.column:Y.editInsertEnd.column)-Y.position.column,U=this.editor.getPosition().column-Y.position.column,H=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:K+U,overwriteAfter:x+H}}_alertCompletionItem(Y){if((0,N.isNonEmptyArray)(Y.completion.additionalTextEdits)){let oe=w.localize(0,null,Y.textLabel,Y.completion.additionalTextEdits.length);(0,y.alert)(oe)}}triggerSuggest(Y){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,Y),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())}triggerSuggestAndAcceptBest(Y){if(!this.editor.hasModel())return;const oe=this.editor.getPosition(),se=()=>{oe.equals(this.editor.getPosition())&&this._commandService.executeCommand(Y.fallback)},K=x=>{if(x.completion.insertTextRules&4||x.completion.additionalTextEdits)return!0;const U=this.editor.getPosition(),H=x.editStart.column,V=U.column;return V-H!==x.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:U.lineNumber,startColumn:H,endLineNumber:U.lineNumber,endColumn:V})!==x.completion.insertText};p.Event.once(this.model.onDidTrigger)(x=>{let U=[];p.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,i.dispose)(U),se()},void 0,U),this.model.onDidSuggest(({completionModel:H})=>{if((0,i.dispose)(U),H.items.length===0){se();return}const V=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),H.items),ne=H.items[V];if(!K(ne)){se();return}this.editor.pushUndoStop(),this._insertSuggestion({index:V,item:ne,model:H},4|1|2)},void 0,U)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(oe.lineNumber,0),this.editor.focus()}acceptSelectedSuggestion(Y,oe){const se=this.widget.value.getFocusedItem();let K=0;Y&&(K|=4),oe&&(K|=8),this._insertSuggestion(se,K)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(Y){return this._selectors.register(Y)}};B.ID="editor.contrib.suggestController",B=Fe([Ce(1,h.ISuggestMemoryService),Ce(2,C.ICommandService),Ce(3,v.IContextKeyService),Ce(4,m.IInstantiationService),Ce(5,I.ILogService)],B),e.SuggestController=B;class z{constructor(Y){this.prioritySelector=Y,this._items=new Array}register(Y){if(this._items.indexOf(Y)!==-1)throw new Error("Value is already registered");return this._items.push(Y),this._items.sort((oe,se)=>this.prioritySelector(se)-this.prioritySelector(oe)),{dispose:()=>{const oe=this._items.indexOf(Y);oe>=0&&this._items.splice(oe,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class $ extends c.EditorAction{constructor(){super({id:$.id,label:w.localize(1,null),alias:"Trigger Suggest",precondition:v.ContextKeyExpr.and(a.EditorContextKeys.writable,a.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:a.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(Y,oe){const se=B.get(oe);!se||se.triggerSuggest()}}e.TriggerSuggestAction=$,$.id="editor.action.triggerSuggest",(0,c.registerEditorContribution)(B.ID,B),(0,c.registerEditorAction)($);const j=100+90,X=c.EditorCommand.bindToContribution(B.get);(0,c.registerEditorCommand)(new X({id:"acceptSelectedSuggestion",precondition:k.Context.Visible,handler(Q){Q.acceptSelectedSuggestion(!0,!1)}})),E.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:v.ContextKeyExpr.and(k.Context.Visible,a.EditorContextKeys.textInputFocus),primary:2,weight:j}),E.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:v.ContextKeyExpr.and(k.Context.Visible,a.EditorContextKeys.textInputFocus,k.Context.AcceptSuggestionsOnEnter,k.Context.MakesTextEdit),primary:3,weight:j}),_.MenuRegistry.appendMenuItem(k.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:w.localize(2,null)},group:"left",order:1,when:k.Context.HasInsertAndReplaceRange.toNegated()}),_.MenuRegistry.appendMenuItem(k.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:w.localize(3,null)},group:"left",order:1,when:v.ContextKeyExpr.and(k.Context.HasInsertAndReplaceRange,k.Context.InsertMode.isEqualTo("insert"))}),_.MenuRegistry.appendMenuItem(k.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:w.localize(4,null)},group:"left",order:1,when:v.ContextKeyExpr.and(k.Context.HasInsertAndReplaceRange,k.Context.InsertMode.isEqualTo("replace"))}),(0,c.registerEditorCommand)(new X({id:"acceptAlternativeSelectedSuggestion",precondition:v.ContextKeyExpr.and(k.Context.Visible,a.EditorContextKeys.textInputFocus),kbOpts:{weight:j,kbExpr:a.EditorContextKeys.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(Q){Q.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:k.suggestWidgetStatusbarMenu,group:"left",order:2,when:v.ContextKeyExpr.and(k.Context.HasInsertAndReplaceRange,k.Context.InsertMode.isEqualTo("insert")),title:w.localize(5,null)},{menuId:k.suggestWidgetStatusbarMenu,group:"left",order:2,when:v.ContextKeyExpr.and(k.Context.HasInsertAndReplaceRange,k.Context.InsertMode.isEqualTo("replace")),title:w.localize(6,null)}]})),C.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,c.registerEditorCommand)(new X({id:"hideSuggestWidget",precondition:k.Context.Visible,handler:Q=>Q.cancelSuggestWidget(),kbOpts:{weight:j,kbExpr:a.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})),(0,c.registerEditorCommand)(new X({id:"selectNextSuggestion",precondition:v.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:Q=>Q.selectNextSuggestion(),kbOpts:{weight:j,kbExpr:a.EditorContextKeys.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})),(0,c.registerEditorCommand)(new X({id:"selectNextPageSuggestion",precondition:v.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:Q=>Q.selectNextPageSuggestion(),kbOpts:{weight:j,kbExpr:a.EditorContextKeys.textInputFocus,primary:12,secondary:[2048|12]}})),(0,c.registerEditorCommand)(new X({id:"selectLastSuggestion",precondition:v.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:Q=>Q.selectLastSuggestion()})),(0,c.registerEditorCommand)(new X({id:"selectPrevSuggestion",precondition:v.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:Q=>Q.selectPrevSuggestion(),kbOpts:{weight:j,kbExpr:a.EditorContextKeys.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})),(0,c.registerEditorCommand)(new X({id:"selectPrevPageSuggestion",precondition:v.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:Q=>Q.selectPrevPageSuggestion(),kbOpts:{weight:j,kbExpr:a.EditorContextKeys.textInputFocus,primary:11,secondary:[2048|11]}})),(0,c.registerEditorCommand)(new X({id:"selectFirstSuggestion",precondition:v.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:Q=>Q.selectFirstSuggestion()})),(0,c.registerEditorCommand)(new X({id:"toggleSuggestionDetails",precondition:k.Context.Visible,handler:Q=>Q.toggleSuggestionDetails(),kbOpts:{weight:j,kbExpr:a.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[2048|39]}},menuOpts:[{menuId:k.suggestWidgetStatusbarMenu,group:"right",order:1,when:v.ContextKeyExpr.and(k.Context.DetailsVisible,k.Context.CanResolve),title:w.localize(7,null)},{menuId:k.suggestWidgetStatusbarMenu,group:"right",order:1,when:v.ContextKeyExpr.and(k.Context.DetailsVisible.toNegated(),k.Context.CanResolve),title:w.localize(8,null)}]})),(0,c.registerEditorCommand)(new X({id:"toggleExplainMode",precondition:k.Context.Visible,handler:Q=>Q.toggleExplainMode(),kbOpts:{weight:100,primary:2048|85}})),(0,c.registerEditorCommand)(new X({id:"toggleSuggestionFocus",precondition:k.Context.Visible,handler:Q=>Q.toggleSuggestionFocus(),kbOpts:{weight:j,kbExpr:a.EditorContextKeys.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}})),(0,c.registerEditorCommand)(new X({id:"insertBestCompletion",precondition:v.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,v.ContextKeyExpr.equals("config.editor.tabCompletion","on"),g.WordContextKey.AtEnd,k.Context.Visible.toNegated(),A.SuggestAlternatives.OtherSuggestions.toNegated(),t.SnippetController2.InSnippetMode.toNegated()),handler:(Q,Y)=>{Q.triggerSuggestAndAcceptBest((0,o.isObject)(Y)?Object.assign({fallback:"tab"},Y):{fallback:"tab"})},kbOpts:{weight:j,primary:2}})),(0,c.registerEditorCommand)(new X({id:"insertNextSuggestion",precondition:v.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,v.ContextKeyExpr.equals("config.editor.tabCompletion","on"),A.SuggestAlternatives.OtherSuggestions,k.Context.Visible.toNegated(),t.SnippetController2.InSnippetMode.toNegated()),handler:Q=>Q.acceptNextSuggestion(),kbOpts:{weight:j,kbExpr:a.EditorContextKeys.textInputFocus,primary:2}})),(0,c.registerEditorCommand)(new X({id:"insertPrevSuggestion",precondition:v.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,v.ContextKeyExpr.equals("config.editor.tabCompletion","on"),A.SuggestAlternatives.OtherSuggestions,k.Context.Visible.toNegated(),t.SnippetController2.InSnippetMode.toNegated()),handler:Q=>Q.acceptPrevSuggestion(),kbOpts:{weight:j,kbExpr:a.EditorContextKeys.textInputFocus,primary:1024|2}})),(0,c.registerEditorAction)(class extends c.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:w.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(Q,Y){B.get(Y).resetWidgetSize()}})}),define(te[706],ie([0,1,14,6,2,13,3,119,289,290,197,183,243]),function(q,e,y,N,T,D,S,p,b,i,f,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetInlineCompletionProvider=void 0;class d extends T.Disposable{constructor(s,n){super();this.editor=s,this.suggestControllerPreselector=n,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentInlineCompletion=void 0,this.onDidChangeEmitter=new N.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new y.RunOnceScheduler(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(s.onKeyDown(t=>{t.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(s.onKeyUp(t=>{t.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const a=i.SuggestController.get(this.editor);if(a){this._register(a.registerSelector({priority:100,select:(h,g,w)=>{const _=this.editor.getModel(),C=(0,f.minimizeInlineCompletion)(_,this.suggestControllerPreselector());if(!C)return-1;const v=D.Position.lift(g),m=w.map((I,k)=>{const A=c(a,v,I,this.isShiftKeyPressed),P=(0,f.minimizeInlineCompletion)(_,A),F=P.range.equalsRange(C.range)&&C.text.startsWith(P.text);return{index:k,valid:F,prefixLength:P.text.length,suggestItem:I}}).filter(I=>I.valid),E=(0,o.findMaxBy)(m,(0,o.compareBy)(I=>I.prefixLength,(0,o.compareByNumber)()));return E?E.index:-1}}));let t=!1;const l=()=>{t||(t=!0,this._register(a.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(a.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(a.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(N.Event.once(a.model.onDidTrigger)(h=>{l()}))}this.update(this._isActive)}get state(){if(!!this._isActive)return{selectedItemAsInlineCompletion:this._currentInlineCompletion}}update(s){const n=this.getInlineCompletion();let a=!1;(0,r.normalizedInlineCompletionsEquals)(this._currentInlineCompletion,n)||(this._currentInlineCompletion=n,a=!0),this._isActive!==s&&(this._isActive=s,a=!0),a&&this.onDidChangeEmitter.fire()}getInlineCompletion(){const s=i.SuggestController.get(this.editor);if(!s||!this.isSuggestWidgetVisible)return;const n=s.widget.value.getFocusedItem();if(!!n)return c(s,this.editor.getPosition(),n.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const s=i.SuggestController.get(this.editor);s&&s.stopForceRenderingAbove()}forceRenderingAbove(){const s=i.SuggestController.get(this.editor);s&&s.forceRenderingAbove()}}e.SuggestWidgetInlineCompletionProvider=d;function c(u,s,n,a){if(Array.isArray(n.completion.additionalTextEdits)&&n.completion.additionalTextEdits.length>0)return{text:"",range:S.Range.fromPositions(s,s)};let{insertText:t}=n.completion;if(n.completion.insertTextRules&4){const h=new p.SnippetParser().parse(t),g=u.editor.getModel();b.SnippetSession.adjustWhitespace(g,s,h,!0,!0),t=h.toString()}const l=u.getOverwriteInfo(n,a);return{text:t,range:S.Range.fromPositions(s.delta(0,-l.overwriteBefore),s.delta(0,Math.max(l.overwriteAfter,0)))}}}),define(te[707],ie([0,1,14,10,2,18,182,197,183,706]),function(q,e,y,N,T,D,S,p,b,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetPreviewModel=void 0;class f extends S.BaseGhostTextWidgetModel{constructor(d,c){super(d);this.cache=c,this.suggestionInlineCompletionSource=this._register(new i.SuggestWidgetInlineCompletionProvider(this.editor,()=>{var u,s;return(s=(u=this.cache.value)===null||u===void 0?void 0:u.completions[0])===null||s===void 0?void 0:s.toLiveInlineCompletion()})),this.updateOperation=this._register(new T.MutableDisposable),this.updateCacheSoon=this._register(new y.RunOnceScheduler(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const s=this.ghostText;s&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,r(s.parts.map(n=>n.lines.length-1)))),this.minReservedLineCount>=1&&this.isSuggestionPreviewEnabled()?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(u=>{this.isSuggestionPreviewEnabled()&&(this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire())})),this._register((0,T.toDisposable)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(105).preview}updateCache(){return Me(this,void 0,void 0,function*(){const d=this.suggestionInlineCompletionSource.state;if(!d||!d.selectedItemAsInlineCompletion)return;const c={text:d.selectedItemAsInlineCompletion.text,range:d.selectedItemAsInlineCompletion.range},u=this.editor.getPosition(),s=(0,y.createCancelablePromise)(a=>Me(this,void 0,void 0,function*(){let t;try{t=yield(0,p.provideInlineCompletions)(u,this.editor.getModel(),{triggerKind:D.InlineCompletionTriggerKind.Automatic,selectedSuggestionInfo:c},a)}catch(l){(0,N.onUnexpectedError)(l);return}a.isCancellationRequested||(this.cache.setValue(this.editor,t,D.InlineCompletionTriggerKind.Automatic),this.onDidChangeEmitter.fire())})),n=new p.UpdateOperation(s,D.InlineCompletionTriggerKind.Automatic);this.updateOperation.value=n,yield s,this.updateOperation.value===n&&this.updateOperation.clear()})}get ghostText(){var d,c;const u=this.suggestionInlineCompletionSource.state,s=(0,p.minimizeInlineCompletion)(this.editor.getModel(),u==null?void 0:u.selectedItemAsInlineCompletion),n=(0,p.minimizeInlineCompletion)(this.editor.getModel(),(c=(d=this.cache.value)===null||d===void 0?void 0:d.completions[0])===null||c===void 0?void 0:c.toLiveInlineCompletion()),a=n&&s&&n.text.startsWith(s.text)&&n.range.equalsRange(s.range)?n:s||n,t=s?((a==null?void 0:a.text.length)||0)-s.text.length:0,h=(g=>{const w=this.editor.getOptions().get(105).previewMode;return g?(0,b.inlineCompletionToGhostText)(g,this.editor.getModel(),w,this.editor.getPosition(),t)||new S.GhostText(g.range.endLineNumber,[],this.minReservedLineCount):void 0})(a);return this.isSuggestionPreviewEnabled()?h:void 0}}e.SuggestWidgetPreviewModel=f;function r(o){return o.reduce((d,c)=>d+c,0)}}),define(te[708],ie([0,1,6,2,13,18,197,707,243,26]),function(q,e,y,N,T,D,S,p,b,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SharedInlineCompletionCache=e.GhostTextModel=e.DelegatingModel=void 0;class f extends N.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new N.MutableDisposable)}get targetModel(){var c;return(c=this.currentModelRef.value)===null||c===void 0?void 0:c.object}setTargetModel(c){var u;((u=this.currentModelRef.value)===null||u===void 0?void 0:u.object)!==c&&(this.currentModelRef.clear(),this.currentModelRef.value=c?(0,b.createDisposableRef)(c,c.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var c,u;return this.hasCachedGhostText||(this.cachedGhostText=(u=(c=this.currentModelRef.value)===null||c===void 0?void 0:c.object)===null||u===void 0?void 0:u.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(c){var u;(u=this.targetModel)===null||u===void 0||u.setExpanded(c)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}e.DelegatingModel=f;let r=class extends f{constructor(c,u){super();this.editor=c,this.commandService=u,this.sharedCache=this._register(new o),this.suggestWidgetAdapterModel=this._register(new p.SuggestWidgetPreviewModel(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new S.InlineCompletionsModel(this.editor,this.sharedCache,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(c){var u;const s=(u=this.activeInlineCompletionsModel)===null||u===void 0?void 0:u.ghostText;return s?s.parts.some(n=>c.containsPosition(new T.Position(s.lineNumber,n.column))):!1}triggerInlineCompletion(){var c;(c=this.activeInlineCompletionsModel)===null||c===void 0||c.trigger(D.InlineCompletionTriggerKind.Explicit)}commitInlineCompletion(){var c;(c=this.activeInlineCompletionsModel)===null||c===void 0||c.commitCurrentSuggestion()}hideInlineCompletion(){var c;(c=this.activeInlineCompletionsModel)===null||c===void 0||c.hide()}showNextInlineCompletion(){var c;(c=this.activeInlineCompletionsModel)===null||c===void 0||c.showNext()}showPreviousInlineCompletion(){var c;(c=this.activeInlineCompletionsModel)===null||c===void 0||c.showPrevious()}hasMultipleInlineCompletions(){var c;return Me(this,void 0,void 0,function*(){const u=yield(c=this.activeInlineCompletionsModel)===null||c===void 0?void 0:c.hasMultipleInlineCompletions();return u!==void 0?u:!1})}};r=Fe([Ce(1,i.ICommandService)],r),e.GhostTextModel=r;class o extends N.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new N.MutableDisposable)}get value(){return this.cache.value}setValue(c,u,s){this.cache.value=new S.SynchronizedInlineCompletionsCache(c,u,()=>this.onDidChangeEmitter.fire(),s)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}e.SharedInlineCompletionCache=o}),define(te[291],ie([0,1,2,16,25,242,708,625,512,15,9,80]),function(q,e,y,N,T,D,S,p,b,i,f,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=e.commitInlineSuggestionAction=e.ActiveGhostTextController=e.GhostTextController=void 0;let o=class Wi extends y.Disposable{constructor(l,h){super();this.editor=l,this.instantiationService=h,this.triggeredExplicitly=!1,this.activeController=this._register(new y.MutableDisposable),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(g=>{g.hasChanged(105)&&this.updateModelController(),g.hasChanged(54)&&this.updateModelController()})),this.updateModelController()}static get(l){return l.getContribution(Wi.ID)}get activeModel(){var l;return(l=this.activeController.value)===null||l===void 0?void 0:l.model}updateModelController(){const l=this.editor.getOption(105),h=this.editor.getOption(54);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(l.preview||h.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(c,this.editor):void 0}shouldShowHoverAt(l){var h;return((h=this.activeModel)===null||h===void 0?void 0:h.shouldShowHoverAt(l))||!1}shouldShowHoverAtViewZone(l){var h,g;return((g=(h=this.activeController.value)===null||h===void 0?void 0:h.widget)===null||g===void 0?void 0:g.shouldShowHoverAtViewZone(l))||!1}trigger(){var l;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(l=this.activeModel)===null||l===void 0||l.triggerInlineCompletion()}commit(){var l;(l=this.activeModel)===null||l===void 0||l.commitInlineCompletion()}hide(){var l;(l=this.activeModel)===null||l===void 0||l.hideInlineCompletion()}showNextInlineCompletion(){var l;(l=this.activeModel)===null||l===void 0||l.showNextInlineCompletion()}showPreviousInlineCompletion(){var l;(l=this.activeModel)===null||l===void 0||l.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var l;return Me(this,void 0,void 0,function*(){const h=yield(l=this.activeModel)===null||l===void 0?void 0:l.hasMultipleInlineCompletions();return h!==void 0?h:!1})}};o.inlineSuggestionVisible=new i.RawContextKey("inlineSuggestionVisible",!1,b.localize(0,null)),o.inlineSuggestionHasIndentation=new i.RawContextKey("inlineSuggestionHasIndentation",!1,b.localize(1,null)),o.ID="editor.contrib.ghostTextController",o=Fe([Ce(1,f.IInstantiationService)],o),e.GhostTextController=o;class d{constructor(l){this.contextKeyService=l,this.inlineCompletionVisible=o.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=o.inlineSuggestionHasIndentation.bindTo(this.contextKeyService)}}let c=class extends y.Disposable{constructor(l,h,g){super();this.editor=l,this.instantiationService=h,this.contextKeyService=g,this.contextKeys=new d(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(S.GhostTextModel,this.editor)),this.widget=this._register(this.instantiationService.createInstance(p.GhostTextWidget,this.editor,this.model)),this._register((0,y.toDisposable)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var l;this.contextKeys.inlineCompletionVisible.set(((l=this.model.activeInlineCompletionsModel)===null||l===void 0?void 0:l.ghostText)!==void 0);const h=this.model.inlineCompletionsModel.ghostText;if(h&&h.parts.length>0){const{column:g,lines:w}=h.parts[0],_=w[0].startsWith(" ")||w[0].startsWith("	"),C=this.editor.getModel().getLineIndentColumn(h.lineNumber),v=g<=C;this.contextKeys.inlineCompletionSuggestsIndentation.set(!!this.model.activeInlineCompletionsModel&&_&&v)}else this.contextKeys.inlineCompletionSuggestsIndentation.set(!1)}};c=Fe([Ce(1,f.IInstantiationService),Ce(2,i.IContextKeyService)],c),e.ActiveGhostTextController=c;const u=N.EditorCommand.bindToContribution(o.get);e.commitInlineSuggestionAction=new u({id:D.inlineSuggestCommitId,precondition:o.inlineSuggestionVisible,handler(t){t.commit(),t.editor.focus()}}),(0,N.registerEditorCommand)(e.commitInlineSuggestionAction),r.KeybindingsRegistry.registerKeybindingRule({primary:2,weight:200,id:e.commitInlineSuggestionAction.id,when:i.ContextKeyExpr.and(e.commitInlineSuggestionAction.precondition,T.EditorContextKeys.tabMovesFocus.toNegated(),o.inlineSuggestionHasIndentation.toNegated())}),(0,N.registerEditorCommand)(new u({id:"editor.action.inlineSuggest.hide",precondition:o.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(t){t.hide()}}));class s extends N.EditorAction{constructor(){super({id:s.ID,label:b.localize(2,null),alias:"Show Next Inline Suggestion",precondition:i.ContextKeyExpr.and(T.EditorContextKeys.writable,o.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|89}})}run(l,h){return Me(this,void 0,void 0,function*(){const g=o.get(h);g&&(g.showNextInlineCompletion(),h.focus())})}}e.ShowNextInlineSuggestionAction=s,s.ID="editor.action.inlineSuggest.showNext";class n extends N.EditorAction{constructor(){super({id:n.ID,label:b.localize(3,null),alias:"Show Previous Inline Suggestion",precondition:i.ContextKeyExpr.and(T.EditorContextKeys.writable,o.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|87}})}run(l,h){return Me(this,void 0,void 0,function*(){const g=o.get(h);g&&(g.showPreviousInlineCompletion(),h.focus())})}}e.ShowPreviousInlineSuggestionAction=n,n.ID="editor.action.inlineSuggest.showPrevious";class a extends N.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:b.localize(4,null),alias:"Trigger Inline Suggestion",precondition:T.EditorContextKeys.writable})}run(l,h){return Me(this,void 0,void 0,function*(){const g=o.get(h);g&&g.trigger()})}}e.TriggerInlineSuggestionAction=a,(0,N.registerEditorContribution)(o.ID,o),(0,N.registerEditorAction)(a),(0,N.registerEditorAction)(s),(0,N.registerEditorAction)(n)}),define(te[709],ie([0,1,7,68,2,125,3,56,240,291,513,60,33,26,15,57]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class s{constructor(t,l,h){this.owner=t,this.range=l,this.controller=h}isValidForHoverAnchor(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}e.InlineCompletionsHover=s;let n=class{constructor(t,l,h,g,w,_,C,v){this._editor=t,this._hover=l,this._commandService=h,this._menuService=g,this._contextKeyService=w,this._modeService=_,this._openerService=C,this.accessibilityService=v}suggestHoverAnchor(t){const l=i.GhostTextController.get(this._editor);if(!l)return null;if(t.target.type===8){const h=t.target.detail;if(l.shouldShowHoverAtViewZone(h.viewZoneId))return new b.HoverForeignElementAnchor(1e3,this,S.Range.fromPositions(h.positionBefore||h.position,h.positionBefore||h.position))}return t.target.type===7&&t.target.range&&l.shouldShowHoverAt(t.target.range)?new b.HoverForeignElementAnchor(1e3,this,t.target.range):t.target.type===6&&t.target.range&&t.target.detail&&t.target.detail.mightBeForeignElement&&l.shouldShowHoverAt(t.target.range)?new b.HoverForeignElementAnchor(1e3,this,t.target.range):null}computeSync(t,l){const h=i.GhostTextController.get(this._editor);return h&&h.shouldShowHoverAt(t.range)?[new s(this,t.range,h)]:[]}renderHoverParts(t,l,h){const g=new T.DisposableStore,w=t[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(w,l,g);const _=g.add(this._menuService.createMenu(o.MenuId.InlineCompletionsActions,this._contextKeyService)),C=h.addAction({label:f.localize(0,null),commandId:i.ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(i.ShowNextInlineSuggestionAction.ID)}),v=h.addAction({label:f.localize(1,null),commandId:i.ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(i.ShowPreviousInlineSuggestionAction.ID)});h.addAction({label:f.localize(2,null),commandId:i.commitInlineSuggestionAction.id,run:()=>this._commandService.executeCommand(i.commitInlineSuggestionAction.id)});const m=[C,v];for(const E of m)E.setEnabled(!1);w.hasMultipleSuggestions().then(E=>{for(const I of m)I.setEnabled(E)});for(const[E,I]of _.getActions())for(const k of I)k instanceof o.MenuItemAction&&h.addAction({label:k.label,commandId:k.item.id,run:()=>this._commandService.executeCommand(k.item.id)});return g}renderScreenReaderText(t,l,h){var g,w;const _=y.$,C=_("div.hover-row.markdown-hover"),v=y.append(C,_("div.hover-contents")),m=h.add(new D.MarkdownRenderer({editor:this._editor},this._modeService,this._openerService)),E=k=>{h.add(m.onDidRenderAsync(()=>{v.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const A=f.localize(3,null),P=h.add(m.render(new N.MarkdownString().appendText(A).appendCodeblock("text",k)));v.replaceChildren(P.element)},I=(w=(g=t.controller.activeModel)===null||g===void 0?void 0:g.inlineCompletionsModel)===null||w===void 0?void 0:w.ghostText;if(I){const k=this._editor.getModel().getLineContent(I.lineNumber);E(I.renderForScreenReader(k))}l.appendChild(C)}};n=Fe([Ce(2,d.ICommandService),Ce(3,o.IMenuService),Ce(4,c.IContextKeyService),Ce(5,p.IModeService),Ce(6,u.IOpenerService),Ce(7,r.IAccessibilityService)],n),e.InlineCompletionsHoverParticipant=n}),define(te[710],ie([0,1,7,218,53,19,2,13,3,31,18,651,239,240,653,687,709,9,40]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesContentHoverWidget=void 0;const t=y.$;let l=class extends S.Disposable{constructor(_){super();this._keybindingService=_,this._hasContent=!1,this.hoverElement=t("div.hover-row.status-bar"),this.actionsElement=y.append(this.hoverElement,t("div.actions"))}get hasContent(){return this._hasContent}addAction(_){const C=this._keybindingService.lookupKeybinding(_.commandId),v=C?C.getLabel():null;return this._hasContent=!0,this._register(N.HoverAction.render(this.actionsElement,_,v))}append(_){const C=y.append(this.actionsElement,_);return this._hasContent=!0,C}};l=Fe([Ce(0,a.IKeybindingService)],l);class h{constructor(_,C){this._participants=C,this._editor=_,this._result=[],this._anchor=null}setAnchor(_){this._anchor=_,this._result=[]}clearResult(){this._result=[]}static _getLineDecorations(_,C){if(C.type!==1)return[];const v=_.getModel(),m=C.range.startLineNumber,E=v.getLineMaxColumn(m);return _.getLineDecorations(m).filter(I=>{if(I.options.isWholeLine)return!0;const k=I.range.startLineNumber===m?I.range.startColumn:1,A=I.range.endLineNumber===m?I.range.endColumn:E;return!(k>C.range.startColumn||C.range.endColumn>A)})}computeAsync(_){return Me(this,void 0,void 0,function*(){const C=this._anchor;if(!this._editor.hasModel()||!C)return Promise.resolve([]);const v=h._getLineDecorations(this._editor,C),m=yield Promise.all(this._participants.map(E=>this._computeAsync(E,v,C,_)));return(0,D.flatten)(m)})}_computeAsync(_,C,v,m){return Me(this,void 0,void 0,function*(){return _.computeAsync?_.computeAsync(v,C,m):[]})}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const _=h._getLineDecorations(this._editor,this._anchor);let C=[];for(const v of this._participants)C=C.concat(v.computeSync(this._anchor,_));return(0,D.coalesce)(C)}onResult(_,C){C?this._result=_.concat(this._result):this._result=this._result.concat(_)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._anchor){for(const _ of this._participants)if(_.createLoadingMessage){const C=_.createLoadingMessage(this._anchor);if(C)return this._result.slice(0).concat([C])}}return this._result.slice(0)}}let g=class Xt extends T.Widget{constructor(_,C,v,m){super();this._hoverVisibleKey=C,this._keybindingService=m,this.allowEditorOverflow=!0,this._participants=[v.createInstance(r.ColorHoverParticipant,_,this),v.createInstance(c.MarkdownHoverParticipant,_,this),v.createInstance(s.InlineCompletionsHoverParticipant,_,this),v.createInstance(u.MarkerHoverParticipant,_,this)],this._hover=this._register(new N.HoverWidget),this._editor=_,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this.onkeydown(this._hover.containerDomNode,E=>{E.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(E=>{E.hasChanged(43)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastAnchor=null,this._computer=new h(this._editor,this._participants),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._hoverOperation=new o.HoverOperation(this._computer,E=>this._withResult(E,!0),null,E=>this._withResult(E,!1),this._editor.getOption(52).delay),this._register(y.addStandardDisposableListener(this.getDomNode(),y.EventType.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(y.addStandardDisposableListener(this.getDomNode(),y.EventType.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(_.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(52).delay)})),this._register(f.TokenizationRegistry.onDidChange(()=>{this._isVisible&&this._lastAnchor&&this._messages.length>0&&(this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastAnchor,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return Xt.ID}getDomNode(){return this._hover.containerDomNode}_shouldShowAt(_){const C=_.target.type;if(C===6)return!0;if(C===7){const v=this._editor.getOption(43).typicalHalfwidthCharacterWidth/2,m=_.target.detail;if(m&&!m.isAfterLines&&typeof m.horizontalDistanceToText=="number"&&m.horizontalDistanceToText<v)return!0}return!1}maybeShowAt(_){var C;const v=[];for(const m of this._participants)if(typeof m.suggestHoverAnchor=="function"){const E=m.suggestHoverAnchor(_);E&&v.push(E)}if(this._shouldShowAt(_)&&_.target.range){const E=[...((C=_.target.element)===null||C===void 0?void 0:C.classList.values())||[]].find(I=>I.startsWith("ced-colorBox"))&&_.target.range.endColumn-_.target.range.startColumn==1?new b.Range(_.target.range.startLineNumber,_.target.range.startColumn+1,_.target.range.endLineNumber,_.target.range.endColumn+1):_.target.range;v.push(new d.HoverRangeAnchor(0,E))}return v.length===0?!1:(v.sort((m,E)=>E.priority-m.priority),this._startShowingAt(v[0],0,!1),!0)}_showAt(_,C,v){this._showAtPosition=_,this._showAtRange=C,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=v,v&&this._hover.containerDomNode.focus()}getPosition(){return this._isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(C=>this._editor.applyFontInfo(C))}_updateContents(_){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(_),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const _=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:C,lineHeight:v}=this._editor.getOption(43);this._hover.contentsDomNode.style.fontSize=`${C}px`,this._hover.contentsDomNode.style.lineHeight=`${v}px`,this._hover.contentsDomNode.style.maxHeight=`${_}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAtRange(_,C,v){this._startShowingAt(new d.HoverRangeAnchor(0,_),C,v)}_startShowingAt(_,C,v){if(!(this._lastAnchor&&this._lastAnchor.equals(_))){if(this._hoverOperation.cancel(),this._isVisible)if(!this._showAtPosition||!this._lastAnchor||!_.canAdoptVisibleHover(this._lastAnchor,this._showAtPosition))this.hide();else{const m=this._messages.filter(E=>E.isValidForHoverAnchor(_));if(m.length===0)this.hide();else{if(m.length===this._messages.length)return;this._renderMessages(_,m)}}this._lastAnchor=_,this._computer.setAnchor(_),this._shouldFocus=v,this._hoverOperation.start(C)}}hide(){this._lastAnchor=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}setColorPicker(_){this._colorPicker=_}onContentsChanged(){this._hover.onContentsChanged()}_withResult(_,C){this._messages=_,this._lastAnchor&&this._messages.length>0?this._renderMessages(this._lastAnchor,this._messages):C&&this.hide()}_renderMessages(_,C){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let v=1073741824,m=C[0].range,E=null,I=document.createDocumentFragment();const k=new S.DisposableStore,A=new Map;for(const F of C)v=Math.min(v,F.range.startColumn),m=b.Range.plusRange(m,F.range),F.forceShowAtRange&&(E=F.range),A.has(F.owner)||A.set(F.owner,[]),A.get(F.owner).push(F);const P=k.add(new l(this._keybindingService));for(const[F,M]of A)k.add(F.renderHoverParts(M,I,P));P.hasContent&&I.appendChild(P.hoverElement),this._renderDisposable=k,I.hasChildNodes()&&(E?this._showAt(E.getStartPosition(),E,this._shouldFocus):this._showAt(new p.Position(_.range.startLineNumber,v),m,this._shouldFocus),this._updateContents(I)),this._colorPicker&&this._colorPicker.layout(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,m?[{range:m,options:Xt._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}};g.ID="editor.contrib.modesContentHoverWidget",g._DECORATION_OPTIONS=i.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),g=Fe([Ce(2,n.IInstantiationService),Ce(3,a.IKeybindingService)],g),e.ModesContentHoverWidget=g}),define(te[292],ie([0,1,43,2,16,3,25,56,287,710,577,507,15,9,57,22,12]),function(q,e,y,N,T,D,S,p,b,i,f,r,o,d,c,u,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;let n=class zi{constructor(h,g,w,_,C){this._editor=h,this._instantiationService=g,this._openerService=w,this._modeService=_,this._toUnhook=new N.DisposableStore,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(v=>{v.hasChanged(52)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=S.EditorContextKeys.hoverVisible.bindTo(C)}static get(h){return h.getContribution(zi.ID)}_hookEvents(){const h=()=>this._hideWidgets(),g=this._editor.getOption(52);this._isHoverEnabled=g.enabled,this._isHoverSticky=g.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(w=>this._onEditorMouseDown(w))),this._toUnhook.add(this._editor.onMouseUp(w=>this._onEditorMouseUp(w))),this._toUnhook.add(this._editor.onMouseMove(w=>this._onEditorMouseMove(w))),this._toUnhook.add(this._editor.onKeyDown(w=>this._onKeyDown(w))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(w=>this._onEditorMouseMove(w))),this._toUnhook.add(this._editor.onKeyDown(w=>this._onKeyDown(w)))),this._toUnhook.add(this._editor.onMouseLeave(h)),this._toUnhook.add(this._editor.onDidChangeModel(h)),this._toUnhook.add(this._editor.onDidScrollChange(w=>this._onEditorScrollChanged(w)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var h,g;(h=this._contentWidget)===null||h===void 0||h.onModelDecorationsChanged(),(g=this._glyphWidget)===null||g===void 0||g.onModelDecorationsChanged()}_onEditorScrollChanged(h){(h.scrollTopChanged||h.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(h){this._isMouseDown=!0;const g=h.target.type;if(g===9&&h.target.detail===i.ModesContentHoverWidget.ID){this._hoverClicked=!0;return}g===12&&h.target.detail===f.ModesGlyphHoverWidget.ID||(g!==12&&h.target.detail!==f.ModesGlyphHoverWidget.ID&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(h){this._isMouseDown=!1}_onEditorMouseMove(h){var g,w,_,C,v;let m=h.target.type;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&m===9&&h.target.detail===i.ModesContentHoverWidget.ID||this._isHoverSticky&&!((w=(g=h.event.browserEvent.view)===null||g===void 0?void 0:g.getSelection())===null||w===void 0?void 0:w.isCollapsed)||!this._isHoverSticky&&m===9&&h.target.detail===i.ModesContentHoverWidget.ID&&((_=this._contentWidget)===null||_===void 0?void 0:_.isColorPickerVisible())||this._isHoverSticky&&m===12&&h.target.detail===f.ModesGlyphHoverWidget.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(h)){(C=this._glyphWidget)===null||C===void 0||C.hide();return}if(m===2&&h.target.position){(v=this._contentWidget)===null||v===void 0||v.hide(),this._glyphWidget||(this._glyphWidget=new f.ModesGlyphHoverWidget(this._editor,this._modeService,this._openerService)),this._glyphWidget.startShowingAt(h.target.position.lineNumber);return}this._hideWidgets()}_onKeyDown(h){h.keyCode!==5&&h.keyCode!==6&&h.keyCode!==57&&h.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var h,g,w;this._isMouseDown&&this._hoverClicked&&((h=this._contentWidget)===null||h===void 0?void 0:h.isColorPickerVisible())||(this._hoverClicked=!1,(g=this._glyphWidget)===null||g===void 0||g.hide(),(w=this._contentWidget)===null||w===void 0||w.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(i.ModesContentHoverWidget,this._editor,this._hoverVisibleKey)),this._contentWidget}isColorPickerVisible(){var h;return((h=this._contentWidget)===null||h===void 0?void 0:h.isColorPickerVisible())||!1}showContentHover(h,g,w){this._getOrCreateContentWidget().startShowingAtRange(h,g,w)}dispose(){var h,g;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(h=this._glyphWidget)===null||h===void 0||h.dispose(),(g=this._contentWidget)===null||g===void 0||g.dispose()}};n.ID="editor.contrib.hover",n=Fe([Ce(1,d.IInstantiationService),Ce(2,c.IOpenerService),Ce(3,p.IModeService),Ce(4,o.IContextKeyService)],n),e.ModesHoverController=n;class a extends T.EditorAction{constructor(){super({id:"editor.action.showHover",label:r.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2048|41,2048|39),weight:100}})}run(h,g){if(!g.hasModel())return;let w=n.get(g);if(!w)return;const _=g.getPosition(),C=new D.Range(_.lineNumber,_.column,_.lineNumber,_.column),v=g.getOption(2)===2;w.showContentHover(C,1,v)}}class t extends T.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:r.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(h,g){let w=n.get(g);if(!w)return;const _=g.getPosition();if(!_)return;const C=new D.Range(_.lineNumber,_.column,_.lineNumber,_.column);b.GotoDefinitionAtPositionEditorContribution.get(g).startFindDefinitionFromCursor(_).then(()=>{w.showContentHover(C,1,!0)})}}(0,T.registerEditorContribution)(n.ID,n),(0,T.registerEditorAction)(a),(0,T.registerEditorAction)(t),(0,s.registerThemingParticipant)((l,h)=>{const g=l.getColor(u.editorHoverHighlight);g&&h.addRule(`.monaco-editor .hoverHighlight { background-color: ${g}; }`);const w=l.getColor(u.editorHoverBackground);w&&h.addRule(`.monaco-editor .monaco-hover { background-color: ${w}; }`);const _=l.getColor(u.editorHoverBorder);_&&(h.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${_}; }`),h.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${_.transparent(.5)}; }`),h.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${_.transparent(.5)}; }`),h.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${_.transparent(.5)}; }`));const C=l.getColor(u.textLinkForeground);C&&h.addRule(`.monaco-editor .monaco-hover a { color: ${C}; }`);const v=l.getColor(u.textLinkActiveForeground);v&&h.addRule(`.monaco-editor .monaco-hover a:hover { color: ${v}; }`);const m=l.getColor(u.editorHoverForeground);m&&h.addRule(`.monaco-editor .monaco-hover { color: ${m}; }`);const E=l.getColor(u.editorHoverStatusBarBackground);E&&h.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${E}; }`);const I=l.getColor(u.textCodeBlockBackground);I&&h.addRule(`.monaco-editor .monaco-hover code { background-color: ${I}; }`)})}),define(te[711],ie([0,1,2,16,3,292,275]),function(q,e,y,N,T,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class S extends y.Disposable{constructor(b){super();this._editor=b,this._register(b.onMouseDown(i=>this.onMouseDown(i)))}dispose(){super.dispose()}onMouseDown(b){var i;if(b.target.type!==6||![...((i=b.target.element)===null||i===void 0?void 0:i.classList.values())||[]].find(d=>d.startsWith("ced-colorBox"))||!b.target.range)return;const o=this._editor.getContribution(D.ModesHoverController.ID);if(!o.isColorPickerVisible()){const d=new T.Range(b.target.range.startLineNumber,b.target.range.startColumn+1,b.target.range.endLineNumber,b.target.range.endColumn+1);o.showContentHover(d,0,!1)}}}e.ColorContribution=S,S.ID="editor.contrib.colorContribution",(0,N.registerEditorContribution)(S.ID,S)}),define(te[712],ie([0,1,151,152,281,225,636,637,638,639,640,661,643,711,644,645,646,647,282,686,648,649,562,291,286,287,283,292,655,656,654,657,658,659,688,690,662,663,201,290,664,279,665,696,666,280,667,64,133]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})});var xt=this&&this.__createBinding||(Object.create?function(q,e,y,N){N===void 0&&(N=y),Object.defineProperty(q,N,{enumerable:!0,get:function(){return e[y]}})}:function(q,e,y,N){N===void 0&&(N=y),q[N]=e[y]}),Wt=this&&this.__exportStar||function(q,e){for(var y in q)y!=="default"&&!Object.prototype.hasOwnProperty.call(e,y)&&xt(e,q,y)};define(te[715],ie([0,1,702,712,668,669,670,589,672,673,671,697,674]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Wt(y,e)})}).call(this);


/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-typescript version: 4.9.1(64042339ee6a4e05eab2d1946f9445744734cc62)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-typescript/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/lib/typescriptServicesMetadata",["require","exports"],(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typescriptVersion=void 0,e.typescriptVersion="4.4.3"})),define("vs/language/typescript/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/typescript/monaco.contribution",["require","exports","./lib/typescriptServicesMetadata","./fillers/monaco-editor-core"],(function(t,e,i,n){"use strict";var r,o,s,a,c;Object.defineProperty(e,"__esModule",{value:!0}),e.getJavaScriptWorker=e.getTypeScriptWorker=e.javascriptDefaults=e.typescriptDefaults=e.typescriptVersion=e.ModuleResolutionKind=e.ScriptTarget=e.NewLineKind=e.JsxEmit=e.ModuleKind=void 0,function(t){t[t.None=0]="None",t[t.CommonJS=1]="CommonJS",t[t.AMD=2]="AMD",t[t.UMD=3]="UMD",t[t.System=4]="System",t[t.ES2015=5]="ES2015",t[t.ESNext=99]="ESNext"}(r=e.ModuleKind||(e.ModuleKind={})),function(t){t[t.None=0]="None",t[t.Preserve=1]="Preserve",t[t.React=2]="React",t[t.ReactNative=3]="ReactNative",t[t.ReactJSX=4]="ReactJSX",t[t.ReactJSXDev=5]="ReactJSXDev"}(o=e.JsxEmit||(e.JsxEmit={})),function(t){t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed"}(s=e.NewLineKind||(e.NewLineKind={})),function(t){t[t.ES3=0]="ES3",t[t.ES5=1]="ES5",t[t.ES2015=2]="ES2015",t[t.ES2016=3]="ES2016",t[t.ES2017=4]="ES2017",t[t.ES2018=5]="ES2018",t[t.ES2019=6]="ES2019",t[t.ES2020=7]="ES2020",t[t.ESNext=99]="ESNext",t[t.JSON=100]="JSON",t[t.Latest=99]="Latest"}(a=e.ScriptTarget||(e.ScriptTarget={})),function(t){t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs"}(c=e.ModuleResolutionKind||(e.ModuleResolutionKind={}));var p=function(){function t(t,e,i,r){this._onDidChange=new n.Emitter,this._onDidExtraLibsChange=new n.Emitter,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(t),this.setDiagnosticsOptions(e),this.setWorkerOptions(i),this.setInlayHintsOptions(r),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(t.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inlayHintsOptions",{get:function(){return this._inlayHintsOptions},enumerable:!1,configurable:!0}),t.prototype.getExtraLibs=function(){return this._extraLibs},t.prototype.addExtraLib=function(t,e){var i,n=this;if(i=void 0===e?"ts:extralib-"+Math.random().toString(36).substring(2,15):e,this._extraLibs[i]&&this._extraLibs[i].content===t)return{dispose:function(){}};var r=1;return this._removedExtraLibs[i]&&(r=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(r=this._extraLibs[i].version+1),this._extraLibs[i]={content:t,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var t=n._extraLibs[i];t&&t.version===r&&(delete n._extraLibs[i],n._removedExtraLibs[i]=r,n._fireOnDidExtraLibsChangeSoon())}}},t.prototype.setExtraLibs=function(t){for(var e in this._extraLibs)this._removedExtraLibs[e]=this._extraLibs[e].version;if(this._extraLibs=Object.create(null),t&&t.length>0)for(var i=0,n=t;i<n.length;i++){var r=n[i],o=(e=r.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),r.content),s=1;this._removedExtraLibs[e]&&(s=this._removedExtraLibs[e]+1),this._extraLibs[e]={content:o,version:s}}this._fireOnDidExtraLibsChangeSoon()},t.prototype._fireOnDidExtraLibsChangeSoon=function(){var t=this;-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=setTimeout((function(){t._onDidExtraLibsChangeTimeout=-1,t._onDidExtraLibsChange.fire(void 0)}),0))},t.prototype.getCompilerOptions=function(){return this._compilerOptions},t.prototype.setCompilerOptions=function(t){this._compilerOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},t.prototype.setDiagnosticsOptions=function(t){this._diagnosticsOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.setWorkerOptions=function(t){this._workerOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.setInlayHintsOptions=function(t){this._inlayHintsOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.setMaximumWorkerIdleTime=function(t){},t.prototype.setEagerModelSync=function(t){this._eagerModelSync=t},t.prototype.getEagerModelSync=function(){return this._eagerModelSync},t}();e.typescriptVersion=i.typescriptVersion,e.typescriptDefaults=new p({allowNonTsExtensions:!0,target:a.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),e.javascriptDefaults=new p({allowNonTsExtensions:!0,allowJs:!0,target:a.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{});e.getTypeScriptWorker=function(){return u().then((function(t){return t.getTypeScriptWorker()}))};function u(){return new Promise((function(e,i){t(["./tsMode"],e,i)}))}e.getJavaScriptWorker=function(){return u().then((function(t){return t.getJavaScriptWorker()}))},n.languages.typescript={ModuleKind:r,JsxEmit:o,NewLineKind:s,ScriptTarget:a,ModuleResolutionKind:c,typescriptVersion:e.typescriptVersion,typescriptDefaults:e.typescriptDefaults,javascriptDefaults:e.javascriptDefaults,getTypeScriptWorker:e.getTypeScriptWorker,getJavaScriptWorker:e.getJavaScriptWorker},n.languages.onLanguage("typescript",(function(){return u().then((function(t){return t.setupTypeScript(e.typescriptDefaults)}))})),n.languages.onLanguage("javascript",(function(){return u().then((function(t){return t.setupJavaScript(e.javascriptDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-css version: 3.8.1(1684631ef49ad4ba0e0e824f6a1507510015d99a)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-css/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/css/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/css/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.lessDefaults=n.scssDefaults=n.cssDefaults=void 0;var o=function(){function e(e,n,o){this._onDidChange=new t.Emitter,this._languageId=e,this.setOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this.options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setDiagnosticsOptions=function(e){this.setOptions(e)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),s={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},i={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0};function r(){return new Promise((function(n,t){e(["./cssMode"],n,t)}))}n.cssDefaults=new o("css",s,i),n.scssDefaults=new o("scss",s,i),n.lessDefaults=new o("less",s,i),t.languages.css={cssDefaults:n.cssDefaults,lessDefaults:n.lessDefaults,scssDefaults:n.scssDefaults},t.languages.onLanguage("less",(function(){r().then((function(e){return e.setupMode(n.lessDefaults)}))})),t.languages.onLanguage("scss",(function(){r().then((function(e){return e.setupMode(n.scssDefaults)}))})),t.languages.onLanguage("css",(function(){r().then((function(e){return e.setupMode(n.cssDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-json version: 3.8.1(1196e892980eeadfb1c1d6c575146dd9d4c91a03)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-json/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/json/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/json/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jsonDefaults=void 0;var o=function(){function e(e,n,o){this._onDidChange=new t.Emitter,this._languageId=e,this.setDiagnosticsOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}();n.jsonDefaults=new o("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0}),t.languages.json={jsonDefaults:n.jsonDefaults},t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),t.languages.onLanguage("json",(function(){new Promise((function(n,t){e(["./jsonMode"],n,t)})).then((function(e){return e.setupMode(n.jsonDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-html version: 3.8.1(38d3d8d9882523f534fba67f39d85bbf6f34e68e)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-html/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/html/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco}));var __awaiter=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}l((r=r.apply(e,t||[])).next())}))},__generator=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};define("vs/language/html/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerHTMLLanguageService=t.razorDefaults=t.razorLanguageService=t.handlebarDefaults=t.handlebarLanguageService=t.htmlDefaults=t.htmlLanguageService=void 0;var r=function(){function e(e,t,r){this._onDidChange=new n.Emitter,this._languageId=e,this.setOptions(t),this.setModeConfiguration(r)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),a={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function o(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",u="handlebars",l="razor";function s(t,i,u){var l=this;void 0===i&&(i=a),void 0===u&&(u=o(t));var s,c=new r(t,i,u),g=n.languages.onLanguage(t,(function(){return __awaiter(l,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t,n){e(["./htmlMode"],t,n)}))];case 1:return s=t.sent().setupMode(c),[2]}}))}))}));return{defaults:c,dispose:function(){g.dispose(),null==s||s.dispose(),s=void 0}}}t.htmlLanguageService=s(i,a,o(i)),t.htmlDefaults=t.htmlLanguageService.defaults,t.handlebarLanguageService=s(u,a,o(u)),t.handlebarDefaults=t.handlebarLanguageService.defaults,t.razorLanguageService=s(l,a,o(l)),t.razorDefaults=t.razorLanguageService.defaults,n.languages.html={htmlDefaults:t.htmlDefaults,razorDefaults:t.razorDefaults,handlebarDefaults:t.handlebarDefaults,htmlLanguageService:t.htmlLanguageService,handlebarLanguageService:t.handlebarLanguageService,razorLanguageService:t.razorLanguageService,registerHTMLLanguageService:s},t.registerHTMLLanguageService=s}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-languages version: 2.10.0(7e1d706f5f42c54781fe0747c3d41871112d186a)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-languages/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/basic-languages/_.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.registerLanguage=i.loadLanguage=void 0;var n={},r={},s=function(){function e(e){var i=this;this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((function(e,t){i._lazyLoadPromiseResolve=e,i._lazyLoadPromiseReject=t}))}return e.getOrCreate=function(i){return r[i]||(r[i]=new e(i)),r[i]},e.prototype.whenLoaded=function(){return this._lazyLoadPromise},e.prototype.load=function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,n[this._languageId].loader().then((function(i){return e._lazyLoadPromiseResolve(i)}),(function(i){return e._lazyLoadPromiseReject(i)}))),this._lazyLoadPromise},e}();i.loadLanguage=function(e){return s.getOrCreate(e).load()},i.registerLanguage=function(e){var i=e.id;n[i]=e,t.languages.register(e);var r=s.getOrCreate(i);t.languages.setMonarchTokensProvider(i,r.whenLoaded().then((function(e){return e.language}))),t.languages.onLanguage(i,(function(){r.load().then((function(e){t.languages.setLanguageConfiguration(i,e.conf)}))}))}})),define("vs/basic-languages/abap/abap.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return new Promise((function(i,t){e(["./abap"],i,t)}))}})})),define("vs/basic-languages/apex/apex.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return new Promise((function(i,t){e(["./apex"],i,t)}))}})})),define("vs/basic-languages/azcli/azcli.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return new Promise((function(i,t){e(["./azcli"],i,t)}))}})})),define("vs/basic-languages/bat/bat.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return new Promise((function(i,t){e(["./bat"],i,t)}))}})})),define("vs/basic-languages/bicep/bicep.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:function(){return new Promise((function(i,t){e(["./bicep"],i,t)}))}})})),define("vs/basic-languages/cameligo/cameligo.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return new Promise((function(i,t){e(["./cameligo"],i,t)}))}})})),define("vs/basic-languages/clojure/clojure.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return new Promise((function(i,t){e(["./clojure"],i,t)}))}})})),define("vs/basic-languages/coffee/coffee.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return new Promise((function(i,t){e(["./coffee"],i,t)}))}})})),define("vs/basic-languages/cpp/cpp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return new Promise((function(i,t){e(["./cpp"],i,t)}))}}),(0,t.registerLanguage)({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return new Promise((function(i,t){e(["./cpp"],i,t)}))}})})),define("vs/basic-languages/csharp/csharp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return new Promise((function(i,t){e(["./csharp"],i,t)}))}})})),define("vs/basic-languages/csp/csp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return new Promise((function(i,t){e(["./csp"],i,t)}))}})})),define("vs/basic-languages/css/css.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return new Promise((function(i,t){e(["./css"],i,t)}))}})})),define("vs/basic-languages/dart/dart.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return new Promise((function(i,t){e(["./dart"],i,t)}))}})})),define("vs/basic-languages/dockerfile/dockerfile.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return new Promise((function(i,t){e(["./dockerfile"],i,t)}))}})})),define("vs/basic-languages/ecl/ecl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:function(){return new Promise((function(i,t){e(["./ecl"],i,t)}))}})})),define("vs/basic-languages/elixir/elixir.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:function(){return new Promise((function(i,t){e(["./elixir"],i,t)}))}})})),define("vs/basic-languages/flow9/flow9.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:function(){return new Promise((function(i,t){e(["./flow9"],i,t)}))}})})),define("vs/basic-languages/fsharp/fsharp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return new Promise((function(i,t){e(["./fsharp"],i,t)}))}})})),define("vs/basic-languages/go/go.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return new Promise((function(i,t){e(["./go"],i,t)}))}})})),define("vs/basic-languages/graphql/graphql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return new Promise((function(i,t){e(["./graphql"],i,t)}))}})})),define("vs/basic-languages/handlebars/handlebars.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:function(){return new Promise((function(i,t){e(["./handlebars"],i,t)}))}})})),define("vs/basic-languages/hcl/hcl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return new Promise((function(i,t){e(["./hcl"],i,t)}))}})})),define("vs/basic-languages/html/html.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return new Promise((function(i,t){e(["./html"],i,t)}))}})})),define("vs/basic-languages/ini/ini.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return new Promise((function(i,t){e(["./ini"],i,t)}))}})})),define("vs/basic-languages/java/java.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return new Promise((function(i,t){e(["./java"],i,t)}))}})})),define("vs/basic-languages/javascript/javascript.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return new Promise((function(i,t){e(["./javascript"],i,t)}))}})})),define("vs/basic-languages/julia/julia.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return new Promise((function(i,t){e(["./julia"],i,t)}))}})})),define("vs/basic-languages/kotlin/kotlin.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return new Promise((function(i,t){e(["./kotlin"],i,t)}))}})})),define("vs/basic-languages/less/less.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return new Promise((function(i,t){e(["./less"],i,t)}))}})})),define("vs/basic-languages/lexon/lexon.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return new Promise((function(i,t){e(["./lexon"],i,t)}))}})})),define("vs/basic-languages/lua/lua.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return new Promise((function(i,t){e(["./lua"],i,t)}))}})})),define("vs/basic-languages/liquid/liquid.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:function(){return new Promise((function(i,t){e(["./liquid"],i,t)}))}})})),define("vs/basic-languages/m3/m3.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:function(){return new Promise((function(i,t){e(["./m3"],i,t)}))}})})),define("vs/basic-languages/markdown/markdown.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return new Promise((function(i,t){e(["./markdown"],i,t)}))}})})),define("vs/basic-languages/mips/mips.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return new Promise((function(i,t){e(["./mips"],i,t)}))}})})),define("vs/basic-languages/msdax/msdax.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return new Promise((function(i,t){e(["./msdax"],i,t)}))}})})),define("vs/basic-languages/mysql/mysql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return new Promise((function(i,t){e(["./mysql"],i,t)}))}})})),define("vs/basic-languages/objective-c/objective-c.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return new Promise((function(i,t){e(["./objective-c"],i,t)}))}})})),define("vs/basic-languages/pascal/pascal.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return new Promise((function(i,t){e(["./pascal"],i,t)}))}})})),define("vs/basic-languages/pascaligo/pascaligo.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return new Promise((function(i,t){e(["./pascaligo"],i,t)}))}})})),define("vs/basic-languages/perl/perl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return new Promise((function(i,t){e(["./perl"],i,t)}))}})})),define("vs/basic-languages/pgsql/pgsql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return new Promise((function(i,t){e(["./pgsql"],i,t)}))}})})),define("vs/basic-languages/php/php.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return new Promise((function(i,t){e(["./php"],i,t)}))}})})),define("vs/basic-languages/pla/pla.contributions",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"pla",extensions:[".pla"],loader:function(){return new Promise((function(i,t){e(["./pla"],i,t)}))}})})),define("vs/basic-languages/postiats/postiats.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return new Promise((function(i,t){e(["./postiats"],i,t)}))}})})),define("vs/basic-languages/powerquery/powerquery.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return new Promise((function(i,t){e(["./powerquery"],i,t)}))}})})),define("vs/basic-languages/powershell/powershell.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return new Promise((function(i,t){e(["./powershell"],i,t)}))}})})),define("vs/basic-languages/protobuf/protobuf.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:function(){return new Promise((function(i,t){e(["./protobuf"],i,t)}))}})})),define("vs/basic-languages/pug/pug.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return new Promise((function(i,t){e(["./pug"],i,t)}))}})})),define("vs/basic-languages/python/python.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return new Promise((function(i,t){e(["./python"],i,t)}))}})})),define("vs/basic-languages/qsharp/qsharp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:function(){return new Promise((function(i,t){e(["./qsharp"],i,t)}))}})})),define("vs/basic-languages/r/r.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return new Promise((function(i,t){e(["./r"],i,t)}))}})})),define("vs/basic-languages/razor/razor.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return new Promise((function(i,t){e(["./razor"],i,t)}))}})})),define("vs/basic-languages/redis/redis.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return new Promise((function(i,t){e(["./redis"],i,t)}))}})})),define("vs/basic-languages/redshift/redshift.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return new Promise((function(i,t){e(["./redshift"],i,t)}))}})})),define("vs/basic-languages/restructuredtext/restructuredtext.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return new Promise((function(i,t){e(["./restructuredtext"],i,t)}))}})})),define("vs/basic-languages/ruby/ruby.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return new Promise((function(i,t){e(["./ruby"],i,t)}))}})})),define("vs/basic-languages/rust/rust.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return new Promise((function(i,t){e(["./rust"],i,t)}))}})})),define("vs/basic-languages/sb/sb.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return new Promise((function(i,t){e(["./sb"],i,t)}))}})})),define("vs/basic-languages/scala/scala.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return new Promise((function(i,t){e(["./scala"],i,t)}))}})})),define("vs/basic-languages/scheme/scheme.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return new Promise((function(i,t){e(["./scheme"],i,t)}))}})})),define("vs/basic-languages/scss/scss.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return new Promise((function(i,t){e(["./scss"],i,t)}))}})})),define("vs/basic-languages/shell/shell.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return new Promise((function(i,t){e(["./shell"],i,t)}))}})})),define("vs/basic-languages/solidity/solidity.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return new Promise((function(i,t){e(["./solidity"],i,t)}))}})})),define("vs/basic-languages/sophia/sophia.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return new Promise((function(i,t){e(["./sophia"],i,t)}))}})})),define("vs/basic-languages/sparql/sparql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:function(){return new Promise((function(i,t){e(["./sparql"],i,t)}))}})})),define("vs/basic-languages/sql/sql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return new Promise((function(i,t){e(["./sql"],i,t)}))}})})),define("vs/basic-languages/st/st.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return new Promise((function(i,t){e(["./st"],i,t)}))}})})),define("vs/basic-languages/swift/swift.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return new Promise((function(i,t){e(["./swift"],i,t)}))}})})),define("vs/basic-languages/systemverilog/systemverilog.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return new Promise((function(i,t){e(["./systemverilog"],i,t)}))}}),(0,t.registerLanguage)({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return new Promise((function(i,t){e(["./systemverilog"],i,t)}))}})})),define("vs/basic-languages/tcl/tcl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return new Promise((function(i,t){e(["./tcl"],i,t)}))}})})),define("vs/basic-languages/twig/twig.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return new Promise((function(i,t){e(["./twig"],i,t)}))}})})),define("vs/basic-languages/typescript/typescript.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return new Promise((function(i,t){e(["./typescript"],i,t)}))}})})),define("vs/basic-languages/vb/vb.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return new Promise((function(i,t){e(["./vb"],i,t)}))}})})),define("vs/basic-languages/xml/xml.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return new Promise((function(i,t){e(["./xml"],i,t)}))}})})),define("vs/basic-languages/yaml/yaml.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),(0,t.registerLanguage)({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:function(){return new Promise((function(i,t){e(["./yaml"],i,t)}))}})})),define("vs/basic-languages/monaco.contribution",["require","exports","./abap/abap.contribution","./apex/apex.contribution","./azcli/azcli.contribution","./bat/bat.contribution","./bicep/bicep.contribution","./cameligo/cameligo.contribution","./clojure/clojure.contribution","./coffee/coffee.contribution","./cpp/cpp.contribution","./csharp/csharp.contribution","./csp/csp.contribution","./css/css.contribution","./dart/dart.contribution","./dockerfile/dockerfile.contribution","./ecl/ecl.contribution","./elixir/elixir.contribution","./flow9/flow9.contribution","./fsharp/fsharp.contribution","./go/go.contribution","./graphql/graphql.contribution","./handlebars/handlebars.contribution","./hcl/hcl.contribution","./html/html.contribution","./ini/ini.contribution","./java/java.contribution","./javascript/javascript.contribution","./julia/julia.contribution","./kotlin/kotlin.contribution","./less/less.contribution","./lexon/lexon.contribution","./lua/lua.contribution","./liquid/liquid.contribution","./m3/m3.contribution","./markdown/markdown.contribution","./mips/mips.contribution","./msdax/msdax.contribution","./mysql/mysql.contribution","./objective-c/objective-c.contribution","./pascal/pascal.contribution","./pascaligo/pascaligo.contribution","./perl/perl.contribution","./pgsql/pgsql.contribution","./php/php.contribution","./pla/pla.contributions","./postiats/postiats.contribution","./powerquery/powerquery.contribution","./powershell/powershell.contribution","./protobuf/protobuf.contribution","./pug/pug.contribution","./python/python.contribution","./qsharp/qsharp.contribution","./r/r.contribution","./razor/razor.contribution","./redis/redis.contribution","./redshift/redshift.contribution","./restructuredtext/restructuredtext.contribution","./ruby/ruby.contribution","./rust/rust.contribution","./sb/sb.contribution","./scala/scala.contribution","./scheme/scheme.contribution","./scss/scss.contribution","./shell/shell.contribution","./solidity/solidity.contribution","./sophia/sophia.contribution","./sparql/sparql.contribution","./sql/sql.contribution","./st/st.contribution","./swift/swift.contribution","./systemverilog/systemverilog.contribution","./tcl/tcl.contribution","./twig/twig.contribution","./typescript/typescript.contribution","./vb/vb.contribution","./xml/xml.contribution","./yaml/yaml.contribution"],(function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0})}));
define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/language/typescript/monaco.contribution","vs/language/css/monaco.contribution","vs/language/json/monaco.contribution","vs/language/html/monaco.contribution","vs/basic-languages/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map